(function() {var f,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ba={};function ca(a,b){(ba[a]=ba[a]||[]).push(b);var c=aa;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function fa(){fa=function(){};if(!aa.Symbol){aa.Symbol=ha;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var e=[],g=0,h=d.length;g<h;g++){var k;a:if(k=d[g],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[g]):e.push(d[g])}return e}};ca("Object.keys",b);ca("Object.getOwnPropertyNames",b);ca("Object.getOwnPropertySymbols",function(c){return function(d){b.Mba=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ka=0;
function ha(a){return"jscomp_symbol_"+a+ka++}function la(){fa();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));la=function(){}}function ma(a){la();fa();la();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function na(a){if(!(a instanceof Array)){a=ma(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}var oa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function pa(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function qa(a,b){if(b){for(var c=aa,d=a.split("."),e=0;e<d.length-1;e++){var g=d[e];g in c||(c[g]={});c=c[g]}d=d[d.length-1];e=c[d];b=b(e);if(b!=e){a=ba[a]||[];for(e=0;e<a.length;e++)b=a[e](b);oa(c,d,{configurable:!0,writable:!0,value:b})}}}
qa("WeakMap",function(a){function b(a){this.iA=(k+=Math.random()+1).toString();if(a){fa();la();a=ma(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!pa(a,g)){var b={};b[g]=h;oa(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(pa(b,g)&&pa(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function e(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};ca("Object.getOwnPropertyNames",d);ca("Object.keys",d);ca("Reflect.enumerate",d);ca("Reflect.ownKeys",d);ca("Object.freeze",e);ca("Object.preventExtensions",e);ca("Object.seal",e);var k=0;b.prototype.set=function(a,b){c(a);if(!pa(a,g))throw Error("WeakMap key fail: "+a);a[g][this.iA]=b;return this};b.prototype.get=
function(a){return pa(a,g)?a[g][this.iA]:void 0};b.prototype.has=function(a){return pa(a,g)&&pa(a[g],this.iA)};b.prototype.delete=function(a){return pa(a,g)&&pa(a[g],this.iA)?delete a[g][this.iA]:!1};return b});
qa("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.kn,d={next:function(){if(c){for(;c.head!=a.kn;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.Wy[c];if(d&&pa(a.Wy,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==
e.key||b===e.key)return{id:c,list:d,index:a,zg:e}}return{id:c,list:d,index:-1,zg:void 0}}function e(a){this.Wy={};this.kn=b();this.size=0;if(a){a=ma(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(ma([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;
e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;fa();la();var g=new WeakMap;e.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.Wy[c.id]=[]);c.zg?c.zg.value=b:(c.zg={next:this.kn,previous:this.kn.previous,head:this.kn,key:a,value:b},c.list.push(c.zg),this.kn.previous.next=c.zg,this.kn.previous=c.zg,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.zg&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.Wy[a.id],a.zg.previous.next=a.zg.next,a.zg.next.previous=a.zg.previous,a.zg.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.Wy={};this.kn=this.kn.previous=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).zg};e.prototype.get=function(a){return(a=d(this,a).zg)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,
function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});function ra(a,b){la();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
qa("Array.prototype.keys",function(a){return a?a:function(){return ra(this,function(a){return a})}});qa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});qa("Array.prototype.values",function(a){return a?a:function(){return ra(this,function(a,c){return c})}});
function ta(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{uV:e,lr:g}}return{uV:-1,lr:void 0}}qa("Array.prototype.find",function(a){return a?a:function(a,c){return ta(this,a,c).lr}});qa("Array.prototype.entries",function(a){return a?a:function(){return ra(this,function(a,c){return[a,c]})}});
qa("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var g in e)pa(e,g)&&(a[g]=e[g])}return a}});qa("Array.from",function(a){return a?a:function(a,c,d){la();c=null!=c?c:function(a){return a};var e=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)e.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)e.push(c.call(d,a[h]));return e}});
qa("Set",function(a){function b(a){this.Zj=new Map;if(a){a=ma(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.Zj.size}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(ma([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),g=e.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=e.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?
!1:e.next().done}catch(h){return!1}}())return a;fa();la();b.prototype.add=function(a){this.Zj.set(a,a);this.size=this.Zj.size;return this};b.prototype.delete=function(a){a=this.Zj.delete(a);this.size=this.Zj.size;return a};b.prototype.clear=function(){this.Zj.clear();this.size=0};b.prototype.has=function(a){return this.Zj.has(a)};b.prototype.entries=function(){return this.Zj.entries()};b.prototype[Symbol.iterator]=function(){return this.Zj.values()};b.prototype.values=function(){return this.Zj.values()};
b.prototype.forEach=function(a,b){var e=this;this.Zj.forEach(function(g){return a.call(b,g,g,e)})};return b});function ua(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
qa("String.prototype.repeat",function(a){return a?a:function(a){var c=ua(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=c),a>>>=1)c+=c;return d}});qa("Math.log10",function(a){return a?a:function(a){return Math.log(a)/Math.LN10}});qa("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==ua(this,a,"includes").indexOf(a,c||0)}});
qa("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}});qa("Array.prototype.findIndex",function(a){return a?a:function(a,c){return ta(this,a,c).uV}});function va(a){this.data=a}va.prototype.get=function(a,b){if(!this.data)throw Error("no viewConfig, unable to get: "+a);b=void 0===this.data[a]?b:this.data[a];if(void 0===b)throw Error('Could not retrieve "'+a+'" from viewConfig');return b};var wa=(new UAParser).getResult(),xa=wa.browser.name,ya=wa.browser.major,za=(new va(window.viewConfig||{})).get("magicButtonEnabled",null),Aa=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||wa.browser.version.match(Aa)||("Chrome"===xa||"Chromium"==xa)&&27<=ya||"Safari"===xa&&9<=ya||"Firefox"===xa&&23<=ya||"Opera"===xa&&20<=ya||("IE"===xa||"Edge"===xa)&&11<=ya||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(za&&za.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");function Ba(){}function Ca(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid argument":Ea.apply(Ba,[].concat([b],na(d))));}function Fa(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid state":Ea.apply(Ba,[].concat([b],na(d))));}
function w(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(null==a)throw Error(2>arguments.length?"argument is null":Ea.apply(Ba,[].concat([b],na(d))));return a}function Ea(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=0;return a.replace(/\{}/g,function(){return e<c.length?c[e++]:"{}"})};function Ga(a){this.type=a}Ga.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ga.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
Ga.prototype.Ke=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ha=new Ga("string"),Ia=new Ga("boolean"),Ja=new Ga("number"),Ka=new Ga("object");function La(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function y(a,b){return Ja.optional(a,b)||0}
function A(a,b){return Ja.optional(a,b)}function B(a,b){return Ha.required(a,b)}function C(a,b){return Ha.optional(a,b)}function Ma(a,b){return Ia.optional(a,b)||!1}function Na(a,b){return Ia.optional(a,b)}function Pa(a,b,c){return a(Ka.required(b,c))}function D(a,b,c){return(b=Ka.optional(b,c))?a(b):b}function F(a,b,c){return(b=Ka.Ke(b,c))?b.map(a):b}function Qa(a,b,c){return a(b,Ha.required(b,c))}function Ra(a,b,c){c=Ha.optional(b,c);return null!=c?a(b,c):c}
function Sa(a,b,c){c=Ha.Ke(b,c);return null!=c?c.map(a.bind(null,b)):c}function Ta(a,b,c){return Ua(Va,Wa.bind(null,a),b,c)}function Ua(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var e=new Map,g=ma(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,e.set(a(c,h),b(c,h,d));return e}function Va(a,b){return b}
function Xa(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function Wa(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Ya(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Za(a){this.type=a}
Za.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Za.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Za.prototype.Ke=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var $a=new Za("string"),ab=new Za("boolean"),bb=new Za("number"),cb=new Za("object");function db(a,b){return 0!==b?bb.required(a,b):void 0}function eb(a,b){return bb.optional(a,b)}function fb(a){return bb.Ke("pages",a)}
function gb(a,b){return!1!==b?ab.required(a,b):void 0}function hb(a,b){return ab.optional(a,b)}function ib(a,b){return $a.required(a,b)}function H(a,b){return $a.optional(a,b)}function jb(a,b,c){return cb.optional(b,c?a(c):null)}function kb(a,b,c){return cb.Ke(b,c.map(a))}function lb(a,b,c){return $a.required(b,a(b,c))}function mb(a,b,c){return $a.optional(b,c?a(b,c):null)}function nb(a,b,c){return ob(pb,qb.bind(null,a),b,c)}
function ob(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));for(var e={},g=ma(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,e[a(c,h)]=b(c,d.get(h));return e}function pb(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}
function rb(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function qb(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function sb(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};var tb=tb||{},J,K,ub,vb,wb,xb,yb,zb,Bb,Cb,Db,Eb,Fb,Gb,Ib,Jb,Kb,Lb,M,Mb,Nb,Ob,Pb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc;var R=new function(){this.X_={upload:"/static/r/headcrush/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"};this.R_=!1;this.YI=.1;this.Aa={M1:330,N1:330,taa:500,xaa:300,waa:300,zaa:500,hL:300,h2:400,Dz:300,m3:300,fW:1E3,gW:1E3,cq:200,Xv:20,Zaa:600,QA:300,fk:500,w7:2E3,jba:500,w8:300,Pq:600,nX:500,yaa:150};this.Ot=140;this.Xx=1.2;this.SI=150;this.lS=.7;this.bD=30;this.UI="#ffffff";this.eD="#222";this.fD="#fff";this.cD=24;this.XR=300;this.dD=10;this.WI=this.cS=1.2;this.u_=42;this.r_=24;this.Ld=16;this.t_="Abril Fatface";this.q_="Trocchi";
this.Kd="Arimo";this.Dc=20;this.Ec=4;this.z_=1024;this.XI=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144];this.aS="undefined"!==typeof window&&1<window.devicePixelRatio;this.bS=.33;this.gD=.5;this.F_="undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)?!0:!1;this.G_=5E3;this.H_=400;this.hD=500;this.Jo=255;this.$I=3;this.$x=10*this.$I;this.J_=40*this.$I;this.I_=40;this.ZI=1;this.Eh=3;this.Fh=.95;this.M_=110;this.K_=180;this.L_=145;this.ay=30;this.Qt=50;
this.Ko="https://static.canva.com/static/images/placeholder.jpg";this.fS=1438;this.eS=560;this.Ci=230/24;this.iS=1E3;this.iD=50;this.O_={MAB5cDHmsFw:"0e94ff",MAB5cMCyv6w:"72c0ff",MAB5cAQJlaQ:"d0eaff",MAB5cEikLyU:"c0f2dc",MAB5cM_6xEM:"83f2d9",MAB5cJzamNA:"00d1c0",MAB5cMvV4WI:"b7ff82",MAB5cEhZV9o:"d3ffb3",MAB5cCZyCJQ:"feffcb",MAB5cHj48Zw:"ffef42",MAB5cK1JDsE:"ffa351",MAB5hidY3ns:"ffde7d",MAB5cFsTlDk:"fff6df",MAB5cKyqi1s:"ffd8cf","MAB5hoaFM-I":"ffa3a1",MAB5cNEJxNs:"ff716e",MAB5cP9grzE:"ff6bcd",MAB5cMwWSfs:"ffc7ec",MAB5cGdDeZ4:"e4b9ff",
MAB5cBzXdGA:"d38cff",MAB5cNvP7Pc:"c06af6",MAB5cKXAlps:"7f72ff",MAB5cCOTPdQ:"9c92ff",MAB5cDcYB4g:"c7c1ff",MAB5cFxeE3w:"e0daf3",MAB5cE5y_5k:"b9b5c7",MAB5cCYeclo:"9a97a5",MAB5cOfCuGs:"73726d",MAB5cPkevM0:"a3a198",MAB5cPNsPAA:"dddbcd","MAB5cOxZt-I":"ff95db",MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",
MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",
MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"};this.by=3E4;this.s_=1500;this.jS=5;this.V_=190;this.W_=300;this.A_=88;this.D_=0;this.jD=88;this.mS=10;this.VR=7;this.y_=0;this.v_=this.x_=12;this.w_=0;this.eJ=.7;this.gy=1.3;this.dS=2.5},dc={TITLE:"title",O$:"subtitle",BODY:"body"},ec={P_:"search",F$:"layout",TEXT:"text",t$:"backgrounds",Y$:"uploads"};function fc(a){this.$el=a}fc.prototype.remove=function(){this.$el.remove()};function gc(a){this.$el=a;this.Kv={}}gc.prototype.remove=function(){this.$el.off();this.$el.remove()};gc.prototype.on=function(a,b){Ca(!this.Kv[a],"listener already registered for event {}",a);this.Kv[a]=b};gc.prototype.off=function(a,b){null==a?this.Kv={}:null!=b&&this.Kv[a]!=b||delete this.Kv[a]};gc.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.Kv[a])&&d.apply(null,[].concat(na(c)))};function S(a){this.E2=a.fallback;this.pW=a.localePrecedence;this.GN={};this.i=a.messages;this.G7=this.pW[0];this.x8=!!a.returnKeys}S.prototype.format=function(a,b){if(this.x8)return[].join.call(arguments,":");var c=hc(this,a);return c.format.call(c,[].slice.call(arguments,1))};
S.prototype.Qa=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],na(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function hc(a,b){if(a.GN.hasOwnProperty(b))return a.GN[b];var c=a.G7,d;a.pW.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.E2,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,ic);return a.GN[b]=c}var ic={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function jc(){this.config=window.cmsg;this.RO=this.Ol=this.kf=this.WK=this.UK=this.iR=this.Sl=this.oe=this.Lf=this.ne=this.Bc=this.di=this.Si=this.He=this.$c=this.Vs=this.Fa=this.IJ=this.oR=this.pq=this.Sy=this.Su=this.SN=this.$J=this.mf=this.sj=this.yR=this.XK=this.ig=this.re=this.Pf=this.xk=this.Yf=this.Ub=this.IR=this.oP=this.Ma=this.xa=this.Ca=this.Y=this.Jd=this.Xa=this.Pd=this.sd=this.Gj=this.Vo=this.nh=this.Yk=this.Nf=this.zy=this.fL=this.eL=this.dL=this.Cm=this.oc=this.gL=this.uf=this.yg=
this.RJ=this.Oi=this.OK=this.J=null}function kc(a){a.J||(a.J=new lc(a.config));return a.J}function mc(a){a.OK||(a.OK=new nc(a.config));return a.OK}function oc(a){a.Gj||(a.Gj=new pc(a.config));return a.Gj}function qc(a){a.Oi||(a.Oi=new tc(a.config));return a.Oi}function uc(a){a.RJ||(a.RJ=new vc(a.config));return a.RJ}function wc(a){a.Cm||(a.Cm=new xc(a.config));return a.Cm}function yc(a){a.uf||(a.uf=new zc(a.config));return a.uf}function Ac(a){a.gL||(a.gL=new Bc(a.config));return a.gL}
function Cc(a){a.oc||(a.oc=new Dc(a.config));return a.oc}function Ec(a){a.dL||(a.dL=new Fc(a.config));return a.dL}function Gc(a){a.eL||(a.eL=new Hc(a.config));return a.eL}function Ic(a){a.zy||(a.zy=new Jc(a.config));return a.zy}function Kc(a){a.Su||(a.Su=new Lc(a.config));return a.Su}function Mc(a){a.Sy||(a.Sy=new Nc(a.config));return a.Sy}function Oc(a){a.Y||(a.Y=new Pc(a.config));return a.Y}function Qc(a){a.Ca||(a.Ca=new Rc(a.config));return a.Ca}
function Sc(a){a.xa||(a.xa=new Tc(a.config));return a.xa}function Uc(a){a.Ma||(a.Ma=new Vc(a.config));return a.Ma}function Wc(a){a.oP||(a.oP=new Xc(a.config));return a.oP}function Yc(a){a.Vo||(a.Vo=new Zc(a.config));return a.Vo}function $c(a){a.Pd||(a.Pd=new ad(a.config));return a.Pd}function bd(a){a.Xa||(a.Xa=new cd(a.config));return a.Xa}function dd(a){a.Pf||(a.Pf=new ed(a.config));return a.Pf}function fd(a){a.re||(a.re=new gd(a.config));return a.re}
function hd(a){a.yR||(a.yR=new id(a.config));return a.yR}function jd(a){a.sj||(a.sj=new kd(a.config));return a.sj}function ld(a){a.mf||(a.mf=new md(a.config));return a.mf}function nd(a){a.$J||(a.$J=new od(a.config));return a.$J}function pd(a){a.SN||(a.SN=new qd(a.config));return a.SN}function rd(a){a.pq||(a.pq=new sd(a.config));return a.pq}function td(a){a.He||(a.He=new ud(a.config));return a.He}function vd(a){a.Fa||(a.Fa=new wd(a.config));return a.Fa}
function xd(a){a.ne||(a.ne=new yd(a.config));return a.ne}function zd(a){a.Lf||(a.Lf=new Ad(a.config));return a.Lf}function Bd(a){a.oe||(a.oe=new Cd(a.config));return a.oe}function Ed(a){a.Sl||(a.Sl=new Fd(a.config));return a.Sl}function Gd(a){a.kf||(a.kf=new Hd(a.config));return a.kf}function Id(a){a.Ol||(a.Ol=new Jd(a.config));return a.Ol}function Kd(a){a.RO||(a.RO=new Ld(a.config));return a.RO}function lc(a){S.apply(this,arguments)}t(lc,S);
function Md(a){return a.format("objectPanelInfoClose")}function Nd(a){return a.format("objectPanelInfoCloseThisInfoPanel")}function Od(a){return a.format("objectPanelInfoUntitledImage")}lc.prototype.Cc=function(){return this.format("objectPanelInfoRoyaltyFree")};lc.prototype.xd=function(){return this.format("objectPanelInfoExtended")};function Pd(a,b){return a.format("objectPanelInfoLayouts",b)}function Qd(a){return a.format("objectPanelUploadsPanelWriteOpsDisabledLabel")}
function Rd(a){return a.format("objectPanelUploadsPanelDefaultFolderName")}function Sd(a,b){return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner",b)}function Td(a){return a.format("objectPanelUploadsPanelUnlimitedUseFolder")}function Ud(a){return a.format("objectPanelTextPanelAddHeading")}function Vd(a){return a.format("objectPanelTextPanelAddSubHeading")}function Wd(a){return a.format("objectPanelLayoutsPanelYourDesignsTabLabel")}
function Xd(a){return a.format("objectPanelLayoutsPanelLayoutsTabTitle")}function Yd(a){return a.format("objectPanelLayoutsPanelTeamTemplates")}function Zd(a){return a.format("objectPanelMediaItemCostFree")}lc.prototype.gq=function(a){return this.format("objectPanelLicense",a)};function ad(a){S.apply(this,arguments)}t(ad,S);function cd(a){S.apply(this,arguments)}t(cd,S);f=cd.prototype;f.xj=function(){return this.format("creditCardCreditCardLabel")};f.hu=function(){return this.format("creditCardBillingAddressLabel")};
f.Kk=function(){return this.format("creditCardCardNumberPlaceholder")};f.Cl=function(){return this.format("creditCardMonthPlaceholder")};f.gm=function(){return this.format("creditCardYearPlaceholder")};f.Sk=function(){return this.format("creditCardCvcPlaceholder")};function $d(a){return a.format("creditCardRegionPlaceholder")}f.Ho=function(){return this.format("creditCardZipCodePlaceholder")};f.save=function(){return this.format("creditCardSave")};f.OP=function(){return this.format("creditCardSavingTeamCard")};
function nc(a){S.apply(this,arguments)}t(nc,S);nc.prototype.Jf=function(){return this.format("documentPlaceholderText")};function Dc(a){S.apply(this,arguments)}t(Dc,S);Dc.prototype.Nx=function(){return this.format("editorControlsUpgrade")};Dc.prototype.Yl=function(){return this.format("editorControlsShare")};Dc.prototype.download=function(){return this.format("editorControlsDownload")};Dc.prototype.print=function(){return this.format("editorControlsPrint")};
function ae(a){return a.format("editorControlsUnsavedChanges")}function pc(a){S.apply(this,arguments)}t(pc,S);pc.prototype.error=function(){return this.format("findUserInputError")};function tc(a){S.apply(this,arguments)}t(tc,S);tc.prototype.So=function(){return this.format("colorPaletteApplyToAll")};function vc(a){S.apply(this,arguments)}t(vc,S);vc.prototype.Qb=function(a){return this.format("colorPickerBrandColor",a)};vc.prototype.So=function(){return this.format("colorPickerApplyToAll")};
function be(a){S.apply(this,arguments)}t(be,S);f=be.prototype;f.rW=function(){return this.format("editorFileMenuPaneMagicResize")};f.save=function(){return this.format("editorFileMenuPaneSave")};f.s8=function(){return this.format("editorFileMenuPaneResizeUpgradePrompt")};f.nN=function(){return this.format("editorFileMenuPaneLearnMoreButtonLabel")};f.y3=function(a){return this.format("editorFileMenuPaneLastSavedLabel",a)};f.c4=function(){return this.format("editorFileMenuPaneNewDesignMenuItemLabel")};
function xc(a){S.apply(this,arguments)}t(xc,S);xc.prototype.b0=function(){return this.format("customDimensionsPaneActionResize")};xc.prototype.times=function(){return this.format("customDimensionsPaneTimes")};xc.prototype.z7=function(){return this.format("customDimensionsPanePixelsUnit")};function ce(a){S.apply(this,arguments)}t(ce,S);ce.prototype.k$=function(){return this.format("documentResizePaneUseCustomDimensions")};ce.prototype.bK=function(){return this.format("documentResizePaneCouldNotBeLoaded")};
ce.prototype.bR=function(){return this.format("documentResizePaneTryLoadingAgain")};ce.prototype.EL=function(){return this.format("documentResizePaneFetchingDesignTypes")};function de(a){S.apply(this,arguments)}t(de,S);f=de.prototype;f.t1=function(){return this.format("magicResizePaneCopyAndResize")};f.bK=function(){return this.format("magicResizePaneCouldNotBeLoaded")};f.bR=function(){return this.format("magicResizePaneTryLoadingAgain")};f.EL=function(){return this.format("magicResizePaneFetchingDesignTypes")};
f.E1=function(){return this.format("magicResizePaneCurrentDesignSize")};f.Y_=function(){return this.format("magicResizePaneAbracadabraResize")};f.g4=function(){return this.format("magicResizePaneOhSnap")};f.a4=function(){return this.format("magicResizePaneMultipleTabs")};function Fc(a){S.apply(this,arguments)}t(Fc,S);Fc.prototype.km=function(){return this.format("editorPageControlActionMoveUp")};Fc.prototype.jm=function(){return this.format("editorPageControlActionMoveDown")};Fc.prototype.hm=function(){return this.format("editorPageControlActionCopy")};
Fc.prototype.im=function(){return this.format("editorPageControlActionDelete")};function Hc(a){S.apply(this,arguments)}t(Hc,S);function ee(a){S.apply(this,arguments)}t(ee,S);f=ee.prototype;f.GR=function(){return this.format("editorReplaceContentWarningTitle")};f.FR=function(){return this.format("editorReplaceContentWarningText")};f.$o=function(){return this.format("editorReplaceContentConfirmButtonText")};f.Ik=function(){return this.format("editorReplaceContentCancelButtonText")};f.xG=function(){return this.format("editorReplaceContentNeverShowAgain")};
function zc(a){S.apply(this,arguments)}t(zc,S);function fe(a){return a.format("editorToolbarFilterOptionAdvanced")}function ge(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}function he(a,b){b=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+b)}function ie(a){return a.format("editorToolbarElementDelete")}f=zc.prototype;f.yd=function(){return this.format("editorToolbarFontSizeAuto")};f.textAlign=function(){return this.format("editorToolbarTextAlign")};
function je(a){return a.format("editorToolbarElementTransparency")}function le(a){return a.format("editorToolbarElementHorizontalAlignLeft")}function me(a){return a.format("editorToolbarElementHorizontalAlignRight")}function ne(a){return a.format("editorToolbarElementHorizontalAlignCenter")}function oe(a){return a.format("editorToolbarElementVerticalAlignTop")}function pe(a){return a.format("editorToolbarElementVerticalAlignBottom")}
function qe(a){return a.format("editorToolbarElementVerticalAlignCenter")}function re(a){return a.format("editorToolbarElementHorizontalDistribute")}function se(a){return a.format("editorToolbarElementVerticalDistribute")}function te(a){return a.format("editorToolbarElementPickAColor")}function ue(a){return a.format("editorToolbarDeleteMenuDeleteElement")}function ve(){return yc(Kb).format("editorToolbarImagePickAColor")}f.nN=function(){return this.format("editorToolbarLearnMoreButtonLabel")};
f.Da=function(){return this.format("editorToolbarTransparency")};f.lineHeight=function(){return this.format("editorToolbarLineHeight")};f.letterSpacing=function(){return this.format("editorToolbarLetterSpacing")};function we(a,b){return a.format("editorToolbarTableItem",b)}function Bc(a){S.apply(this,arguments)}t(Bc,S);Bc.prototype.resize=function(){return this.format("editorSelectionBoxResize")};Bc.prototype.stretch=function(){return this.format("editorSelectionBoxStretch")};
Bc.prototype.rotate=function(){return this.format("editorSelectionBoxRotate")};Bc.prototype.i8=function(){return this.format("editorSelectionBoxRemoveWatermark")};function Jc(a){S.apply(this,arguments)}t(Jc,S);Jc.prototype.Pv=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function xe(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function ye(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}
function ze(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function Ae(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}function Be(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function Ce(a){return a.format("canvaForWorkFeatureUpgradeFreeContentBenefit",3E5)}function De(a){return a.format("canvaForWorkBundleFeaturePhotoFolders")}function Ee(a){return a.format("canvaForWorkBundleFeatureFreePhotos",3E5)}
function Fe(a){return a.format("canvaForWorkBundleFeatureSaveTemplates")}function Ge(a){return a.format("canvaForWorkBundleFeatureMagicResize")}function He(a){return a.format("canvaForWorkBundleFeatureUploadFonts")}function Ie(a){return a.format("canvaForWorkBundleFeatureBrandKit")}function Je(a){return a.format("canvaForWorkBundleFeatureTransparentBackgrounds")}function Ke(a){return a.format("canvaForWorkBundleUpgradeButton")}function Le(a){S.apply(this,arguments)}t(Le,S);Le.prototype.post=function(){return this.format("shareViewPost")};
Le.prototype.email=function(){return this.format("shareViewEmail")};Le.prototype.send=function(){return this.format("shareViewSend")};Le.prototype.Bj=function(){return this.format("shareViewEmailInputPlaceholder")};function Me(a){S.apply(this,arguments)}t(Me,S);f=Me.prototype;f.We=function(){return this.format("exportPopOverFileType")};f.wu=function(){return this.format("exportPopOverCropMarksAndBleed")};f.Ix=function(){return this.format("exportPopOverTransparentBackground")};f.Zt=function(){return this.format("exportPopOverAllPagesLabel")};
f.download=function(){return this.format("exportPopOverDownload")};f.title=function(){return this.format("exportPopOverTitle")};f.uB=function(){return this.format("exportPopOverPng")};f.yA=function(){return this.format("exportPopOverJpg")};f.Ru=function(){return this.format("exportPopOverFileTypeInfoLinkTitle")};f.vu=function(){return this.format("exportPopOverCropAndBleedInfoLinkTitle")};function Ne(a,b){return a.format("exportPopOverMultiPageZipWarning",b)}
function Lc(a){S.apply(this,arguments)}t(Lc,S);f=Lc.prototype;f.title=function(){return this.format("fileTypesDialogTitle")};f.uB=function(){return this.format("fileTypesDialogPng")};f.A7=function(){return this.format("fileTypesDialogPngDescription")};f.yA=function(){return this.format("fileTypesDialogJpg")};f.w3=function(){return this.format("fileTypesDialogJpgDescription")};f.t7=function(){return this.format("fileTypesDialogPdfStandard")};f.u7=function(){return this.format("fileTypesDialogPdfStandardDescription")};
f.r7=function(){return this.format("fileTypesDialogPdfPrint")};f.s7=function(){return this.format("fileTypesDialogPdfPrintDescription")};f.tM=function(){return this.format("fileTypesDialogGotIt")};function Nc(a){S.apply(this,arguments)}t(Nc,S);f=Nc.prototype;f.title=function(){return this.format("cropAndBleedDialogTitle")};f.og=function(){return this.format("cropAndBleedDialogSubtitle")};f.D1=function(){return this.format("cropAndBleedDialogCropMarksDescription")};f.u0=function(){return this.format("cropAndBleedDialogBleedAreaDescription")};
f.tM=function(){return this.format("cropAndBleedDialogGotIt")};function Pc(a){S.apply(this,arguments)}t(Pc,S);f=Pc.prototype;f.title=function(){return this.format("shareDesignDialogTitle")};f.m9=function(){return this.format("shareDesignDialogSocial")};f.link=function(){return this.format("shareDesignDialogLink")};f.pn=function(){return this.format("shareDesignDialogInviteLabel")};function Oe(a){return a.format("shareDesignDialogInvitePlaceholder")}f.nn=function(){return this.format("shareDesignDialogInviteButton")};
f.no=function(){return this.format("shareDesignDialogShareLabel")};f.Cn=function(){return this.format("shareDesignDialogMessagePlaceholder")};f.lo=function(){return this.format("shareDesignDialogShareButton")};f.Mf=function(){return this.format("shareDesignDialogPurchaseButton")};f.Jg=function(){return this.format("shareDesignDialogRestrictedOverlayMessage")};function Pe(a){return a.format("shareDesignDialogViewOnFacebook")}function Qe(a){return a.format("shareDesignDialogViewOnTwitter")}f.tq=function(){return this.format("shareDesignDialogOkButton")};
function Re(a){return a.format("shareDesignDialogSharingErrorTitle")}function Se(a,b){return a.format("shareDesignDialogSharingError",b)}function Te(a){return a.format("shareDesignDialogBackToSharingButton")}function Ue(a){return a.format("shareDesignDialogEditRole")}function Ve(a){return a.format("shareDesignDialogEditRoleShort")}function We(a){return a.format("shareDesignDialogViewRole")}function Xe(a){return a.format("shareDesignDialogViewRoleShort")}
f.Rc=function(a){return this.format("shareDesignDialogFolders",a)};f.wn=function(){return this.format("shareDesignDialogLinkLabel")};f.Xg=function(){return this.format("shareDesignDialogCopyButton")};f.Mm=function(){return this.format("shareDesignDialogEmbedPublic")};f.Lm=function(){return this.format("shareDesignDialogEmbedMakePublic")};f.Jm=function(){return this.format("shareDesignDialogEmbedLabelHTML")};f.Km=function(){return this.format("shareDesignDialogEmbedLabeloEmbed")};f.Cj=function(){return this.Qa("shareDesignDialogEmbedDescriptionHtml")};
f.us=function(a,b){return this.format("shareDesignDialogInviteMembersHtml",a,b)};f.rv=function(){return this.format("shareDesignDialogInviteMemberButton")};f.sv=function(){return this.format("shareDesignDialogInviteMemberError")};function Rc(a){S.apply(this,arguments)}t(Rc,S);f=Rc.prototype;f.Rg=function(){return this.format("publishViewActionClose")};f.Lo=function(){return this.format("publishViewActionCloseHint")};f.St=function(){return this.format("publishViewActionOK")};f.Tt=function(){return this.format("publishViewActionRetry")};
function Ye(a,b){return a.format("publishViewUnlimitedUseHint",b)}f.nv=function(){return this.format("publishViewHintSeeAllDesigns")};function Tc(a){S.apply(this,arguments)}t(Tc,S);function Ze(a){return a.Qa("paymentPageErrorGenericHtml","https://support.canva.com/troubleshooting")}f=Tc.prototype;f.bu=function(){return this.format("paymentPageApplyCouponButtonText")};f.su=function(){return this.format("paymentPageCouponCodeInputPlaceholder")};
function $e(a){return a.Qa("paymentPageLicensingIntroMore")}f.wl=function(a){return this.format("paymentPageLicensePrice",a)};function af(a,b){return a.format("paymentPageLicenseRemainingMinutes",b)}f.xm=function(a){return this.format("paymentPageCreditAvailable",a)};f.total=function(a){return this.format("paymentPageTotal",a)};f.Cq=function(a){return this.format("paymentPagePayOption",a)};f.Fr=function(a){return this.format("paymentPageContributedBy",a)};f.Ys=function(){return this.format("paymentPagePurchased")};
f.zd=function(){return this.format("paymentPageFree")};f.Ev=function(){return this.format("paymentPageLayoutTitle")};f.Mf=function(){return this.format("paymentPagePurchaseButton")};f.OP=function(){return this.format("paymentPageSavingTeamCard")};function bf(a){return a.format("paymentPageLicensesDetailsConfirm")}f.co=function(){return this.format("paymentPageRestrictedOverlayHeading")};f.Jg=function(){return this.format("paymentPageRestrictedOverlayMessage")};f.bo=function(){return this.format("paymentPageRestrictedOverlayDraftButton")};
f.ao=function(){return this.format("paymentPageRestrictedOverlayCancelButton")};function Vc(a){S.apply(this,arguments)}t(Vc,S);f=Vc.prototype;f.hd=function(){return this.format("licenseOneTimeUse")};f.Jc=function(){return this.format("licenseOneTimeUseDescription")};f.Cc=function(){return this.format("licenseRoyaltyFree")};f.Lc=function(){return this.format("licenseRoyaltyFreeDescription")};f.xd=function(){return this.format("licenseExtended")};f.Od=function(){return this.format("licenseExtendedDescription")};
f.Sd=function(){return this.format("licenseNoLicenseOptionDescription")};function cf(a,b){return a.Qa("licenseLicensesDetailsFullInformation",b)}function Xc(a){S.apply(this,arguments)}t(Xc,S);function df(a){S.apply(this,arguments)}t(df,S);df.prototype.Mf=function(){return this.format("watermarkRemovalDialogPurchaseButton")};df.prototype.title=function(){return this.format("watermarkRemovalDialogTitle")};function Zc(a){S.apply(this,arguments)}t(Zc,S);f=Zc.prototype;f.jG=function(){return this.format("brandTeamMembersLoading")};
f.Ii=function(){return this.format("brandTeamMembersBrandKit")};f.Bn=function(){return this.format("brandTeamMembersMembers")};f.Rc=function(){return this.format("brandTeamMembersFolders")};f.rW=function(){return this.format("brandTeamMembersMagicResize")};f.Nx=function(){return this.format("brandTeamMembersUpgrade")};function ef(a){S.apply(this,arguments)}t(ef,S);function gf(a){return a.format("twentyThreeSecondOnboardingSearchText")}
function hf(a){return a.format("twentyThreeSecondOnboardingDragText")}function jf(a){return a.format("twentyThreeSecondOnboardingPublishText")}function kf(a){return a.format("twentyThreeSecondOnboardingYumText")}function lf(a){S.apply(this,arguments)}t(lf,S);lf.prototype.B1=function(a){return this.format("teamUpgradeCreateTeamWelcomeTitleHtml",a)};lf.prototype.C1=function(){return this.format("teamUpgradeCreateYourTeam")};
lf.prototype.A1=function(a){return this.format("teamUpgradeCreateTeamWelcomeDescription",a)};function mf(a){return a.format("teamUpgradeCreateTrialPeriodPoint1V")}function nf(a,b){return a.format("teamUpgradeCreateTrialPeriodPoint2V",b)}function of(a){return a.format("teamUpgradeCreateTrialPeriodPoint3V")}function ed(a){S.apply(this,arguments)}t(ed,S);f=ed.prototype;f.Nx=function(a){return this.format("teamBillingSignupUpgrade",a)};f.xx=function(){return this.format("teamBillingSignupStartTrial")};
f.Fw=function(){return this.format("teamBillingSignupRevertCard")};f.Cv=function(){return this.format("teamBillingSignupItemsTitle")};f.iu=function(){return this.format("teamBillingSignupBillingError")};f.Jx=function(){return this.format("teamBillingSignupTryAgain")};f.Ku=function(){return this.format("teamBillingSignupEncryption")};f.dm=function(a,b){return this.format("teamBillingSignupTotalPrice",a,b)};function gd(a){S.apply(this,arguments)}t(gd,S);
function pf(a){return a.format("starOnboardingActionStayAndPlay")}function rf(a){return a.format("starOnboardingActionKeepExploring")}gd.prototype.R7=function(){return this.format("starOnboardingProgressTitle")};gd.prototype.p9=function(){return this.format("starOnboardingSpecialInstructionsTitle")};gd.prototype.n9=function(){return this.format("starOnboardingSpecialInstructionsHtml")};gd.prototype.o9=function(){return this.format("starOnboardingSpecialInstructionsQuestionText")};
function sf(a){S.apply(this,arguments)}t(sf,S);function id(a){S.apply(this,arguments)}t(id,S);id.prototype.QO=function(){return this.format("viewDesignsPopOverTitle")};id.prototype.OO=function(){return this.format("viewDesignsPopOverMessage")};id.prototype.NO=function(){return this.format("viewDesignsPopOverDone")};function tf(a){S.apply(this,arguments)}t(tf,S);tf.prototype.QO=function(){return this.format("downloadPopOverTitle")};tf.prototype.OO=function(){return this.format("downloadPopOverMessage")};
tf.prototype.NO=function(){return this.format("downloadPopOverDone")};function kd(a){S.apply(this,arguments)}t(kd,S);kd.prototype.Wx=function(a){return this.format("zoomToolbarZoomPercentage",a)};kd.prototype.Zf=function(){return this.format("zoomToolbarFullscreenMode")};kd.prototype.fill=function(){return this.format("zoomToolbarFill")};function md(a){S.apply(this,arguments)}t(md,S);function od(a){S.apply(this,arguments)}t(od,S);function qd(a){S.apply(this,arguments)}t(qd,S);qd.prototype.eC=function(){return this.format("newLightboxShareLink")};
function uf(a,b,c,d,e){return a.format("newLightboxEmbedCodeBy",c,b,d,e)}function sd(a){S.apply(this,arguments)}t(sd,S);sd.prototype.Dn=function(){return this.format("newFeatureNewLabel")};function vf(a){S.apply(this,arguments)}t(vf,S);function wf(a){S.apply(this,arguments)}t(wf,S);wf.prototype.x0=function(a){return this.format("chartElementCardinalNumber",a)};function wd(a){S.apply(this,arguments)}t(wd,S);f=wd.prototype;f.heading=function(){return this.format("printOrderSummaryHeading")};f.nw=function(){return this.format("printOrderSummaryPremiumImagesPriceLabel")};
f.Gt=function(){return this.Qa("printOrderSummaryTotalLabelHtml")};f.fa=function(a){return this.format("printOrderSummaryPrice",a)};f.Yv=function(a){return this.format("printOrderSummaryNumberOfCopies",a)};f.Oa=function(a){return this.format("printOrderSummaryDiscount",a)};f.nk=function(){return this.format("printOrderSummarySelectYourPrintOptions")};f.gi=function(){return this.format("printOrderSummarySelectYourShippingOption")};f.yj=function(a){return this.format("printOrderSummaryCreditUsed",a)};
function xf(a,b){return a.format("printOrderSummaryCreditUsedAndAvailableLabel",b)}f.Bw=function(){return this.format("printOrderSummaryRemoveCouponText")};function yf(a){S.apply(this,arguments)}t(yf,S);f=yf.prototype;f.heading=function(){return this.format("printOrderReceivedHeading")};f.AR=function(){return this.format("printOrderReceivedViewPrintOrdersButtonText")};f.zR=function(){return this.format("printOrderReceivedViewHomepageButtonText")};
f.o1=function(a){return this.Qa("printOrderReceivedConfirmationEmailMessageHtml",a)};f.V6=function(a){return this.Qa("printOrderReceivedMessageHtml",a,"printOrderReceived__orderNumber")};function ud(a){S.apply(this,arguments)}t(ud,S);ud.prototype.rc=function(a,b){return this.format("printFlowPageNumberOfTotal",a,b)};function zf(a){S.apply(this,arguments)}t(zf,S);f=zf.prototype;f.yy=function(){return this.format("addressDetailsCannotShipToPostOfficeBoxMessage")};f.iJ=function(){return this.format("addressDetailsAddAdditionalAddressFieldButtonText")};
f.NJ=function(){return this.format("addressDetailsCityLabel")};f.YJ=function(){return this.format("addressDetailsContactNumberLabel")};f.cK=function(){return this.format("addressDetailsCountryLabel")};f.TL=function(){return this.format("addressDetailsFullNameLabel")};f.LQ=function(){return this.format("addressDetailsStateLabel")};f.NQ=function(){return this.format("addressDetailsStreetAddressLabel")};f.RR=function(){return this.format("addressDetailsZipcodeLabel")};f.heading=function(){return this.format("addressDetailsHeading")};
f.NP=function(){return this.format("addressDetailsSaveAddressLabel")};f.Mw=function(){return this.format("addressDetailsSelectSubdivisionText")};function Af(a){S.apply(this,arguments)}t(Af,S);f=Af.prototype;f.heading=function(){return this.format("designProofReviewHeading")};f.description=function(){return this.format("designProofReviewDescription")};f.mu=function(){return this.format("designProofReviewCheckImagesAndText")};f.yr=function(a){return this.Qa("designProofReviewCheckTermsOfUseHtml",a)};
f.Yu=function(){return this.format("designProofReviewGeneratingPdfText")};f.Lw=function(){return this.format("designProofReviewSeeUnfixableProblemButtonText")};f.ru=function(){return this.format("designProofReviewContinueToCheckoutButtonText")};function Bf(a){S.apply(this,arguments)}t(Bf,S);Bf.prototype.tu=function(){return this.format("printPaymentAndConfirmationCouponCodeLabel")};Bf.prototype.heading=function(){return this.format("printPaymentAndConfirmationHeading")};Bf.prototype.EO=function(){return this.format("printPaymentAndConfirmationPaymentDetailsHeading")};
function Cf(a){S.apply(this,arguments)}t(Cf,S);f=Cf.prototype;f.ex=function(){return this.format("printOrderFormShippingAddressHeading")};f.ad=function(){return this.format("printOrderFormBackButtonText")};f.Pi=function(){return this.format("printOrderFormContinueButtonText")};f.o7=function(){return this.format("printOrderFormPayNowButtonText")};f.uO=function(){return this.format("printOrderFormOrderErrorHeading")};function yd(a){S.apply(this,arguments)}t(yd,S);f=yd.prototype;f.SS=function(){return this.format("printEditorFormBeginOrderButtonText")};
f.cT=function(){return this.format("printEditorFormCancelOrderButtonText")};f.Pi=function(){return this.format("printEditorFormContinueButtonText")};f.ad=function(){return this.format("printEditorFormBackButtonText")};f.ej=function(){return this.format("printEditorFormNextButtonText")};function Ad(a){S.apply(this,arguments)}t(Ad,S);Ad.prototype.Bh=function(){return this.format("printProofingWhyIsThisImportant")};function Cd(a){S.apply(this,arguments)}t(Cd,S);
function Fd(a){S.apply(this,arguments)}t(Fd,S);Fd.prototype.fh=function(){return this.format("searchMenuFreeOnly")};function Df(a){S.apply(this,arguments)}t(Df,S);Df.prototype.Ik=function(){return this.format("updateDoctypeCancelButtonText")};Df.prototype.mq=function(){return this.format("updateDoctypeMoreInfoLinkText")};function Ef(a){S.apply(this,arguments)}t(Ef,S);f=Ef.prototype;f.tb=function(){return this.format("downloadIphoneDialogHeadingHtml")};f.dk=function(){return this.format("downloadIphoneDialogOverviewSubheading")};
f.Ic=function(){return this.format("downloadIphoneDialogIphoneLabel")};f.Fc=function(){return this.format("downloadIphoneDialogAndroidLabel")};f.tv=function(){return this.format("downloadIphoneDialogIphoneSubheading")};f.Ow=function(){return this.format("downloadIphoneDialogSendButtonLabel")};f.ij=function(){return this.format("downloadIphoneDialogPhoneInputPlaceholder")};f.au=function(){return this.format("downloadIphoneDialogAndroidSubheading")};f.zw=function(){return this.format("downloadIphoneDialogRegisterButtonLabel")};
f.GQ=function(){return this.format("downloadIphoneDialogSomethingWentWrong")};f.WF=function(){return this.format("downloadIphoneDialogInvalidNumber")};function Ff(a){S.apply(this,arguments)}t(Ff,S);f=Ff.prototype;f.heading=function(){return this.format("downloadMobileAppDialogHeading")};f.ni=function(){return this.format("downloadMobileAppDialogSubheading")};f.Ic=function(){return this.format("downloadMobileAppDialogIPhoneLabel")};f.Fc=function(){return this.format("downloadMobileAppDialogAndroidLabel")};
f.nd=function(){return this.format("downloadMobileAppDialogSubmitButtonLabel")};f.Lg=function(){return this.format("downloadMobileAppDialogSelectDeviceText")};f.WF=function(){return this.format("downloadMobileAppDialogInvalidNumber")};f.success=function(){return this.format("downloadMobileAppDialogSuccess")};f.GQ=function(){return this.format("downloadMobileAppDialogSomethingWentWrong")};function Hd(a){S.apply(this,arguments)}t(Hd,S);Hd.prototype.Bj=function(){return this.format("teamInviteFormEmailInputPlaceholder")};
Hd.prototype.nd=function(){return this.format("teamInviteFormSubmitButtonLabel")};Hd.prototype.hr=function(){return this.format("teamInviteFormUpgradeMessage")};Hd.prototype.No=function(){return this.format("teamInviteFormAddAnotherButtonLabel")};function Jd(a){S.apply(this,arguments)}t(Jd,S);function Ld(a){S.apply(this,arguments)}t(Ld,S);f=Ld.prototype;f.title=function(){return this.format("popupBlockedDialogTitle")};f.og=function(){return this.format("popupBlockedDialogSubtitle")};f.zx=function(){return this.format("popupBlockedDialogStep1Label")};
f.Ax=function(){return this.format("popupBlockedDialogStep2Label")};f.xt=function(){return this.Qa("popupBlockedDialogStep2Html")};function Gf(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function Hf(a){return new P(function(b){function c(e){e.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function If(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Jf(b))}function Jf(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Kf(a,b){this.name=a;this.defaultValue=b};function Lf(a){this.values=a||{}}function Mf(){return new Lf(La(window.cflags))}Lf.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;Ca(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function Nf(a){this.H=a}
var Of=new Kf("ad",!1),Pf=new Kf("ag",!0),Qf=new Kf("aj",!1),Rf=new Kf("au",!1),Sf=new Kf("ay",!1),Tf=new Kf("av",!1),Uf=new Kf("aw",!1),Vf=new Kf("az",!1),Wf=new Kf("bf",!1),Xf=new Kf("bg",!1),Yf=new Kf("bk",!1),Zf=new Kf("bw",!1),$f=new Kf("by",!1),ag=new Kf("cf",10),bg=new Kf("cn",!1),cg=new Kf("cv",!1),dg=new Kf("de",!1),eg=new Kf("dg",1),fg=new Kf("dh",3),gg=new Kf("dn",!1),hg=new Kf("dr",!1),ig=new Kf("ex",!1),jg=new Kf("ee",!1),kg=new Kf("ek",!1),lg=new Kf("em","NONE"),mg=new Kf("en",!1),ng=
new Kf("ep",!0),og=new Kf("ey",!0),pg=new Kf("ez",!1),qg=new Kf("fd",!1),rg=new Kf("ff",!1),sg=new Kf("fo",!1),tg=new Kf("fq",!1),ug=new Kf("fx",!1),vg=new Kf("fz",!0),wg=new Kf("gn",!0),xg=new Kf("gq",!0),yg=new Kf("hn",!1),zg=new Kf("ib",!1),Ag=new Kf("js",!1),Bg=new Kf("ke",!1),Cg=new Kf("ko",!1),Dg=new Kf("kw",!1);f=Nf.prototype;f.Yy=function(){return this.H.get(Rf)};f.xN=function(){return this.H.get(Yf)};f.Je=function(){return this.H.get(jg)};f.MK=function(){return this.H.get(lg)};f.$r=function(){return this.H.get(zg)};var T="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),U=null,Eg=null;function Fg(a){this.Eb=a.Eb;this.vd=a.vd;this.gc=a.gc;this.af=a.af;this.ac=a.ac;this.lI=a.lI;this.Py=a.Py}function Gg(a,b,c,d){b=Hg(b);if(!b)return null;var e=a.Eb.Ba();a=Ig(a,b.pa());isNaN(parseFloat(c*d))?(b.md(a),b.$k(e)):(a.hb(c||0),a.cb(d||0),b.md(a),b.appendTo(e));Jg(b);Kg(b);return b}Fg.prototype.xS=function(a,b,c){var d;d={height:a.Jj().o(),isCutout:!1,mediaId:a.u(),mediaVersion:0,type:"image",width:a.Jj().j()};b=Gg(this,d,b,c);Lg(this.lI,Mg(a),b)};
Fg.prototype.yS=function(a,b,c,d){switch(a.jb()){case Ng:a=Og(a,"image",d);Gg(this,a,b,c);break;case Pg:a=a.Ja().ps()?Og(a,"graphic"):Og(a,"svg");Gg(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.jb());}};Fg.prototype.zS=function(a,b,c,d){(a=a.B9?Qg(a,"svg"):Qg(a,"image",d))&&Gg(this,a,b,c)};
function Mg(a){var b=a.Jj(),c=a.je();return Rg({files_:[{page:0,quality:"THUMBNAIL",height:c.o(),url:c.ma(),width:c.j()},{page:0,quality:"SCREEN",height:b.o(),url:b.ma(),width:b.j()}],id:a.u(),origin:Sg,title:a.getName()})}function Og(a,b,c){var d=a.Ja().pc()[Tg];b={height:d.o(),isCutout:!!c,mediaId:a.u(),mediaVersion:a.Ja().getVersion(),type:b,width:d.j()};a=a.Ja().ps();null!=a&&(b.spritesheetMetadata=Ug(a));return b}
function Qg(a,b,c){if(a.Mb())return{height:a.qb.height,isCutout:!!c,mediaId:a.Mb().u(),mediaVersion:1,type:b,width:a.qb.width}}function Vg(a,b){b.forEach(function(a){a=Mg(a);Wg(this.lI,a)},a)}function Xg(a,b){b.forEach(function(a){Yg(this.af,a.u(),a.Ja().getVersion(),a.Ja().pc())},a)}
function Ig(a,b){var c=b.clone(),d=Zg(a.Eb.ib().qb);(function(){var a=c.j()/c.o();c.ea(Math.min(c.o(),d.o()*R.Fh));c.na(a*c.o())})();(function(){var a=c.o()/c.j();c.na(Math.min(c.j(),d.j()*R.Fh));c.ea(a*c.j())})();return c}Fg.prototype.vI=function(a,b,c){0<b.length&&this.Py(a,c).upload(b,$g(a))};function ah(a,b){a.dU=b}
function bh(a,b,c,d,e,g){function h(){var a=b.getFile(Tg);return new V(0,0,a.j()*Q,a.o()*Q)}function k(a){var b,d,g;b=a.clientX-e.F()+c.F();d=a.clientY-e.w()+c.w();g=Math.max(Math.min((a.clientX-G)/O,1),0);g=1>r?Math.min(Math.max(r,1+g*(r-1)),1):Math.min(Math.max(1,1+g*(r-1)),r);a.clientX>L?(u=!0,g=r):u=!1;m(b,d,g)}function l(a){var b,c=!1,e,h;b=d.get(0).getBoundingClientRect();b=ch(x.vd,dh(b));c=$(a.target).is(".hotspot");a=eh(da);e=(b.F()-a.F())/Q;h=(b.w()-a.w())/Q;$(document).off("mouseup",l);
$(document).off("mousemove",k);!z&&c?p():u&&fh(b,a)?(g(e,h,z),p()):setTimeout(q,50);$("#hotspots").remove();gh().write(function(){$("#overlays .align").removeClass("on")})}function m(a,b,c){hh(d[0],{eo:c,Oq:c,ti:a,vi:b});a=eh(da);b=ch(x.vd,dh(d.get(0).getBoundingClientRect()));u&&ih(a,b)&&(null===ea&&(ea=new jh(d,sa,{left:I,top:E})),a=kh(),lh(ea,N,a))}function n(){window.setTimeout(function(){d.remove()},650)}function p(){m(c.F(),c.w(),1);d.css("left",c.F()).css("top",c.w()).css("opacity",0).addClass("draggedMediaPlacing");
n()}function q(){var a="",b="",e=d.get(0).getBoundingClientRect(),g=x.dU||c,h=e.left-g.F(),e=e.top-g.w();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<e?b="draggedMediaReturningUp":-100>e&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.w()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.F(),g.w(),1);x.dU=void 0;n()}var u=!1,v,z=!1,r,x=a,I,E,L,G,O,Q=W,N={},ea=null;0<d.find("img").length&&(z=mh(d.find("img").get(0))>
R.YI);v=nh(h(),function(){var a=Zg(x.Eb.ib().qb),b=R.Fh*Q;return new V(0,0,a.j()*b,a.o()*b)}());r=Math.min(h().j(),v.j())/c.j();I=e.F()-c.F();E=e.w()-c.w();var da=oh(a.vd),sa=da.$el.find(".page__content").get(0).getBoundingClientRect();L=$("#objectPanel").get(0).getBoundingClientRect().right;G=L-$(".uploadsLayoutColumn").outerWidth()/2+20;O=L-G;ph();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.j());d.css("height",c.o());d.css("transform-origin",I+"px "+E+"px");m(c.F(),
c.w(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=d.find("img"),c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",z);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.j());a.data("screenHeight",v.o());qh(d,x.Eb.Ba(),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function rh(a){this.rg=new va(a)}var sh="PUBLIC_STREAM TEAM_STREAM TEAM_TEMPLATE MARKETPLACE_LAYOUT MARKETPLACE_TEXT PUBLICLY_REMIXABLE".split(" "),th=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];rh.prototype=Object.create(va.prototype);rh.prototype.xp=function(){var a=this.rg.get("brandColor",null);return a&&uh(a)};rh.prototype.qh=function(){return this.rg.get("onboardingMode",null)};rh.prototype.XL=function(){return this.rg.get("associatedMedia",null)};
function vh(a){return a.rg.get("enabledPublicationContexts",[])}
function wh(a){return(a=a.rg.get("layoutSearchRequest",null))&&new xh({Uk:C("docId",a),query:B("query",a),An:Sa(yh,"mediaTypes",a),tl:Ua(Va,Ya,"includeFilters",a),fl:Ua(Va,Ya,"excludeFilters",a),filters:Ha.Ke("filters",a),elevation:C("elevation",a),QE:Ha.Ke("elevateIds",a),iz:Na("elevatedOnly",a),sort:F(zh,"sort",a),UE:Na("enableSuggest",a),Zq:y("skip",a),limit:y("limit",a),zk:Na("translatable",a),locale:C("locale",a),Kg:C("rootSearchId",a),jg:Na("organic",a),fh:Na("freeOnly",a),aspectRatio:A("aspectRatio",
a),uU:Na("explain",a),LS:Ra(Ah,"asSchema",a),OT:Ra(Ah,"designSchemaVersion",a),bU:C("domainName",a),category:C("category",a)})}function Bh(a){var b=a.rg.get("recaptchaConfig",{});a=C("siteKey",b)||null;b=C("impl",b)||null;return{CQ:a,Jaa:b}}rh.prototype.Ez=function(){var a=this.rg.get("account",null);return null!=a?Ch(a):null};function Dh(a,b){switch(b){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "'+a+'", found: '+JSON.stringify(b));}}
function Eh(a){switch(a){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "creditPack", found: '+JSON.stringify(a));}}function Fh(a,b){switch(b){case "PAY_SYNCHRONOUS":return"PAY_SYNCHRONOUS";case "CANCEL":return"CANCEL";default:throw new TypeError('expected UpdateInvoiceAction for property "'+a+'", found: '+JSON.stringify(b));}}
function Gh(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}function Hh(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}function Ih(a){this.id=a.id;this.ek=a.ek;this.fT=a.fT;this.Dv=a.Dv;this.fc=a.fc;this.YE=a.YE;this.Mu=a.Mu;this.Tg=a.Tg}Ih.prototype.u=function(){return this.id};
Ih.prototype.Hz=function(){return this.fc};function Jh(a){return new Ih({id:C("id",a),ek:C("owningBrand",a),fT:B("cardBrand",a),Dv:B("last4",a),fc:C("country",a),YE:y("expMonth",a),Mu:y("expYear",a),Tg:D(Kh,"billingAddress",a)})}function Lh(a){this.td=a.td;this.AS=a.AS;this.MT=a.MT}function Mh(a){return new Lh({td:Pa(Jh,"card",a),AS:A("addedDate",a),MT:A("deletedDate",a)})}function Nh(a){this.qN=a.qN;this.rN=a.rN;this.sN=a.sN;this.Nd=a.Nd;this.wh=a.wh;this.Cb=a.Cb;this.kw=a.kw}Nh.prototype.bs=function(){return this.Nd};
Nh.prototype.Yi=function(){return this.Cb};function Oh(a){return{line1:H("line1",a.qN),line2:H("line2",a.rN),line3:H("line3",a.sN),city:H("city",a.Nd),subdivision:H("subdivision",a.wh),countryCode:ib("countryCode",a.Cb),postcode:H("postcode",a.kw)}}function Kh(a){return new Nh({qN:C("line1",a),rN:C("line2",a),sN:C("line3",a),Nd:C("city",a),wh:C("subdivision",a),Cb:B("countryCode",a),kw:C("postcode",a)})}
function Ph(a){this.id=a.id;this.D=a.D;this.gf=a.gf;this.lZ=a.lZ;this.Mv=a.Mv;this.Oh=a.Oh;this.NT=a.NT;this.KS=a.KS||[];this.mP=a.mP||[]}Ph.prototype.u=function(){return this.id};Ph.prototype.ia=function(){return this.D};function Ch(a){return new Ph({id:B("id",a),D:B("brand",a),gf:Ma("stripe",a),lZ:C("stripeKey",a),Mv:y("marketplaceCreditBalance",a),Oh:D(Jh,"defaultCreditCard",a),NT:Ma("delinquent",a),KS:F(Mh,"archivedCards",a),mP:Sa(Qh,"purchaseRoles",a)})}
function Rh(a){this.D=a.D;this.Tg=a.Tg;this.OQ=a.OQ;this.tC=a.tC;this.kZ=a.kZ;this.HP=a.HP}Rh.prototype.ia=function(){return this.D};function Sh(a){return{brand:H("brand",a.D),billingAddress:jb(Oh,"billingAddress",a.Tg),stripeToken:H("stripeToken",a.OQ),stripeCardId:H("stripeCardId",a.tC),stripeCustomerId:H("stripeCustomerId",a.kZ),replaceDefault:gb("replaceDefault",a.HP)}}function Th(a){this.Qi=a.Qi;this.IS=a.IS;this.uT=a.uT;this.vT=a.vT;this.Tg=a.Tg;this.tC=a.tC;this.gT=a.gT}Th.prototype.rF=function(){return this.Qi};
function Uh(a){return{creditCard:ib("creditCard",a.Qi),archiveCard:hb("archiveCard",a.IS),confirmAddition:hb("confirmAddition",a.uT),confirmRemoval:hb("confirmRemoval",a.vT),billingAddress:jb(Oh,"billingAddress",a.Tg),stripeCardId:H("stripeCardId",a.tC),cardIssuerUpdate:jb(Vh,"cardIssuerUpdate",a.gT)}}function Vh(a){return{last4:H("last4",a.Dv),fingerprint:H("fingerprint",a.Eaa),expiryMonth:eb("expiryMonth",a.Nu),expiryYear:eb("expiryYear",a.Ou),brand:H("brand",a.D),date:db("date",a.date)}}
function Wh(a){this.D=a.D;this.items=a.items||[];this.currency=a.currency;this.wB=a.wB}Wh.prototype.ia=function(){return this.D};Wh.prototype.yf=function(){return this.items};function Xh(a){return{brand:ib("brand",a.D),items:kb(Yh,"items",a.items),currency:ib("currency",a.currency),priceConfig:jb(Zh,"priceConfig",a.wB)}}function $h(a){this.message=a.message}function ai(a){return new $h({message:B("message",a)})}function bi(a){this.Ce=a.Ce;this.error=a.error}bi.prototype.getError=function(){return this.error};
function ci(a){return new bi({Ce:C("invoice",a),error:D(ai,"error",a)})}function di(a){this.media=a.media;this.version=a.version;this.document=a.document;this.Xj=a.Xj;this.Oa=a.Oa}di.prototype.Mb=function(){return this.media};di.prototype.getVersion=function(){return this.version};di.prototype.getDocument=function(){return this.document};
function ei(a){return{media:ib("media",a.media),version:db("version",a.version),document:H("document",a.document),licenseType:lb(fi,"licenseType",a.Xj),discount:mb(Gh,"discount",a.Oa)}}function gi(a){this.order=a.order}gi.prototype.Ym=function(){return this.order};function hi(a){return{order:ib("order",a.order)}}function ii(a){this.order=a.order}ii.prototype.Ym=function(){return this.order};function ji(a){return{order:ib("order",a.order)}}
function ki(a){return{subscription:ib("subscription",a.Oe),plan:ib("plan",a.ik),quantity:db("quantity",a.ww),periodStart:db("periodStart",a.HO),periodEnd:db("periodEnd",a.GO),price:db("price",a.fa)}}function li(a){this.gq=a.gq;this.nK=a.nK;this.bP=a.bP;this.cP=a.cP;this.Oe=a.Oe;this.sU=a.sU}li.prototype.YU=function(){return this.gq};li.prototype.getSubscription=function(){return this.Oe};
function Yh(a){return{license:jb(ei,"license",a.gq),credit:mb(Dh,"credit",a.nK),printProduct:jb(hi,"printProduct",a.bP),printShipping:jb(ji,"printShipping",a.cP),subscription:jb(ki,"subscription",a.Oe),expectedPurchasePrice:eb("expectedPurchasePrice",a.sU)}}function mi(a){this.Ce=a.Ce;this.items=a.items||[];this.Oa=a.Oa;this.Xn=a.Xn;this.action=a.action;this.MU=a.MU;this.tU=a.tU;this.wB=a.wB;this.tY=a.tY}mi.prototype.yf=function(){return this.items};
function ni(a){return{invoice:ib("invoice",a.Ce),items:kb(Yh,"items",a.items),discount:H("discount",a.Oa),removeDiscount:gb("removeDiscount",a.Xn),action:mb(Fh,"action",a.action),forgiven:hb("forgiven",a.MU),expectedTotal:eb("expectedTotal",a.tU),priceConfig:jb(Zh,"priceConfig",a.wB),returnErrors:hb("returnErrors",a.tY)}}function oi(a){this.message=a.message;this.kT=a.kT;this.IV=a.IV}function pi(a){return new oi({message:B("message",a),kT:Ma("chargeFailed",a),IV:Ma("insufficientCredits",a)})}
function qi(a){this.error=a.error}qi.prototype.getError=function(){return this.error};function ri(a){return new qi({error:D(pi,"error",a)})}
function si(a,b){switch(b){case "CREDIT":return"CREDIT";case "LICENSE":return"LICENSE";case "PRINT_PRODUCT":return"PRINT_PRODUCT";case "PRINT_SHIPPING":return"PRINT_SHIPPING";case "SUBSCRIPTION_PRORATION":return"SUBSCRIPTION_PRORATION";case "SUBSCRIPTION":return"SUBSCRIPTION";default:throw new TypeError('expected InvoiceItemType for property "'+a+'", found: '+JSON.stringify(b));}}
function ti(a){this.media=a.media;this.version=a.version;this.title=a.title;this.D=a.D;this.ka=a.ka;this.B3=a.B3;this.Wg=a.Wg;this.dr=a.dr;this.fa=a.fa;this.Lv=a.Lv;this.Q8=a.Q8;this.Xj=a.Xj;this.document=a.document;this.kp=a.kp;this.user=a.user}f=ti.prototype;f.Mb=function(){return this.media};f.getVersion=function(){return this.version};f.sb=function(){return this.title};f.ia=function(){return this.D};f.getDocument=function(){return this.document};f.UU=function(){return this.kp};f.va=function(){return this.user};
function ui(){}function vi(){return new ui}function wi(a){this.qm=a.qm||[];this.i3=a.i3;this.Z=a.Z;this.limit=a.limit}wi.prototype.SU=function(){return this.qm};wi.prototype.Fb=function(){return this.Z};wi.prototype.Cd=function(){return this.limit};function xi(a){this.Rt=a.Rt||[];this.Z=a.Z}xi.prototype.Fb=function(){return this.Z};function yi(a){return new xi({Rt:F(Ch,"accounts",a),Z:C("continuation",a)})}function zi(a){this.type=a.type;this.media=a.media}zi.prototype.jb=function(){return this.type};
zi.prototype.Mb=function(){return this.media};function Ai(a){return new zi({type:Qa(Bi,"type",a),media:D(Ci,"media",a)})}function Bi(a,b){switch(b){case "MEDIA":return"MEDIA";default:throw new TypeError('expected ProductType for property "'+a+'", found: '+JSON.stringify(b));}}function Di(a){this.type=a.type;this.fa=a.fa;this.Lv=a.Lv}Di.prototype.jb=function(){return this.type};function Ei(a){return new Di({type:Qa(Fi,"type",a),fa:y("price",a),Lv:y("markedPrice",a)})}
function Gi(a){this.type=a.type;this.KN=a.KN}Gi.prototype.jb=function(){return this.type};function Hi(a){return new Gi({type:Qa(Fi,"type",a),KN:A("minutesToExpiry",a)})}function Ii(a){this.ba=a.ba;this.ca=a.ca;this.Wg=a.Wg;this.CN=a.CN;this.pg=a.pg;this.rw=a.rw||[];this.pN=a.pN;this.yc=a.yc||[];this.Oa=a.Oa}Ii.prototype.js=function(){return this.ba};Ii.prototype.ks=function(){return this.ca};Ii.prototype.cn=function(){return this.pg};
function Ci(a){return new Ii({ba:B("mediaId",a),ca:y("mediaVersion",a),Wg:B("contributorName",a),CN:C("mediaTitle",a),pg:B("thumbnailUrl",a),rw:F(Ei,"pricingOptions",a),pN:Qa(Ji,"licensing",a),yc:F(Hi,"licenses",a),Oa:Ra(Hh,"discount",a)})}function Ki(a){this.Uc=a.Uc;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[]}Ki.prototype.getDocument=function(){return this.document};Ki.prototype.Gb=function(){return this.O};
function Li(a){this.mode=a.mode;this.ye=a.ye;this.media=a.media;this.Z=a.Z;this.limit=a.limit}Li.prototype.Mb=function(){return this.media};Li.prototype.Fb=function(){return this.Z};Li.prototype.Cd=function(){return this.limit};function Mi(a){this.Yc=a.Yc||[];this.Z=a.Z}Mi.prototype.yF=function(){return this.Yc};Mi.prototype.Fb=function(){return this.Z};function Ni(a){return new Mi({Yc:F(Ai,"products",a),Z:C("continuation",a)})}function Oi(a){this.value=a.value;this.currency=a.currency}
Oi.prototype.qc=function(){return this.value};function Pi(a){return new Oi({value:y("value",a),currency:B("currency",a)})}function Qi(a){this.id=a.id;this.type=a.type;this.rh=a.rh;this.Qo=a.Qo;this.tD=a.tD||[];this.Yg=a.Yg}Qi.prototype.u=function(){return this.id};Qi.prototype.jb=function(){return this.type};Qi.prototype.Iz=function(){return this.Yg};
function Ri(a){return new Qi({id:B("id",a),type:Qa(Si,"type",a),rh:A("percentage",a),Qo:D(Pi,"amount",a),tD:Sa(si,"applicableInvoiceItemTypes",a),Yg:B("couponCode",a)})}function Si(a,b){switch(b){case "PERCENTAGE":return"PERCENTAGE";case "AMOUNT":return"AMOUNT";default:throw new TypeError('expected DiscountType for property "'+a+'", found: '+JSON.stringify(b));}}function Ti(a){this.D=a.D;this.user=a.user;this.Yg=a.Yg}Ti.prototype.ia=function(){return this.D};Ti.prototype.va=function(){return this.user};
Ti.prototype.Iz=function(){return this.Yg};function Ui(a){this.Oa=a.Oa}function Vi(a){return new Ui({Oa:Pa(Ri,"discount",a)})}function Wi(a){this.D=a.D;this.user=a.user;this.Yg=a.Yg;this.Z=a.Z;this.limit=a.limit}f=Wi.prototype;f.ia=function(){return this.D};f.va=function(){return this.user};f.Iz=function(){return this.Yg};f.Fb=function(){return this.Z};f.Cd=function(){return this.limit};function Xi(a){this.BK=a.BK||[];this.Z=a.Z}Xi.prototype.Fb=function(){return this.Z};
function Yi(a){return new Xi({BK:F(Ri,"discounts",a),Z:C("continuation",a)})}function Zh(a){return{currency:ib("currency",a.currency),creditExchangeRate:db("creditExchangeRate",a.oaa),expiryDate:db("expiryDate",a.pz),mediaPriceModel:cb.required("mediaPriceModel",Zi(a.Yaa)),creditPackPriceModel:cb.required("creditPackPriceModel",{prices:kb($i,"prices",a.qaa.Jb)}),token:ib("token",a.Bo)}}
function Zi(a){return{licensingPriceModels:kb(aj,"licensingPriceModels",a.D3),discountPriceModels:kb(bj,"discountPriceModels",a.vaa)}}function bj(a){return{discount:lb(Gh,"discount",a.Oa),licensingPriceModels:kb(aj,"licensingPriceModels",a.D3)}}function aj(a){return{licensing:lb(cj,"licensing",a.pN),licenseTypePrices:kb(dj,"licenseTypePrices",a.Vaa)}}function dj(a){return{licenseType:lb(fi,"licenseType",a.Xj),markedPrice:db("markedPrice",a.Lv)}}
function $i(a){return{creditPack:lb(Dh,"creditPack",a.paa),credits:db("credits",a.Hr),markedPrice:db("markedPrice",a.Lv)}}function ej(a){this.id=a.id;this.ik=a.ik;this.D=a.D;this.status=a.status;this.ww=a.ww;this.EZ=a.EZ;this.lB=a.lB;this.HO=a.HO;this.GO=a.GO;this.TS=a.TS;this.nU=a.nU}ej.prototype.u=function(){return this.id};ej.prototype.ia=function(){return this.D};ej.prototype.zf=function(){return this.status};
function fj(a){return new ej({id:B("id",a),ik:Pa(gj,"plan",a),D:B("brand",a),status:Qa(hj,"status",a),ww:y("quantity",a),EZ:A("trialEnd",a),lB:A("paidUntil",a),HO:A("periodStart",a),GO:A("periodEnd",a),TS:Ma("billed",a),nU:Ma("eligibleForMediaDiscounts",a)})}
function ij(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function hj(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function jj(a){this.id=a.id;this.displayName=a.displayName;this.iW=a.iW;this.WZ=a.WZ;this.cm=a.cm;this.EU=a.EU;this.se=a.se;this.vj=a.vj;this.fa=a.fa}jj.prototype.u=function(){return this.id};jj.prototype.rb=function(){return this.displayName};
function gj(a){return new jj({id:B("id",a),displayName:B("displayName",a),iW:Ma("legacy",a),WZ:Ma("userLocked",a),cm:Qa(kj,"tier",a),EU:C("featureBundle",a),se:y("trialPeriodDays",a),vj:Qa(lj,"billingInterval",a),fa:y("price",a)})}function lj(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function kj(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function mj(a){this.D=a.D;this.ET=a.ET;this.ik=a.ik;this.se=a.se;this.yT=a.yT;this.dR=a.dR;this.lB=a.lB;this.status=a.status;this.ww=a.ww;this.TX=a.TX}mj.prototype.ia=function(){return this.D};mj.prototype.zf=function(){return this.status};
function nj(a){return{brand:ib("brand",a.D),currentVersion:eb("currentVersion",a.ET),plan:H("plan",a.ik),trialPeriodDays:eb("trialPeriodDays",a.se),coupon:H("coupon",a.yT),unbilled:hb("unbilled",a.dR),paidUntil:eb("paidUntil",a.lB),status:mb(ij,"status",a.status),quantity:eb("quantity",a.ww),prorate:hb("prorate",a.TX)}}function oj(a){this.Oe=a.Oe}oj.prototype.getSubscription=function(){return this.Oe};function pj(a){return new oj({Oe:Pa(fj,"subscription",a)})}function qj(a){this.Oe=a.Oe}
qj.prototype.getSubscription=function(){return this.Oe};function rj(a){return new qj({Oe:Pa(fj,"subscription",a)})};function sj(a){this.N=a}f=sj.prototype;f.Pj=function(a){throw tj(a.response.errorKey);};f.hV=function(a){if(a.error)throw new uj(a.error.message);return a};f.vs=function(a){return a instanceof vj&&"CreditCardInvalid"===a.response.errorType};f.hR=function(a){return wj(this.N,"/billing/creditcards/"+a.Qi,Uh(a)).catch(xj).get(0).then(this.hV).catch(this.vs,this.Pj)};f.Ez=function(a){return yj(this.N,"/billing/brands/"+encodeURIComponent(a)+"/account").catch(xj).get(0).then(La).then(Ch)};
function zj(a,b){var c=b.Z,d=b.limit;b=[].concat(na(b.qm.map(function(a){return"brands\x3d"+encodeURIComponent(a)})),[c&&"continuation\x3d"+encodeURIComponent(c),"limit\x3d"+encodeURIComponent(String(d))]);return yj(a.N,"/billing/paymentaccounts?"+b.filter(function(a){return!!a}).join("\x26")).catch(xj).get(0).then(La).then(yi)}
function Aj(a,b){var c="/billing/designs/"+encodeURIComponent(b.document)+"/"+encodeURIComponent(b.Zb.toString())+"/licenses";0!==b.O.length&&(c+="?pages\x3d"+b.O.join(","));return yj(a.N,c).catch(xj).get(0).then(La).then(Bj)}
function Cj(a,b){var c;switch(b.mode){case "DESIGN":c="/billing/products/design";b=[].concat(["productType\x3d"+encodeURIComponent(b.ye.Uc),"document\x3d"+encodeURIComponent(b.ye.document),"documentVersion\x3d"+encodeURIComponent(String(b.ye.Zb))],na(b.ye.O.map(function(a){return"pages\x3d"+encodeURIComponent(String(a))})),[b.Z&&"continuation\x3d"+encodeURIComponent(b.Z),"limit\x3d"+encodeURIComponent(String(b.limit))]);break;case "MEDIA":c="/billing/products/media";b=[].concat(na(b.media.Xaa.map(function(a){return"media\x3d"+
encodeURIComponent(a)})));break;default:throw Error("Unknown Mode");}return yj(a.N,c+"?"+b.filter(function(a){return!!a}).join("\x26")).catch(xj).get(0).then(La).then(Ni)}f.getSubscription=function(a){return yj(this.N,a.D?"/billing/brands/"+a.D+"/subscription?excludeStandard\x3d"+(a.Aaa?"true":"false"):"/billing/subscriptions/"+a.id).catch(xj).get(0).then(rj)};
function Dj(a,b){w(b.D,"brand required");return wj(a.N,"/billing/brands/"+b.D+"/subscription",nj(b)).catch(xj).get(0).then(pj).catch(a.vs,a.Pj)}f.cE=function(a){return wj(this.N,"/billing/invoice",Xh(a)).catch(xj).get(0).then(La).then(ci).catch(this.vs,this.Pj)};function Ej(a,b){return wj(a.N,"/billing/invoice/"+encodeURIComponent(b.Ce),ni(b)).catch(xj).get(0).then(La).then(ri).catch(a.vs,a.Pj)}
f.eH=function(a){return wj(this.N,"/billing/invoices/"+encodeURIComponent(a.Ce)+"?pay",{invoice:ib("invoice",a.Ce)}).catch(xj).get(0).then(vi).catch(this.vs,this.Pj)};
function Fj(a,b){return yj(a.N,"/billing/discounts?"+["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user),"couponCode\x3d"+encodeURIComponent(b.Yg),null!=b.Z?"continuation\x3d"+encodeURIComponent(b.Z):null,"limit\x3d"+encodeURIComponent(String(b.limit))].filter(function(a){return!!a}).join("\x26")).catch(xj).get(0).then(La).then(Yi)};function Gj(a){this.media=a.media;this.ca=a.ca;this.document=a.document;this.D=a.D;this.fa=a.fa;this.type=a.type;this.rf=a.rf;this.AL=a.AL||null;this.vY=a.vY;this.ka=a.ka}function Hj(a){return new Gj({media:B("media",a),ca:y("mediaVersion",a),document:C("document",a),D:B("brand",a),fa:y("price",a),type:Qa(Fi,"type",a),rf:y("creationDate",a),AL:A("expirationDate",a),vY:Ma("revoked",a),ka:C("layout",a)})}function Ij(a){this.media=a.media;this.Wg=a.Wg;this.yc=a.yc||[]}
function Jj(a){return new Ij({media:Pa(Kj,"media",a),Wg:B("contributorName",a),yc:F(Hj,"licenses",a)})}function Lj(a){this.document=a.document;this.Zb=a.Zb;this.O=a.O;this.RF=a.RF;this.SF=a.SF}Lj.prototype.serialize=function(){return{document:this.document,documentVersion:this.Zb,pages:this.O,includeContributorNames:this.RF,includeThumbnailUrls:this.SF}};function Mj(a){this.KB=a.KB;this.Ql=null!=a.Ql?a.Ql:null;this.Zb=a.Zb;this.items=a.items||[]}
function Bj(a){return new Mj({KB:Ma("requiresLicenses",a),Zb:y("documentVersion",a),Ql:A("responseTimestamp",a),items:F(Jj,"items",a)})}function Nj(a){ti.call(this,a);this.yc=[]}Nj.prototype=Object.create(ti.prototype);Nj.prototype.constructor=Nj;function Oj(a){this.N=a;this.url="/folders"}Oj.prototype.fK=P.method(function(a){return wj(this.N,this.url+"/~",a).get(0).then(Pj)});Oj.prototype.IU=P.method(function(a){a=this.url+"/~?"+a.ZQ();return yj(this.N,a).get(0).then(Qj)});Oj.prototype.uc=P.method(function(a){var b=a.ZQ();a=""+this.ma(a.uc())+(b?"?"+b:"");return yj(this.N,a).get(0).then(Rj)});Oj.prototype.ma=function(a){var b=a.ie();return b?[this.url,"~/system",b.va(),b.jb()].join("/"):[this.url,a.u()].join("/")};
P.method(function(a){var b=this.ma(a.uc())+"?removeItems";return wj(this.N,b,a).return()});Oj.prototype.HA=P.method(function(a){a=this.ma(a.uc())+"?list\x26"+a.fr();return yj(this.N,a).get(0).then(Sj)});Oj.prototype.S3=P.method(function(a){var b=this.ma(a.ml())+"?moveItems";return wj(this.N,b,a).return()});Oj.prototype.jR=P.method(function(a){var b;if(a.uc().ie())throw Error("System folders cannot be updated");b=this.url+"/"+a.uc().u();return wj(this.N,b,a).get(0).then(Tj)});function Uj(){}Uj.prototype.fr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Vj(a,b){a.to=b;return a}Uj.prototype.h_=function(a){this.items=a;return this};function Wj(a,b){a.from=b;return a}Uj.prototype.yf=function(){return this.items};Uj.prototype.ml=function(){if(this.from)return Xj(this.from)};
function Yj(a){this.id=a.id||null;this.systemFolder=a.D9;return this}function Xj(a){return Object.freeze(If(Yj,a))}Yj.prototype.u=function(){return this.id};Yj.prototype.ie=function(){if(this.systemFolder)return Object.freeze(If(Zj,this.systemFolder))};function $g(a){return a.ie()?Xj({systemFolder:Object.freeze(If(Zj,{brand:a.ia(),type:a.ie(),user:a.va()}))}):Xj({id:a.u()})}function Zj(){}Zj.prototype.ia=function(){return this.brand};Zj.prototype.jb=function(){return this.type};Zj.prototype.va=function(){return this.user};
function ak(){}function Tj(a){return Object.freeze(If(ak,a))}ak.prototype.uc=function(){if(this.folder)return bk(this.folder)};ak.prototype.Um=function(){return this.access};
function ck(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.od;this.systemFolder=a.D9||null;this.acl=a.Vf;this.access=a.$_;this.name=a.name||null;this.description=a.description||null;this.brand=a.D||"";this.itemCount=a.Raa||0;this.user=a.user||"";this.modifiedDate=a.LN||0;this.shared=a.vba||!1;this.type=a.type||dk;this.userSettings=a.Pba||null}var dk="DESIGN";function bk(a){return Object.freeze(If(ck,a))}f=ck.prototype;f.u=function(){return this.id};
f.je=function(){if(this.thumbnail)return Object.freeze(If(ek,this.thumbnail))};f.ie=function(){return this.systemFolder};f.$f=function(){if(this.acl)return Object.freeze(If(fk,this.acl))};f.Um=function(){if(this.access)return this.access};f.getName=function(){return this.name};f.wf=function(){return this.description};f.ia=function(){return this.brand};f.va=function(){return this.user};f.jb=function(){return this.type};f.Np=function(){if(this.userSettings)return Object.freeze(If(gk,this.userSettings))};
f.Dy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return bk(a)};
var hk=bk({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""}),ik=bk({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""}),jk=bk({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",
width:200},user:""}),kk={y$:hk,X$:ik,W$:jk};function ek(){}ek.prototype.o=function(){return this.height};ek.prototype.j=function(){return this.width};ek.prototype.ma=function(){return this.url};function fk(a){a=void 0===a?{}:a;this.entries=a.entries}fk.prototype.Dy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(If(fk,a))};fk.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(If(lk,a))})};
function lk(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.D;this.access=a.$_}lk.prototype.Dy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(If(lk,a))};lk.prototype.ia=function(){return this.brand};lk.prototype.Um=function(){return this.access};lk.prototype.va=function(){return this.user};function mk(){}f=mk.prototype;f.fr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.Bk=function(a){this.folder=a;return this};function nk(a,b){a.acl=b;return a}f.Lt=function(a){this.name=a;return this};f.c_=function(a){this.description=a;return this};function ok(a){a.trash=!0;return a}f.OR=function(a){this.userSettings=a;return this};f.uc=function(){if(this.folder)return Xj(this.folder)};f.$f=function(){if(this.acl)return Object.freeze(If(fk,this.acl))};f.getName=function(){return this.name};f.wf=function(){return this.description};
f.Np=function(){if(this.userSettings)return Object.freeze(If(gk,this.userSettings))};function pk(a,b,c){var d;d=function(){var c=[];a.$f()&&a.$f().getEntries()&&a.$f().getEntries().forEach(function(a){a.ia()!==b&&c.push({brand:a.ia(),access:a.Um()})});return c}();c&&d.push({brand:b,access:c});c=Object.freeze(If(fk,{entries:d}));return nk((new mk).Bk($g(a)),c)}function qk(a){this.VS=a.VS;this.WX=a.WX;this.LW=a.LW;this.eY=a.eY;this.kW=a.kW;this.tT=a.tT;this.jW=a.jW;this.Kn=a.Kn}function rk(){}
function Sj(a){return Object.freeze(If(rk,a))}rk.prototype.yf=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return sk(a)})};rk.prototype.Fb=function(){return this.continuation};rk.prototype.uc=function(){if(this.folder)return bk(this.folder)};rk.prototype.Um=function(){return this.access};function tk(){}f=tk.prototype;f.fr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b]||Array.isArray(a[b]))return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.sg=function(a){this.limit=a;return this};f.Bk=function(a){this.folder=a;return this};function uk(a){a.includeMetadata=!0;return a}f.zi=function(a){this.continuation=a;return this};f.Cd=function(){return this.limit};f.uc=function(){if(this.folder)return Xj(this.folder)};f.cM=function(){return this.decorations};f.Fb=function(){return this.continuation};function vk(){}function Rj(a){return Object.freeze(If(vk,a))}vk.prototype.uc=function(){if(this.folder)return bk(this.folder)};function wk(){}f=wk.prototype;
f.fr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.ZQ=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};f.Bk=function(a){this.folder=a;return this};f.uc=function(){if(this.folder)return Xj(this.folder)};
f.cM=function(){return this.decorations};function xk(){}function Qj(a){return Object.freeze(If(xk,a))}xk.prototype.Ap=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return bk(a)})};xk.prototype.Fb=function(){return this.continuation};function yk(){}f=yk.prototype;f.fr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.sg=function(a){this.limit=a;return this};f.yi=function(a){this.brand=a;return this};f.Nt=function(a){this.user=a;return this};function zk(a,b){a.folderTypes=b;return a}f.zi=function(a){this.continuation=a;return this};f.h_=function(a){this.items=a;return this};f.OR=function(){this.projections||(this.projections=[]);this.projections.push("USER_SETTINGS");return this};f.Cd=function(){return this.limit};f.ia=function(){return this.brand};f.va=function(){return this.user};f.Fb=function(){return this.continuation};
f.ZQ=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};function Ak(){}function Pj(a){return Object.freeze(If(Ak,a))}Ak.prototype.Um=function(){return this.access};Ak.prototype.uc=function(){if(this.folder)return bk(this.folder)};function Bk(){}f=Bk.prototype;
f.fr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Lt=function(a){this.name=a;return this};f.yi=function(a){this.brand=a;return this};f.Nt=function(a){this.user=a;return this};f.OR=function(a){this.userSettings=a;return this};f.getName=function(){return this.name};f.ia=function(){return this.brand};f.va=function(){return this.user};f.jb=function(){return this.type};
f.Np=function(){return this.userSettings};function Ck(){this.width=this.height=0;this.url="";this.version=0}Ck.prototype.j=function(){return this.width};Ck.prototype.o=function(){return this.height};Ck.prototype.getVersion=function(){return this.version};Ck.prototype.ma=function(){return this.url};
function Dk(){this.type=Ek;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new Ck;this.tags=[];this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var Ek="DESIGN";
function sk(a){a=$.extend(new Dk,a);a.owner&&(a.owner=Object.freeze(If(Fk,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new Ck,b):null;a.thumbnail=b}a.socialMetadata&&(b=a.socialMetadata,b=new qk({VS:Na("brandPublik",b),WX:Na("publik",b),LW:Ra(Gk,"myRole",b),eY:y("remixCount",b),kW:y("likerCount",b),tT:y("commentCount",b),jW:Ma("likedByMe",b),Kn:D(Hk,"owner",b)}),a.socialMetadata=b);return a}f=Dk.prototype;f.Dy=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return sk(a)};
f.jb=function(){return this.type};f.u=function(){return this.id};f.getName=function(){return this.name};f.getVersion=function(){return this.version};f.Mp=function(){return this.timestamp};f.je=function(){return this.thumbnail};f.Lp=function(){return this.tags};f.Ap=function(){return this.folders};f.Mb=function(){return this.media?Kj(this.media):null};f.YU=function(){return this.license?Hj(this.license):null};function Fk(){}Fk.prototype.va=function(){return this.user};Fk.prototype.ia=function(){return this.brand};
function gk(a){this.starred=a.Aba};function Ik(){this.xhr=null}Ik.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Ik.prototype.finish=function(){this.xhr=null};function Jk(a){this.CS=a&&a.analyticsContext||null;this.pJ=a&&a.authToken||null;this.qJ=a&&a.authzToken||null;this.WS=a&&a.brandRestriction||null;this.YS=a&&a.buildName||null;this.ZS=a&&a.buildSha||null;this.xu=a&&a.csrfTokens||{};this.ZP=a&&a.serverRoot||null;this.FY=!!this.ZP;this.P8=this.ZP?this.ZP+"/_ajax":"/_ajax"}
function Kk(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}function Lk(a){return 200<=a&&300>a}Jk.prototype.get=function(a,b){var c=new Ik;this.send("GET",a,null,!0,null,c,b);return c};function yj(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){Lk(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Jk.prototype.post=function(a,b,c){var d=new Ik;Mk(this,"POST",a,b,!0,0,d,c);return d};
function wj(a,b,c){var d;return(new P(function(e,g){d=a.post(b,c,function(a,b){Lk(a)?e([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Nk(a,b,c,d){if(a.FY)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new Ik,function(){})}function Ok(a,b,c){var d=new Ik;Mk(a,"DELETE",b,null,!0,0,d,c);return d}
function Pk(a,b){var c;return(new P(function(d,e){c=Ok(a,b,function(a,b){Lk(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}function xj(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=ma(a),a=b.next().value,b=b.next().value,a=Qk(a,b),a.eI=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function Mk(a,b,c,d,e,g,h,k){var l=Kk(c);if(l in a.xu){var m=a.xu[l];a.send(b,c,d,e,m,h,function(n,p){418==n&&1>g?(a.xu[l]==m&&delete a.xu[l],Mk(a,b,c,d,e,g+1,h,k)):(k&&k(n,p),h.finish())})}else a.send("GET","/csrf"+l,null,e,null,h,function(m,p){200==m?(l in a.xu||(a.xu[l]=String(p)),Mk(a,b,c,d,e,g,h,k)):(k(m,null),h.finish())})}
Jk.prototype.send=function(a,b,c,d,e,g,h){function k(){4==m.readyState&&l()}function l(){var a,b,c;try{a=m.status;var d,e;try{d=m.getResponseHeader("X-Canva-Auth")}catch(k){}try{e=m.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(n.pJ="!"!=d?d:null);e&&(n.qJ="!"!=e?e:null);b=m.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.P8+b;var m=g.xhr=new XMLHttpRequest,n=this;m.open(a,b,d);this.FY&&(m.withCredentials=!0);"GET"!=a&&e&&m.setRequestHeader("X-Csrf-Token",e);this.CS&&m.setRequestHeader("X-Canva-Analytics",this.CS);this.pJ&&m.setRequestHeader("X-Canva-Auth",this.pJ);this.qJ&&m.setRequestHeader("X-Canva-Authz",this.qJ);this.WS&&m.setRequestHeader("X-Canva-Brand",this.WS);this.YS&&m.setRequestHeader("X-Canva-Build-Name",
this.YS);this.ZS&&m.setRequestHeader("X-Canva-Build-Sha",this.ZS);null===c||void 0===c?a=null:(m.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(m.onreadystatechange=k,m.send(a)):(m.send(a),l())};function vj(a){this.message=a||"HTTP error encountered";this.response=a;this.eI=null}t(vj,Error);function Rk(a){if(null===a.eI)throw Error("HttpServiceError not initialized correctly");return a.eI}
function Qk(a,b){switch(b){case 400:return new Sk(a);case 403:return new Tk(a);case 404:return new Uk(a);case 409:return new Vk(a);case 418:return new Wk;case 429:return new Xk(a);case 500:return new Yk(a);default:return new Zk(a)}}function $k(a){vj.apply(this,arguments)}t($k,vj);function al(a){vj.apply(this,arguments)}t(al,vj);function Sk(a){$k.apply(this,arguments)}t(Sk,$k);function Tk(a){$k.apply(this,arguments)}t(Tk,$k);function Uk(a){$k.apply(this,arguments)}t(Uk,$k);
function Vk(a){$k.apply(this,arguments)}t(Vk,$k);function Xk(a){$k.apply(this,arguments)}t(Xk,$k);function Yk(a){al.apply(this,arguments)}t(Yk,al);function Wk(){$k.call(this,"CSRF token expired")}t(Wk,$k);function Zk(a){vj.apply(this,arguments)}t(Zk,vj);function bl(a){this.N=a;this.url="/metrics"}function cl(a,b){return wj(a.N,a.url,dl(b)).get(0).then(La).then(el)}function fl(a,b){return wj(a.N,a.url,gl(b)).get(0).then(La).then(el)};function hl(a,b){switch(b){case "HISTOGRAM":return"HISTOGRAM";case "TIMELINE":return"TIMELINE";default:throw new TypeError('expected MetricType for property "'+a+'", found: '+JSON.stringify(b));}}function il(a){this.Ds=a.Ds;this.name=a.name;this.value=a.value}il.prototype.getName=function(){return this.name};il.prototype.qc=function(){return this.value};function dl(a){return{metricType:lb(hl,"metricType",a.Ds),name:ib("name",a.name),value:db("value",a.value)}}
function jl(a){this.Ds=a.Ds;this.name=a.name;this.events=a.events||new Map}jl.prototype.getName=function(){return this.name};function gl(a){var b=lb(hl,"metricType",a.Ds),c=ib("name",a.name);a=ob(pb,rb,"events",a.events);return{metricType:b,name:c,events:a}}function kl(){}function el(){return new kl};function ll(){}ll.prototype.now=function(){return Date.now()};var ml=new ll;var ol=new nl;function nl(){}f=nl.prototype;f.setInterval=function(a,b){return window.setInterval(a,b)};f.clearInterval=function(a){window.clearInterval(a)};f.setTimeout=function(a,b){return window.setTimeout(a,b)};f.clearTimeout=function(a){window.clearTimeout(a)};f.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};f.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function pl(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function ql(a,b,c,d){this.name=a;this.Lh=b;this.Es=c;this.startTime=d;this.events=new Map}ql.prototype.wa=function(a){this.events.set(a,this.Lh.now()-this.startTime)};ql.prototype.done=function(){this.events.size&&rl(this.Es,this.name,this.events)};function sl(a,b){this.name=a;this.Es=b}sl.prototype.update=function(a){tl(this.Es,this.name,a)};function ul(a,b,c){this.GY=a;this.Lh=b;this.d7=c}function vl(a){var b=window.cstart;if(void 0===b)throw Error("cstart undefined");return new ul(a,ml,b)}
ul.prototype.DM=function(a){return new sl(a,this)};function rl(a,b,c){b=new jl({Ds:"TIMELINE",name:b,events:c});fl(a.GY,b).catch(function(){})}function tl(a,b,c){cl(a.GY,new il({Ds:"HISTOGRAM",name:b,value:c})).catch(function(){})};var wl=[-Infinity,5E3,8E3,13E3,21E3,34E3,55E3,89E3,144E3,233E3,377E3,61E4,Infinity];function xl(){this.My=Array(wl.length-1);this.My.fill(0)}xl.prototype.update=function(a){for(var b=0;b+1<wl.length&&!(wl[b]<=a&&a<wl[b+1]);)b++;this.My[b]++};xl.prototype.serialize=function(){for(var a=[],b=0;b<this.My.length;b++)0<this.My[b]&&a.push({lower:wl[b],upper:wl[b+1],count:this.My[b]});return{buckets:a}};function yl(a){this.cd=a;this.NE=a.F();this.PE=a.w();if(a.Ok){var b=a.Lx;this.NE=b.F();this.PE=b.w();b.F();a.F();b.w();a.w()}}f=yl.prototype;f.F=function(){return this.cd.ed().F()+this.NE};f.$b=yl.prototype.F;f.w=function(){return this.cd.ed().w()+this.PE};f.jc=yl.prototype.w;f.j=function(){return this.cd.ed().j()};f.kh=yl.prototype.j;f.o=function(){return this.cd.ed().o()};f.jh=yl.prototype.o;f.Ya=function(){return this.F()+this.j()};f.Dd=yl.prototype.Ya;f.ua=function(){return this.w()+this.o()};
f.gd=yl.prototype.ua;f.Sa=function(){return 0};f.setSize=function(a,b){var c=this.cd.ed();c.na(a);c.ea(b);zl(this.cd,c)};f.na=function(a){var b=this.cd.ed();b.na(a);zl(this.cd,b)};f.ea=function(a){var b=this.cd.ed();b.ea(a);zl(this.cd,b)};f.hb=function(a){var b=this.cd.ed();b.hb(a-this.NE);zl(this.cd,b)};f.cb=function(a){var b=this.cd.ed();b.cb(a-this.PE);zl(this.cd,b)};f.setPosition=function(a,b){var c=this.cd.ed();c.setPosition(a-this.NE,b-this.PE);zl(this.cd,c)};
function Al(a){this.Jk=a;a=Bl(this.Jk.map(function(a){return a.$b()}));var b=Cl(this.Jk.map(function(a){return a.Dd()})),c=Bl(this.Jk.map(function(a){return a.jc()})),d=Cl(this.Jk.map(function(a){return a.gd()}));this.width=b-a;this.height=d-c}f=Al.prototype;f.F=function(){return Bl(this.Jk.map(function(a){return a.$b()}))};f.$b=Al.prototype.F;f.w=function(){return Bl(this.Jk.map(function(a){return a.jc()}))};f.jc=Al.prototype.w;f.j=function(){return this.width};f.kh=Al.prototype.j;f.o=function(){return this.height};
f.jh=Al.prototype.o;f.Ya=function(){return this.F()+this.j()};f.Dd=Al.prototype.Ya;f.ua=function(){return this.w()+this.o()};f.gd=Al.prototype.ua;f.Sa=function(){return 0};f.R=function(){return this.Jk[0].R()};f.pa=function(){return new V(this.F(),this.w(),this.j(),this.o())};f.Bv=function(a){return a?fh(this.pa(),a.pa()):!1};f.setSize=function(){};f.na=function(){};f.ea=function(){};f.hb=function(a){var b=a-this.F();this.Jk.forEach(function(a){a.hb(a.F()+b)})};
f.cb=function(a){var b=a-this.w();this.Jk.forEach(function(a){a.cb(a.w()+b)})};f.setPosition=function(a,b){var c=a-this.F(),d=b-this.w();this.Jk.forEach(function(a){a.setPosition(a.F()+c,a.w()+d)})};function jh(a,b,c){this.elem=a;this.Jl=b;this.height=a.height();this.width=a.width();this.sR=void 0!==c;this.origin=c}f=jh.prototype;f.F=function(){return(this.elem[0].getBoundingClientRect().left-this.Jl.left)/W};f.$b=jh.prototype.F;
f.w=function(){return(this.elem[0].getBoundingClientRect().top-this.Jl.top)/W};f.jc=jh.prototype.w;f.j=function(){return this.elem[0].getBoundingClientRect().width/W};f.kh=jh.prototype.j;f.o=function(){return this.elem[0].getBoundingClientRect().height/W};f.jh=jh.prototype.o;f.Ya=function(){return this.F()+this.j()};f.Dd=jh.prototype.Ya;f.ua=function(){return this.w()+this.o()};f.gd=jh.prototype.ua;f.Sa=function(){return 0};f.setSize=function(){};f.na=function(){};f.ea=function(){};
f.hb=function(a){var b;this.sR?(b=Dl(this.elem[0]).eo,a=a*W+this.Jl.left+(b-1)*this.origin.left,hh(this.elem[0],{ti:a})):this.elem.css("left",a*W+this.Jl.left)};f.cb=function(a){var b;this.sR?(b=Dl(this.elem[0]).Oq,a=a*W+this.Jl.top+(b-1)*this.origin.top,hh(this.elem[0],{vi:a})):this.elem.css("top",a*W+this.Jl.top)};
f.setPosition=function(a,b){var c;this.sR?(c=Dl(this.elem[0]),a=a*W+this.Jl.left+(c.eo-1)*this.origin.left,b=b*W+this.Jl.top+(c.Oq-1)*this.origin.top,hh(this.elem[0],{ti:a,vi:b})):this.elem.css("left",a*W+this.Jl.left).css("top",b*W+this.Jl.top)};function El(a){this.mz=a.mz;this.nz=a.nz;this.user=a.user;this.D=a.D;this.Ss=a.Ss;this.Cr=a.Cr;this.cm=a.cm;this.Cb=a.Cb;this.Ah=a.Ah}function Fl(a){return new El({mz:B("experience",a),nz:Ua(Va,Ya,"experiments",a)||new Map,user:C("user",a)||null,D:C("brand",a)||null,Ss:Na("personal",a)||null,Cr:A("cohort",a)||null,cm:C("tier",a)||null,Cb:C("countryCode",a)||null,Ah:C("userLocale",a)||null})};function Gl(a){El.call(this,a)}t(Gl,El);function Hl(a){El.call(this,a);this.Bo=a.Bo}t(Hl,El);function Il(a){this.config=a;this.Ti=this.ye=null;this.LG=[];this.ready=!1}function Jl(a,b){b=Kl(Kl(Kl(Kl(Kl(Kl(new Ll,"id",b.u()),"username",b.eg()),"personalBrand",b.Nz()),"displayName",b.rb()),"largeAvatarUrl",b.YL("200")),"roles",b.ns()&&b.ns().join(", "));return Kl(Kl(Kl(b,"locale",a.config.Ah),"user_cohort",a.config.Cr),"country_code",a.config.Cb)}function Ml(a,b){return Object.assign({},b,{category:a})}
function Nl(a,b){var c=Object.assign({},b),d={};a.ye&&(c.design=a.ye);c.experience=a.config.mz;a.config.nz.forEach(function(a,b){c["Experiment:"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.D&&(c.brand=a.config.D);null!=a.config.Ss&&(c.personal=a.config.Ss);null!=a.config.Cr&&(c.cohort=a.config.Cr);a.config.cm&&(c.tier=a.config.cm);null!=a.config.Cb&&(c.country_code=a.config.Cb);null!=a.config.Ah&&(c.locale=a.config.Ah);Ol(c);return c}
function Ol(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}Il.prototype.ws=function(){return this.ready};
function Pl(a,b){var c=window.lastUserTraits||(new Ll).Hk(),d=Kl(new Ll,"__user",a);a=a!==c.get("__user");if(b&&Ql(b)){for(var e=ma(b),g=e.next();!g.done;g=e.next()){var h=ma(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=ma(b.keys());for(e=c.next();!e.done;e=c.next())e=e.value,Kl(d,e,b.get(e))}a&&(window.lastUserTraits=d.Hk());return a}
function Rl(a,b){var c=window.lastUserTraits||(new Ll).Hk();a=Kl(new Ll,"__user",a);if(c&&Ql(c))for(var d=ma(c.keys()),e=d.next();!e.done;e=d.next())e=e.value,"__user"!==e&&Kl(a,e,c.get(e));if(b&&Ql(b))for(c=ma(b.keys()),e=c.next();!e.done;e=c.next())d=e.value,Kl(a,d,b.get(d));window.lastUserTraits=a.Hk()}function Ql(a){Ca(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function Sl(a,b,c,d,e,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=e;g&&Object.assign(h,g);a.track("button_click",h)}function Ul(a,b,c){a.track("tab_clicked",{type:b,location:c})}function Vl(a,b){var c=U;c.ye=a;c.Ti=b;c.track("design_open",{design:c.ye,source:"editor",template:c.Ti})}function Wl(a){a.track("design_shared",Ml("Share Design",{design:a.ye,template:a.Ti,medium:"email",location:"publish",edit_access:void 0}))}function Xl(a,b){a.Ti?a.wa(X(b,"template",a.Ti)):a.wa(b)}
function Yl(a,b,c,d){a.track("link_click",{type:b,section:"editor",subsection:c,location:d})}function Zl(a,b,c,d){a.track("dialog_close",{type:b,section:"editor",subsection:c,location:d})}function $l(a,b){a.track("broken_layout_used",{id:b||"unknown"})}function am(a){U.track(a,{design:ub.hc(),section:"editor",subsection:"toolbar",location:"top"})}function bm(a){U.track("chart_insert",{chart_type:a})}
function cm(a,b,c){var d=U;a={element_type:a};b&&(a.media_id=b);c&&(a.media_type=c);d.track("element_used",a)}function dm(a,b,c,d){U.track("design_renderability_check",{design:a,renderable:b,warnings:c,error:d})}function em(a,b,c,d,e,g){a.track(b,{type:c,section:d,subsection:e,location:g})}Il.prototype.zoom=function(a,b,c,d,e){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:e})};Il.prototype.wa=function(a){return this.track(a.name,a.oH)};Il.prototype.Yi=function(){return this.config.Cb};
function fm(a,b){this.name=a;this.oH={};b&&(this.oH.category=b)}function X(a,b,c){if(a.oH[b])throw Error("duplicated property");a.oH[b]=c;return a}function Ll(){this.items=[]}function Kl(a,b,c){a.items.push({key:b,value:c});return a}Ll.prototype.Hk=function(){return new Map(this.items.map(function(a){return[a.key,a.value]}))};function gm(a){Il.call(this,a);this.la=null}t(gm,Il);f=gm.prototype;f.track=function(a,b){window.console.log("analytics:track",this.la,a,Nl(this,b));return P.resolve()};f.identify=function(a,b,c){this.la=a;Pl(a,b)&&(Rl(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};f.alias=function(a){window.console.log("analytics:alias",this.la,a);this.la=a};f.set=function(a){window.console.log("analytics:set",this.la,a);return P.resolve()};
f.union=function(a){window.console.log("analytics:union",this.la,a)};function hm(a,b){Il.call(this,a);this.G=b;this.readyState="PENDING";this.a8=3E4;this.qv=this.PF=null}t(hm,Il);
function im(a){var b=jm(),c=new hm(a,ol);km(c).then(function(){for(c.ready=!0;c.LG&&0<c.LG.length;)c.LG.shift()();c.LG=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,km(c).then(function(){var b={path:location.pathname,url:location.href};jm().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();Kl(Kl(new Ll,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60).Hk()}).catch(function(){}),b.load(a.Bo));return c}function jm(){Fa("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}f=hm.prototype;f.track=function(a,b){var c=this;return km(this).then(function(d){return new P(function(e){d.track(a,Nl(c,b),{integrations:{Leanplum:!1}},e)})}).catch(function(){})};
f.identify=function(a,b,c){var d=this;return km(this).then(function(e){if(!Pl(a,b))return d.PF||P.resolve();d.PF=new P(function(g){Rl(a,b);e.identify(a,lm(b),c,function(){d.PF=null;g()})});return d.PF}).catch(function(){})};f.alias=function(a){km(this).then(function(b){return b.alias(a)}).catch(function(){})};f.set=function(a){return km(this).then(function(b){return new P(function(c){return b.identify(lm(a),c)})}).catch(function(){})};f.union=function(){};
function lm(a){var b={};if(a&&Ql(a)){a=ma(a);for(var c=a.next();!c.done;c=a.next()){var d=ma(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b}
function km(a){var b=jm();if(null!==a.qv)return a.qv;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.qv=new P(function(c,d){var e=a.G.setTimeout(function(){a.readyState="FAILURE";a.qv=null;d(Error("Segment initialization failed"))},a.a8);b.ready(function(){"FAILURE"!==a.readyState&&(a.G.clearTimeout(e),a.readyState="SUCCESS",a.qv=null,c(jm()))})});return a.qv};function mm(a){var b;jm();if(a instanceof Gl)b=new gm(a);else if(a instanceof Hl)b=im(a);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}function nm(){var a=La(window.analyticsConfig),b=B("impl",a);switch(b){case "console":return mm(new Gl(Fl(a)));case "segment":return b=Fl(a),a=new Hl({mz:b.mz,nz:b.nz,user:b.user,D:b.D,Ss:b.Ss,Cr:b.Cr,cm:b.cm,Bo:B("segmentWriteKey",a),Cb:b.Cb,Ah:b.Ah}),mm(a);default:throw Error('No such analytics type: "'+b+'"');}};function om(){return pm("file_menu","resize_button","document_resize")}function qm(){return pm("object_panel","exclusive_media_usage","non_discounted")}function rm(){return pm("object_panel","free_media_filter")}function sm(a){return tm("homepage",a.Ki,a.feature)}function um(a){return tm("editor",a.Ki,a.feature)}function pm(a,b,c){a=X(X(X(new fm("upgrade_cta_clicked"),"section","editor"),"subsection",a),"location",b);c&&X(a,"variant",c);return a}
function ym(a,b,c){return X(X(X(X(X(new fm("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function tm(a,b,c){return X(X(X(X(new fm("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function zm(a,b){var c=Am;return X(X(X(new fm("team_member_invited","Invites"),"email_invited",a),"role_invited",c),"location",b)};function Bm(){}Bm.prototype.load=function(){window.console.log("fullstory:load");return P.resolve()};Bm.prototype.identify=function(a,b){window.console.log("fullstory:identify",a,b)};function Cm(){}
Cm.prototype.load=function(){if(window.fullstoryLoadPromise)return window.fullstoryLoadPromise;window.fullstoryLoadPromise=new P(function(a){window._fs_ready=function(){FS.disableConsole();delete window._fs_ready;a()}});$("\n\x3cscript\x3e\nwindow['_fs_debug'] \x3d false;\nwindow['_fs_host'] \x3d 'fullstory.com';\nwindow['_fs_org'] \x3d '6497R';\nwindow['_fs_namespace'] \x3d 'FS';\n(function(m,n,e,t,l,o,g,y){\n    if (e in m \x26\x26 m.console \x26\x26 m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].'); return;}\n    g\x3dm[e]\x3dfunction(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q\x3d[];\n    o\x3dn.createElement(t);o.async\x3d1;o.src\x3d'https://'+_fs_host+'/s/fs.js';\n    y\x3dn.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);\n    g.identify\x3dfunction(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars\x3dfunction(v){g(l,v)};\n    g.identifyAccount\x3dfunction(i,v){o\x3d'account';v\x3dv||{};v.acctId\x3di;g(o,v)};\n    g.clearUserCookie\x3dfunction(c,d,i){if(!c || document.cookie.match('fs_uid\x3d[`;`]*`[`;`]*`[`;`]*`')){\n    d\x3dn.domain;while(1){n.cookie\x3d'fs_uid\x3d;domain\x3d'+d+\n    ';path\x3d/;expires\x3d'+new Date(0).toUTCString();i\x3dd.indexOf('.');if(i\x3c0)break;d\x3dd.slice(i+1)}}};\n})(window,document,window['_fs_namespace'],'script','user');\n\x3c/script\x3e\n").appendTo("head");return window.fullstoryLoadPromise};
Cm.prototype.identify=function(a,b){FS.identify(a,{displayName:b.displayName,email:b.email})};function Dm(){var a=La(window.analyticsConfig),a=B("fullstoryImpl",a);switch(a){case "console":return new Bm;case "http":return new Cm;default:throw Error('No such fullstory api type: "'+a+'"');}};function Em(){return{dI:function(a){return new P(function(b){function c(b){P.resolve(a(d)).then(function(){e||P.delay(b).then(function(){c(Math.min(1.6*b,3E4))})})}function d(a){b(a);e=!0}Ca(!0,"initialInterval must be positive");Ca(!0,"maxInterval must be greater than initialInterval");Ca(!0,"increaseFactor must not be less than 1");var e=!1;c(1E3)})}}};function Fm(){return"/brand/members"};function V(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function Gm(a){return a?new V(a.left||0,a.top||0,a.width||0,a.height||0):Hm.clone()}function dh(a){return Gm({left:a.left,top:a.top,width:a.width,height:a.height})}function Im(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var Hm=new V(0,0,0,0);f=V.prototype;
f.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};f.clone=function(){return new V(this.left,this.top,this.width,this.height)};function Jm(a){var b=isFinite(a.left)&&isFinite(a.top)&&isFinite(a.width)&&isFinite(a.height);return!(isNaN(a.left)||isNaN(a.top)||isNaN(a.width)||isNaN(a.height))&&b}f.F=function(){return this.left};f.$b=V.prototype.F;f.w=function(){return this.top};f.jc=V.prototype.w;f.Ya=function(){return this.left+this.width};f.Dd=V.prototype.Ya;
f.ua=function(){return this.top+this.height};f.gd=V.prototype.ua;f.j=function(){return this.width};f.kh=V.prototype.j;f.o=function(){return this.height};f.jh=V.prototype.o;f.Kp=function(){return{width:this.width,height:this.height}};function Km(a){return{x:a.jl(),y:a.kl()}}f.jl=function(){return this.left+this.width/2};f.kl=function(){return this.top+this.height/2};f.hb=function(a){this.left=a;return this};f.cb=function(a){this.top=a;return this};
f.setPosition=function(a,b){this.left=a;this.top=b;return this};f.na=function(a){this.width=a;return this};f.ea=function(a){this.height=a;return this};f.setSize=function(a,b){this.width=a;this.height=b;return this};f.gh=function(){return this.width/this.height};f.translate=function(a,b){this.left+=a;this.top+=b;return this};f.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};
function Lm(a,b,c,d,e){a.translate(-b,-c);a.scale(d,e);a.translate(b,c)}function Mm(a,b){a.left-=b;a.top-=b;a.width+=2*b;a.height+=2*b}function Nm(a,b,c){a.width+=b;a.height+=c;return a}function Om(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}function Pm(a,b){var c=a.gh();a.gh()>b.gh()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Om(a,b);return a}
function nh(a,b){var c=a.gh();a.gh()<b.gh()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Om(a,b);return a}f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function fh(a,b){return a.Ya()<=b.F()||a.ua()<=b.w()||a.F()>=b.Ya()||a.w()>=b.ua()?!1:!0}
f.touches=function(a){return.25>Math.abs(this.w()-a.ua())||.25>Math.abs(this.ua()-a.w())?this.F()<=a.Ya()&&this.Ya()>=a.F():.25>Math.abs(this.Ya()-a.F())||.25>Math.abs(this.F()-a.Ya())?this.w()<=a.ua()&&this.ua()>=a.w():!1};function Qm(a,b){return a.F()<=b.F()&&a.w()<=b.w()&&a.Ya()>=b.Ya()&&a.ua()>=b.ua()}function Rm(a,b){a.Ya()>b.Ya()&&a.translate(b.Ya()-a.Ya(),0);a.F()<b.F()&&a.translate(b.F()-a.F(),0);a.ua()>b.ua()&&a.translate(0,b.ua()-a.ua());a.w()<b.w()&&a.translate(0,b.w()-a.w())}
function Sm(a,b,c){0!=(c&1)&&a.hb(b.j()-a.Ya());0!=(c&2)&&a.cb(b.o()-a.ua());return a}
function Tm(a,b,c){c=Um(c);a.clone();var d,e;if(Im(a,b))return 0;if(0<=c&&90>c){var g=c*Math.PI/180;c=a.clone();d=b.ua()-c.w();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.F()-c.Ya();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g)}else if(90<=c&&180>c){g=(c-90)*Math.PI/180;c=a.clone();d=b.F()-c.Ya();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.w()-c.ua();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return d/
Math.cos(g)}else if(180<=c&&270>c){g=(c-180)*Math.PI/180;c=a.clone();d=b.w()-c.ua();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.Ya()-c.F();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g))}else if(270<=c&&360>c){g=(c-270)*Math.PI/180;c=a.clone();d=b.Ya()-c.F();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.ua()-c.w();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g))}return Infinity}
;var Vm={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};var Wm={BARCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},BARCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},BARCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",
to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},BARCHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},BARCHART5:{left:0,top:0,width:640,height:480,type:"group",
generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},BARCHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},
{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},LINECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,
fontSize:R.Ld}}},LINECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},LINECHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},LINECHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",
colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},LINECHART5:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},LINECHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",
chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},PIECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",
interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},PIECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},PIECHART3:{left:0,top:0,width:640,height:480,
type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},DONUTCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,
10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},DONUTCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}},
DONUTCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:R.Kd,fontSize:R.Ld}}}};function Xm(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function Ym(a){return Zm(new Xm(a.layout),a)}function Zm(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}function $m(a,b){$.extend(!0,a,_.omit(b.content.pages[0],"layout"));return a}function an(a,b,c){if(a=a.elements&&a.elements[0]){var d=a.spacing;void 0===d&&(d=R.dD);_.extend(a,bn(b,c,d,!1).serialize())}}f=Xm.prototype;f.getName=function(){return this.name};
f.Gg=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new cn(b)).cu().serialize();a.elements.forEach(function(a){a.origin=c;a.contents&&a.contents.forEach(function(a){a.origin=c})})}return a};f.clone=function(){return Zm(new Xm(this.serialize()),this.Gg())};f.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};f.na=function(a){this.width=a};f.ea=function(a){this.height=a};
f.j=function(){return this.width};f.o=function(){return this.height};function dn(a){function b(a){a.mediaId&&c.push(new en({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&c.push(fn(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(c=c.concat(a.htmlFontMedia.map(fn)))}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function gn(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function hn(a){var b=new gn;b.m[2]=a[0];b.m[5]=a[1];return b}function jn(a){return[a.m[2],a.m[5]]}f=gn.prototype;
f.multiply=function(a){var b=new gn;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};f.transform=function(a){var b=new gn;b.m=this.m;this.m=a.m;return this.multiply(b)};f.translate=function(a,b){var c=new gn;c.m[2]=a;c.m[5]=b;return this.transform(c)};f.reflect=function(){var a=new gn;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};f.scale=function(a,b){var c=new gn;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
function kn(a,b){var c=new gn,d=b*Math.PI/180;b=Math.cos(d);d=Math.sin(d);c.m[0]=b;c.m[1]=d;c.m[2]=-0*b-0*d;c.m[3]=-1*d;c.m[4]=b;c.m[5]=-0*b+0*d;return a.transform(c)}f.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new gn,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};f.toArray=function(){return Array.prototype.slice.call(this.m)};function ln(a,b,c){return Math.min(Math.max(a,b||0),c||1)}function mn(a,b,c){c=ln(c);var d=a+c*(b-a);a=nn(a,b,c);0<a&&21>a&&(d=parseFloat(d.toPrecision(a)));return d}function nn(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=0;b.forEach(function(a){a=a.toString().split(".");d+=a[0].length;2===a.length&&(d+=a[1].length)});return d};function on(){this.lb=[255,0,255];this.bj=[300,100,50]}function pn(a,b,c,d){a.bj=[b,c,d];var e;e=b/60;c/=100;d/=100;b=Math.floor(e);var g=e-b;e=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.lb=[Math.round(255*[d,h,e,e,c,d][b]),Math.round(255*[c,d,d,h,e,e][b]),Math.round(255*[e,e,c,d,d,h][b])];return a}f=on.prototype;f.bV=function(){return this.bj[1]};f.qc=function(){return this.bj[2]};f.uk=function(a){return pn(this,this.bj[0],this.bj[1],a)};
function qn(a,b,c,d){a.lb=[b,c,d];a.bj=rn(b,c,d);return a}function sn(a,b,c){var d=new on;a=a*Math.PI/180;b=[c,Math.cos(a)*b,Math.sin(a)*b];b=tn(b[0],b[1],b[2]);d.lb=un(b[0],b[1],b[2]);d.bj=rn(d.lb[0],d.lb[1],d.lb[2]);return d}function vn(a){var b=new on;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return qn(b,wn(a,0*c,c),wn(a,1*c,c),wn(a,2*c,c))}
function xn(a){return 0==(a.lb[0]&-256|a.lb[1]&-256|a.lb[2]&-256)}f.qa=function(){return"#"+(256+this.lb[0]).toString(16).slice(-2)+(256+this.lb[1]).toString(16).slice(-2)+(256+this.lb[2]).toString(16).slice(-2)};function yn(a){a=zn(a.lb[0],a.lb[1],a.lb[2]);a=An(a[0],a[1],a[2]);var b=a[1],c=a[2],d=Math.sqrt(b*b+c*c),b=(180*Math.atan2(c,b)/Math.PI+360)%360,b=0===Math.round(1E4*d)?NaN:b;return[b,d,a[0]]}f.clone=function(){var a=new on;a.lb=this.lb;a.bj=this.bj;return a};
f.Zu=function(){return Math.round(Math.sqrt(.241*this.lb[0]*this.lb[0]+.691*this.lb[1]*this.lb[1]+.068*this.lb[2]*this.lb[2]))};function Bn(a){return pn(new on,a.bj[0],a.bj[1],100)}function Cn(a,b,c){return qn(new on,Math.round(a.lb[0]+(b.lb[0]-a.lb[0])*c),Math.round(a.lb[1]+(b.lb[1]-a.lb[1])*c),Math.round(a.lb[2]+(b.lb[2]-a.lb[2])*c))}
function Dn(a,b,c){b=yn(b);a=yn(a);var d;180<Math.abs(b[0]-a[0])?(d=360-Math.abs(b[0]-a[0]),d=b[0]>a[0]?a[0]-c*d:a[0]+c*d):d=mn(a[0],b[0],c);d=(0>d?360+d:d)%360;var e=mn(a[1],b[1],c);c=mn(a[2],b[2],c);return sn(d,e,c)}
function En(a,b,c,d,e){function g(a,b,c){return mn(a+c,a-c,ln((a-(b-5))/10))}b=void 0===b?1:b;e=void 0===e?36:e;c=(void 0===c?110:c)*b;d=(void 0===d?10:d)*b;b*=e;var h=yn(a),k=h[0],l=h[1],h=h[2];switch(!0){case 55<k&&65>k:k=g(k,60,-c);break;case 0<k&&60>k:k-=c;break;case 295<k&&305>k:k=g(k,300,c);break;case 240<k&&300>k:k+=c;break;default:k=360>=k+c?k+c:k-c}var l=l+d,h=g(h,93-e,b),m=sn(k,l,h);return function(b,c){var d=a.qa();return"#ffffff"===d&&0===b?d:Dn(a,m,b/Math.max(c-1,1)).qa()}}
f.equals=function(a){return null!=a&&a.serialize()===this.serialize()};function Fn(a){var b=uh(a.from),c=uh(a.to);return b instanceof on&&c instanceof on?function(a,e){return Dn(b,c,a/Math.max(e-1,1)).qa()}:null}function uh(a){try{return Gn(a)}catch(b){}return null}
function Gn(a){var b=String(a);if("#"===b.slice(0,1))return vn(b);if("hsl("===b.slice(0,4)){a=new on;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,e=b*(.5>d?d:1-d),g=d+e,c=[+c[1],100*(0<d?2*e/g:b),100*g];return pn(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new on;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return qn(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return vn(b);throw Error("could not parse color: "+a);}function Hn(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function rn(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),g;if(d==e)g=e=0;else{var h=d-e,e=h/d;switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[360*g,100*e,100*d]}
function un(a,b,c){a=[a,b,c];a=a.map(function(a){return ln(a/100)});b=[];b[0]=3.2404542*a[0]-1.5371385*a[1]-.4985314*a[2];b[1]=-.969266*a[0]+1.8760108*a[1]+.041556*a[2];b[2]=.0556434*a[0]-.2040259*a[1]+1.0572252*a[2];b=b.map(function(a){return.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055});return b=b.map(function(a){return ln(Math.round(255*a),0,255)})}
function zn(a,b,c){a=[a,b,c];a=a.map(function(a){return ln(a/255)});a=a.map(function(a){return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)});b=[];b[0]=.4124564*a[0]+.3575761*a[1]+.1804375*a[2];b[1]=.2126729*a[0]+.7151522*a[1]+.072175*a[2];b[2]=.0193339*a[0]+.119192*a[1]+.9503041*a[2];return b=b.map(function(a){return 100*a})}
function An(a,b,c){function d(a){return.008856452<a?Math.pow(a,1/3):a/.12841855+.137931034}a=[a/95.047,b/100,c/108.883];b=[];b[0]=116*d(a[1])-16;b[1]=500*(d(a[0])-d(a[1]));b[2]=200*(d(a[1])-d(a[2]));return b}function tn(a,b,c){function d(a){return.206896552<a?a*a*a:.12841855*(a-.137931034)}a=(a+16)/116;return[95.047*d(isNaN(b)?a:a+b/500),100*d(a),108.883*d(isNaN(c)?a:a-c/200)]}function wn(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}
function In(a,b,c){return qn(new on,a.lb[0]+Math.round(c*(b.lb[0]-a.lb[0])),a.lb[1]+Math.round(c*(b.lb[1]-a.lb[1])),a.lb[2]+Math.round(c*(b.lb[2]-a.lb[2])))}f.serialize=on.prototype.qa;f.toString=on.prototype.qa;function Jn(){}Jn=Backbone.View.extend({className:"colorPicker showColorCode"});f=Jn.prototype;f.initialize=function(a){this.yl=a.yl;this.Mg=!!a.Mg;this.Pb=(a.Pb||Jn.WR).clone();this.WA=this.WA.bind(this);this.YA=this.YA.bind(this);this.XA=this.XA.bind(this);this.ZA=this.ZA.bind(this)};f.events=function(){return{"mousedown .colorPickerSpectrum":this.V5,"mousedown .colorPickerValue":this.W5,"keydown .colorPickerHexCode":this.M5,"input .colorPickerHexCode":this.C5,"change .colorPickerApplyAllCheckbox":this.n4}};
f.Ip=function(){return this.Pb.clone()};f.dC=function(a){a.equals(this.Pb)||(this.Pb=a.clone(),Kn(this),Ln(this),Mn(this),this.trigger("preview",this.Ip()))};function Nn(a,b){a.$(".colorPickerApplyAllCheckbox").prop("checked",b)}f.render=function(){this.$el.addClass("on");this.$el.toggleClass("showApplyAll",this.Mg);this.$el.html(On({SD:this.yl.format("colorPickerColorCode"),Mg:this.Mg,uD:this.yl.So()}).toString());Kn(this);Ln(this);Mn(this);return this};
f.remove=function(){var a=this;this.$el.removeClass("on");this.$el.one("animationend",function(){$(document).off("mousemove",a.WA);$(document).off("mouseup",a.YA);$(document).off("mousemove",a.XA);$(document).off("mouseup",a.ZA);Backbone.View.prototype.remove.call(a)});return this};
function Kn(a){var b=Pn(a.Pb.bj[0]),c=(Jn.kS-Jn.Yx)*a.Pb.bV()/100,d=c*Math.cos(b),b=c*Math.sin(b);a.$(".colorPickerSpectrum \x3e .marker").css("transform","translate("+d+"px, "+b+"px)");a.$(".colorPickerValue").css("background-color",Bn(a.Pb).qa())}function Ln(a){var b=a.Pb.qc(),b=(Jn.pS-2*Jn.Yx)*(100-b)/100;a.$(".colorPickerValue \x3e .marker").css("transform","translateX("+b+"px)")}function Mn(a){var b=a.$(".colorPickerHexCode");b.blur();b.val(a.Pb.qa().slice(1))}
function Qn(a,b){var c=b.clientX,d=b.clientY;b=a.$(".colorPickerSpectrum").get(0).getBoundingClientRect();var e=b.left+b.width/2,g=b.top+b.height/2;b=Rn(e,g,c,d);c=100*Math.min(Sn(e,g,c,d)/(Jn.kS-Jn.Yx),1);d=a.Pb.qc();pn(a.Pb,b,c,d);Kn(a);Mn(a);a.trigger("preview",a.Ip())}function Tn(a,b){b=b.clientX;var c=a.$(".colorPickerValue").get(0).getBoundingClientRect();a.Pb.uk(100-100*Math.max(0,Math.min((b-c.left-Jn.Yx)/(Jn.pS-2*Jn.Yx),1)));Ln(a);Mn(a);a.trigger("preview",a.Ip())}
f.V5=function(a){0===a.button&&(a.preventDefault(),Qn(this,a),this.undelegateEvents(),this.$(".colorPickerSpectrum").addClass("mousedown"),$(document).on("mousemove",this.WA),$(document).on("mouseup",this.YA))};f.WA=function(a){Qn(this,a)};f.YA=function(a){$(document).off("mousemove",this.WA);$(document).off("mouseup",this.YA);this.$(".colorPickerSpectrum").removeClass("mousedown");this.delegateEvents();Qn(this,a)};
f.W5=function(a){0===a.button&&(a.preventDefault(),Tn(this,a),this.undelegateEvents(),this.$(".colorPickerValue").addClass("mousedown"),$(document).on("mousemove",this.XA),$(document).on("mouseup",this.ZA))};f.XA=function(a){Tn(this,a)};f.ZA=function(a){$(document).off("mousemove",this.XA);$(document).off("mouseup",this.ZA);this.$(".colorPickerValue").removeClass("mousedown");this.delegateEvents();Tn(this,a)};f.M5=function(a){if(13===a.which||27===a.which)a.preventDefault(),this.trigger("confirm")};
f.C5=function(){var a=this.$(".colorPickerHexCode"),b=a.val(),c=b.replace(/\W+/g,"").replace(/[^0-9a-f]/gi,""),b=b.length-c.length,c=c.slice(0,6),d=uh(c);this.Pb=d?d:Jn.WR.clone();b=a[0].selectionStart-b;a.val(c);a[0].setSelectionRange(b,b);Kn(this);Ln(this);this.trigger("preview",this.Ip())};f.n4=function(){var a=this.$(".colorPickerApplyAllCheckbox").prop("checked");this.trigger("applyAll",a)};Jn.WR=qn(new on,255,255,255);Jn.kS=100;Jn.Yx=10;Jn.pS=200;function On(a){soy.asserts.assertType(goog.isString(a.SD)||a.SD instanceof goog.soy.data.SanitizedContent,"colorCodeLabel",a.SD,"string|goog.soy.data.SanitizedContent");var b=a.SD;soy.asserts.assertType(goog.isBoolean(a.Mg)||1===a.Mg||0===a.Mg,"showApplyAll",a.Mg,"boolean");var c=!!a.Mg;soy.asserts.assertType(goog.isString(a.uD)||a.uD instanceof goog.soy.data.SanitizedContent,"applyAllLabel",a.uD,"string|goog.soy.data.SanitizedContent");a=a.uD;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerValue"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e'+
soy.$$escapeHtml(b)+' #\x3cinput class\x3d"colorPickerHexCode" spellcheck\x3d"false"\x3e\x3c/div\x3e'+(c?'\x3cdiv class\x3d"colorPickerApplyAll"\x3e\x3clabel class\x3d"colorPickerApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPickerApplyAllCheckbox" /\x3e'+soy.$$escapeHtml(a)+"\x3c/label\x3e\x3c/div\x3e":""))};function Un(a){var b=goog.asserts.assertArray(a.dd,"expected parameter 'colors' of type list\x3c[hexString: string]\x3e.");soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var c=a.label;soy.asserts.assertType(null==a.Vx||goog.isBoolean(a.Vx)||1===a.Vx||0===a.Vx,"workingPalette",a.Vx,"boolean|null|undefined");a=a.Vx;var d='\x3cdiv class\x3d"'+(a?"workingPalette":"pinnedPalette")+'"\x3e'+(c?'\x3ch3 class\x3d"colorPaletteLabel"\x3e'+
soy.$$escapeHtml(c)+"\x3c/h3\x3e":"")+'\x3cmenu class\x3d"colorPaletteGroup"\x3e'+(a?'\x3cli class\x3d"colorPaletteAdd"\x3e\x3c/li\x3e':""),c=b.length;for(a=0;a<c;a++){var e,g=b[a];e=(e=void 0,{});soy.asserts.assertType(goog.isString(g.Dg)||g.Dg instanceof goog.soy.data.SanitizedContent,"hexString",g.Dg,"string|goog.soy.data.SanitizedContent");g=g.Dg;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"colorPaletteEntry" data-color\x3d"#'+soy.$$escapeHtmlAttribute(g)+'" title\x3d"#'+soy.$$escapeHtmlAttribute(g)+
'" style\x3d"'+(e.Yb?"/*"+e.Yb+"*/":"")+"color: #"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(g))+';" \x3e\x3c/li\x3e');d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/menu\x3e\x3c/div\x3e")}
function Vn(a){soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var b=a.label;soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"colorPaletteCta" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.url))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+soy.$$escapeHtml(b)+"\x3c/a\x3e")}
function Wn(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.So)||a.So instanceof goog.soy.data.SanitizedContent,"applyToAll",a.So,"string|goog.soy.data.SanitizedContent");var c=a.So;soy.asserts.assertType(null==a.ny||a.ny instanceof goog.soy.data.SanitizedContent||goog.isString(a.ny),"applyToAllColor",a.ny,"null|string|undefined");var d=a.ny;soy.asserts.assertType(null==a.oy||a.oy instanceof goog.soy.data.SanitizedContent||goog.isString(a.oy),"applyToAllResult",a.oy,"null|string|undefined");
a=a.oy;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPaletteApplyAll"\x3e\x3clabel class\x3d"colorPaletteApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPaletteApplyAllCheckbox"\x3e'+soy.$$escapeHtml(c)+(d?'\x3cspan class\x3d"colorPaletteApplyAllColor" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(d))+'"\x3e\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllArrow"\x3e\x26#9654;\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllResult" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(a))+'"\x3e\x3c/span\x3e':"")+"\x3c/label\x3e\x3c/div\x3e")};function Xn(){}Xn=Backbone.View.extend({className:"colorPalette"});f=Xn.prototype;f.initialize=function(a){this.yl=a.yl;this.Fi=!1;this.Oi=a.Oi;this.Fy=a.Fy;this.Kl=a.Kl;this.ku=Yn({rX:a.ku,vW:a.W.H.get(eg),uW:a.W.H.get(fg)});this.Jy=(this.Pb=a.Pb)&&this.Pb.clone();this.YO=!1;this.Re=null;this.QB=a.QB;this.rD=!!a.rD;this.Mg=!!a.Mg;this.my=a.my;this.mV=!1;this.Rl=null;this.l=a.l;this.W=a.W;(this.window=a.window||null)&&$(this.window).on("resize.colorPaletteView",_.throttle(this.mC.bind(this),50))};
f.events=function(){return{"click .colorPaletteAdd":this.Y4,"click .colorPaletteEntry":this.z4,"click .colorPaletteCta":this.y4,"change .colorPaletteApplyAllCheckbox":this.o4,mousedown:this.U5,"mousedown .colorPaletteEntry":this.T5}};function Yn(a){var b=-1===a.vW?a.rX:a.rX.slice(0,a.vW);return-1===a.uW?b:b.map(function(b){return new Zn({dd:b.Cg().slice(0,a.uW),name:b.getName()})})}
function $n(a){function b(a){return new ao({name:null,Dg:a})}return[new Zn({name:a.Oi.format("colorPaletteDefaultColors"),dd:"ff5c5c ffbd4a fff952 99e265 35b729 44d9e6 2eb2ff 5271ff b760e6 ff63b1".split(" ").map(b)}),new Zn({name:"",dd:["000000","666666","a8a8a8","d9d9d9","ffffff"].map(b)})]}
f.render=function(){var a={},b=$("\x3cdiv\x3e").appendTo(this.$el);this.$el.addClass("on");for(var c=[].concat(na(this.ku),na($n(this))).filter(function(a){return 0<a.Cg().length}),c=ma(c),d=c.next();!d.done;d=c.next()){d=d.value;b.append(Un({dd:d.Cg().map(function(a){return{Dg:a.Dg}}),label:d.getName()}).toString());for(var d=ma(d.Cg()),e=d.next();!e.done;e=d.next())a["#"+e.value.Dg]=!0}this.rD&&this.W.H.get(rg)&&b.prepend(Vn({label:this.Oi.format("colorPaletteAddPaletteCta"),url:"/brand"}).toString());
c=bo(this.Kl.Zi()).filter(function(b){return a[b]?!1:a[b]=!0});b.prepend(Un({Vx:!0,dd:c.map(function(a){return{Dg:a.replace("#","")}}),label:this.Oi.format("colorPaletteDocumentColors")}).toString());this.QB&&(this.$el.addClass("colorPaletteScrollable"),b.addClass("disableAncestorScroll"),this.Rl=new co(b),this.Rl.render());this.listenTo(this.Kl,"paletteEntry:add",this.h4);this.listenTo(this.Kl,"paletteEntry:remove",this.l6);this.listenTo(this.Kl,"paletteEntry:sync",this.mC);return this};
f.appendTo=function(a){this.render().$el.appendTo(a);this.mC()};f.mC=function(){if(this.$el.width()){var a=Math.floor(this.$el.width()/40);this.$el.find(".colorPaletteGroup").each(function(b,c){c=$(c);b=$(c).find("li");for(var d=[];0<b.length;)d.push(b.splice(0,a));c.children().detach();d.forEach(function(a){var b=$("\x3cdiv\x3e").addClass("colorPalette__row");a.forEach(function(a){b.append(a)});b.appendTo(c)});d.length&&d[d.length-1].length<a&&c.find(".colorPalette__row:nth-last-child(2)").addClass("colorPalette__row--roundSecondLast")})}};
f.Ip=function(){return this.Pb&&this.Pb.clone()};f.dC=function(a){null===a&&null!==this.Pb?(this.Pb=null,this.trigger("preview",a,this.Fi)):a.equals(this.Pb)||(this.Pb=a.clone(),this.trigger("preview",a,this.Fi),this.Mg&&(this.mV||(this.mV=!0,this.$el.append(Wn({So:this.Oi.So(),ny:this.my?this.my.qa():null,oy:this.Pb?this.Pb.qa():null}).toString())),this.$(".colorPaletteApplyAllResult").css("background",a.qa())));a&&this.Re&&(this.Re.dC(a),this.$(".colorPaletteAdd").css("color",a.qa()));return this};
f.confirm=function(){(null===this.Pb&&null!==this.Jy||this.Pb&&!this.Pb.equals(this.Jy))&&eo(this);return this};function fo(a){a.Re&&(a.Re.remove(),a.Re=null,a.trigger("hideColorPicker"));a.YO&&(go(a),a.YO=!1);a.$(".colorPaletteAdd").css("color","transparent")}
f.remove=function(){fo(this);this.Rl&&(this.Rl.remove(),this.Rl=null);this.$el.hasClass("on")&&(this.$el.removeClass("on"),this.$el.one("animationend",Backbone.View.prototype.remove.bind(this)),this.Jy&&ho(this,this.Jy)&&this.l.track("brand_color_used"));this.window&&$(this.window).off("resize.colorPaletteView");return this};function eo(a){a.Jy=a.Ip();a.trigger("confirm",a.Fi)}
function go(a){if(a.Pb){var b=a.Pb.qa();a.$(".colorPaletteEntry").toArray().some(function(a){return $(a).data("color")===b})||(io(a.Kl,a.Pb),eo(a))}}f.z4=function(a){a.preventDefault();a=$(a.currentTarget).data("color");if(a=uh(a))this.dC(a),this.Re||this.confirm()};
f.Y4=function(a){a.preventDefault();this.Re?fo(this):(this.Re||(this.Re=new Jn({yl:this.yl,Pb:this.Pb,Mg:!1}),this.listenTo(this.Re,"preview",this.j6),this.listenTo(this.Re,"confirm",this.a5),this.listenTo(this.Re,"applyAll",this.i4),this.Re.render(),this.Fy.em(this.Re.$el,this.$(".colorPaletteAdd")),this.trigger("showColorPicker")),Nn(this.Re,this.Fi))};f.o4=function(a){a=!0===$(a.target).prop("checked");this.Fi!==a&&(this.Fi=a,this.trigger("changeApplyAll",this.Fi),this.Re&&Nn(this.Re,this.Fi))};
f.y4=function(){Sl(this.l,"add_another_palette","editor","toolbar","color_palette")};f.U5=function(a){0===a.button&&(0<$(a.target).closest(".colorPaletteAdd, .colorPaletteEntry").length?a.preventDefault():fo(this))};
f.T5=function(a){if(0===a.button&&(a.preventDefault(),!$(a.currentTarget).parents(".pinnedPalette").length)){var b=$(a.currentTarget).data("color"),c=(new jo({target:a.currentTarget})).oJ(a.clientX,a.clientY);this.listenTo(c,"end",function(a){var e=uh(b);!e||this.$el.is(a)||this.$el.get(0).contains(a)||(ko(this.Kl,e),eo(this));this.stopListening(c)})}};
f.h4=function(a){if(!ho(this,a)&&!lo(this,a)){a=a.qa();var b=$("\x3cli\x3e");b.addClass("colorPaletteEntry");b.data("color",a);b.attr("data-color",a);b.css("color",a);b.insertAfter(this.$(".colorPaletteAdd"))}};function ho(a,b){var c=b.qa().substr(1);return a.ku.some(function(a){return a.dd.some(function(a){return a.Dg===c})})}function lo(a,b){var c=b.qa().substr(1);return $n(a).some(function(a){return a.dd.some(function(a){return a.Dg===c})})}
f.l6=function(a){var b=a.qa();this.$(".workingPalette .colorPaletteEntry").filter(function(){return $(this).data("color")===b}).remove()};f.j6=function(a){this.Re&&(this.YO=!0,this.dC(a))};f.a5=function(){fo(this);this.confirm()};f.i4=function(a){this.Fi!==a&&(this.Fi=a,this.trigger("changeApplyAll",this.Fi),this.$(".colorPaletteApplyAllCheckbox").prop("checked",this.Fi))};function jo(a){this.target=a.target;this.Hm=null;this.FE={x:0,y:0};this.GE=void 0!==a.GE?a.GE:5;this.iU=!1;this.yC=null;this.HW=this.U2.bind(this);this.IW=this.V2.bind(this)}f=jo.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.oJ=function(a,b){this.FE.x=a;this.FE.y=b;this.Hm=this.target.cloneNode(!0);document.addEventListener("mousemove",this.HW);document.addEventListener("mouseup",this.IW);return this};
f.release=function(a){document.removeEventListener("mousemove",this.HW);document.removeEventListener("mouseup",this.IW);$(this.target).removeClass("fauxDraggerTarget");this.Hm&&this.Hm.parentNode&&this.Hm.parentNode.removeChild(this.Hm);this.Hm=null;this.trigger("end",a);this.off()};f.U2=function(a){var b=a.pageX-this.FE.x;a=a.pageY-this.FE.y;this.iU?$(this.Hm).css("top",this.yC.top+a+"px").css("left",this.yC.left+b+"px"):(Math.abs(b)>this.GE||Math.abs(a)>this.GE)&&this.YK()};
f.V2=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};f.YK=function(){this.yC=this.target.getBoundingClientRect();$(this.Hm).css("top",this.yC.top+"px").css("left",this.yC.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.Hm);this.trigger("start");this.iU=!0};function mo(a,b){this.item={zv:!1,elements:[],lw:null,timestamp:0,lm:null,nm:null};this.rC=a;this.iZ=(b||"anonymous")+"-copybuffer"}function no(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp,activeFilterable:a.item.lm,activeText:a.item.nm});try{a.rC.setItem(a.iZ,b)}catch(c){}}
function oo(a){var b;return a.rC&&(b=a.rC.getItem(a.iZ))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return Hg(a)}),lw:null,timestamp:b.timestamp,lm:b.activeFilterable,nm:b.activeText}:null}
function po(a,b){a.item.timestamp=Date.now();a.item.zv=!0;a.item.elements=[b];a.item.lm=null;b.Op()&&-1!==b.Fz()&&(a.item.lm={elementIndex:0,filterableIndex:b.Fz()});a.item.nm=null;b.ke()&&-1!==b.yb()&&(a.item.nm={elementIndex:0,textIndex:b.yb()});a.item.lw=null;a.rC&&no(a)}function qo(a,b){var c=bc;c.item.timestamp=Date.now();c.item.zv=!1;c.item.elements=a;c.item.lw=b?b:null;c.rC&&no(c)}
function ro(){var a=bc,b=oo(a);return b?b:{zv:a.item.zv,elements:a.item.elements,lw:a.item.lw,timestamp:a.item.timestamp,lm:a.item.lm,nm:a.item.nm}};function so(a,b){this.G=a;this.uZ=b||null;this.JI=this.rH=null}so.prototype.read=function(a){this.rH||(to++,uo.splice(to,0,this));this.rH=a;if(vo==wo||vo==xo)this.G.requestAnimationFrame(yo),vo=zo;return this};so.prototype.write=function(a){this.JI||(Ao++,Bo.splice(Ao,0,this));this.JI=a;vo==wo&&(this.G.requestAnimationFrame(yo),vo=zo);return this};function gh(a){return new so(ol,a)}var wo=0,zo=1,xo=3,vo=wo,uo=[],Bo=[],to=0,Ao=0;
function yo(){var a,b;vo=2;Ao=-1;for(a=0;a<uo.length;a++){to=a;b=uo[a];var c=b.rH;b.rH=null;c&&c.call(b.uZ,b)}uo.length=0;to=-1;vo=xo;for(a=0;a<Bo.length;a++)Ao=a,b=Bo[a],c=b.JI,b.JI=null,c&&c.call(b.uZ,b);Bo.length=0;Ao=-1;vo!=zo&&(vo=wo)};function Co(){this.N=Gb;this.url="/designschool"};function Do(){}function Eo(a){return Object.freeze(If(Do,a))};var Fo=new Kf("fg",!1);function Go(a){this.sa=a.sa;this.H=a.H}function Ho(a){var b=["featureOnboardingManager",a.Rk.u()].join("."),c=null;try{c=Io(b)}catch(d){}return new Go({H:a.H,sa:c})}function Jo(a){return a.sa&&a.H.get(Fo)}function Ko(a){return Jo(a)&&!!Lo(a.sa,Mo)}var Mo="magicResize";function No(a){this.l=a.l;this.W=a.W;this.lK=a.lK;this.Ag=a.Ag;this.sa=a.sa;this.AQ=!1}function Oo(a,b){if(a.AQ?0:b===Po?!Qo(a):1){var c=a.lK(),d=c.gH;c.on("signup",function(){$(window).off("beforeunload");var c=b===Ro,g=Jo(a.Ag);c&&g?(c=a.Ag,Jo(c)&&So(c.sa,Mo),c=a.Ag,Jo(c)&&So(c.sa,"onboardingPending"),window.location.reload()):window.location=d});c.on("hide",function(){a.AQ=!1});c.show(b);a.AQ=!0;b===Po&&To(a)}}function Qo(a){var b=Uo;return a.sa?!!Lo(a.sa,b):!0}
function To(a){var b=Uo;a.sa&&So(a.sa,b)}function Vo(a){a=[Wo,a.u()].join(".");var b=null;try{b=Io(a)}catch(c){}return b}var Wo="EditorCtaHandler",Uo="ExclusiveMediaUpgradeDialogShown";function Xo(a,b){this.action=a;this.param=b}var Yo={Q$:"tab",P_:"search",C$:"folder"};function Zo(){var a=window.location.hash;if(!a)return null;a=a.slice(1).split("\x3d");if(2!==a.length)return null;var b;b=a[0];var c=_.values(Yo);b=b&&-1<c.indexOf(b)?b:null;if(!b)return null;var d;try{d=decodeURIComponent(a[1])}catch(e){d=a[1]}a=d;c=_.values(ec);return"tab"===b&&-1===c.indexOf(a)||!/^[\w ]+$/.test(d)?null:new Xo(b,d||null)};function $o(a){this.dd=ap(a);this.UD=null}function ap(a){if(a){var b={};return a.filter(function(a){a=a.qa();return b[a]?!1:b[a]=!0})}return[]}function bp(a,b){return 0<=bo(a).indexOf(b.qa())}$o.prototype.xe=function(){this.UD=null};function cp(a,b){xn(b)&&!bp(a,b)&&(a.dd.push(b),a.xe())}function dp(a,b){xn(b)&&bp(a,b)&&(a.dd=a.dd.filter(function(a){return!a.equals(b)}),a.xe())}$o.prototype.unshift=function(a){xn(a)&&!bp(this,a)&&(this.dd.unshift(a),this.xe())};
function ep(){var a=new $o;a.dd=[];a.xe();return a}$o.prototype.Cg=function(){return this.dd};function bo(a){a.UD||(a.UD=a.dd.map(function(a){return a.qa()}));return a.UD}$o.prototype.serialize=function(){this.xe();return this.dd.map(function(a){return a.serialize()})};function fp(a){function b(a){var b=m+Rn(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-n;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>l.Sa(),e=d&&42<c,d=!d&&3>c,g=3>c||42<c;if(a.shiftKey)r=!1,$("#overlays .rotationGuide").removeClass("willSnap"),g||(p=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(r=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(r)return!1;
e?(b=b+45-c,r=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,r=!0)}a=b;$("#overlays .rotationGuide").css("transform",gp({Hw:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",gp({Hw:360-a}));l.Wl(b);l instanceof hp&&ip(l);return!1}function c(){l.qg=!1;z.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("on");l.Yj&&l.Yj();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");
$(document).off("keydown",q);$(document).off("keydown",u);if(m!=l.Sa()){var a={elementIndex:l.K(),pageIndex:jp(J,l.R()),"new":{rotation:l.Sa()},old:{rotation:m}};M.register(new Y(kp,a))}}T.trigger("hideContextualControlsRequested");lp();var d=$(this),e=$(this).parents(".selectionBox").data("element");if(e){var g=e.offset(),h=g.left+e.width()/2,k=g.top+e.height()/2,l=e.data("canvaElement");if(l){var m=l.Sa(),n=Rn(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?
a.clientY:a.originalEvent.touches[0].clientY),p=!1,q=function(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(p=!0,$("#overlays .rotationGuide").removeClass("willSnap"))},u=function(){p&&(p=!1,$("#overlays .rotationGuide").addClass("willSnap"))},v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);d.addClass("on");$(document).on("keydown",q);$(document).on("keyup",u);var z=new mp($(document));l.qg=!0;z.on("mousemove|touchmove",b).on("mouseup|touchend",
c);a=np(l);var r=!1,e=$("#overlays").get(0).getBoundingClientRect();$("#overlays .rotation.align").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px").css("margin-top",-1*op(l)/2+"px").css("height",op(l)+"px");return!1}}};function pp(a,b){this.tJ=a;this.namespace=void 0===b?null:b}function Io(a){if(window.localStorage)return new pp(window.localStorage,a);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}pp.prototype.setItem=function(a,b){try{return this.tJ.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};pp.prototype.getItem=function(a){return this.tJ.getItem(null==this.namespace?a:this.namespace+"."+a)};
function Lo(a,b){try{var c=a.getItem(b);return null!==c?JSON.parse(c):null}catch(d){return null}}function So(a,b){try{var c=JSON.stringify(!0);a.setItem(b,c)}catch(d){}}pp.prototype.removeItem=function(a){this.tJ.removeItem(null==this.namespace?a:this.namespace+"."+a)};function qp(a){this.type=a.type;this.sa=a.sa;this.G=a.G;this.i=a.i}
qp.prototype.show=function(){var a=this,b=rp,c;a:switch(this.type){case sp:c={Ty:"upgraderWelcomeDialog--freeMedia",xc:"https://static.canva.com/static/images/free_media_dialog_header.png",title:this.i.format("upgraderWelcomeDialogFreeMediaTitle",3E5),uy:this.i.Qa("upgraderWelcomeDialogFreeMediaBodyHtml"),button:this.i.format("upgraderWelcomeDialogFreeMediaButton")};break a;default:throw Error("Could not get model for unknown UpgraderWelcomeDialog.Type: "+this.type);}b=new b({content:tp(c).$el,df:this.type!==sp,G:this.G});
b.$el.addClass("upgraderWelcomeDialog");return up(b).tap(function(){So(a.sa,""+a.type)})};function vp(a){a.G.setTimeout(function(){return a.show()},1500)}var sp="FREE_MEDIA",wp=new Kf("ga",!1);function xp(a){this.$el=a}t(xp,fc);
function tp(a){var b=$,c;soy.asserts.assertType(a.uy instanceof soydata.SanitizedHtml||a.uy instanceof soydata.UnsanitizedText||goog.isString(a.uy),"bodyHtml",a.uy,"soydata.SanitizedHtml");c=a.uy;soy.asserts.assertType(goog.isString(a.button)||a.button instanceof goog.soy.data.SanitizedContent,"button",a.button,"string|goog.soy.data.SanitizedContent");var d=a.button;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");
var e=a.title;soy.asserts.assertType(goog.isString(a.xc)||a.xc instanceof goog.soy.data.SanitizedContent,"imageUrl",a.xc,"string|goog.soy.data.SanitizedContent");var g=a.xc;soy.asserts.assertType(null==a.Ty||a.Ty instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ty),"cssClasses",a.Ty,"null|string|undefined");a=a.Ty;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"upgraderWelcomeDialog__headerImage" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"\x3e\x3csection class\x3d"upgraderWelcomeDialog__content'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cheader class\x3d"upgraderWelcomeDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(e)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__body"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cfooter class\x3d"upgraderWelcomeDialog__footer"\x3e\x3cbutton class\x3d"button done upgraderWelcomeDialog__button"\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__buttonContent"\x3e'+yp({ya:"upgraderWelcomeDialog__buttonIcon",color:"#FFF"})+soy.$$escapeHtml(d)+
"\x3c/div\x3e\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");b=b(c.toString());return new xp(b)};function zp(a){this.W=a.W;this.H=a.H;this.Vc=a.Vc;this.Ag=a.Ag;this.Xb=a.Xb;this.mp=a.mp;this.X=a.X;this.i=a.i;this.l=a.l;this.Ie=a.Ie;this.sa=a.sa;this.Rk=a.Rk;this.uu=a.uu;this.Ia=a.Ia;this.fb=a.fb;this.ub=a.ub;this.ha=a.ha}
zp.prototype.go=function(a,b,c,d,e,g){a=a&&a.content;b=new Ap(b);if(!a)throw Error("Malformed document. Missing content.");Bp(this,a,b,c,d,e,g);d=this.H.get(wp)?sp:null;var h;try{h=Io("upgraderWelcomeDialog."+this.Rk.u())}catch(k){h=null}d&&h&&!Ko(this.Ag)&&!c.qh()&&(c=this.i,c.oR||(c.oR=new vf(c.config)),h=new qp({i:c.oR,G:ol,sa:h,type:d}),Lo(h.sa,""+h.type)||vp(h))};
function Bp(a,b,c,d,e,g,h){a.l.identify(a.Rk.u(),Jl(a.l,a.Rk).Hk());b={content:b,tc:c,o2:!(-1==th.indexOf(d.qh())&&!d.qh()),Vc:a.Vc,mp:a.mp,Xb:a.Xb,Vi:d,c0:g,J9:h,i:a.i,Ii:e,W:a.W,H:a.H,uu:a.uu,l:a.l,ub:a.ub,ha:a.ha,Ia:a.Ia,fb:a.fb,AU:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],c=d.qh(),e;if(J){if(-1!=th.indexOf(d.qh())){var g=a.i;g.ig||(g.ig=new sf(g.config));(new Cp(J,d,g.ig)).go()}g=new Dp(a.X,d,a.i,a.W);if(!c&&a.sa&&"1"==a.sa.getItem("onboardingPhase")){if(a.W.H.get(cg)){var h,
q;q=a.i;q.XK||(q.XK=new tf(q.config));q=q.XK;h=_.defaults({},h,{l:a.l,tg:"download_hint",Ie:a.Ie,zC:5,title:q.QO(),content:q.OO(),Ue:q.NO(),anchor:$("button.editorActionExport"),sD:"download",position:Ep});new Fp(h)}a.sa.setItem("onboardingPhase","2");h="first_design";a.W.H.get(vg)&&(h="appcues_first_design_1");a.l.identify(a.Rk.u(),Kl(new Ll,"onboarding",h).Hk())}"FREE_NEW_USER"===c?(g.go(),Gp(a),e="regular"):Hp()?(g.go(),Gp(a),new Fp({l:a.l,tg:"five_saves_view_designs",Ie:a.Ie,zC:5,title:hd(a.i).QO(),
content:$('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(hd(a.i).OO()),Ue:hd(a.i).NO(),anchor:$("#editorLogo"),sD:"homepage"}),e="layouts"):-1<b.indexOf(c)&&(Ip({qh:c,Yy:a.W.Yy(),X7:0<=vh(d).indexOf("TEAM_TEMPLATE"),re:fd(a.i)}).start(),e="c4w");e&&a.l.identify(a.Rk.u(),Kl(new Ll,"onboarding",e).Hk())}}};Jp(b)}function Gp(a){a.sa&&a.sa.setItem("onboardingPhase","1")};function Kp(a,b,c){var d=this;Date.now();this.tc=b;this.Wk=a.doctype?Lp(a.doctype):null;this.qZ=a.pages||[];this.De=a.keywords||[];this.locale=a.locale||null;this.fj=ep();this.fonts=[];this.Lu=ep();this.Ll=ep();new Map;a.palette&&a.palette.forEach(function(a){var b="!"===a.charAt(0);if(a=uh(b?a.slice(1):a))b?cp(this.Lu,a):(cp(this.fj,a),cp(this.Ll,a))},this);0===this.fj.Cg().length&&(this.fj=new $o,this.Ll=new $o,this.Lu.Cg().forEach(function(a){dp(this.fj,a);dp(this.Ll,a)},this));this.O=[];this.Gi=
null;this.title=new Mp(c,a.title,this.ib().getName());this.title.on("change",this.Z2.bind(this));this.wI={title:{},subtitle:{},body:{}};$.extend(this.wI,a.defaultFonts);this.xr={title:{fontSize:R.u_,fontFamily:R.t_},subtitle:{fontSize:R.r_,fontFamily:R.q_},body:{fontSize:R.Ld,fontFamily:R.Kd}};$.extend(this.xr,a.canvaDefaultFonts);a=Np(this,a);a.pages?a.pages.forEach(function(a){d.O.push(new Op(d,a))}):this.O.push(new Op(this,this.Gg()));Pp(this,0);this.MM=!1}f=Kp.prototype;f.ib=function(){return this.tc};
f.Gg=function(){return this.tc.Gg()};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Kp.prototype,Backbone.Events);f=Kp.prototype;f.Zi=function(){return this.Ll};
function Qp(a){var b=[];J.ja().forEach(function(c){0<c.C().parents(".group.chart").length||(c.qs&&c.qs().forEach(function(d,e){d instanceof on&&a.equals(d)&&b.push({element:c,index:e,type:"TEXT"})}),c.ab&&c.ab().forEach(function(d,e){d instanceof on&&a.equals(d)&&b.push({element:c,index:e,type:"FILL"})}))});return b}
f.sH=function(){var a=this,b=this.Ll,c=ep();this.fj.Cg().forEach(function(a){cp(c,a)});this.O.forEach(function(b){b.Zi().Cg().forEach(function(b){bp(a.Lu,b)||cp(c,b)})});for(var b=b.Cg(),d=c.Cg(),e=b.length-1,g=d.length-1;0<=e;)0>g||b[e].qa()!==d[g].qa()?this.trigger("paletteEntry:remove",b[e]):g--,e--;for(;0<=g;)this.trigger("paletteEntry:add",d[g]),g--;this.trigger("paletteEntry:sync");this.Ll=c};
f.zB=function(){var a=[];this.O.forEach(function(b){b.ja().forEach(function(b){(b instanceof Rp||b instanceof hp)&&b.av().forEach(function(b){-1==a.indexOf(b)&&a.push(b)})})});this.fonts=a};function io(a,b){if(xn(b)){var c=bo(a.Ll);0<c.length&&c[0]===b.qa()||(ko(a,b),dp(a.Lu,b),a.fj.unshift(b),a.Ll.unshift(b),a.trigger("paletteEntry:add",b),a.trigger("paletteEntry:sync"))}}
function ko(a,b){xn(b)&&bp(a.Ll,b)&&(cp(a.Lu,b),dp(a.fj,b),dp(a.Ll,b),a.trigger("paletteEntry:remove",b),a.trigger("paletteEntry:sync"))}function Sp(a){return bo(a.fj).concat(a.Lu.Cg().map(function(a){return"!"+a.qa()}))}
f.serialize=function(){var a;a=this.O.reduce(function(a,c){c.yh||a.push(c.serialize());return a},[]);a={canvaDefaultFonts:this.xr,defaultFonts:this.wI,layout:this.ib().u(),doctype:this.Wk?Tp(this.Wk):null,pages:a,palette:Sp(this),title:this.title.bn()};this.De&&0<this.De.length&&(a.keywords=this.De);return a};f.sb=function(){return this.title};f.nl=function(){return this.De};function Up(a,b){a.De=b;""!==a.De.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}f.bg=function(){return this.locale};
f.setLocale=function(a){var b=this.locale;this.locale=a;this.locale!==b&&(this.trigger("change:locale",this),this.trigger("change",this))};function Vp(a){return Zg(a.tc.qb).o()||(a.qZ[0]||{}).height||0}function Wp(a){return Zg(a.tc.qb).j()||(a.qZ[0]||{}).width||0}f.Nj=function(){return this.tc.qb.Nj()};f.Ba=function(){for(var a=0;a<this.O.length;a++)if(this.O[a].Ef())return this.O[a];return this.O[0]};function Xp(a){var b=a.Ba();return jp(a,b)}f.Gb=function(){return this.O};f.ic=function(){return this.O.length};
function Yp(a){return a.O.filter(function(a){return!a.yh})}function Pp(a,b){b=Math.min(Math.max(0,b),a.O.length-1);b=a.O[b];var c=b.Ef();b.tk(!0);var d=b.Ef();c!==d&&a.trigger("page:change:selected",a,b)}function jp(a,b){return b?a.O.indexOf(b):-1}
function Zp(a){var b=new Op(a,a.Gg());if(0<a.O.length){var c=$p(a.O[a.O.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),c.Hb()&&aq(c))}a.O.push(b);a.trigger("page:add",a,b);b.ja().forEach(function(a){b.trigger("element:add",b,a)});return b}
function bq(a,b,c,d){var e=a.O.indexOf(b),g=!0;!1===d&&(g=!1);cq(b,a);-1==e?(a.O.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.O.splice(c,0,a.O.splice(e,1)[0]),a.trigger("page:move",a,b,e,c));-1==e&&b.ja().forEach(function(a){b.trigger("element:add",b,a)})}function dq(a,b){var c=Xp(a),d=a.O.indexOf(b);-1<d&&(a.O.splice(d,1),b.remove(),c>d&&c--,Pp(a,Math.max(0,Math.min(a.O.length-1,c))),a.trigger("page:remove",a,b,d))}
f.Va=function(){var a=[],b=this.O.map(function(a){return a.Va()});return a.concat.apply(a,b)};function eq(){return J.O.some(function(a){return 0<a.Va().length})}f.ja=function(){var a=[],b=this.O.map(function(a){return a.ja()});return a.concat.apply(a,b)};function fq(a){a=a.ja();var b=a.filter(function(a){return a.Tj()});a.filter(function(a){return a.wv()}).forEach(function(a){a.Kz().forEach(function(a){b.push(a)})});return b}
function gq(a){var b={};fq(a).filter(function(a){return a.Nb()}).map(function(a){return a.Nb()}).forEach(function(a){hq(vb,a)&&(b[a.u()]=a)});return _.values(b)}function iq(a){return fq(a).some(function(a){return(a=a.Nb())&&!hq(vb,a)?!0:!1})}f.cs=function(a){return $.extend(!0,{},this.xr[a],this.wI[a])};
function Np(a,b){b=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(b).forEach(function(b){var d=Object.keys(dc).map(function(a){return dc[a]}),e=b.style;-1<d.indexOf(e)&&(d=a.cs(e),void 0===b.fontFamily&&(b.fontFamily=d.fontFamily),void 0===b.fontSize&&(b.fontSize=d.fontSize))});return b}
function jq(a){function b(a,h){if(Array.isArray(h))h.forEach(function(e){d=d&&c(a,e);"object"==typeof e&&b(a,e)});else for(var k in h)if(h.hasOwnProperty(k)){var l=h[k];"invalid"===k&&l?(e="Invalid "+(h.type||a),d=!1):"childRange"!==k||kq(l)||(e="Invalid group childRange",d=!1);d=d&&c(k,l);"object"==typeof l&&b(k,l)}}function c(a,b){return"number"===typeof b&&isNaN(b)?(e="Invalid value NaN for "+a,!1):!0}var d=!0,e="";b("document",a);return{result:d,description:e}}
function kq(a){return!!(a&&2===a.length&&0<a[0]&&a[1]>=a[0])}f.isEmpty=function(){return 0<this.ja().length?this.ja().every(function(a){return a.yh}):!0};f.Z2=function(){this.trigger("change:title",this);this.trigger("change",this)};f.resize=function(a,b){this.tc=a;this.Wk=b;this.O.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};f.eR=function(a,b,c){this.tc=b;this.Wk=c;this.O.forEach(function(b,c){b.eR(a.pages[c])});this.trigger("resize");this.trigger("change")};
function lq(){return J.O.some(function(a){return a.vv()})};function mq(){Error.captureStackTrace&&Error.captureStackTrace(this,mq)}mq.prototype=Object.create(Error.prototype);function nq(){mq.call(this)}nq.prototype=Object.create(mq.prototype);function oq(){mq.call(this)}oq.prototype=Object.create(mq.prototype);function pq(){mq.call(this)}pq.prototype=Object.create(mq.prototype);function qq(a,b,c){this.N=a;this.MK=b;this.A8=c;this.path="/documents"}function rq(a){var b=Gb,c;a:switch(c=Ib.MK(),c){case "NONE":c="NONE";break a;case "LOG":c="LOG";break a;case "THROW":c="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+c);}return new qq(b,c,a)}f=qq.prototype;f.duplicate=function(a){return wj(this.N,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),a).get(0).tap(sq(this,"CreateDocumentResponseProto (duplicate)",tq)).then(uq)};
f.delete=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};f.move=function(a,b,c){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};f.Ws=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};f.Mx=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
f.AJ=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};f.BJ=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};f.CC=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};f.NC=function(a){return wj(this.N,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
f.getDocument=function(a){a=[this.path,null!=a.wg?"/"+encodeURIComponent(a.wg):"","?includePages\x3d"+encodeURIComponent(String(!!a.mA))].join("");return yj(this.N,a).get(0).tap(sq(this,"GetDocumentResponseProto",vq)).then(wq)};
function xq(a,b){b=[a.path+"?",null!=b.Z?"\x26continuation\x3d"+encodeURIComponent(b.Z):"",null!=b.ka?"\x26designType\x3d"+encodeURIComponent(b.ka):"",b.Ur?"\x26excludeApiDocuments":"",b.vL?"\x26excludeEmpty":"",0<b.sl.length?"\x26ids\x3d"+encodeURIComponent(b.sl.join(",")):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.sh?"\x26brand\x3d"+encodeURIComponent(b.sh.D):"",null!=b.sh&&null!=b.sh.user?"\x26user\x3d"+encodeURIComponent(b.sh.user):"",0<b.jH.length?"\x26principalRoles\x3d"+
encodeURIComponent(b.jH.join(",")):"",b.UX?"\x26public":"",0<b.PR.length?"\x26withoutTags\x3d"+encodeURIComponent(b.PR.join(",")):""].join("").replace("?\x26","?");return yj(a.N,b).get(0).tap(sq(a,"FindDocumentsResponseProto",yq)).then(function(a){return{documents:a.documents.map(zq),continuation:a.continuation}})}function Aq(a,b){return yj(a.N,a.path+"/"+encodeURIComponent(b)+"/acl").get(0).tap(sq(a,"GetDocumentAclResponseProto",Bq)).then(Cq)}
function Dq(a,b){return wj(a.N,a.path+"/"+encodeURIComponent(b.document)+"/acl",b).get(0).tap(sq(a,"UpdateDocumentAclResponseProto",Eq)).then(Fq)}f.search=function(a){return yj(this.N,this.path+"/search?query\x3d"+encodeURIComponent(a.query)).get(0).tap(sq(this,"SearchDocumentsResponseProto",Hq)).then(Iq)};function Jq(a,b){return wj(a.N,a.path+"/"+encodeURIComponent(b.wg)+"/imagesets?generate",b).then(Kq)}
function Lq(a){var b=xb;return yj(b.N,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(Mq)}function sq(a,b,c){return function(d){try{c(La(d))}catch(e){switch(a.MK){case "THROW":throw e;case "LOG":a.A8.log("Failed deserialization of "+b,{error:e})}}}};function Nq(){this.remix=this.edit=this.view=this["default"]=null}Nq.prototype.TU=function(){return this["default"]};Nq.prototype.rl=function(){return this.view};Nq.prototype.VU=function(){return this.edit};function Oq(a){var b=new Nq;a&&$.extend(b,a);return b}function Pq(a){this.width=a.width;this.height=a.height;this.url=a.url}function Qq(){}function uq(a){return Object.freeze(If(Qq,a))}Qq.prototype.getDocument=function(){return zq(this.document)};Qq.prototype.getSession=function(){return this.session};
function Rq(){}function wq(a){return Object.freeze(If(Rq,a))}Rq.prototype.getDocument=function(){return zq(this.document)};function Sq(){}function Cq(a){return Object.freeze(If(Sq,a))}Sq.prototype.$f=function(){return Object.freeze(If(Tq,this.acl))};function Uq(){}function Vq(a){var b=new Uq;b.document=a;return b}function Wq(a,b){a.principalRoleChanges=b;return a}function Xq(a,b){a.defaultRoleChange=b;return a}function Yq(){}function Fq(a){return Object.freeze(If(Yq,a))}
Yq.prototype.$f=function(){return Object.freeze(If(Tq,this.acl))};function Zq(){}Zq.prototype.o=function(){return this.height};Zq.prototype.gM=function(){return this.images};Zq.prototype.getVersion=function(){return this.version};Zq.prototype.j=function(){return this.width};function $q(a){if(!a)return null;a=$.extend(new Zq,a);if(a.images){var b;b=(b=a.images)?b.map(ar):null;a.images=b}return a}function br(){}br.prototype.R=function(){return this.page};br.prototype.ma=function(){return this.url};
br.prototype.getKey=function(){return this.key};function ar(a){return a?$.extend(new br,a):null}function cr(){}cr.prototype.u=function(){return this.id};cr.prototype.getVersion=function(){return this.version};cr.prototype.gM=function(){return this.images};function dr(a){a=If(cr,a);var b=a.images;if(b)for(var c in b)b[c]=fr(b[c]);return a}function Mq(a){return a.map(dr)}function gr(){}function Iq(a){return Object.freeze(If(gr,a))}
gr.prototype.Pz=function(){return this.results?this.results.map(hr):[]};function ir(){}function hr(a){return Object.freeze(If(ir,a))}ir.prototype.sb=function(){return this.title};ir.prototype.u=function(){return this.id};ir.prototype.je=function(){var a=this.thumbnail;return new Pq({width:A("width",a),height:A("height",a),url:B("url",a)})};function Tq(){}Tq.prototype.Qz=function(){return this.rules.map(jr)};function kr(){}kr.prototype.jb=function(){return this.type};
kr.prototype.Lj=function(){var a=this.jb();Fa("USER"==a||"BRAND"==a,"only USER or BRAND assignments have principals");return Object.freeze(If(lr,this.principal))};kr.prototype.$i=function(){return this.role};kr.prototype.Qd=function(){return this.origin?Object.freeze(If(mr,this.origin)):null};function jr(a){return Object.freeze(If(kr,a))}function lr(){}lr.prototype.ia=function(){return this.brand};lr.prototype.va=function(){return this.user};function mr(){}mr.prototype.jb=function(){return this.type};
mr.prototype.u=function(){return this.id};function nr(a){this.principal=a.sh;this.roleChange=a.y8;this.origin=a.origin}function or(a){this.op=a.fX;this.role=a.lj}function pr(a,b,c){return new nr({sh:{user:a,brand:b},y8:{op:"SET",role:c.toString()},origin:{type:"MANUAL"}})}function qr(){}f=qr.prototype;f.$u=function(){return this.extensions};f.u=function(){return this.id};f.Be=function(){return this.draft};f.Lp=function(){return this.tags};
function rr(a,b){if((a=a.draft)&&a.imageSets&&a.imageSets.thumbnail){a=a.imageSets.thumbnail.images;for(var c=0;c<a.length;c++)if(a[c].page==b+1)return a[c].url}return null}f.sb=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};f.getVersion=function(){var a=this.draft;return a?a.version:-1};
function Gk(a,b){switch(b){case "NONE":return"NONE";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";case "REMIXER":return"REMIXER";case "VIEWER":return"VIEWER";default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}var sr={NONE:0,VIEWER:1,REMIXER:2,EDITOR:3,OWNER:4};function zq(a){var b=new qr;$.extend(b,a);b.extensions=Oq(a.extensions);return b};function tr(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function ur(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function vr(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function wr(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function xr(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function yr(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function zr(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function Ar(a,b){switch(b){case "CANVA":return"CANVA";case "FACEBOOK":return"FACEBOOK";case "LAYOUT":return"LAYOUT";case "DOCUMENT":return"DOCUMENT";default:throw new TypeError('expected ElementOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Br(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Xh=a.Xh;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color}f=Br.prototype;f.Sc=function(){return this.fontSize};f.Jz=function(){return this.Xh};f.hs=function(){return this.letterSpacing};f.ol=function(){return this.lineHeight};f.Sb=function(){return this.color};
function Cr(a){return new Br({fontFamily:C("fontFamily",a),fontSize:A("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Xh:C("justification",a),letterSpacing:A("letterSpacing",a),lineHeight:A("lineHeight",a),color:C("color",a)})}function Dr(a){this.title=a.title;this.og=a.og;this.body=a.body}Dr.prototype.sb=function(){return this.title};function Er(a){return new Dr({title:D(Cr,"title",a),og:D(Cr,"subtitle",a),body:D(Cr,"body",a)})}
function Fr(a){this.ka=a.ka;this.title=a.title;this.description=a.description;this.De=a.De||[];this.xr=a.xr;this.JT=a.JT;this.O=a.O||[];this.doctype=a.doctype}Fr.prototype.sb=function(){return this.title};Fr.prototype.wf=function(){return this.description};Fr.prototype.nl=function(){return this.De};Fr.prototype.Gb=function(){return this.O};
function Gr(a){return new Fr({ka:B("layout",a),title:C("title",a),description:C("description",a),De:Ha.Ke("keywords",a),xr:D(Er,"canvaDefaultFonts",a),JT:D(Er,"defaultFonts",a),O:F(Hr,"pages",a),doctype:Pa(Lp,"doctype",a)})}function Ir(a){this.height=a.height;this.width=a.width;this.Pc=a.Pc;this.elements=a.elements||[];this.type=a.type}Ir.prototype.o=function(){return this.height};Ir.prototype.j=function(){return this.width};Ir.prototype.ja=function(){return this.elements};Ir.prototype.jb=function(){return this.type};
function Hr(a){return new Ir({height:y("height",a),width:y("width",a),Pc:A("dpi",a),elements:F(Jr,"elements",a),type:C("type",a)})}function Kr(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Da=a.Da;this.rotation=a.rotation;this.link=a.link;this.index=a.index;this.wd=a.wd;this.Ed=a.Ed;this.origin=a.origin}f=Kr.prototype;f.w=function(){return this.top};f.F=function(){return this.left};f.o=function(){return this.height};f.j=function(){return this.width};
f.BF=function(){return this.Da};f.Sa=function(){return this.rotation};f.Xm=function(){return this.link};f.K=function(){return this.index};f.Qd=function(){return this.origin};
function Jr(a){switch(a.type){case "image":return Ca("image"===a.type),new Lr({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Da:A("transparency",a),rotation:A("rotation",a),link:C("link",a),index:A("index",a),wd:A("elementIndex",a),Ed:A("groupIndex",a),origin:D(Mr,"origin",a),za:A("flipOrientation",a),filter:D(Nr,"filter",a),ba:C("mediaId",a),ca:A("mediaVersion",a),pb:Na("mediaApproved",a),Hb:Na("isBackground",a),mc:Na("isRecolorable",a),Rd:Na("isCutout",a),Df:Na("isDark",
a),backgroundColor:C("backgroundColor",a),Ea:D(Or,"imageBox",a),Qc:F(Pr,"fillColors",a)});case "text":return Ca("text"===a.type),new Qr({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Da:A("transparency",a),rotation:A("rotation",a),link:C("link",a),index:A("index",a),wd:A("elementIndex",a),Ed:A("groupIndex",a),origin:D(Mr,"origin",a),za:A("flipOrientation",a),style:C("style",a),html:C("html",a),fontFamily:C("fontFamily",a),fontSize:A("fontSize",a),color:C("color",a),bold:Na("bold",
a),italic:Na("italic",a),list:Na("list",a),vp:D(fn,"fontMedia",a),Xh:C("justification",a),letterSpacing:A("letterSpacing",a),lineHeight:A("lineHeight",a),iq:Ja.Ke("lineLengths",a),padding:A("padding",a),textTransform:C("textTransform",a),border:D(Rr,"border",a),bG:F(Sr,"kerning",a),wH:Ra(tr,"reflowMode",a)});case "svg":return Ca("svg"===a.type),new Tr({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Da:A("transparency",a),rotation:A("rotation",a),link:C("link",a),index:A("index",
a),wd:A("elementIndex",a),Ed:A("groupIndex",a),origin:D(Mr,"origin",a),za:A("flipOrientation",a),ba:C("mediaId",a),ca:A("mediaVersion",a),pb:Na("mediaApproved",a),Hb:Na("isBackground",a),mc:Na("isRecolorable",a),Rd:Na("isCutout",a),contents:F(Ur,"contents",a),scale:A("scale",a),Qc:F(Pr,"fillColors",a),oi:D(Vr,"svgMetadata",a)});case "graphic":return Ca("graphic"===a.type),new Wr({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Da:A("transparency",a),rotation:A("rotation",a),
link:C("link",a),index:A("index",a),wd:A("elementIndex",a),Ed:A("groupIndex",a),origin:D(Mr,"origin",a),za:A("flipOrientation",a),ba:C("mediaId",a),ca:A("mediaVersion",a),pb:Na("mediaApproved",a),scale:A("scale",a),Qc:F(Pr,"fillColors",a),Og:D(Xr,"spritesheetMetadata",a)});case "grid":return Ca("grid"===a.type),new Yr({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Da:A("transparency",a),rotation:A("rotation",a),link:C("link",a),index:A("index",a),wd:A("elementIndex",a),Ed:A("groupIndex",
a),origin:D(Mr,"origin",a),za:A("flipOrientation",a),spacing:A("spacing",a),items:F(Zr,"items",a),contents:F(Ur,"contents",a),Qc:F(Pr,"fillColors",a)});case "group":return Ca("group"===a.type),new $r({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Da:A("transparency",a),rotation:A("rotation",a),link:C("link",a),index:A("index",a),wd:A("elementIndex",a),Ed:A("groupIndex",a),origin:D(Mr,"origin",a),MD:Ja.Ke("childRange",a),pF:Ra(wr,"generatorType",a),xb:D(as,"chart",a)});case "shape":return Ca("shape"===
a.type),new bs({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),Da:A("transparency",a),rotation:A("rotation",a),link:C("link",a),index:A("index",a),wd:A("elementIndex",a),Ed:A("groupIndex",a),origin:D(Mr,"origin",a),za:A("flipOrientation",a),viewBox:D(Or,"viewBox",a),hj:F(cs,"paths",a)});default:throw Error("unknown case: "+a.type);}}
function Lr(a){Kr.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,Da:a.Da,rotation:a.rotation,link:a.link,index:a.index,wd:a.wd,Ed:a.Ed,origin:a.origin,za:a.za,filter:a.filter,ba:a.ba,ca:a.ca,pb:a.pb,Hb:a.Hb,mc:a.mc,Rd:a.Rd,Df:a.Df,backgroundColor:a.backgroundColor,Ea:a.Ea,Qc:a.Qc});this.za=a.za;this.filter=a.filter;this.ba=a.ba;this.ca=a.ca;this.pb=a.pb;this.Hb=a.Hb;this.mc=a.mc;this.Rd=a.Rd;this.Df=a.Df;this.backgroundColor=a.backgroundColor;this.Ea=a.Ea;this.Qc=a.Qc||
[]}t(Lr,Kr);f=Lr.prototype;f.fM=function(){return this.filter};f.js=function(){return this.ba};f.ks=function(){return this.ca};f.hM=function(){return this.Df};f.hh=function(){return this.backgroundColor};f.Wm=function(){return this.Ea};
function Qr(a){Kr.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,Da:a.Da,rotation:a.rotation,link:a.link,index:a.index,wd:a.wd,Ed:a.Ed,origin:a.origin,za:a.za,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,vp:a.vp,Xh:a.Xh,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,iq:a.iq,padding:a.padding,textTransform:a.textTransform,border:a.border,bG:a.bG,wH:a.wH});this.za=a.za;this.style=a.style;
this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.vp=a.vp;this.Xh=a.Xh;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.iq=a.iq||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.bG=a.bG||[];this.wH=a.wH}t(Qr,Kr);f=Qr.prototype;f.Sc=function(){return this.fontSize};f.Sb=function(){return this.color};f.ZU=function(){return this.list};f.Jz=function(){return this.Xh};
f.hs=function(){return this.letterSpacing};f.ol=function(){return this.lineHeight};f.ls=function(){return this.padding};
function Tr(a){Kr.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,Da:a.Da,rotation:a.rotation,link:a.link,index:a.index,wd:a.wd,Ed:a.Ed,origin:a.origin,za:a.za,ba:a.ba,ca:a.ca,pb:a.pb,Hb:a.Hb,mc:a.mc,Rd:a.Rd,contents:a.contents,scale:a.scale,Qc:a.Qc,oi:a.oi});this.za=a.za;this.ba=a.ba;this.ca=a.ca;this.pb=a.pb;this.Hb=a.Hb;this.mc=a.mc;this.Rd=a.Rd;this.contents=a.contents||[];this.scale=a.scale;this.Qc=a.Qc||[];this.oi=a.oi}t(Tr,Kr);Tr.prototype.js=function(){return this.ba};
Tr.prototype.ks=function(){return this.ca};function Wr(a){Kr.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,Da:a.Da,rotation:a.rotation,link:a.link,index:a.index,wd:a.wd,Ed:a.Ed,origin:a.origin,za:a.za,ba:a.ba,ca:a.ca,pb:a.pb,scale:a.scale,Qc:a.Qc,Og:a.Og});this.za=a.za;this.ba=a.ba;this.ca=a.ca;this.pb=a.pb;this.scale=a.scale;this.Qc=a.Qc||[];this.Og=a.Og}t(Wr,Kr);Wr.prototype.js=function(){return this.ba};Wr.prototype.ks=function(){return this.ca};
Wr.prototype.ps=function(){return this.Og};function Yr(a){Kr.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,Da:a.Da,rotation:a.rotation,link:a.link,index:a.index,wd:a.wd,Ed:a.Ed,origin:a.origin,za:a.za,spacing:a.spacing,items:a.items,contents:a.contents,Qc:a.Qc});this.za=a.za;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.Qc=a.Qc||[]}t(Yr,Kr);Yr.prototype.he=function(){return this.spacing};Yr.prototype.yf=function(){return this.items};
function $r(a){Kr.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,Da:a.Da,rotation:a.rotation,link:a.link,index:a.index,wd:a.wd,Ed:a.Ed,origin:a.origin,MD:a.MD,pF:a.pF,xb:a.xb});this.MD=a.MD||[];this.pF=a.pF;this.xb=a.xb}t($r,Kr);
function bs(a){Kr.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,Da:a.Da,rotation:a.rotation,link:a.link,index:a.index,wd:a.wd,Ed:a.Ed,origin:a.origin,za:a.za,viewBox:a.viewBox,hj:a.hj});this.za=a.za;this.viewBox=a.viewBox;this.hj=a.hj||[]}t(bs,Kr);
function ds(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.za=a.za;this.backgroundColor=a.backgroundColor;this.Ea=a.Ea;this.ba=a.ba;this.ca=a.ca;this.pb=a.pb;this.filter=a.filter;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.vp=a.vp;this.Xh=a.Xh;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.iq=a.iq||[];this.textTransform=a.textTransform;this.index=
a.index}f=ds.prototype;f.jb=function(){return this.type};f.w=function(){return this.top};f.F=function(){return this.left};f.o=function(){return this.height};f.j=function(){return this.width};f.hh=function(){return this.backgroundColor};f.Wm=function(){return this.Ea};f.js=function(){return this.ba};f.ks=function(){return this.ca};f.fM=function(){return this.filter};f.Sc=function(){return this.fontSize};f.Sb=function(){return this.color};f.Jz=function(){return this.Xh};f.hs=function(){return this.letterSpacing};
f.ol=function(){return this.lineHeight};f.K=function(){return this.index};
function Ur(a){return new ds({type:B("type",a),top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),za:A("flipOrientation",a),backgroundColor:C("backgroundColor",a),Ea:D(Or,"imageBox",a),ba:C("mediaId",a),ca:A("mediaVersion",a),pb:Na("mediaApproved",a),filter:D(Nr,"filter",a),html:C("html",a),fontFamily:C("fontFamily",a),fontSize:A("fontSize",a),color:C("color",a),bold:Na("bold",a),italic:Na("italic",a),vp:D(fn,"fontMedia",a),Xh:C("justification",a),letterSpacing:A("letterSpacing",
a),lineHeight:A("lineHeight",a),iq:Ja.Ke("lineLengths",a),textTransform:C("textTransform",a),index:y("index",a)})}function es(a){this.width=a.width}es.prototype.j=function(){return this.width};function Rr(a){return new es({width:y("width",a)})}function fs(a){this.qX=a.qX;this.Xt=a.Xt}function Sr(a){return new fs({qX:B("pair",a),Xt:y("adjustment",a)})}function gs(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}gs.prototype.jb=function(){return this.type};
gs.prototype.j=function(){return this.width};gs.prototype.o=function(){return this.height};gs.prototype.getChildren=function(){return this.children};function Zr(a){return new gs({type:Ra(ur,"type",a),width:A("width",a),height:A("height",a),children:F(Zr,"children",a)})}function hs(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}hs.prototype.w=function(){return this.top};hs.prototype.F=function(){return this.left};hs.prototype.j=function(){return this.width};
hs.prototype.o=function(){return this.height};function Or(a){return new hs({top:y("top",a),left:y("left",a),width:y("width",a),height:y("height",a)})}function is(a){this.index=a.index;this.color=a.color}is.prototype.K=function(){return this.index};is.prototype.Sb=function(){return this.color};function Pr(a){return new is({index:y("index",a),color:B("color",a)})}function js(a){this.viewBox=a.viewBox;this.tZ=a.tZ||[];this.AX=a.AX||[];this.jT=a.jT;this.xZ=a.xZ}
function Vr(a){return new js({viewBox:Pa(Or,"viewBox",a),tZ:F(Or,"textHolderBoxes",a),AX:F(Or,"photoHolderBoxes",a),jT:D(Or,"centerBox",a),xZ:Na("tile",a)})}function ks(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.lf=a.lf;this.vignette=a.vignette;this.Uf=a.Uf;this.xh=a.xh;this.name=a.name}ks.prototype.Zu=function(){return this.brightness};ks.prototype.bV=function(){return this.saturation};ks.prototype.getName=function(){return this.name};
function Nr(a){return new ks({blur:A("blur",a),brightness:A("brightness",a),contrast:A("contrast",a),saturation:A("saturation",a),lf:A("tint",a),vignette:A("vignette",a),Uf:A("xpro",a),xh:A("tintAmount",a),name:C("name",a)})}function ls(a){this.fill=a.fill;this.hl=a.hl;this.d=a.d}function cs(a){return new ls({fill:B("fill",a),hl:Ra(vr,"fillRule",a),d:B("d",a)})}function ms(a){this.name=a.name;this.cells=a.cells||[]}ms.prototype.getName=function(){return this.name};
function ns(a){return new ms({name:C("name",a),cells:Ha.Ke("cells",a)})}function os(a){this.ra=a.ra||[]}function ps(a){return new os({ra:F(ns,"columns",a)})}function qs(a){this.data=a.data;this.ZV=a.ZV;this.Tc=a.Tc;this.zA=a.zA;this.sT=a.sT;this.ts=a.ts;this.fj=a.fj;this.Li=a.Li;this.DX=a.DX;this.RS=a.RS;this.lW=a.lW;this.cU=a.cU}qs.prototype.getData=function(){return this.data};qs.prototype.gs=function(){return this.Tc};qs.prototype.iM=function(){return this.zA};qs.prototype.Zi=function(){return this.fj};
function as(a){return new qs({data:Pa(ps,"data",a),ZV:A("labelColumn",a),Tc:Pa(Cr,"labelTextStyle",a),zA:D(fn,"labelFontMedia",a),sT:Qa(yr,"coloringType",a),ts:D(rs,"interpolation",a),fj:D(ss,"palette",a),Li:Qa(xr,"chartType",a),DX:D(ts,"pie",a),RS:D(us,"bar",a),lW:D(vs,"line",a),cU:D(ws,"donut",a)})}function xs(a){this.spacing=a.spacing;this.padding=a.padding}xs.prototype.he=function(){return this.spacing};xs.prototype.ls=function(){return this.padding};
function ts(a){return new xs({spacing:A("spacing",a),padding:A("padding",a)})}function ys(a){this.spacing=a.spacing;this.padding=a.padding}ys.prototype.he=function(){return this.spacing};ys.prototype.ls=function(){return this.padding};function us(a){return new ys({spacing:A("spacing",a),padding:A("padding",a)})}function zs(a){this.spacing=a.spacing;this.padding=a.padding}zs.prototype.he=function(){return this.spacing};zs.prototype.ls=function(){return this.padding};
function vs(a){return new zs({spacing:A("spacing",a),padding:A("padding",a)})}function As(a){this.spacing=a.spacing;this.padding=a.padding}As.prototype.he=function(){return this.spacing};As.prototype.ls=function(){return this.padding};function ws(a){return new As({spacing:A("spacing",a),padding:A("padding",a)})}function Bs(a){this.rT=a.rT;this.from=a.from;this.to=a.to}Bs.prototype.ml=function(){return this.from};
function rs(a){return new Bs({rT:Qa(zr,"colorSpace",a),from:B("from",a),to:B("to",a)})}function Cs(a){this.dd=a.dd||[]}Cs.prototype.Cg=function(){return this.dd};function ss(a){return new Cs({dd:Ha.Ke("colors",a)})}function Ds(a){this.id=a.id;this.version=a.version;this.type=a.type}Ds.prototype.u=function(){return this.id};Ds.prototype.getVersion=function(){return this.version};Ds.prototype.jb=function(){return this.type};
function Mr(a){return new Ds({id:B("id",a),version:y("version",a),type:Qa(Ar,"type",a)})};function Es(a,b){switch(b){case "USER":return"USER";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function Fs(a,b){switch(b){case "NONE":return"NONE";case "OWNER":return"OWNER";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function Gs(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Hs(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Is(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}function Js(a,b){switch(b){case "WEB_1":return"web-1";case "WEB_2":return"web-2";case "ANDROID_1":return"android-1";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function Ah(a,b){switch(b){case "web-1":return"WEB_1";case "web-2":return"WEB_2";case "android-1":return"ANDROID_1";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}function Ks(a,b){switch(b){case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionLoss for property "'+a+'", found: '+JSON.stringify(b));}}
function Ls(a){this.rules=a.rules||[];this.version=a.version;this.Kn=a.Kn}Ls.prototype.Qz=function(){return this.rules};Ls.prototype.getVersion=function(){return this.version};function Ms(a){return new Ls({rules:F(Ns,"rules",a),version:y("version",a),Kn:Pa(Os,"owner",a)})}function Ps(a){this.type=a.type;this.sh=a.sh;this.lj=a.lj;this.origin=a.origin;this.timestamp=a.timestamp}f=Ps.prototype;f.jb=function(){return this.type};f.Lj=function(){return this.sh};f.$i=function(){return this.lj};f.Qd=function(){return this.origin};
f.Mp=function(){return this.timestamp};function Ns(a){return new Ps({type:Qa(Es,"type",a),sh:D(Os,"principal",a),lj:Qa(Fs,"role",a),origin:D(Qs,"origin",a),timestamp:A("timestamp",a)})}function Rs(a){this.D=a.D;this.user=a.user}Rs.prototype.ia=function(){return this.D};Rs.prototype.va=function(){return this.user};function Os(a){return new Rs({D:B("brand",a),user:C("user",a)})}function Ss(a){this.type=a.type;this.id=a.id}Ss.prototype.jb=function(){return this.type};Ss.prototype.u=function(){return this.id};
function Qs(a){return new Ss({type:Qa(Gs,"type",a),id:C("id",a)})}function Ts(a){this.default=a.default;this.view=a.view;this.dY=a.dY;this.bL=a.bL}Ts.prototype.TU=function(){return this.default};Ts.prototype.rl=function(){return this.view};Ts.prototype.VU=function(){return this.bL};function Us(a){return new Ts({default:C("default",a),view:C("view",a),dY:C("remix",a),bL:C("edit",a)})}function Vs(a){this.type=a.type}
function Tp(a){switch(a.type){case "REFERENCE":return{type:"REFERENCE",id:ib("id",a.id),version:db("version",a.version)};case "INLINE":return{type:"INLINE",width:db("width",a.width),height:db("height",a.height),units:lb(Hs,"units",a.units)};default:throw Error();}}
function Lp(a){switch(a.type){case "REFERENCE":return Ca("REFERENCE"===a.type),new Ws({id:B("id",a),version:y("version",a)});case "INLINE":return Ca("INLINE"===a.type),new Xs({width:y("width",a),height:y("height",a),units:Qa(Is,"units",a)});default:throw Error("unknown case: "+a.type);}}function Ws(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}t(Ws,Vs);Ws.prototype.u=function(){return this.id};Ws.prototype.getVersion=function(){return this.version};
function Xs(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}t(Xs,Vs);Xs.prototype.j=function(){return this.width};Xs.prototype.o=function(){return this.height};Xs.prototype.Nj=function(){return this.units};function Ys(a){this.id=a.id;this.version=a.version}Ys.prototype.u=function(){return this.id};Ys.prototype.getVersion=function(){return this.version};function Zs(a){return new Ys({id:B("id",a),version:y("version",a)})}
function $s(a){this.id=a.id;this.ek=a.ek;this.rf=a.rf;this.origin=a.origin;this.Nm=a.Nm;this.tags=a.tags||[];this.Vf=a.Vf;this.Aj=a.Aj;this.version=a.version;this.timestamp=a.timestamp;this.KC=a.KC;this.Ly=a.Ly||new Map}f=$s.prototype;f.u=function(){return this.id};f.Qd=function(){return this.origin};f.$u=function(){return this.Nm};f.Lp=function(){return this.tags};f.$f=function(){return this.Vf};f.Be=function(){return this.Aj};f.getVersion=function(){return this.version};f.Mp=function(){return this.timestamp};
function at(a){return new $s({id:B("id",a),ek:B("owningBrand",a),rf:y("creationDate",a),origin:D(Zs,"origin",a),Nm:D(Us,"extensions",a),tags:Ha.Ke("tags",a),Vf:D(Ms,"acl",a),Aj:Pa(bt,"draft",a),version:y("version",a),timestamp:A("timestamp",a),KC:D(ct,"trashed",a),Ly:Ua(Va,Xa,"contributors",a)})}function dt(a){this.timestamp=a.timestamp}dt.prototype.Mp=function(){return this.timestamp};function ct(a){return new dt({timestamp:y("timestamp",a)})}
function et(a){this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.oa=a.oa;this.kd=a.kd;this.mN=a.mN||[];this.kA=a.kA;this.Gi=a.Gi}f=et.prototype;f.getContent=function(){return this.content};f.getVersion=function(){return this.version};f.Mp=function(){return this.timestamp};f.getSession=function(){return this.oa};f.ic=function(){return this.kd};f.vF=function(){return this.mN};f.XL=function(){return this.Gi};
function bt(a){return new et({content:Pa(ft,"content",a),version:y("version",a),timestamp:y("timestamp",a),oa:A("session",a),kd:y("pageCount",a),mN:F(fn,"layouts",a),kA:Pa(gt,"imageSets",a),Gi:C("associatedMedia",a)})}function ht(a){this.ka=a.ka;this.title=a.title;this.description=a.description;this.De=a.De||[];this.doctype=a.doctype}ht.prototype.sb=function(){return this.title};ht.prototype.wf=function(){return this.description};ht.prototype.nl=function(){return this.De};
function ft(a){return new ht({ka:C("layout",a),title:C("title",a),description:C("description",a),De:Ha.Ke("keywords",a),doctype:Pa(Lp,"doctype",a)})}function it(a){this.od=a.od;this.pw=a.pw}it.prototype.je=function(){return this.od};function gt(a){return new it({od:Pa(jt,"thumbnail",a),pw:D(jt,"preview",a)})}function kt(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}kt.prototype.o=function(){return this.height};kt.prototype.j=function(){return this.width};
kt.prototype.getVersion=function(){return this.version};kt.prototype.gM=function(){return this.images};function jt(a){return new kt({height:y("height",a),width:y("width",a),version:y("version",a),images:F(lt,"images",a)})}function mt(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}mt.prototype.getKey=function(){return this.key};mt.prototype.R=function(){return this.page};mt.prototype.ma=function(){return this.url};
function lt(a){return new mt({bucket:B("bucket",a),key:B("key",a),page:y("page",a),url:C("url",a)})}function nt(a){this.width=a.width;this.height=a.height;this.url=a.url}nt.prototype.j=function(){return this.width};nt.prototype.o=function(){return this.height};nt.prototype.ma=function(){return this.url};function ot(a){return new nt({width:A("width",a),height:A("height",a),url:B("url",a)})}function pt(a){this.id=a.id;this.title=a.title;this.l1=a.l1||new Map}pt.prototype.u=function(){return this.id};
pt.prototype.sb=function(){return this.title};function qt(a){this.wg=a.wg;this.oa=a.oa;this.eh=a.eh;this.mA=a.mA;this.l3=a.l3;this.C8=a.C8||[]}qt.prototype.getSession=function(){return this.oa};qt.prototype.getExtension=function(){return this.eh};function rt(a){this.type=a.type;this.id=a.id;this.version=a.version}rt.prototype.u=function(){return this.id};rt.prototype.getVersion=function(){return this.version};
function st(a){switch(a.type){case "RASTER":return Ca("RASTER"===a.type),new tt({id:B("id",a),version:y("version",a),files:F(ut,"files",a)});case "VECTOR":return Ca("VECTOR"===a.type),new vt({id:B("id",a),version:y("version",a),files:F(ut,"files",a),Og:D(Xr,"spritesheetMetadata",a)});case "DESIGN":return Ca("DESIGN"===a.type),new wt({id:B("id",a),version:y("version",a),files:F(ut,"files",a)});case "FONT":return Ca("FONT"===a.type),new xt({id:B("id",a),version:y("version",a),files:F(yt,"files",a)});
case "ELEMENT_GROUP":return Ca("ELEMENT_GROUP"===a.type),new zt({id:B("id",a),version:y("version",a),files:F(ut,"files",a)});case "UNKNOWN":return Ca("UNKNOWN"===a.type),new At({id:B("id",a),version:y("version",a),files:F(Bt,"files",a)});default:throw Error("unknown case: "+a.type);}}function tt(a){rt.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(tt,rt);tt.prototype.pc=function(){return this.files};
function vt(a){rt.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files,Og:a.Og});this.files=a.files||[];this.Og=a.Og}t(vt,rt);vt.prototype.pc=function(){return this.files};vt.prototype.ps=function(){return this.Og};function wt(a){rt.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(wt,rt);wt.prototype.pc=function(){return this.files};function xt(a){rt.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}
t(xt,rt);xt.prototype.pc=function(){return this.files};function zt(a){rt.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(zt,rt);zt.prototype.pc=function(){return this.files};function At(a){rt.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(At,rt);At.prototype.pc=function(){return this.files};function Ct(a){this.url=a.url;this.width=a.width;this.height=a.height;this.Rx=a.Rx;this.$Y=a.$Y;this.fi=a.fi}
Ct.prototype.ma=function(){return this.url};Ct.prototype.j=function(){return this.width};Ct.prototype.o=function(){return this.height};Ct.prototype.zF=function(){return this.fi};function ut(a){return new Ct({url:B("url",a),width:y("width",a),height:y("height",a),Rx:Ma("watermarked",a),$Y:Ma("spritesheet",a),fi:Ra(Dt,"quality",a)})}function Et(a){this.url=a.url}Et.prototype.ma=function(){return this.url};function yt(a){return new Et({url:B("url",a)})}
function Ft(a){this.url=a.url;this.width=a.width;this.height=a.height;this.Rx=a.Rx;this.fi=a.fi}Ft.prototype.ma=function(){return this.url};Ft.prototype.j=function(){return this.width};Ft.prototype.o=function(){return this.height};Ft.prototype.zF=function(){return this.fi};function Bt(a){return new Ft({url:B("url",a),width:A("width",a),height:A("height",a),Rx:Na("watermarked",a),fi:Ra(Dt,"quality",a)})}function Gt(a){this.Vf=a.Vf}Gt.prototype.$f=function(){return this.Vf};
function Bq(a){return new Gt({Vf:Pa(Ms,"acl",a)})}function Ht(a){this.sl=a.sl||[];this.sh=a.sh;this.jH=a.jH||[];this.vL=a.vL;this.UX=a.UX;this.PR=a.PR||[];this.ka=a.ka;this.Ur=a.Ur;this.Z=a.Z;this.limit=a.limit}Ht.prototype.Lj=function(){return this.sh};Ht.prototype.Fb=function(){return this.Z};Ht.prototype.Cd=function(){return this.limit};function It(a){this.aU=a.aU||[];this.Z=a.Z}It.prototype.Fb=function(){return this.Z};
function yq(a){return new It({aU:F(at,"documents",a),Z:C("continuation",a)})}function Jt(a){this.id=a.id;this.BZ=a.BZ;this.Ew=a.Ew||[];this.Z=a.Z}Jt.prototype.u=function(){return this.id};Jt.prototype.Pz=function(){return this.Ew};Jt.prototype.Fb=function(){return this.Z};function Hq(a){return new Jt({id:B("id",a),BZ:y("totalHits",a),Ew:F(Kt,"results",a),Z:C("continuation",a)})}
function Lt(a){this.kt=a.kt;this.$s=a.$s;this.id=a.id;this.title=a.title;this.description=a.description;this.ek=a.ek;this.rf=a.rf;this.KC=a.KC;this.od=a.od;this.Bu=a.Bu}f=Lt.prototype;f.cV=function(){return this.kt};f.aV=function(){return this.$s};f.u=function(){return this.id};f.sb=function(){return this.title};f.wf=function(){return this.description};f.je=function(){return this.od};
function Kt(a){return new Lt({kt:B("searchId",a),$s:y("rank",a),id:B("id",a),title:B("title",a),description:C("description",a),ek:B("owningBrand",a),rf:y("creationDate",a),KC:Ma("trashed",a),od:Pa(ot,"thumbnail",a),Bu:B("designTypeDisplayName",a)})}function Mt(a){this.Vf=a.Vf}Mt.prototype.$f=function(){return this.Vf};function Eq(a){return new Mt({Vf:Pa(Ms,"acl",a)})}function Nt(a){this.wg=a.wg;this.version=a.version;this.tw=a.tw;this.force=a.force}Nt.prototype.getVersion=function(){return this.version};
function Ot(){}function Kq(){return new Ot};function Pt(a){this.id=a.id;this.ek=a.ek;this.rf=a.rf;this.origin=a.origin;this.Nm=a.Nm;this.tags=a.tags||[];this.Vf=a.Vf;this.Aj=a.Aj;this.version=a.version;this.timestamp=a.timestamp;this.Ly=a.Ly||new Map}f=Pt.prototype;f.u=function(){return this.id};f.Qd=function(){return this.origin};f.$u=function(){return this.Nm};f.Lp=function(){return this.tags};f.$f=function(){return this.Vf};f.Be=function(){return this.Aj};f.getVersion=function(){return this.version};f.Mp=function(){return this.timestamp};
function Qt(a){return new Pt({id:B("id",a),ek:B("owningBrand",a),rf:y("creationDate",a),origin:D(Zs,"origin",a),Nm:Pa(Us,"extensions",a),tags:Ha.Ke("tags",a),Vf:D(Ms,"acl",a),Aj:Pa(Rt,"draft",a),version:y("version",a),timestamp:A("timestamp",a),Ly:Ua(Va,Xa,"contributors",a)})}function St(a){this.Jw=a.Jw;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.oa=a.oa;this.kd=a.kd;this.media=a.media||[];this.kA=a.kA;this.Gi=a.Gi}f=St.prototype;f.getContent=function(){return this.content};
f.getVersion=function(){return this.version};f.Mp=function(){return this.timestamp};f.getSession=function(){return this.oa};f.ic=function(){return this.kd};f.Mb=function(){return this.media};f.XL=function(){return this.Gi};function Rt(a){return new St({Jw:B("schema",a),content:Pa(Gr,"content",a),version:y("version",a),timestamp:y("timestamp",a),oa:A("session",a),kd:y("pageCount",a),media:F(fn,"media",a),kA:Pa(gt,"imageSets",a),Gi:C("associatedMedia",a)})}
function Tt(a){this.document=a.document;this.oa=a.oa}Tt.prototype.getDocument=function(){return this.document};Tt.prototype.getSession=function(){return this.oa};function tq(a){return new Tt({document:Pa(Qt,"document",a),oa:y("session",a)})}function Ut(a){this.document=a.document;this.af=a.af||[];this.oa=a.oa;this.sS=a.sS;this.aK=a.aK}Ut.prototype.getDocument=function(){return this.document};Ut.prototype.getSession=function(){return this.oa};
function vq(a){return new Ut({document:Pa(Qt,"document",a),af:F(st,"mediaMap",a),oa:A("session",a),sS:Qa(Fs,"accessRole",a),aK:Ra(Ks,"conversionLoss",a)})};function Vt(a,b,c,d,e){this.Ra=a;this.N=b;this.context=c;this.cr=null;this.pZ=d;this.Xp=!1;this.Xz=this.yX=this.Ut=this.hw=this.mm=null;this.l=e}f=Vt.prototype;f.start=function(){null!=this.context.id&&(Wt(this,6666),Xt(this))};function Wt(a,b){b!=a.Ut&&(null!=a.mm&&window.clearInterval(a.mm),a.Ut=b,a.mm=null!=b?window.setInterval(function(){a.save()},b):null)}function Xt(a){12E5!=a.yX&&(null!=a.hw&&window.clearInterval(a.hw),a.yX=12E5,a.hw=window.setInterval(function(){a.sync()},12E5))}
f.save=function(){this.context.aj()&&this.sync()};f.sync=function(){function a(a){var e=b.Ut;a=a.throttle;if(b.cr==c){b.cr=null;var g=e;!0===a?g=Math.min(2*b.Ut,6E5):!1===a&&(g=Math.max(b.Ut-1E3,6666));g!=b.Ut&&Wt(b,g)}return e}if(this.Xp&&null!=this.context.id&&!this.cr){var b=this,c=new Yt(b.N,b.context,b.l);b.cr=c;b.cr.sync().then(a).then(function(a){b.pZ.update(a)})}};
f.close=function(){this.Xp=!1;this.cr&&(this.cr.stop(),this.cr=null);this.mm&&(window.clearInterval(this.mm),this.mm=null);this.hw&&(window.clearInterval(this.hw),this.hw=null)};f.nQ=function(a){this.context.nQ(a)};f.post=function(a,b){var c=this.context,d=null;3!=c.hf&&(c.Lk!=a?(c.hf=3,c.state=null):(c.hf=0,c.state=b,c.Lk++,d=c.Lk));Zt(c);a=d;null!=a&&(this.Xz=b);return a};f.Ov=function(a){this.Xz||(this.Xz=a)};function $t(a,b){return!(!a.Xz||_.isEqual(a.Xz,b))}
f.Ws=function(a){var b=this.context.u();if(this.context.aj())return P.reject(new oq);if(!this.context.Rz())return P.reject(new nq);if(!b)return P.reject(new pq);switch(a){case "BRAND":return this.Ra.AJ(b);case "GLOBAL":return this.Ra.Ws(b)}return P.reject(new mq)};f.Mx=function(a){var b=this.context.u();if(!b)return P.reject(new pq);switch(a){case "BRAND":return this.Ra.BJ(b);case "GLOBAL":return this.Ra.Mx(b)}return P.reject(new mq)};
f.CC=function(){var a=this.context.u();return a?this.Ra.CC(a):P.reject(Error("synced context has no id"))};f.NC=function(){var a=this.context.u();return a?this.Ra.NC(a):P.reject(Error("synced context has no id"))};f.hc=function(){return this.context.u()};function au(a){return a.context.$u().TU()}f.timestamp=function(){return this.context.Mp()};f.version=function(){return this.context.Lk};f.Xd=function(){return this.context.Xd};f.aj=function(){return this.context.aj()};f.Av=function(){return this.context.Av()};
f.state=function(){return this.context.Rz()};function bu(a,b,c,d,e,g,h,k,l,m){this.id=a;this.Lk=c;this.Cy=d;this.Xd=e;this.WB=g;this.state=k;this.cW=null;this.timestamp=h;this.Nm=l;this.aK=m;this.aW=this.hf=b;this.kI=null}f=bu.prototype;f.u=function(){return this.id};f.$u=function(){return this.Nm};f.Mp=function(){return this.timestamp};f.aj=function(){return 0==this.hf||1==this.hf};f.Av=function(){return 3!=this.hf};f.Rz=function(){return this.state};
f.nQ=function(a){if(this.kI)throw Error("Cannot overwrite DocumentContext sync listener");this.kI=a};function cu(a,b,c){b==a.Lk&&c==a.Xd&&0==a.hf&&(a.hf=1,Zt(a))}function du(a,b,c){3!=a.hf&&a.Xd==b&&(b=c.document.draft,b.version<=a.Xd||(a.timestamp=b.timestamp,a.Xd=b.version,a.WB=b.session,a.WB!=a.Cy&&(a.Lk++,a.hf=3,a.state=null),Zt(a)))}
function eu(a,b,c,d,e){3!=a.hf&&(e=e.document.draft,a.Xd==d&&(a.cW=b,a.Lk==c&&(a.hf=2),a.timestamp=e.timestamp,a.Xd=e.version,a.WB=e.session,a.Cy=e.session,Zt(a)))}function fu(a,b,c,d){3==a.hf||a.Xd>c||(a.timestamp=d.timestamp,a.Xd=d.version,a.WB=d.session,a.WB!=a.Cy?(a.Lk++,a.hf=3,a.state=null):a.Lk==b&&(a.hf=2),Zt(a))}function Zt(a){a.hf!=a.aW&&null!=a.id&&(a.aW=a.hf,a.kI&&a.kI(a.hf))}function Yt(a,b,c){this.N=a;this.context=b;this.er=this.request=this.callback=null;this.l=c}
function gu(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}Yt.prototype.stop=function(){this.callback=null;this.request&&(this.request.cancel(),this.request=null);null!=this.er&&(window.clearTimeout(this.er),this.er=null)};Yt.prototype.sync=function(){if(this.callback)throw Error("already syncing");return new P(function(a){this.callback=a;hu(this,gu(null),1)}.bind(this))};Yt.prototype.finish=function(a,b){var c=this.callback;c&&(this.callback=null,c({success:a,throttle:b}))};
function iu(a,b){var c=null,d=!1,e=b;if(null!=a){var g=[],h;for(h in b)"pages"===h||_.isEqual(b[h],a[h])||g.push(h);a=a.pages;h=b.pages;if(a&&h){var k=a.length==h.length,l=!_.isEqual(a,h);if(0==g.length&&k&&l){for(b=0;b<a.length;b++)if(!_.isEqual(a[b],h[b]))if(null==c)c=b;else{c=null;break}null!=c&&(e=h[c])}else l||1!=g.length||"title"!=g[0]||(e={title:b.title},d=!0)}}return{K9:d,Qs:c,F7:e}}
function hu(a,b,c){function d(d,g){window.clearTimeout(a.er);a.request=null;a.er=null;var h=g&&null!=g.throttle?!!g.throttle:null,m=!1;p&&200==d?eu(e,n,k,l,g):p&&409==d?fu(e,k,l,g):p||200!=d?0!=d&&(m=!0):du(e,l,g);m?a.er=window.setTimeout(function(){hu(a,gu(b),c+1)},b):a.finish(200==d,h,d,c)}var e=a.context,g=e.u(),h=e.Cy,k=e.Lk,l=e.Xd,m,n=e.Rz(),p=e.aj();if(p&&n)m=iu(e.cW,n),g="/documents"+(null==g?"":"/"+encodeURIComponent(g)+"/content"),m.K9?g+="/title":null!=m.Qs&&(g+="/pages/"+m.Qs),g+="?version\x3d"+
encodeURIComponent(l.toString())+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))+"";else{if(null==g)return;g="/documents/"+encodeURIComponent(g)+"?includePages\x3dfalse"+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))}a.er=window.setTimeout(function(){var d=a.callback;a.callback=null;a.request&&a.request.cancel();a.request=null;a.er=null;a.callback=d;hu(a,gu(b),c+1)},b);p?(a.request=a.N.post(g,m.F7,d),cu(e,k,l)):a.request=a.N.get(g,d)};function ju(){this.N=Gb};function ku(a){this.pg=a.pg;this.wZ=a.wZ;this.vZ=a.vZ;this.kU=a.kU;this.displayName=a.displayName;this.zK=a.zK;this.UY=a.UY;this.ip=a.ip;this.Gm=a.Gm;this.iT=a.iT}ku.prototype.cn=function(){return this.pg};ku.prototype.rb=function(){return this.displayName};
function lu(a){return new ku({pg:B("thumbnailUrl",a),wZ:y("thumbnailWidth",a),vZ:y("thumbnailHeight",a),kU:B("editorPath",a),displayName:B("displayName",a),zK:B("dimensionsLabel",a),UY:Ma("showNewBadge",a),ip:C("doctypeId",a),Gm:C("doctypeName",a),iT:C("categoryId",a)})}function mu(a){this.DF=a.DF;this.options=a.options||[]}mu.prototype.Ij=function(){return this.options};function nu(a){return new mu({DF:B("groupingDisplayName",a),options:F(lu,"options",a)})}function ou(a){this.EF=a.EF||[]}
function pu(a){return new ou({EF:F(nu,"groups",a)})};function qu(a){this.N=a;this.IK="/doctypes"}qu.prototype.ib=function(a){a=this.IK+"/"+encodeURIComponent(a.id)+"?"+a.fr();return yj(this.N,a).get(0).then(La).then(ru)};qu.prototype.createDocumentType=function(a){return wj(this.N,this.IK,su(a)).get(0).then(La).then(tu)};
function uu(a,b){b=[a.IK+"?",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.visible?"\x26visible\x3d"+encodeURIComponent(String(b.visible)):"",null!=b.Rp?"\x26includeAllDescriptions\x3d"+encodeURIComponent(String(b.Rp)):"",0<b.sl.length?"\x26ids\x3d"+encodeURIComponent(b.sl.join(",")):"",null!=b.Z?"\x26continuation\x3d"+encodeURIComponent(b.Z):""].join("").replace("?\x26","?");return yj(a.N,b).get(0).then(La).then(vu)};function wu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+JSON.stringify(b));}}
function xu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+JSON.stringify(b));}}
function yu(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}function zu(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function Au(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}
function Bu(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}function Cu(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function Du(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function Ap(a){this.id=a.id;this.name=a.name;this.mj=a.mj;this.category=a.category;this.visible=a.visible;this.gC=a.gC;this.Hs=a.Hs;this.Wv=a.Wv||[];this.od=a.od;this.Xy=a.Xy||new Map;this.qb=a.qb;this.oE=a.oE;this.Rs=a.Rs;this.Qp=a.Qp;this.version=a.version;this.wN=a.wN||[];this.yO=a.yO||[];this.kP=a.kP||[]}f=Ap.prototype;f.u=function(){return this.id};f.getName=function(){return this.name};f.je=function(){return this.od};f.getVersion=function(){return this.version};
function Eu(a){return{id:H("id",a.id),name:H("name",a.name),sentenceName:H("sentenceName",a.mj),category:H("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.gC),multiPage:hb("multiPage",a.Hs),newPageElements:kb(Fu,"newPageElements",a.Wv),thumbnail:jb(Gu,"thumbnail",a.od),descriptions:nb(Hu,"descriptions",a.Xy),dimensions:jb(Iu,"dimensions",a.qb),defaultExportSettings:mb(Cu,"defaultExportSettings",a.oE),pdfExportSettings:jb(Ju,"pdfExportSettings",a.Rs),imageExportSettings:jb(Ku,
"imageExportSettings",a.Qp),version:eb("version",a.version),localizedDescriptions:kb(Lu,"localizedDescriptions",a.wN),pageFormats:kb(Mu,"pageFormats",a.yO),publishHints:kb(Nu,"publishHints",a.kP)}}
function Ou(a){return new Ap({id:C("id",a),name:C("name",a),mj:C("sentenceName",a),category:C("category",a),visible:Na("visible",a),gC:Na("showAsNew",a),Hs:Na("multiPage",a),Wv:F(Pu,"newPageElements",a),od:D(Qu,"thumbnail",a),Xy:Ta(Ru,"descriptions",a),qb:D(Su,"dimensions",a),oE:Ra(Du,"defaultExportSettings",a),Rs:D(Tu,"pdfExportSettings",a),Qp:D(Uu,"imageExportSettings",a),version:A("version",a),wN:F(Vu,"localizedDescriptions",a),yO:F(Wu,"pageFormats",a),kP:F(Xu,"publishHints",a)})}
function Yu(a,b,c){return new Ap({id:"custom",name:(new Zu({width:a,height:b,units:c})).print(),mj:"design",qb:new Zu({width:a,height:b,units:c}),visible:!1,order:0,Hs:!0,gC:!1,custom:new Zu({width:a,height:b,units:c}),Qp:new $u({Pc:96,Daa:"JPG",Zo:null,Taa:null,Saa:null}),Rs:new av({Pc:300})})}f.Gg=function(){var a=this.Qp,b=Zg(this.qb);return{elements:this.Wv,width:b.j(),height:b.o(),dpi:a&&a.Pc}};
function bv(a){a=a.Wv;return Array.isArray(a)?a.filter(function(a){return"fixed"===a.type}).map(Fu):[]}function cv(a){a=bv(a);a=_.min(_.pluck(a,"left"));return Math.min(0,a)}function dv(a){a=bv(a);a=_.min(_.pluck(a,"top"));return Math.min(0,a)}function ev(a){var b=bv(a),b=_.max(b.map(function(a){return a.top+a.height})),c=dv(a);a=a.qb?Zg(a.qb).o():0;return Math.max(a,b)-c}
function fv(a){var b=bv(a),b=_.max(b.map(function(a){return a.left+a.width})),c=cv(a);a=a.qb?Zg(a.qb).j():0;return Math.max(a,b)-c}function gv(a){this.type=a.type;this.qb=a.qb;this.KL=a.KL||[];this.RN=a.RN;this.HJ=a.HJ}gv.prototype.jb=function(){return this.type};function Mu(a){return{type:H("type",a.type),dimensions:cb.required("dimensions",Iu(a.qb)),fixedElements:kb(Fu,"fixedElements",a.KL),nameTemplate:H("nameTemplate",a.RN),cardinality:cb.required("cardinality",hv(a.HJ))}}
function Wu(a){return new gv({type:C("type",a),qb:Pa(Su,"dimensions",a),KL:F(Pu,"fixedElements",a),RN:C("nameTemplate",a),HJ:Pa(iv,"cardinality",a)})}function jv(a){this.lower=a.lower;this.upper=a.upper}function hv(a){return{lower:eb("lower",a.lower),upper:eb("upper",a.upper)}}function iv(a){return new jv({lower:A("lower",a),upper:A("upper",a)})}function kv(a){this.type=a.type}
function Nu(a){switch(a.type){case "SHARE_SPEC":return{type:"SHARE_SPEC",platform:mb(wu,"platform",a.platform),targetType:mb(yu,"targetType",a.jf)};case "DOWNLOAD_SPEC":return{type:"DOWNLOAD_SPEC",format:mb(Cu,"format",a.format),fileType:H("fileType",a.We),compression:H("compression",a.Zo),dpi:eb("dpi",a.Pc),jpgQuality:eb("jpgQuality",a.Vj),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.aq)};default:throw Error();}}
function Xu(a){switch(a.type){case "SHARE_SPEC":return Ca("SHARE_SPEC"===a.type),new lv({platform:Ra(xu,"platform",a),jf:Ra(zu,"targetType",a)});case "DOWNLOAD_SPEC":return Ca("DOWNLOAD_SPEC"===a.type),new mv({format:Ra(Du,"format",a),We:C("fileType",a),Zo:C("compression",a),Pc:A("dpi",a),Vj:A("jpgQuality",a),aq:A("jpgTargetFileSizeKb",a)});default:throw Error("unknown case: "+a.type);}}function lv(a){this.type="SHARE_SPEC";this.platform=a.platform;this.jf=a.jf}t(lv,kv);
function mv(a){this.type="DOWNLOAD_SPEC";this.format=a.format;this.We=a.We;this.Zo=a.Zo;this.Pc=a.Pc;this.Vj=a.Vj;this.aq=a.aq}t(mv,kv);function nv(a){this.locale=a.locale;this.name=a.name;this.mj=a.mj;this.AO=a.AO||new Map}nv.prototype.bg=function(){return this.locale};nv.prototype.getName=function(){return this.name};
function Lu(a){var b=ib("locale",a.locale),c=ib("name",a.name),d=ib("sentenceName",a.mj);a=ob(pb,sb,"pageNameTemplates",a.AO);return{locale:b,name:c,sentenceName:d,pageNameTemplates:a}}function Vu(a){return new nv({locale:B("locale",a),name:B("name",a),mj:B("sentenceName",a),AO:Ua(Va,Ya,"pageNameTemplates",a)})}function ov(a){this.type=a.type;this.placeholder=a.placeholder;this.url=a.url;this.mn=a.mn;this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height;this.Da=a.Da}f=ov.prototype;
f.jb=function(){return this.type};f.ma=function(){return this.url};f.w=function(){return this.top};f.F=function(){return this.left};f.j=function(){return this.width};f.o=function(){return this.height};f.BF=function(){return this.Da};function Fu(a){return{type:ib("type",a.type),placeholder:H("placeholder",a.placeholder),url:H("url",a.url),image:H("image",a.mn),top:db("top",a.top),left:db("left",a.left),width:db("width",a.width),height:db("height",a.height),transparency:eb("transparency",a.Da)}}
function Pu(a){return new ov({type:B("type",a),placeholder:C("placeholder",a),url:C("url",a),mn:C("image",a),top:y("top",a),left:y("left",a),width:y("width",a),height:y("height",a),Da:A("transparency",a)})}function pv(a){this.bucket=a.bucket;this.key=a.key;this.url=a.url;this.width=a.width;this.height=a.height}pv.prototype.getKey=function(){return this.key};pv.prototype.ma=function(){return this.url};pv.prototype.j=function(){return this.width};pv.prototype.o=function(){return this.height};
function Gu(a){return{bucket:H("bucket",a.bucket),key:H("key",a.key),url:H("url",a.url),width:eb("width",a.width),height:eb("height",a.height)}}function Qu(a){return new pv({bucket:C("bucket",a),key:C("key",a),url:C("url",a),width:A("width",a),height:A("height",a)})}function qv(a){this.locale=a.locale;this.name=a.name;this.mj=a.mj;this.WL=a.WL;this.od=a.od}qv.prototype.bg=function(){return this.locale};qv.prototype.getName=function(){return this.name};qv.prototype.je=function(){return this.od};
function Hu(a){return{locale:ib("locale",a.locale),name:H("name",a.name),sentenceName:H("sentenceName",a.mj),gender:H("gender",a.WL),thumbnail:jb(Gu,"thumbnail",a.od)}}function Ru(a){return new qv({locale:B("locale",a),name:C("name",a),mj:C("sentenceName",a),WL:C("gender",a),od:D(Qu,"thumbnail",a)})}function Zu(a){this.height=a.height;this.width=a.width;this.units=a.units}Zu.prototype.o=function(){return this.height};Zu.prototype.j=function(){return this.width};Zu.prototype.Nj=function(){return this.units};
function Iu(a){return{height:db("height",a.height),width:db("width",a.width),units:lb(Au,"units",a.units)}}function Su(a){return new Zu({height:y("height",a),width:y("width",a),units:Qa(Bu,"units",a)})}function rv(a){switch(a){case "PIXELS":return"px";case "CENTIMETERS":return"cm";case "INCHES":return"in";case "MILLIMETERS":return"mm";default:throw Error("Unknown units: "+a);}}Zu.prototype.print=function(){var a=this.j(),b=this.o(),c=rv(this.Nj());return a+" "+c+"  "+b+" "+c};
function Zg(a){var b;switch(a.Nj()){case "PIXELS":return a;case "CENTIMETERS":b=a.j()/2.54*96;a=a.o()/2.54*96;break;case "INCHES":b=96*a.j();a=96*a.o();break;case "MILLIMETERS":b=a.j()/25.4*96;a=a.o()/25.4*96;break;default:throw Error("Unknown units: "+a.Nj());}return new Zu({units:"PIXELS",width:b,height:a})}function av(a){this.Pc=a.Pc}function Ju(a){return{dpi:eb("dpi",a.Pc)}}function Tu(a){return new av({Pc:A("dpi",a)})}
function $u(a){this.We=a.We;this.Zo=a.Zo;this.Pc=a.Pc;this.Vj=a.Vj;this.aq=a.aq}function Ku(a){return{fileType:H("fileType",a.We),compression:H("compression",a.Zo),dpi:eb("dpi",a.Pc),jpgQuality:eb("jpgQuality",a.Vj),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.aq)}}function Uu(a){return new $u({We:C("fileType",a),Zo:C("compression",a),Pc:A("dpi",a),Vj:A("jpgQuality",a),aq:A("jpgTargetFileSizeKb",a)})}
function su(a){return{category:H("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.gC),multiPage:hb("multiPage",a.Hs),newPageElements:kb(Fu,"newPageElements",a.Wv),thumbnail:jb(Gu,"thumbnail",a.od),descriptions:nb(Hu,"descriptions",a.Xy),dimensions:jb(Iu,"dimensions",a.qb),pdfExportSettings:jb(Ju,"pdfExportSettings",a.Rs),imageExportSettings:jb(Ku,"imageExportSettings",a.Qp)}}function sv(a){this.tc=a.tc}function tu(a){return new sv({tc:Pa(Ou,"docType",a)})}
function tv(a){this.id=a.id;this.Rp=a.Rp;this.locale=a.locale}tv.prototype.u=function(){return this.id};tv.prototype.bg=function(){return this.locale};tv.prototype.fr=function(){var a={id:ib("id",this.id),includeAllDescriptions:gb("includeAllDescriptions",this.Rp),locale:H("locale",this.locale)};return Object.keys(a).map(function(b){var c=a[b];if(void 0!==c&&"object"!==typeof c)return b+"\x3d"+encodeURIComponent(c)}).filter(function(a){return!!a}).join("\x26")};function uv(a){this.tc=a.tc}
function ru(a){return new uv({tc:Pa(Ou,"docType",a)})}function vv(a){this.limit=a.limit;this.visible=a.visible;this.Rp=a.Rp;this.sl=a.sl||[];this.Z=a.Z}vv.prototype.Cd=function(){return this.limit};vv.prototype.Fb=function(){return this.Z};function wv(a){this.Cu=a.Cu||[];this.Z=a.Z}wv.prototype.Fb=function(){return this.Z};function vu(a){return new wv({Cu:F(Ou,"docTypes",a),Z:C("continuation",a)})};function xv(a,b){switch(b){case "DOWNLOAD":return"DOWNLOAD";case "WORKFLOW":return"WORKFLOW";default:throw new TypeError('expected DestinationCode for property "'+a+'", found: '+JSON.stringify(b));}}function yv(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected FileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function zv(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "LOSSY":return"LOSSY";case "NONE":return"NONE";default:throw new TypeError('expected OptimizationStrategy for property "'+a+'", found: '+JSON.stringify(b));}}function Av(a,b){switch(b){case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected ExportMediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Bv(a,b){switch(b){case "HIGH":return"HIGH";case "MEDIUM":return"MEDIUM";case "LOW":return"LOW";default:throw new TypeError('expected Priority for property "'+a+'", found: '+JSON.stringify(b));}}function Cv(a,b){switch(b){case "COMPLETE":return"COMPLETE";case "FAILED":return"FAILED";case "CREATED":return"CREATED";default:throw new TypeError('expected ExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Dv(a){this.eu=a.eu;this.Uk=a.Uk;this.JK=a.JK;this.XT=a.XT;this.HQ=a.HQ;this.tw=a.tw;this.FX=a.FX;this.JX=a.JX;this.lY=a.lY;this.jX=a.jX||[];this.Jw=a.Jw}
function Ev(a){return{attachment:hb("attachment",a.eu),docId:ib("docId",a.Uk),docVersion:eb("docVersion",a.JK),docMedia:jb(Fv,"docMedia",a.XT),spec:jb(Gv,"spec",a.HQ),priority:mb(Bv,"priority",a.tw),pollableJob:hb("pollableJob",a.FX),prefetchDocument:hb("prefetchDocument",a.JX),renderSpec:jb(Hv,"renderSpec",a.lY),outputSpecs:kb(Iv,"outputSpecs",a.jX),schema:lb(Js,"schema",a.Jw)}}function Jv(a){return{bleedMicrons:eb("bleedMicrons",a.haa),resizeBleedBackground:gb("resizeBleedBackground",a.pba)}}
function Hv(a){return{bleed:jb(Jv,"bleed",a.ju),crops:gb("crops",a.Jr),mediaQuality:lb(Av,"mediaQuality",a.KA),mediaDpi:db("mediaDpi",a.Bs),pages:fb(a.O),watermark:gb("watermark",a.Rba),scaleFactor:eb("scaleFactor",a.Id),removeCanvas:hb("removeCanvas",a.ct)}}function Kv(a){return{type:lb(Lv,"type",a.type),queue:jb(Mv,"queue",a.queue),workflow:jb(Nv,"workflow",a.Ch)}}
function Lv(a,b){switch(b){case "WORKFLOW":return"WORKFLOW";case "QUEUE":return"QUEUE";default:throw new TypeError('expected Destination2Type for property "'+a+'", found: '+JSON.stringify(b));}}function Mv(a){return{queueName:ib("queueName",a.kba),token:H("token",a.Bo),expiryHours:eb("expiryHours",a.Baa)}}function Nv(a){return{taskToken:ib("taskToken",a.Gba)}}
function Iv(a){return{destination:jb(Kv,"destination",a.destination),format:lb(yv,"format",a.format),pages:fb(a.O),jpg:jb(Ov,"jpg",a.yA),png:jb(Pv,"png",a.uB),pdf:jb(Qv,"pdf",a.bba)}}function Ov(a){return{width:eb("width",a.width),height:eb("height",a.height),jpgQuality:eb("jpgQuality",a.Vj),targetImageSizeKb:eb("targetImageSizeKb",a.Dx),zipped:hb("zipped",a.MI)}}
function Pv(a){return{width:eb("width",a.width),height:eb("height",a.height),zipped:hb("zipped",a.MI),optimizationStrategy:mb(zv,"optimizationStrategy",a.tO)}}function Qv(a){return{rasterizePages:hb("rasterizePages",a.lba)}}function Rv(a){this.type=a.type;this.ju=a.ju;this.Jr=a.Jr;this.destination=a.destination;this.Bs=a.Bs;this.format=a.format;this.tO=a.tO;this.KA=a.KA;this.O=a.O||[];this.Dx=a.Dx;this.AV=a.AV;this.wV=a.wV;this.MI=a.MI;this.Vj=a.Vj;this.ct=a.ct}Rv.prototype.jb=function(){return this.type};
Rv.prototype.Gb=function(){return this.O};
function Gv(a){return{type:lb(Sv,"type",a.type),bleed:hb("bleed",a.ju),crops:hb("crops",a.Jr),destination:mb(xv,"destination",a.destination),mediaDpi:db("mediaDpi",a.Bs),format:lb(yv,"format",a.format),optimizationStrategy:mb(zv,"optimizationStrategy",a.tO),mediaQuality:lb(Av,"mediaQuality",a.KA),pages:fb(a.O),targetImageSizeKb:eb("targetImageSizeKb",a.Dx),imageWidth:eb("imageWidth",a.AV),imageHeight:eb("imageHeight",a.wV),zipped:hb("zipped",a.MI),jpgQuality:eb("jpgQuality",a.Vj),removeCanvas:hb("removeCanvas",
a.ct)}}function Sv(a,b){switch(b){case "CUSTOM":return"CUSTOM";case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";default:throw new TypeError('expected ExportType for property "'+a+'", found: '+JSON.stringify(b));}}function Tv(a){this.Dj=a.Dj}Tv.prototype.eM=function(){return this.Dj};function Uv(a){return new Tv({Dj:Pa(Vv,"export",a)})}function Wv(a){this.id=a.id;this.gB=a.gB;this.status=a.status}Wv.prototype.u=function(){return this.id};Wv.prototype.zf=function(){return this.status};
function Vv(a){return new Wv({id:A("id",a),gB:D(Xv,"output",a),status:Qa(Cv,"status",a)})}function Yv(a){this.title=a.title;this.$E=a.$E||[]}Yv.prototype.sb=function(){return this.title};function Xv(a){return new Yv({title:C("title",a),$E:F(Zv,"exportBlobs",a)})}function $v(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url;this.width=a.width;this.height=a.height}f=$v.prototype;f.getKey=function(){return this.key};f.R=function(){return this.page};f.ma=function(){return this.url};
f.j=function(){return this.width};f.o=function(){return this.height};function Zv(a){return new $v({bucket:B("bucket",a),key:B("key",a),page:y("page",a),url:C("url",a),width:A("width",a),height:A("height",a)})}function aw(a){this.eu=a.eu;this.id=a.id}aw.prototype.u=function(){return this.id};function bw(a){this.Dj=a.Dj}bw.prototype.eM=function(){return this.Dj};function cw(a){return new bw({Dj:Pa(Vv,"export",a)})}function dw(a){this.id=a.id}dw.prototype.u=function(){return this.id};
function ew(){}function fw(){return new ew};function gw(a,b){this.N=a;this.path="/export";this.IN=void 0!=b?b.IN:1E3;this.tW=void 0!=b?b.tW:3E4;this.JV=void 0!=b?b.JV:1.6}gw.prototype.$D=function(a){var b=this;return wj(this.N,this.path,Ev(a)).get(0).then(La).then(Uv).bind(this).then(function(a){w(a.Dj.id);var d=a.Dj.id;return hw(b,a.Dj,b.IN).catch(P.CancellationError,function(a){return iw(b,new dw({id:d})).finally(function(){return P.reject(a)})})})};
function hw(a,b,c){c=Math.max(c||0,a.IN);return"FAILED"===b.status?P.reject(b):"CREATED"!==b.status?P.resolve(b):P.delay(c).cancellable().bind(a).then(function(){Ca(!!b.id,"Job id required to get an export");return this.eM(new aw({id:b.id,eu:!0}))}).then(function(a){return hw(this,a.Dj,Math.min(c*this.JV,this.tW))})}gw.prototype.eM=function(a){return yj(this.N,this.path+"/"+encodeURIComponent(a.id+"")+("?attachment\x3d"+encodeURIComponent(a.eu+""))).get(0).then(La).then(cw)};
function iw(a,b){return Pk(a.N,a.path+"/"+encodeURIComponent(b.id+"")).get(0).then(La).then(fw)};var jw={x$:"FACEBOOK",D$:"GOOGLE",I$:"LINKEDIN",K$:"PINTEREST",U$:"TUMBLR",V$:"TWITTER",Z$:"WEIBO"};function kw(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+'", found: '+JSON.stringify(b));}}
function lw(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+'", found: '+JSON.stringify(b));}}
function mw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function nw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function ow(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}function pw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function qw(a){this.platform=a.platform;this.tR=a.tR;this.jv=a.jv||[];this.Au=a.Au||[];this.username=a.username}qw.prototype.eg=function(){return this.username};function rw(a){return new qw({platform:Qa(lw,"platform",a),tR:Ma("userDeniedAuthorization",a),jv:Sa(nw,"grantedPermissions",a),Au:Sa(nw,"deniedPermissions",a),username:C("username",a)})};var sw={neverShowReplacePageContentWarning:"aa"};function tw(a){this.N=a;this.path="/profile"}tw.prototype.va=P.method(function(a){return yj(this.N,this.path+"/users/"+encodeURIComponent(a)).get(0).then(uw)});function vw(a,b){return yj(a.N,a.path+"/users/"+encodeURIComponent(b)+"?detailed").get(0).then(ww)}
function xw(a){return yj(a.N,a.path+"/user/uiinfo").get(0).then(function(a){for(var c=_.invert(sw),d=ma(Object.keys(a)),e=d.next();!e.done;e=d.next())e=e.value,c[e]&&(a[c[e]]=a[e],delete a[e]);return a})}function yw(a,b,c){return xw(a).then(function(a){sw[b]&&(delete a[b],b=sw[b]);if(a[b]===c)return a;a[b]=c;return wj(this.N,this.path+"/user/uiinfo",a).get(0)}.bind(a))}function zw(a,b){return wj(a.N,a.path+"/brands/"+encodeURIComponent(b.brand),b).get(0).then(Aw)}
tw.prototype.ia=function(a){return yj(this.N,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Bw)};tw.prototype.EY=P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations";return wj(this.N,b,a).spread(Cw)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?"+(null!=a.Fb()?"\x26continuation\x3d"+encodeURIComponent(a.Fb()):"")+(null!=a.Cd()?"\x26limit\x3d"+encodeURIComponent(a.Cd()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"");return yj(this.N,a).spread(Dw)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?update\x3dtrue";return wj(this.N,b,a).spread(Ew)});
tw.prototype.Yr=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ia())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Fb()?"\x26continuation\x3d"+encodeURIComponent(a.Fb()):"")+(null!=a.Cd()?"\x26limit\x3d"+encodeURIComponent(a.Cd()):"")+(null!=a.CF()?"\x26users\x3d"+encodeURIComponent(a.CF().join(",")):
"");return yj(this.N,a).spread(Fw)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/members";return wj(this.N,b,a).spread(Gw)});function Hw(a,b){return yj(a.N,a.path+"/users/"+encodeURIComponent(b.user)+"/oauth/"+encodeURIComponent(b.platform)).get(0).then(La).then(Iw)};var Am="MEMBER";function Qh(a,b){switch(b){case "MEMBER":return Am;case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function Jw(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Kw(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Lw(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}
function Mw(a,b){switch(b){case "ROOT":return"ROOT";case "USER":return"USER";case "REVIEWER":return"REVIEWER";case "ETCHER":return"ETCHER";case "SUPPORT":return"SUPPORT";case "THIRD_PARTY":return"THIRD_PARTY";case "FUSION":return"FUSION";case "MARKETPLACE_ADMIN":return"MARKETPLACE_ADMIN";default:throw new TypeError('expected UserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Nw(a){this.platform=a.platform;this.valid=a.valid;this.permissions=a.permissions||[];this.jv=a.jv||[];this.Au=a.Au||[];this.username=a.username;this.ug=a.ug}Nw.prototype.eg=function(){return this.username};Nw.prototype.YL=function(){return this.ug};function Ow(a){return new Nw({platform:Qa(lw,"platform",a),valid:Ma("valid",a),permissions:Sa(nw,"permissions",a),jv:Sa(nw,"grantedPermissions",a),Au:Sa(nw,"deniedPermissions",a),username:C("username",a),ug:C("avatarUrl",a)})}
function Pw(a){this.user=a.user;this.platform=a.platform;this.F2=a.F2}Pw.prototype.va=function(){return this.user};function Qw(a){this.summary=a.summary}function Iw(a){return new Qw({summary:Pa(Ow,"summary",a)})}function Rw(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}Rw.prototype.getVersion=function(){return this.version};Rw.prototype.zf=function(){return this.status};
function Sw(a){return{version:db("version",a.version),sizes:nb(Tw,"sizes",a.sizes),status:mb(Jw,"status",a.status)}}function Uw(a){return new Rw({version:y("version",a),sizes:Ta(Vw,"sizes",a),status:Ra(Kw,"status",a)})}function Ww(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}Ww.prototype.Kp=function(){return this.size};Ww.prototype.j=function(){return this.width};Ww.prototype.o=function(){return this.height};Ww.prototype.ma=function(){return this.url};
function Tw(a){return{size:db("size",a.size),width:db("width",a.width),height:db("height",a.height),url:ib("url",a.url)}}function Vw(a){return new Ww({size:y("size",a),width:y("width",a),height:y("height",a),url:B("url",a)})}function ao(a){this.Dg=a.Dg;this.name=a.name}ao.prototype.getName=function(){return this.name};function Xw(a){return new ao({Dg:B("hexString",a),name:C("name",a)})}function Zn(a){this.dd=a.dd||[];this.name=a.name}Zn.prototype.Cg=function(){return this.dd};
Zn.prototype.getName=function(){return this.name};function Yw(a){return new Zn({dd:F(Xw,"colors",a),name:C("name",a)})}function Zw(a){this.family=a.family;this.size=a.size;this.bold=a.bold;this.italic=a.italic;this.media=a.media}Zw.prototype.Kp=function(){return this.size};Zw.prototype.Mb=function(){return this.media};function $w(a){return new Zw({family:C("family",a),size:y("size",a),bold:Na("bold",a),italic:Na("italic",a),media:D(fn,"media",a)})}
function ax(a){this.name=a.name;this.font=a.font}ax.prototype.getName=function(){return this.name};function bx(a){return new ax({name:C("name",a),font:D($w,"font",a)})}function cx(a){this.name=a.name;this.EC=a.EC||[]}cx.prototype.getName=function(){return this.name};function dx(a){return new cx({name:C("name",a),EC:F(bx,"textStyles",a)})}function ex(a){this.Qb=a.Qb;this.Ey=a.Ey||[];this.DC=a.DC||[]}ex.prototype.xp=function(){return this.Qb};
function gx(a){return new ex({Qb:D(Xw,"brandColor",a),Ey:F(Yw,"colorPalettes",a),DC:F(dx,"textStylePalettes",a)})}function hx(a){this.id=a.id;this.username=a.username;this.tB=a.tB;this.displayName=a.displayName;this.FM=a.FM;this.Nd=a.Nd;this.Cb=a.Cb;this.zD=a.zD;this.AH=a.AH||[];this.locale=a.locale;this.nE=a.nE}f=hx.prototype;f.u=function(){return this.id};f.eg=function(){return this.username};f.Nz=function(){return this.tB};f.rb=function(){return this.displayName};f.bs=function(){return this.Nd};
f.Yi=function(){return this.Cb};f.RU=function(){return this.zD};f.ns=function(){return this.AH};f.bg=function(){return this.locale};function ix(){this.enabled=null;this.allowedReferrers=[]}ix.prototype.isEnabled=function(){return this.enabled};function jx(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.layoutContributor=this.contributor=this.personal=!1;this.billingInfo=this.brandKit=this.apiSettings=null}f=jx.prototype;f.u=function(){return this.id};f.rb=function(){return this.displayName};f.$L=function(){return this.brandname};f.NV=function(){return this.contributor};f.TV=function(){return this.layoutContributor};
f.Vh=function(){return this.personal};f.WV=function(){return this.thirdParty};f.yp=function(){return this.brandKit?gx(this.brandKit):null};function Aw(a){if(!a)return null;a=If(jx,a);var b;b=(b=a.apiSettings)?If(ix,b):null;a.apiSettings=b;return a}function kx(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.iaa||null;this.personal=a.Ss||!1;this.contributor=a.maa||!1;this.layoutContributor=a.Uaa||!1;this.thirdParty=a.Iba||!1;this.brandColor=a.Qb||null}f=kx.prototype;
f.u=function(){return this.id};f.rb=function(){return this.displayName};f.$L=function(){return this.brandname};f.NV=function(){return this.contributor};f.TV=function(){return this.layoutContributor};f.Vh=function(){return this.personal};f.WV=function(){return this.thirdParty};f.xp=function(){return this.brandColor};function Bw(a){return a?If(kx,a):null}
function lx(){this.brand="";this.owner=this.billingInfo=this.hiddenMagicTemplates=this.personal=this.brandKit=this.apiSettings=this.displayName=this.brandname=null}f=lx.prototype;f.Go=function(a){this.brand=a;return this};f.u=function(){return this.brand};f.Lt=function(a){this.brandname=a;return this};f.getName=function(){return this.brandname};function mx(a,b){a.displayName=b;return a}f.rb=function(){return this.displayName};function nx(a){a.personal=!1;return a}
function ox(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.tB||"";this.displayName=a.displayName||"";this.homepage=a.FM||null;this.city=a.Nd||null;this.countryCode=a.Cb||null;this.avatar=a.zD||null;this.roles=a.AH||[];this.deactivated=a.nE||!1;this.locale=a.locale||"en"}f=ox.prototype;f.u=function(){return this.id};f.eg=function(){return this.username};f.Nz=function(){return this.personalBrand};f.rb=function(){return this.displayName};f.bs=function(){return this.city};
f.Yi=function(){return this.countryCode};f.wp=function(){return this.avatar};f.ns=function(){return this.roles};function uw(a){if(!a)return null;a=If(ox,a);a.avatar&&(a.avatar=Uw(a.avatar));return a}function Hk(a){return uw(a)}
f.GC=function(){var a=Object.assign({},this,{avatar:this.avatar&&Sw(this.avatar)});return new hx({id:B("id",a),username:C("username",a),tB:C("personalBrand",a),displayName:C("displayName",a),FM:C("homepage",a),Nd:C("city",a),Cb:Ra(Lw,"countryCode",a),zD:Pa(Uw,"avatar",a),AH:Sa(Mw,"roles",a),locale:B("locale",a),nE:Ma("deactivated",a)})};f.YL=function(a){var b=this.wp();return b&&(a=b.sizes.get(a))?a.ma():null};function px(){}
function qx(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailVerified=!1;this.emailStatus=null;this.username="";this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.avatars=[];this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=null;this.roles=[];this.personalBrand="";this.brands={};this.uiInfo=null;this.features=[];this.locale="";this.profession=null}f=qx.prototype;f.u=function(){return this.id};
f.rb=function(){return this.displayName};f.xf=function(){return this.email};f.PV=function(){return this.emailStatus?"VERIFIED"===this.emailStatus:this.emailVerified};f.eg=function(){return this.username};f.bs=function(){return this.city};f.Yi=function(){return this.countryCode};f.IY=function(a){this.countryCode=a};f.wp=function(){return this.avatar};f.ns=function(){return this.roles};f.Nz=function(){return this.personalBrand};f.SU=function(){return this.brands};f.Tz=function(){return this.uiInfo};
f.bg=function(){return this.locale};f.setLocale=function(a){this.locale=a};function ww(a){var b;if(!a)return null;b=If(qx,a);b.avatar&&(b.avatar=Uw(b.avatar));a.userNotificationSettings&&(b.userNotificationSettings=If(px,a.userNotificationSettings));return b}f.YL=function(a){var b=this.wp();return b&&(a=b.sizes.get(a))?a.ma():null};
f.GC=function(){return uw({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&Sw(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var rx=Uw({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function sx(){}
sx.prototype.xf=function(){return this.email};sx.prototype.$i=function(){return this.role};function tx(){}tx.prototype.yi=function(a){this.brand=a;return this};tx.prototype.ia=function(){return this.brand};function ux(a,b){a.invitees=b;return a}function vx(a,b){a.utmContent=b;return a}function wx(){}function Cw(a){return Object.freeze(If(wx,a))}function xx(){}xx.prototype.Fb=function(){return this.continuation};xx.prototype.getCount=function(){return this.count};
function Dw(a){return Object.freeze(If(xx,a))}function yx(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.lj}yx.prototype.va=function(){return this.user};yx.prototype.xf=function(){return this.email};yx.prototype.$i=function(){return this.role};function zx(a){a=If(yx,a);a.user=uw(a.user);return Object.freeze(a)}function Ax(){}f=Ax.prototype;f.yi=function(a){this.brand=a;return this};f.ia=function(){return this.brand};f.zi=function(a){this.continuation=a;return this};f.Fb=function(){return this.continuation};
f.sg=function(a){this.limit=a;return this};f.Cd=function(){return this.limit};function Bx(a){a.includeAvatars=!0;return a}function Cx(a){a.includeEmails=!0;return a}function Dx(a){a.countOnly=!0;return a}function Ex(a,b){a.users=b;return a}f.CF=function(){return this.users};function Fx(a){a=void 0===a?{}:a;this.members=a.Bn}Fx.prototype.fv=function(){return this.members};Fx.prototype.Fb=function(){return this.continuation};Fx.prototype.getCount=function(){return this.count};
function Fw(a){a=If(Fx,a);a.members&&(a.members=a.members.map(zx));return Object.freeze(a)}function Gx(){}Gx.prototype.fv=function(){return this.members};Gx.prototype.ia=function(){return this.brand};function Gw(a){a=If(Gx,a);a.members&&(a.members=a.members.map(zx));return Object.freeze(a)}function Hx(){}function Ew(a){return Object.freeze(If(Hx,a))};function Ix(){this.N=Gb;this.path="/social"};function Jx(){}function Kx(){var a=If(Jx,window.clientInfo),b;b=If(Lx,a.brandInfo);b.brand=Bw(b.brand);b.subscription&&(b.subscription=fj(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=If(Mx,a.user);b.avatar&&(b.avatar=Uw(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function Nx(a){return a.brandInfo}function Ox(a){return a.user}function Lx(){}Lx.prototype.ia=function(){return this.brand};Lx.prototype.yp=function(){return this.brandKit?gx(this.brandKit):null};
Lx.prototype.getSubscription=function(){return this.subscription||null};function Px(a){return a.brandMembersCount}function Qx(a){return a.brandInvitationsCount}function Mx(){}f=Mx.prototype;f.u=function(){return this.id};f.RU=function(){return this.avatar};f.xf=function(){return this.email};f.PV=function(){return this.emailVerified};f.eg=function(){return this.username};f.rb=function(){return this.displayName};f.ns=function(){return this.roles};f.Nz=function(){return this.personalBrand};f.Tz=function(){return this.uiInfo};
f.bg=function(){return this.locale};f.Hz=function(){return this.country};f.GC=function(){return uw({id:this.u(),username:this.eg(),personalBrand:this.Nz(),displayName:this.rb(),avatar:Sw(this.RU()),roles:this.ns(),countryCode:this.Hz(),locale:this.bg()})};function Rx(){this.N=Gb;this.url="/session"}function Sx(a){return wj(a.N,a.url+"/brand?invalidateCache",null)}function Tx(a){return wj(a.N,a.url+"/user?invalidateCache",null)};function Ux(a){this.N=a;this.url="/shares"}Ux.prototype.oM=function(a){return yj(this.N,this.url+"/"+encodeURIComponent(a.id)).get(0).then(La).then(Vx)};function Wx(a,b){return wj(a.N,a.url+"/targetqueues",Xx(b)).get(0).then(La).then(Yx)}
function Zx(a,b){return yj(a.N,a.url+"/targetqueues?"+(b.user?"\x26user\x3d"+encodeURIComponent(b.user):"")+(b.D?"\x26brand\x3d"+encodeURIComponent(b.D):"")+(b.jf?"\x26targetType\x3d"+encodeURIComponent(b.jf):"")+(b.externalId?"\x26externalId\x3d"+encodeURIComponent(b.externalId):"")+(b.platform?"\x26platform\x3d"+encodeURIComponent(b.platform):"")+(b.Z?"\x26continuation\x3d"+encodeURIComponent(b.Z):"")+("\x26limit\x3d"+encodeURIComponent(String(b.limit)))).get(0).then(La).then($x)}
function ay(a,b){return wj(a.N,a.url+"/email/document/"+encodeURIComponent(b.nb),by(b)).get(0).then(La).then(cy)}function dy(a,b){return yj(a.N,a.url+"/email/quota/"+encodeURIComponent(b.Pw)).get(0).then(La).then(ey)};function fy(a,b){switch(b){case "NEW":return"NEW";case "IN_PROGRESS":return"IN_PROGRESS";case "SUCCESS":return"SUCCESS";case "FAILURE":return"FAILURE";default:throw new TypeError('expected Status for property "'+a+'", found: '+JSON.stringify(b));}}
function gy(a,b){switch(b){case "PREPARATION_REQUIRED":return"PREPARATION_REQUIRED";case "PREPARATION_STARTED":return"PREPARATION_STARTED";case "PREPARATION_COMPLETED":return"PREPARATION_COMPLETED";case "PREPARATION_FAILED":return"PREPARATION_FAILED";default:throw new TypeError('expected PreparationStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function hy(a,b){switch(b){case "WAITING_FOR_MEDIA":return"WAITING_FOR_MEDIA";case "READY_FOR_UPLOAD":return"READY_FOR_UPLOAD";case "MEDIA_GENERATION_FAILED":return"MEDIA_GENERATION_FAILED";case "UPLOAD_IN_PROGRESS":return"UPLOAD_IN_PROGRESS";case "UPLOAD_COMPLETED":return"UPLOAD_COMPLETED";case "UPLOAD_FAILED":return"UPLOAD_FAILED";case "DELETED_BY_USER":return"DELETED_BY_USER";case "SKIPPED":return"SKIPPED";default:throw new TypeError('expected UploadTaskStatus for property "'+a+'", found: '+JSON.stringify(b));
}}function iy(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function jy(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function ky(a,b){switch(b){case "DELETED":return"DELETED";case "RESTRICTED":return"RESTRICTED";case "UNRESTRICTED":return"UNRESTRICTED";default:throw new TypeError('expected TargetQueueStatus for property "'+a+'", found: '+JSON.stringify(b));}}function ly(a,b){switch(b){case "DELETED":return"DELETED";case "RESTRICTED":return"RESTRICTED";case "UNRESTRICTED":return"UNRESTRICTED";default:throw new TypeError('expected TargetQueueStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function my(a){this.platform=a.platform;this.jf=a.jf;this.externalId=a.externalId}function ny(a){return{platform:lb(kw,"platform",a.platform),targetType:lb(ow,"targetType",a.jf),externalId:H("externalId",a.externalId)}}
function oy(a){this.id=a.id;this.platform=a.platform;this.Ex=a.Ex;this.NS=a.NS||[];this.version=a.version;this.document=a.document;this.Zb=a.Zb;this.message=a.message;this.title=a.title;this.GA=a.GA;this.status=a.status;this.TZ=a.TZ;this.KT=a.KT;this.url=a.url;this.qp=a.qp;this.PT=a.PT;this.SZ=a.SZ;this.RZ=a.RZ}f=oy.prototype;f.u=function(){return this.id};f.getVersion=function(){return this.version};f.getDocument=function(){return this.document};f.sb=function(){return this.title};f.zf=function(){return this.status};
f.ma=function(){return this.url};f.WU=function(){return this.qp};
function py(a){return new oy({id:B("id",a),platform:Qa(lw,"platform",a),Ex:D(qy,"targetQueue",a),NS:F(ry,"attachments",a),version:y("version",a),document:C("document",a),Zb:A("documentVersion",a),message:C("message",a),title:C("title",a),GA:C("linkUrl",a),status:Qa(fy,"status",a),TZ:Ra(hy,"uploadTaskStatus",a),KT:Na("deleted",a),url:C("url",a),qp:C("errorMessage",a),PT:A("desiredUploadDate",a),SZ:A("uploadStartDate",a),RZ:A("uploadEndDate",a)})}
function sy(a){this.id=a.id;this.rf=a.rf;this.user=a.user;this.D=a.D;this.action=a.action;this.status=a.status;this.LX=a.LX;this.Ox=a.Ox||[]}sy.prototype.u=function(){return this.id};sy.prototype.va=function(){return this.user};sy.prototype.ia=function(){return this.D};sy.prototype.zf=function(){return this.status};
function ty(a){return new sy({id:B("id",a),rf:y("creationDate",a),user:B("user",a),D:B("brand",a),action:Qa(jy,"action",a),status:Qa(fy,"status",a),LX:Ra(gy,"preparationStatus",a),Ox:F(py,"uploads",a)})}function uy(a){this.id=a.id;this.user=a.user;this.D=a.D;this.platform=a.platform;this.jf=a.jf;this.externalId=a.externalId;this.vU=a.vU;this.wU=a.wU;this.paused=a.paused;this.GZ=a.GZ||[];this.HZ=a.HZ;this.ZX=a.ZX;this.yY=a.yY;this.timeZone=a.timeZone;this.status=a.status}uy.prototype.u=function(){return this.id};
uy.prototype.va=function(){return this.user};uy.prototype.ia=function(){return this.D};uy.prototype.zf=function(){return this.status};
function qy(a){return new uy({id:B("id",a),user:B("user",a),D:B("brand",a),platform:Qa(lw,"platform",a),jf:Qa(pw,"targetType",a),externalId:C("externalId",a),vU:C("externalName",a),wU:C("externalThumb",a),paused:Ma("paused",a),GZ:F(vy,"triggerPatterns",a),HZ:y("triggerPatternsCount",a),ZX:y("queuedUploadsCount",a),yY:y("scheduledUploadsCount",a),timeZone:C("timeZone",a),status:Ra(ly,"status",a)})}
function wy(a){this.user=a.user;this.D=a.D;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[];this.XZ=a.XZ||[];this.message=a.message;this.title=a.title;this.GA=a.GA;this.Aj=a.Aj;this.yK=a.yK||[];this.zt=a.zt||[];this.action=a.action;this.xY=a.xY}f=wy.prototype;f.va=function(){return this.user};f.ia=function(){return this.D};f.getDocument=function(){return this.document};f.Gb=function(){return this.O};f.sb=function(){return this.title};f.Be=function(){return this.Aj};
function xy(a){return{user:ib("user",a.user),brand:ib("brand",a.D),document:H("document",a.document),documentVersion:eb("documentVersion",a.Zb),pages:fb(a.O),userUploads:kb(yy,"userUploads",a.XZ),message:H("message",a.message),title:H("title",a.title),linkUrl:H("linkUrl",a.GA),draft:H("draft",a.Aj),destinations:kb(ny,"destinations",a.yK),targetQueues:$a.Ke("targetQueues",a.zt),action:lb(iy,"action",a.action),scheduleDate:H("scheduleDate",a.xY)}}function zy(a){this.id=a.id;this.Yl=a.Yl}
zy.prototype.u=function(){return this.id};zy.prototype.oM=function(){return this.Yl};function Ay(a){return new zy({id:B("id",a),Yl:Pa(ty,"share",a)})}function By(a){this.id=a.id}By.prototype.u=function(){return this.id};function Cy(a){this.Yl=a.Yl}Cy.prototype.oM=function(){return this.Yl};function Vx(a){return new Cy({Yl:Pa(ty,"share",a)})}function Dy(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.jf=a.jf;this.timeZone=a.timeZone;this.externalId=a.externalId;this.status=a.status}
Dy.prototype.va=function(){return this.user};Dy.prototype.ia=function(){return this.D};Dy.prototype.zf=function(){return this.status};function Xx(a){return{user:ib("user",a.user),brand:ib("brand",a.D),platform:lb(kw,"platform",a.platform),targetType:lb(ow,"targetType",a.jf),timeZone:H("timeZone",a.timeZone),externalId:H("externalId",a.externalId),status:mb(ky,"status",a.status)}}function Ey(a){this.Ex=a.Ex}function Yx(a){return new Ey({Ex:Pa(qy,"targetQueue",a)})}
function Fy(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.jf=a.jf;this.externalId=a.externalId;this.status=a.status;this.Z=a.Z;this.limit=a.limit}f=Fy.prototype;f.va=function(){return this.user};f.ia=function(){return this.D};f.zf=function(){return this.status};f.Fb=function(){return this.Z};f.Cd=function(){return this.limit};function Gy(a){this.zt=a.zt||[];this.Z=a.Z}Gy.prototype.Fb=function(){return this.Z};
function $x(a){return new Gy({zt:F(qy,"targetQueues",a),Z:C("continuation",a)})}function Hy(a){this.d=a.d;this.h=a.h;this.m=a.m}function vy(a){return new Hy({d:y("d",a),h:y("h",a),m:y("m",a)})}function Iy(a){this.nb=a.nb;this.$T=a.$T;this.mode=a.mode;this.eh=a.eh;this.ta=a.ta;this.Sr=a.Sr||[];this.xc=a.xc;this.Pw=a.Pw;this.RC=a.RC;this.tH=a.tH}Iy.prototype.hc=function(){return this.nb};Iy.prototype.getExtension=function(){return this.eh};
function by(a){return{documentId:ib("documentId",a.nb),documentUrl:H("documentUrl",a.$T),mode:ib("mode",a.mode),extension:H("extension",a.eh),brandId:H("brandId",a.ta),emails:$a.Ke("emails",a.Sr),imageUrl:H("imageUrl",a.xc),senderId:H("senderId",a.Pw),utmSource:H("utmSource",a.RC),recaptchaToken:H("recaptchaToken",a.tH)}}function Jy(a){this.qP=a.qP}function cy(a){return new Jy({qP:Na("recaptchaRequired",a)})}function Ky(a){this.Pw=a.Pw}function Ly(a){this.np=a.np}
function ey(a){return new Ly({np:y("emailsRemaining",a)})}function My(a){this.displayName=a.displayName;this.bucket=a.bucket;this.xV=a.xV;this.zV=a.zV;this.xc=a.xc;this.dr=a.dr;this.order=a.order}My.prototype.rb=function(){return this.displayName};My.prototype.Ym=function(){return this.order};function ry(a){return new My({displayName:C("displayName",a),bucket:B("bucket",a),xV:B("imageKey",a),zV:B("imageThumbKey",a),xc:B("imageUrl",a),dr:B("thumbUrl",a),order:A("order",a)})}
function yy(a){return{key:ib("key",a.key),displayName:ib("displayName",a.displayName)}};function rp(){}rp=Backbone.View.extend();rp.prototype.initialize=function(a){a=_.defaults({},a,{Ar:!0,content:$(),df:!0,ro:!0});this.G=a.G;this.Ar=!!a.Ar;this.content=a.content;this.Hd=new Ny({style:this.Ep(),G:this.G});this.listenTo(this.Hd,"maskClick",this.blur);this.result=1;this.df=!!a.df;this.Me=!!a.Me;this.ro=!!a.ro;this.title=a.ro?a.title:"";this.CU=null;this.nx=!1};rp.$R=300;f=rp.prototype;f.blur=function(){this.Ar&&(this.result=0,this.remove())};f.cancel=function(){this.result=1;this.remove()};
f.fail=function(a){this.result=3;this.CU=a||null;this.remove()};f.events=function(){return{"click .close":this.AG,"click .dialogMaskCloseButton":this.AG,"click button.done":this.ok}};f.Ep=function(){return Oy};f.ok=function(){this.result=2;this.remove()};f.AG=function(a){a.preventDefault();this.cancel()};
f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Hd.hide();this.nx=!1;this.trigger("hide",this.result);this.G.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},rp.$R);return this};f.render=function(){this.$el.html(this.template(this.hi()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
f.hi=function(){return{showCloseButton:this.df,showDialogMaskCloseButton:this.Me,showTitle:this.ro,title:this.title}};f.X8=function(a){this.$("h2").text(a);this.title=a};
f.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Hd.show(this.$el);this.nx=!0;this.trigger("show",this);pl(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};function up(a){return new P(function(a,c){this.once("hide",function(d){3!==d?a(d):c(this.CU)}.bind(this));this.show()}.bind(a))}f.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function Py(){}Py=rp.extend({className:"fontUploadDialog"});Py.create=function(a){return new Py(a)};f=Py.prototype;f.events=function(){return _.extend(rp.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.N4,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.dT})};f.initialize=function(a){rp.prototype.initialize.call(this,{G:ol,df:!0,Ar:!0,Me:!1});this.error=null;this.Yf=a.Yf;this.Cz=this.Yf.raa();this.opentype=opentype;this.progress=!1};
f.render=function(){rp.prototype.render.call(this);Qy(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.s4.bind(this));return this};
f.s4=function(){var a={message:this.Yf.mba()},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.kF=b[0],this.Cz=this.kF.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.Cz=b.names.fullName.en):this.error=a}catch(e){this.error=a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.kF);return}}else this.error=
{message:this.Yf.faa()};this.show()};f.N4=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html(this.Yf.fba()),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3e'+this.Yf.Oba()+"\x26hellip;\x3c/span\x3e"),this.kF&&this.trigger("fontUpload",this.kF)):Ry(this)};
function Sy(a){return{canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.jI:null,supportTitle:null!=a.error?a.error.Eba:"fonts",fontName:a.Cz,progress:a.progress||!1,sorrySomethingWentWrong:a.Yf.zba(),pleaseSeeSupportArticle:a.Yf.eba(),beforeYouUpload:a.Yf.gaa(),fontNameHeading:a.Yf.Faa(),ok:a.Yf.ok(),youMustConfirm:a.Yf.Tba(),iOwnThisFont:a.Yf.Iaa(),uploadAway:a.Yf.Nba(),cancelUpload:a.Yf.dT()}}
function Ry(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}f.qe=function(a){this.error=a;Qy(this)};function Qy(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.ZJ(Sy(a)))}f.WY=function(a){this.progress=Math.round(100*a);this.$(".buttonProgressIndicator").css("width",String(this.progress)+"%")};f.dT=function(){this.trigger("fontUploadCancel");this.cancel()};
f.ZJ=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3e\x3c%- sorrySomethingWentWrong %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3e\x3c%- pleaseSeeSupportArticle %\x3e\x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e \x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3e\x3c%- ok %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3e\x3c%- beforeYouUpload %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3e\x3c%- fontNameHeading %\x3e\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3e\x3c%- youMustConfirm %\x3e\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3e\x3c%- iOwnThisFont %\x3e\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3e\x3c%- uploadAway %\x3e\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3e\x3c%- cancelUpload %\x3e\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function Ty(){}Ty=Backbone.View.extend({className:"multipageDialog"});f=Ty.prototype;f.initialize=function(a){this.G=ol;this.vg=0;this.cF=a.cF||[];this.Ni=void 0===a.Ni||a.Ni;this.Me=!!a.Me;this.Hd=new Ny({G:this.G,style:Oy});this.O=a.O;this.O.forEach(function(a){this.listenTo(a,"next",this.f9);this.listenTo(a,"back",this.h9)},this)};f.events=function(){return{click:this.Gf,"click .dialogMaskCloseButton":this.hide}};
f.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.Hd.hide();this.G.setTimeout(function(){this.trigger("hide")}.bind(this),300)};f.Gf=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Ni&&this.hide()};
f.render=function(){var a=this;(function(){a.cF.forEach(function(b){a.$el.addClass(b)})})();(function(){a.O.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Me&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.O.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();Uy(this,this.vg);return this};
f.show=function(){this.$el.addClass("multipageDialogAppearing");this.Hd.show(this.render().$el);this.G.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};f.f9=function(){var a=this.vg+1;a>=this.O.length?this.hide():Uy(this,a)};f.h9=function(){var a=this.vg-1;0>a?this.hide():Uy(this,a)};
function Uy(a,b){a.trigger("pageChange",a.O[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.vg=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")};function Vy(a){var b={},c=a.DS.jl(),d=a.ap.j(),e=c-a.margin-a.CI.F(),g=a.CI.Ya()-c-a.margin;b.left=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.MW.F())+"px";c=a.DS.kl();d=a.ap.o();e=c-a.margin-a.CI.w();g=a.CI.ua()-c-a.margin;b.top=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.MW.w())+"px";return b}function Wy(a){this.jy=a.jy;this.Uz=a.Uz;this.margin=a.margin||0;this.sC=a.sC}
Wy.prototype.em=function(a,b){if(0!==b.length&&0!==a.length){this.jy(a);var c=a.get(0),d=b.get(0),e=c.offsetParent||c.ownerDocument.body;b=this.Uz().get(0)||c.ownerDocument.body;c=dh(c.getBoundingClientRect());d=dh(d.getBoundingClientRect());e=dh(e.getBoundingClientRect());b=dh(b.getBoundingClientRect());Mm(d,this.margin);Mm(b,-this.margin);b=this.sC({margin:this.margin,DS:d,ap:c,MW:e,CI:b});a.css(b)}};function Xy(){}Xy=rp.extend();Xy.prototype.initialize=function(a){rp.prototype.initialize.call(this,_.extend(a,{G:ol}));this.CK=a.CK};Xy.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.CK?this.CK:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var Ep="top",Yy={LEFT:"left",G$:"leftTop",S$:Ep,T$:"topLeft",M$:"rightTop"};function Zy(){}Zy=rp.extend();f=Zy.prototype;f.initialize=function(a){rp.prototype.initialize.call(this,_.extend({G:ol},a));this.Ue=a.Ue||"Done";this.jx=void 0!==a.jx?a.jx:!0;this.hy=null;this.HX=a.position instanceof Array?a.position:[a.position||Ep];this.position=null;this.Kf=_.defaults({},a.Kf,{left:0,top:0});this.dw=a.dw||!1;this.on("hide",this.FT);this.keydown=this.keydown.bind(this)};
f.f8=function(){$(document).off("keydown",this.keydown)};f.Ep=function(){return $y};f.getCurrentPosition=function(){return this.position};f.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.dw?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.jx&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Ue+"\x3c/button\x3e\x3c/p\x3e");return this};
f.li=function(a){if(!this.hy){var b=_.debounce(this.em.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();$(document).on("keydown",this.keydown);this.on("remove",this.f8);az(this,a);this.em();return this};function bz(){this.LO=this.Ml=this.dialogLeft=this.dialogTop=null}
f.em=function(){for(var a,b,c=0;c<this.HX.length;c++){a=b=this.HX[c];var d=this.dw?5:13,e=this.dw?20:40,g=this.hy,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),m=g.outerHeight(),n=this.$(".dialog").outerHeight(),p=this.$(".dialog").outerWidth(),q=this.$el.width(),g=new bz,u=Math.round(h.left+l/2-p/2);switch(a){case Ep:g.dialogLeft=u+p+10>q?q-p-10:u;g.dialogLeft+=this.Kf.left;g.dialogTop=Math.round(k)+m+d+this.Kf.top;a=u-g.dialogLeft;g.Ml="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+p+10>q?q-p-10:h.left;g.dialogLeft+=this.Kf.left;g.dialogTop=Math.round(k)+m+d+this.Kf.top;g.Ml=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+l+this.Kf.left;g.dialogTop=k-n/2+d+this.Kf.top;break;case "leftTop":g.dialogLeft=h.left+l+this.Kf.left+d;g.dialogTop=k+m/2-e+this.Kf.top;10>g.dialogTop&&(g.LO=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-p+this.Kf.left-d,g.dialogTop=k+m/2-e+this.Kf.top,10>g.dialogTop&&(g.LO=g.dialogTop-10,g.dialogTop=10)}d=a=g;e=this.$(".dialog");
if(!(d.dialogLeft+e.outerWidth()>$(window).width()||d.dialogTop+e.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(Yy).join(" ")).addClass(b);c.css("left",a.Ml||"");c.css("margin-top",a.LO||"");return this};function az(a,b){a.FT();a.hy=b;b.addClass("on");b.blur()}f.FT=function(){this.hy&&this.hy.removeClass("on")};
f.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function cz(a){soy.asserts.assertType(goog.isString(a.NI)||a.NI instanceof goog.soy.data.SanitizedContent,"zoomInLabel",a.NI,"string|goog.soy.data.SanitizedContent");var b=a.NI;soy.asserts.assertType(goog.isString(a.QI)||a.QI instanceof goog.soy.data.SanitizedContent,"zoomOutLabel",a.QI,"string|goog.soy.data.SanitizedContent");var c=a.QI;soy.asserts.assertType(goog.isString(a.nF)||a.nF instanceof goog.soy.data.SanitizedContent,"fullscreenModeLabel",a.nF,"string|goog.soy.data.SanitizedContent");var d=
a.nF;soy.asserts.assertType(goog.isString(a.yG)||a.yG instanceof goog.soy.data.SanitizedContent,"normalModeLabel",a.yG,"string|goog.soy.data.SanitizedContent");var e=a.yG,g=goog.asserts.assertArray(a.pf,"expected parameter 'zoomLevels' of type list\x3cstring\x3e."),h=goog.asserts.assertArray(a.s$,"expected parameter 'zoomTranslations' of type list\x3cstring\x3e."),k=goog.asserts.assertNumber(a.Bm,"expected parameter 'currentZoomIndex' of type int.");soy.asserts.assertType(goog.isString(a.gF)||a.gF instanceof
goog.soy.data.SanitizedContent,"fitLabel",a.gF,"string|goog.soy.data.SanitizedContent");var l=a.gF;soy.asserts.assertType(goog.isString(a.eF)||a.eF instanceof goog.soy.data.SanitizedContent,"fillLabel",a.eF,"string|goog.soy.data.SanitizedContent");var m=a.eF;soy.asserts.assertType(goog.isBoolean(a.Tr)||1===a.Tr||0===a.Tr,"enablePresentationMode",a.Tr,"boolean");a=!!a.Tr;b='\x3csection class\x3d"zoomer zoomer__pane '+(a?"zoomer--presentation":"")+'"\x3e\x3cdiv class\x3d"zoomer__toolbar"\x3e'+(a?'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__fullscreen" title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__normal" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/button\x3e\x3cdiv class\x3d"zoomer__divider"\x3e\x3c/div\x3e':"")+'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__out" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26ndash;\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__prev" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26nbsp;\x3c/button\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__zoomLevel"\x3e'+
soy.$$escapeHtml(g[k])+'\x3c/span\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__pageIndex"\x3e\x3c/span\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__in" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e+\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__next" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x26nbsp;\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popover zoomer__pane"\x3e\x3cul class\x3d"zoomer__popoverList"\x3e';
c=g.length;for(d=0;d<c;d++)e=g[d],b+='\x3cli data-zoom\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"zoomer__item zoomer__popoverItem '+(d==k?"zoomer__item--selected":"")+'"\x3e'+("fit"==e?soy.$$escapeHtml(l):"fill"==e?soy.$$escapeHtml(m):soy.$$escapeHtml(h[d]))+"\x3c/li\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+'\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popoverArrow"\x3e\x3c/div\x3e\x3c/section\x3e')};function dz(a,b,c){Backbone.View.call(this,{className:"zoomToolbar"});this.G=a;this.sj=b;this.Tr=c;this.pf=[];this.Bm=0;this.Zf=!1;this.Wx=this.tV=0;this.paused=!1;this.pp=this.pp.bind(this)}t(dz,Backbone.View);f=dz.prototype;f.oJ=function(a,b){this.pf=b;this.Bm=Math.max(0,b.indexOf("100%"));this.Wx=parseInt(this.pf[this.Bm],10);this.render().$el.appendTo(a)};
f.events=function(){return{"click .zoomer__out":this.n_,"click .zoomer__in":this.m_,"click .zoomer__next":this.e4,"click .zoomer__prev":this.I7,"click .zoomer__fullscreen":this.VL,"click .zoomer__normal":this.f4,"click .zoomer__popover .zoomer__item":this.r$,"click .zoomer__zoomLevel":this.yZ,"mouseenter .zoomer__popover":this.yZ.bind(this,!0),"mouseleave .zoomer":this.sV}};f.m_=function(){this.trigger("zoomInClick")};f.n_=function(){0<this.Bm&&this.trigger("zoomOutClick")};f.e4=function(){this.trigger("nextPageClick")};
f.I7=function(){this.trigger("prevPageClick")};f.VL=function(){this.trigger("presentationModeClick");this.pp()};f.f4=function(){this.exitFullscreen()};f.r$=function(a){this.trigger("zoomLevelClick",$(a.currentTarget).data("zoom"))};f.yZ=function(a){this.Zf||(this.G.clearTimeout(this.tV),this.$el.toggleClass("zoomer--expanded",a))};f.sV=function(){var a=this;this.tV=this.G.setTimeout(function(){a.$el.removeClass("zoomer--expanded")},500)};
f.h$=function(a,b){a="string"==typeof a?this.pf.indexOf(a):-1;-1<a&&(this.Bm=a);this.$el.removeClass("zoomer--minZoom zoomer--maxZoom");0===a?this.$el.addClass("zoomer--minZoom"):a===this.pf.indexOf("fill")-1&&this.$el.addClass("zoomer--maxZoom");a=this.pf[this.Bm];"number"!=typeof b||"fill"!=a&&"fit"!=a||(this.Wx=100*b,a=this.Wx.toFixed(1));a=this.sj.Wx(parseInt(a,10));this.$el.find(".zoomer__zoomLevel").text(a);this.$el.find(".zoomer__popoverItem").removeClass("zoomer__item--selected").eq(this.Bm).addClass("zoomer__item--selected")};
f.OZ=function(a){this.$el.removeClass("zoomer--firstPage zoomer--lastPage");var b=Xp(a);a=a.ic();0===b&&this.$el.addClass("zoomer--firstPage");b===a-1&&this.$el.addClass("zoomer--lastPage");this.$el.find(".zoomer__pageIndex").text(++b+" / "+a);this.Zf&&this.paused&&this.pp()};f.exitFullscreen=function(){this.Zf&&(this.$el.removeClass("zoomer--fullscreenMode"),this.Zf=!1,this.trigger("fullscreenMode",this.Zf))};
f.pp=function(){this.$el.addClass("zoomer--fullscreenMode");this.Zf=!0;this.sV();this.trigger("fullscreenMode",this.Zf)};function ez(a){a.paused=!1;$("body").removeClass("zoomer--fullscreenWindowMode");$("#content").off("click",a.pp)}
f.render=function(){var a=this;this.el.innerHTML=cz({pf:this.pf,Bm:this.Bm,Tr:this.Tr,s$:this.pf.map(function(b){return a.sj.Wx(parseInt(b,10))}),NI:this.sj.format("zoomToolbarZoomIn"),QI:this.sj.format("zoomToolbarZoomOut"),nF:this.sj.Zf(),yG:this.sj.format("zoomToolbarNormalMode"),eF:this.sj.fill(),gF:this.sj.format("zoomToolbarFit")});return this};var W=1;function fz(a,b,c,d,e,g){this.vd=a;this.Bi=b;this.EX=c;this.JO=!1;this.G=d;this.W=e;this.l=g;this.kB=!1;this.lastIndex=0;this.iw=!0;this.GW=0;this.HF=this.HF.bind(this)}function gz(a,b,c,d,e,g,h){d=new dz(ol,d,e.H.get(dg));a=new fz(a,d,a.$el,ol,e,g);hz(a);d.listenTo(c,"documentView:zoom",d.h$);d.listenTo(b,"page:change:selected",d.OZ);d.on("fullscreenMode",h);d.OZ(b);a.listenTo(c,"pausePresentationOnExit",a.n7);return a}
function hz(a){var b=$(".documentContainer"),c=_.values(iz);a.wM=a.wM.bind(a);a.Bi.oJ(b,c);a.listenTo(a.Bi,{zoomInClick:a.h1,zoomOutClick:a.j1,nextPageClick:a.OJ,prevPageClick:a.PJ,zoomLevelClick:a.i1,presentationModeClick:a.X0,fullscreenMode:a.X2});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){var b=$("body");if(jz())kz(a);else if(a.iw){a.lastIndex=Xp(a.vd.model);var c=a.Bi;$("body").addClass("zoomer--fullscreenWindowMode");c.paused=!0;
$("#content").on("click",c.pp);a.iw=b.hasClass("modalContentVisible")}else lz(a)});$(document).on("keyup",function(b){return mz(a,b)});$(window).on("mousewheel wheel",a.wM)}
function mz(a,b){if(!$("body").hasClass("modalContentVisible"))if(!b.metaKey&&!b.ctrlKey&&!b.altKey)switch(b.which){case 27:if(jz())return a.iw=!1,!0;a.Bi.paused&&lz(a);break;case 38:case 37:case 33:return a.PJ(),!1;case 40:case 39:case 34:case 32:case 13:return a.OJ(),!1;case 116:return a.Bi.VL(),!1}else if(b.ctrlKey&&b.shiftKey&&13===b.which)return a.Bi.VL(),!1}f=fz.prototype;f.X2=function(a){$("body");this.lastIndex=Xp(this.vd.model);a?(this.iw=!1,nz().pp()):(this.iw=!1,nz().exitFullscreen(),lz(this))};
function lz(a){var b=$("body");ez(a.Bi);a.Bi.exitFullscreen();R.jD=R.A_;b.off("mousemove",a.HF);b.removeClass("fullscreenMode fullscreenModeLinkAnimations fullscreenModeTransitionIn");oz(a.vd,!1);pz(a.vd,a.lastIndex)}function kz(a){var b=$("body");ez(a.Bi);R.jD=R.D_;ph();tz();b.addClass("fullscreenMode");oz(a.vd,!0);b.on("mousemove",a.HF);P.delay(100).then(function(){pz(a.vd,a.lastIndex);return P.delay(100)}).then(function(){b.addClass("fullscreenModeTransitionIn")})}
f.n7=function(a){jz()&&(this.iw=a)};f.HF=function(a){var b=$("body");120>a.clientY?b.addClass("hoverTop"):120>$(window).outerHeight()-a.clientY?b.addClass("zoomer--hoverBottom"):b.removeClass("zoomer--hoverBottom hoverTop");this.G.clearTimeout(this.GW);a=$(a.target);a.is(".zoomer__toolbar")||a.parents(".zoomer__toolbar").length||(this.GW=this.G.setTimeout(function(){return b.removeClass("zoomer--hoverBottom hoverTop")},uz))};
f.wM=function(a){var b=this,c=a.originalEvent.wheelDeltaY||a.originalEvent.deltaY,d=a.originalEvent.wheelDeltaX||a.originalEvent.deltaX,c=Math.abs(d)>Math.abs(c)?d:c;!this.Bi.Zf&&this.EX&&this.EX.find(a.target).length&&a.ctrlKey&&(a.preventDefault(),vz(this,c));this.Bi.Zf&&!this.kB&&(120<=c?(this.PJ(),this.kB=!0,this.G.setTimeout(function(){b.kB=!1},600)):-120>=c&&(this.OJ(),this.kB=!0,this.G.setTimeout(function(){b.kB=!1},600)))};
function vz(a,b){a.JO||(0<b?a.Bi.m_():a.Bi.n_(),a.JO=!0,a.G.setTimeout(function(){return a.JO=!1},250))}f.h1=function(){var a=wz(this.vd);this.l.zoom("zoom_in","editor","zoom_toolbar","bottom_right",a);return!1};f.j1=function(){var a=xz(this.vd);this.l.zoom("zoom_out","editor","zoom_toolbar","bottom_right",a);return!1};f.i1=function(a){yz(this.vd,a);this.l.zoom("popover_item","editor","zoom_toolbar","bottom_right",a);return!1};
f.X0=function(){em(this.l,"fullscreen_mode","button","editor","zoom_toolbar","bottom_right");return!1};f.OJ=function(){var a=this.vd,b=Xp(a.model);b+1<a.model.ic()&&pz(a,b+1);return!1};f.PJ=function(){var a=this.vd,b=Xp(a.model);0<=b-1&&pz(a,b-1);return!1};var uz=5E3;f=fz.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var zz=new Kf("jz",!1);function Az(a){a.get(zz)&&(ol.setTimeout(function(){window.location.hash="#3minMark";window.Appcues&&window.Appcues.page();ol.setTimeout(function(){window.location.hash="#"},6E3)},18E4),ol.setTimeout(function(){window.location.hash="#7minMark";window.Appcues&&window.Appcues.page();ol.setTimeout(function(){window.location.hash="#"},6E3)},42E4))};function Jp(a){R.F_&&$("html").addClass("isMac");$("#content").addClass("preparing");Bz();window.setTimeout(function(){Cz(a.content,a.tc,a.Vi,a.i,a.c0,a.J9);Dz({Ia:a.Ia,fb:a.fb,ub:a.ub,ha:a.ha});var b=new Ez({i:yc(a.i)});$("#canvaDocument").before(b.render());b.init({Ii:a.Ii,i:a.i,l:a.l});Fz({i:a.i,Vc:a.Vc,mp:a.mp,Xb:a.Xb,H:a.H});a.uu(K,J,T,jd(a.i),a.W,a.l,function(a){Mb.toggle(a,J.ja())});Gz(a.i);Hz(!!a.o2);Iz(0,!0);a.AU&&a.AU();Az(a.H);$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(Jz)},
R.Aa.fk*R.Xx),window.setTimeout(function(){Kz()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},R.Aa.fk*R.Xx)},R.Dc)}function Jz(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(Jz);else $(a).one("animationend",Kz)}function Kz(){$("#content").removeClass("preparing").addClass("on");$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function Bz(){Pb=Ob=Nb=0;var a=Lz("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(Pb=parseInt(a[b].style.marginTop,10),Nb=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(Ob=parseInt(a[b].style.width,10)),Ob&&Nb&&Pb);b++);}function Lz(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function Iz(a,b){if(!Mz&&!Nz){var c=$("#objectPanel");Oz();var d=$(".layer",c).eq(0).width();a=Math.ceil(d/R.M_);var e=Math.ceil(d/R.K_),d=Math.ceil(d/R.L_),g=Lz("objectPanelStylesheet");null!=g&&(g[0].style.width=Math.round(100/a*10)/10+"%",g[1].style.width=Math.round(100/e*10)/10+"%",g[2].style.width=Math.round(100/d*10)/10+"%");Pz();window.setTimeout(function(){c.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){Qz($(this),!0)})},R.Dc);K&&K.JA(b)}}
function Rz(a){return ub.Av()?ub.aj()?new P(function(b,c){function d(a){2==a?(e(),b()):1!=a&&0!=a&&(e(),c())}function e(){window.clearTimeout(g);T.off("session:sync",d)}var g=window.setTimeout(function(){e();c()},a||R.s_);T.on("session:sync",d);ub.save()}):P.resolve():P.reject()};function Sz(a){this.N=a.N;this.sO=a.sO;this.ye=a.ye;this.oa=a.oa;this.jL=a.jL;this.WQ=a.WQ;this.vJ=a.vJ;this.cL=a.cL}
Sz.prototype.MP=function(){if(!this.jL&&!R.R_&&this.oa&&this.oa.Av()&&!$("#savingError").hasClass("on")){if(0<this.WQ.JC.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.oa.aj())return this.oa.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=J;if(a&&$t(this.oa,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.oa.close();this.vJ||(a=Math.floor((Date.now()-this.sO)/1E3),Nk(this.N,"/session/editor/"+encodeURIComponent(this.ye)+"?close",this.cL,{docId:this.ye,session:this.oa.context.Cy,durationSecs:a}))}};var Tz="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function Uz(a){a=a.children(".inner").get(0);a=Vz(a);for(var b=window.getSelection(),c=a.filter(function(a){return Wz(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),e="",g=0,h=b.rangeCount;g!=h;g++)e+=b.getRangeAt(g).toString();d=Xz(d,e);(e=a.length)&&"BR"==a[e-1].nodeName&&--e;return c.length>=e&&d}
function Xz(a,b){if(a==b)return!0;a=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");b=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return a==b}function Yz(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function Zz(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return $z(b,a)?b.toString().length:-1}function aA(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return $z(b,a)?b.isCollapsed:!0}
function $z(a,b){if(!b||bA(a))return!1;var c=a.getRangeAt(0);a=c.startContainer;c=c.endContainer;if(!a||!c)return!1;a=3==a.nodeType||4==a.nodeType?cA(a):a;var d=3==c.nodeType||4==c.nodeType?cA(c):c,c=!(b!=a&&b!=d);b=!(!b.contains(a)&&!b.contains(d));return c||b}function dA(a,b){var c=a.bb(b).children(".inner");eA(c);fA(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");gA(a,b)}
function gA(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.Vb(b),e=a.bb(b).children(".inner").contents(),g=e,h=!1;c(e);)hA(d,e.get(0)),h=!0,e=e.contents();h&&(g.replaceWith(e),a.nj(b,d))}
function hA(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var e=b.style.fontWeight;a.bold="bold"===e||"600"<=e&&"900">=e}"i"===d||"em"===d?a.italic=!0:(e=b.style.fontStyle,a.italic="italic"===e||"oblique"===e);e=uh(b.style.color);b.color&&(e=uh(b.color));e&&(a.color=e.qa());e=null;(e="font"===d?c(b.face):c(b.style.fontFamily))&&
(b=iA(e))&&(a.fontFamily=b)}function jA(a){var b=[],c=[],d=a.children(".inner").get(0);Vz(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=kA(cA(d),a),Array.prototype.push.apply(b,d.Xe),Array.prototype.push.apply(c,d.vf))});return{Xe:b,vf:c}}
function lA(a,b){var c=a.clone();c.addClass("doNotTransform");c.children(".inner").addClass("doNotTransform");c.appendTo("#limbo");mA(c,b);for(var d=c.find(".char"),e=0,g=[],h=nA(d),k=1;k<h.length;k++)if(!oA(h[k-1],h[k])){var l=d.index(h[k]);g.push(l-e);e=l}g.push(d.length-e);c.remove();a.data("cachedLineLengths",g);b&&(g=g.map(function(a){return a-1}));return g}function nA(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}
function oA(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function mA(a,b){function c(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"===a)if(b){var e=document.createElement("span");e.textContent="";e.classList.add("char");$(this).before(e)}else return;if("script"!==a&&"style"!==a){e=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===e.length&&e[0].nodeType===Node.TEXT_NODE&&1===e[0].data.length)return;e.replaceAll(this)}}e.each(c)}}else this.nodeType===
Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");d.test(a)&&b.classList.add("diacriticalMark");b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var d=/[\u0300-\u036f]/,e=String(a.data("fontFamily"));Jb&&pA(e)||a.children(".inner").each(c)}function qA(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){var a=$(this),b=a.contents();0<b.length?a.replaceWith(b):a.remove()})}var rA=!1;
function sA(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||""===a||"\u2028"===a||"\u2029"===a||""===a}mA(a);var d=[],e=a.children(".inner"),g=e.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0",l=a.parent(),m=a.prev();if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){e.addClass("explicitLineBreaksLayoutMode");e.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);
document.body.contains(a[0])||(e.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){0<l.length?0<m.length?a.insertAfter(m):a.prependTo(l):a.detach();a.removeClass("doNotTransform");e.removeClass("doNotTransform")}));var n=0,p=-1,q=0,u=0,v=0;b.forEach(function(a){var b=n,e=Math.min(b+a,g.length);if(!(b>=e)){for(var h=b,k=e-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");
g.slice(k+1,e).addClass("superfluousWhitespace")});h<=k&&(0<=p&&oA(g[p],g[h])&&d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),p=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>q&&(q=a,u=h,v=k)));n=e}});k=e[0].offsetWidth;if(q>k){var z=nA(g.slice(u,v+1)).length,k=(k-q)/z,z=parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")),r=Math.max(h-1E3/12,1E3*k/z),x=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.OH(x,
r)})}d.forEach(function(a){a()});rA=!0;tA(a);rA=!1}}function uA(a,b){rA||(qA(a,b),a.removeData("cachedLineLengths"),b=a.children(".inner"),b.hasClass("explicitLineBreaksLayoutMode")&&(b.removeClass("explicitLineBreaksLayoutMode"),b.find(".implicitLineBreak").remove(),b.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),tA(a)))}
function eA(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],e=d.nodeName.toLowerCase();"br"!==e&&"div"!==e&&"ul"!==e&&"li"!==e&&"p"!==e&&(("span"!==e&&"font"!==e||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function fA(a){function b(a,b){if(!a||!b)return!1;var e;if(a.nodeType===Node.ELEMENT_NODE){e=a.nodeName.toLowerCase();if("br"===e||"div"===e||"ul"===e||"li"===e||"p"===e)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(e=b.nodeName.toLowerCase(),"ul"===e||"li"===e)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}function bA(a){if(0===a.rangeCount)return!1;a=a.getRangeAt(0);return null!=a.startContainer&&!(a.startContainer instanceof Object)||null!=a.endContainer&&!(a.endContainer instanceof Object)}
function vA(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],e=window.getSelection(),g=a.children(".inner").get(0);if(bA(e))return{Xe:[],vf:[]};aA(a)?1==e.rangeCount&&b(g)&&(g=kA(cA(e.getRangeAt(0).startContainer),a),c=c.concat(g.Xe),d=d.concat(g.vf)):Vz(g).filter(function(a){return Wz(e,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=kA(cA(b),
a);c=c.concat(b.Xe);d=d.concat(b.vf)});c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{Xe:c,vf:d}}
function kA(a,b){var c,d,e=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName");b=b.data("fill");if(a==h||a==c)c=k,d=uh(b),c&&e.push(c),d&&g.push(d.qa());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&e.push(c),(d=uh($(a).css("color")||a.getAttribute("color")))&&g.push(d.qa())),a=a.parentElement;0==e.length&&k&&e.push(k);0==g.length&&b&&g.push(b)}return{Xe:e,vf:g}}
function Vz(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(Vz(d))}return b}function cA(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function Wz(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(e){if(e.code!==DOMException.WRONG_DOCUMENT_ERR)throw e;}}return!1}function wA(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function xA(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return wA(b).filter(function(a){return null!==yA(Jb,a)})}function zA(a,b){b?this.bb(a).data("fontMedia",{id:b.id,version:b.version}):this.bb(a).removeData("fontMedia")}function AA(a,b){function c(a){return{id:a.u(),version:a.getVersion()}}b&&0<b.length?this.bb(a).data("htmlFontMedia",b.map(c)):this.bb(a).removeData("htmlFontMedia")}
function BA(a,b,c,d){function e(a){if(a){var d="'"+m.family+"'",e;if(e=Ib)e=Ib.H.get(Of);e?d+=", notdef":$.browser.msie||(d+=", "+m.generic);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");h.toggleClass("noBold",!m.variants.bold);h.toggleClass("noItalic",!m.variants.italic);h.toggleClass("noBoldItalic",!m.variants.boldItalic);tA(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.bb(a),k=h.data("fontName"),l=!1;b&&pA(String(b))&&(l=!0);d||h.find("font").removeAttr("face");
b!==k&&(this.dt(a),this.Cw(a),uA(h),l&&eA(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family","").css("font-weight",""),c&&c(!0);else if(Jb){h.data("fontFamily",b);var m=yA(Jb,b);d=CA(b);m||d?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),this.Sq(a,d),DA(Jb,d,b,e)):c&&c(!1)}else c&&c(!1)}
function EA(a,b,c){var d=this.bb(a),e=parseFloat(d.data("fontSize"))/b;if(isNaN(e)||!c&&(2<=e||.5>=e))this.dt(a),this.Cw(a),uA(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*R.Ci+"%"),!0!==c&&tA(d,!0))}function FA(a){this.pe(this.yb(),a)}function GA(a){return this.bb(a).data("fontSize")||R.cD}function HA(){for(var a=[],b=0;b<this.AF();b++){var c=this.bb(b).data("fontFamily");c&&a.push(""+c)}return a}
function IA(a,b){a=this.bb(a);void 0===b?a.removeData("justification").css("text-align",""):a.data("justification",b).css("text-align",b)}
function JA(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=uh($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.qa():"")}function d(a,b,c){b?a.data("fill",b.qa()).css("color",b.qa()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}a=this.bb(a);var e=Uz(a),g=aA(a),h=a.is(".focused"),k=uh(a.data("fill")),l=uh(vA(a).vf[0]);h&&b&&document.execCommand("foreColor",!1,b.qa());h&&g?(e=0<vA(a).vf.length,
k=l&&l.equals(k),!e||k?d(a,b,!1):c(a,l,b)):(e||g)&&d(a,b,h)}function KA(a,b){a=this.bb(a);a.is(".focused")&&document.execCommand("bold",!1,null);if(Uz(a)||aA(a))void 0===b?a.removeData("bold").removeClass("bold"):(a.data("bold",b),b?a.addClass("bold"):a.removeClass("bold"));tA(a,!0)}
function LA(a,b){a=this.bb(a);a.is(".focused")&&document.execCommand("italic",!1,null);if(Uz(a)||aA(a))void 0===b?a.removeData("italic").removeClass("italic"):(a.data("italic",b),b?a.addClass("italic"):a.removeClass("italic"));tA(a,!0)}
function MA(a,b){function c(){var b;l.focus();e()?b=!0:(l.click(),b=e());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),dA(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){tA(h,!0)},0)}function e(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.bb(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();NA(l,c)}b?h.data("list",!0):h.removeData("list")}function OA(a){return"uppercase"===this.bb(a).data("textTransform")}function PA(a,b){a=this.bb(a);b?a.data("textTransform",b).css("text-transform",b):a.removeData("textTransform").css("text-transform","none");tA(a,!0)}
function QA(a,b){a=this.bb(a);var c=a.children(".inner");b?(a.data("lineHeight",b),c.css("line-height",b/100)):(a.removeData("lineHeight"),c.css("line-height",R.Ot/100));tA(a,!0)}function RA(a){return this.bb(a).data("lineHeight")||R.Ot}function SA(a,b){a=this.bb(a);a.removeData("ephemeralLetterSpacing");void 0===b||0===b?(a.removeData("letterSpacing"),a.css("letter-spacing","0")):(a.data("letterSpacing",b),a.css("letter-spacing",b/1E3+"em"));tA(a,!0)}
function TA(a,b){a=this.bb(a);var c=0!==b?b/1E3+"em":"0";a.data("ephemeralLetterSpacing",b);a.css("letter-spacing",c)}function UA(a){a=this.bb(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function VA(a){a=this.bb(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function WA(a){return this.bb(a).data("kernPairs")||{}}
function XA(a,b){return(a=this.bb(a).data("kernPairs"))&&a.hasOwnProperty(b)?parseFloat(a[b]):0}function YA(a){a=this.bb(a);a.data("kernPairs")&&(a.removeData("kernPairs"),qA(a,!0))}
function ZA(a){var b=this.bb(a);a=this.es(a);if(0<Object.keys(a).length){if(mA(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var e=b[d].firstChild.data,c=a[c+e]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=e}}else qA(b)}function $A(a,b,c){if(2===c.length){var d=this.bb(a);a=this.es(a);a[c]=b;d.data("kernPairs",a)}}function aB(a,b){this.bb(a).data("kernPairs",b)}
function bB(){var a=this.Ae();0<a.parents("#overlays").length&&cB(a)}function dB(a){var b=this.es(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function eB(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function fB(a){function b(a){if(a=CA(a))return{id:a.id,version:a.version}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;a=lA(h)}g.lineLengths=a}function d(){var b=e.KH(a);0!==b.length&&(g.kerning=b)}var e=this,g={index:a},h=this.bb(a),k=String(h.data("fontFamily")),k=pA(k);(function(){var a=h.clone();uA(a,!0);g.html=a.children(".inner").html()})();(function(){Tz.forEach(function(a){var b=
h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=CA(g.fontFamily);a?g.fontMedia={id:a.id,version:a.version}:h.data("fontMedia")&&(g.fontMedia=h.data("fontMedia"));var c=xA(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function cn(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}cn.prototype.jb=function(){return this.type};cn.prototype.u=function(){return this.id};cn.prototype.cu=function(){this.type=gB;return this};cn.prototype.serialize=function(){return this.type===gB||this.type===hB?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function iB(a){this.source=a;this.filename="";this.viewBox=[]}function jB(a){if(a===kB)return kB;if(a=uh(a||""))return a}function lB(a){if(a===kB)return kB;if(a instanceof on)return a.qa()}iB.prototype.f_=function(a){this.filename=a;return this};var kB="inherit";function mB(a,b){a:{var c;try{c=$.parseXML(a)}catch(d){a=null;break a}a=$(c.documentElement)}return!a||!b&&nB(a)||oB(a)?!1:!0}function nB(a){return pB(a).some(function(a){return-1===qB.indexOf(a.localName.toLowerCase())})}function oB(a){return pB(a).some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),e;if(e="xlink:href"===d)e=a[c].value,e=!("#"===e.charAt(0)||rB.test(e));if(e||-1===sB.indexOf(d))return!0}return!1})}
function pB(a){a=a.get(0);var b=Array.from(a.getElementsByTagName("*"));return[a].concat(b)}
var rB=/^data:image\/[^,;]+;base64,/,qB="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),sB=
"amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" ");function tB(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function uB(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function vB(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var e=$($.parseXML(a)),g,h,k,l,m;if(4!==uB(a).length){g=e.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=e.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);e.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function wB(a){if(!mB(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var e=[],g={};d.each(function(){var a=uh($(this).attr("fill"));if(a){var b=a.qa();g.hasOwnProperty(b)||(e.push(a.qa()),g[b]=1);a=e.indexOf(b)+
1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a}
function xB(a,b){for(var c=/SVGID_/g,d=new Set,e=/((url\(|xlink:href=)['"]?#)([a-z0-9_-]+)(['"]?)/gi,g;g=e.exec(a);)g[3]&&!d.has(g[3])&&(c&&c.test(g[3])||d.add(g[3]));return 0==d.size?a:a.replace(e,function(a,c,e,g,n){return(c||"")+(d.has(g)?b+g:g)+(n||"")}).replace(/(xml:)?(id=['"]?)([a-z0-9_-]+)(['"]?)/gi,function(a,c,e,g,n){return(c||"")+(e||"")+(d.has(g)?b+g:g)+(n||"")})};function yB(a,b){a=a.trim();a=a.replace(/SVGID_/g,b+"SVGID_");a=xB(a,b);a=a.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px");a=tB(a);return a=vB(a)}function zB(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();AB(a);BB(a);CB(a);DB(a);EB(a)}
function AB(a){var b=0,c=0,d=/^[neswc]_repeat/i,e=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){d.test(g.id)?(g.id=g.id.substr(0,1),g.classList.add("repeat")):(a=g.id.match(e))&&a[1]&&(g.id=a[1]);-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function BB(a){function b(a,b){var c,k,l;l=(k=(c=a.getAttribute("style"))&&c.match(GB))?c.match(GB)[2]:a.getAttribute("fill");k&&(c=c.replace(GB,""),a.setAttribute("style",c),a.setAttribute("fill",l));a.hasAttribute("fill")&&(a.classList.add("color"),a.setAttribute("data-color",a.getAttribute("fill")),a.classList.add("color-"+b));b=a.getAttribute("fill");c=uh(b);k=null;HB.equals(c)?k="primaryColor":IB.equals(c)?k="secondaryColor":JB.equals(c)&&(k="tertiaryColor");(c=k)?a.classList.add(c):b&&(d=!1)}
var c=/^change(\d+|$)/i,d=!0;a.find("g").filter(function(){return c.test(this.id)}).each(function(a,c){var d=parseFloat(c.id.substr(6)),d=isNaN(d)?1:d;c.removeAttribute("id");b(c,d);$("[style*\x3dfill], [fill], [FILL]",c).each(function(){b(this,d)})});d&&a.get(0).classList.add("baseColors")}
function CB(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");e=e.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",e?e[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function DB(a){var b=KB(a),c=b.F(),d=b.w(),e=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return e.test(this.id)}).each(function(a,b){a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("class","canva");b.parentNode.insertBefore(a,b);b.parentNode.removeChild(b);b=LB(b,["circle","ellipse","path","polygon","rect"]);if(null!==b){var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a.appendChild(e);e.id=MB();e.setAttribute("transform","translate("+-c+", "+
-d+")");b.setAttribute("class","photoPlaceholder");e.appendChild(b);var m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("class","placeholder");m.setAttribute("clip-path","url(#"+e.id+")");m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");m.setAttribute("transform","translate("+c+", "+d+")");m.setAttribute("data-placeholder-index",g.toString());g++;a.appendChild(m);b=NB(b,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
b.setAttribute("class","outline");b.setAttribute("fill","none");a.appendChild(b)}})}
function EB(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);a=LB(b,["rect"]);if(null!==a){a=NB(a,"rx ry x y width height".split(" "));a.setAttribute("class","textPlaceholder");a.setAttribute("fill","none");e.appendChild(a);var e=LB(b,["text"]),e=OB(e),g=b.id,h=/_(dfont)(_|$)/.test(g),k=/_(dwidth)(_|$)/.test(g),
l=/_(dheight)(_|$)/.test(g),m=g.match(/_(left|center|right)(_|$)/),g=g.match(/_ls([0-9]+)(_|$)/),e=$.extend({},e,{justification:m?m[1]:void 0,"line-spacing":g?parseFloat(g[1].substring(0,1)+"."+g[1].substring(1)):void 0,"dynamic-font-size":h,"dynamic-width":k&&!l,"dynamic-height":l}),n;for(n in e)a.setAttribute("data-"+n,e[n]);if(b){n=[];b=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(e=0;e<b.length;e++)h=b[e],h.textContent&&0<h.textContent.trim().length&&n.push(h.textContent.trim());
b=n.join(" ")}else b="";""!=b&&a.setAttribute("data-placeholder-text",b)}})}function NB(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function LB(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var e=0;e<b.length;e++)c.push(b[e])});return 0===c.length?null:c[0]}
function OB(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=PB(Jb),e,g,p=0;p<d.length;p++)for(g in e=d[p],e.styles)if(e.styles[g].psName&&e.styles[g].psName.toLowerCase()===b.toLowerCase())return a=-1<[e.styles.bold,e.styles.boldItalic].indexOf(e.styles[g]),g=-1<[e.styles.italic,e.styles.boldItalic].indexOf(e.styles[g]),{"font-name":e.name||e.family,"font-family":e.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=PB(Jb),e=a.replace(/^['"]|['"]$/g,
"").toLowerCase();if(a=_.find(d,function(a){return(a.internalName||"").toLowerCase()===e}))return c["font-name"]=a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.internalName||"").toLowerCase().replace(/-[^-]+$/,"");return 0===e.indexOf(a)}),g=_.find(d,function(a){return-1<(a.internalName||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.internalName||"").toLowerCase().replace(/-[^-]+$/,"");e==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=
g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=["fill","font-size","font-family"];if(!a)return{};var e={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(e[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(e[a]=b))});if(e.fill){var g=uh(e.fill);g?e.fill=g.qa():delete e.fill}e["font-size"]&&(e["font-size"]=.72*parseFloat(e["font-size"]));
e["font-family"]&&(g=b(e["font-family"]),delete e["font-family"],$.extend(e,g));return e}var GB=/(\b|^)fill\s*:\s*([^;]+);\s*/i;function Z(a){this.i=Kb;this.Pa=$('\x3cdiv class\x3d"element" /\x3e');this.Pa.data("canvaElement",this);this.selected=!1;this.bt=!0;this.za=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.le=null;this.ym=this.wP=!1;this.Da=0;this.link="";this.AB=this.yh=!1;this.pm=this.origin=null;this.AD=!0;this.ty=1;this.ge=null;this.OE=["copy","arrange","transparency","link","delete"];this.xI=!0;this.sy=!1;if(a){var b=Gm({left:a.left,top:a.top,width:a.width,height:a.height});this.md(b);
null!=a.rotation&&(this.rotation=a.rotation);null!=a.flipOrientation&&(this.za=a.flipOrientation);0<=Object.keys(a).indexOf("userEdited")&&(this.xI=a.userEdited);0<=Object.keys(a).indexOf("transparency")&&(this.Da=a.transparency);0<=Object.keys(a).indexOf("link")&&(this.link=a.link);null!=a.origin&&(this.origin=new cn(a.origin));null!=a.groupIndex&&(this.sy=!0)}}f=Z.prototype;f.vv=function(){return!1};f.$Q=function(){this.ue="top"};f.HN=function(){this.ue="middle"};f.xJ=function(){this.ue="bottom"};
f.bv=function(){return R.XI};f.dV=function(){return{dj:0,$j:0,maxLength:0,Fd:0,SJ:[]}};f.RM=function(){return!1};f.Eg=function(){return!1};function QB(a){return"middle"===a.ue}function RB(a){return"bottom"===a.ue}f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Z.prototype,Backbone.Events);f=Z.prototype;f.nZ=function(){return!1};f.RQ=function(){return!1};
f.transform=function(a){var b=jn(hn([this.F(),this.w()]).transform(a));this.Wl(SB(this.Sa(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};f.C=function(){return this.Pa};function TB(a){a=a.Pa[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}f.Af=function(){return!1};f.mv=function(){return!1};f.xM=function(){return!1};f.AM=function(){return!1};f.bA=function(){return!1};f.sW=function(){this.yh=!0};f.ke=function(){return!1};
f.Op=function(){return!1};f.pV=function(){return!1};f.qH=function(){};f.up=function(){};f.tp=function(){};f.Kq=function(){this.AB=!0};f.mk=function(){this.AB=!1};f.ds=function(){return this.OE};f.Zp=function(){return!0};f.PU=function(){return[]};f.Bd=function(){return 0};
function UB(a,b){function c(){d.off("placeholderImage:loaded",e);d.UF(b)}if(void 0===a.Wa||void 0===a.Wc)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,e=_.after(a.Wa.length,c);a.on("placeholderImage:loaded",e);0===a.Wa.length?window.setTimeout(c,0):a.Wa.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
f.UF=function(a){function b(){c.vH();a&&a()}if(void 0===this.Wa||void 0===this.Wc)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.Wc.length,b);0===this.Wc.length?window.setTimeout(b,0):this.Wc.forEach(function(a){a.initialize(d)})};f.Qd=function(){return this.origin};
function VB(a,b){for(var c=[],d,e=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=e.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(WB(d.filter,b[d.index]));return c}function XB(a,b,c){for(var d=[],e,g=_.pluck(a,"index"),h,k=0;k<b;k++)e={},h=g.indexOf(k),-1<h?e=a[h]:e.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new YB(e,h));return d}
function Hg(a){switch(a.type){case "text":return new Rp(a);case "image":return new ZB(a);case "graphic":return"print"!==$B?a=new aC(a):(a=new hp(a),a.OV=!0),a;case "svg":return new hp(a);case "shape":return new bC(a);case "grid":return new cC(a);case "fixed":return new dC(a);case "group":switch(a.generatorType){case eC:return fC(a);default:return new gC(a)}}return null}f.xe=function(){delete this.me};
f.remove=function(){this.page&&this.page.jj(this,{g8:!0});this.ge&&this.ge.remove();this.ge=this.le=this.page=null;this.wP=!0};f.K=function(){return this.page?this.page.ja().indexOf(this):-1};f.R=function(){return this.page};f.Tq=function(a){this.page=a};f.Xl=function(a){this.Da=a;this.nc()};f.BF=function(){return this.Da};function hC(a){for(var b in iC)if(iC.hasOwnProperty(b)&&iC[b].test(a))return!0;return!1}function jC(a,b){hC(b)?a.link=b||"":a.link=""}
f.Xm=function(){return hC(this.link)?this.link:""};f.hb=function(a){kC(this,a);this.nc()};function kC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}function lC(a,b){a.left-=b;a.nc()}function mC(a,b){a.top-=b;a.nc()}function nC(a,b){a.left+=b;a.nc()}function oC(a,b){a.top+=b;a.nc()}f.F=function(){return this.left};function pC(a){return{Da:a.Da,rotation:a.Sa(),top:a.w(),left:a.F(),width:a.j(),height:a.o()}}
function qC(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=W;if(a.le){var d=a.C().get(0);a=a.le;d.parentNode&&a.get(0).parentNode&&(d=d.getBoundingClientRect(),a=a.find(".page__content").get(0).getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}f.$b=function(){return qC(this).left};f.Dd=function(){return qC(this).right};f.jc=function(){return qC(this).top};
f.gd=function(){return qC(this).bottom};f.kh=function(){return qC(this).width};f.jh=function(){return qC(this).height};f.dM=function(){var a=Math.round(this.left*W),b=0;this.page&&(b=rC(K.Ka[this.page?this.page.K():0])||0);return b+a};f.cb=function(a){sC(this,a);this.nc()};function sC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}f.w=function(){return this.top};f.setPosition=function(a,b){kC(this,a);sC(this,b);this.nc()};
f.na=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=tC(this);this.C().css("width",a)};f.j=function(){return this.width};function tC(a){return Math.round(a.j()*W)}f.ea=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=op(this);this.C().css("height",a)};f.o=function(){return this.height};function op(a){return Math.round(a.o()*W)}f.setSize=function(a,b){this.na(a);this.ea(b)};
function np(a){a=a.C().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}f.md=function(a){var b=a.F(),c=a.w();kC(this,b);sC(this,c);this.setSize(a.j(),a.o())};f.pa=function(){return new V(this.F(),this.w(),this.j(),this.o())};f.Wl=function(a){this.rotation=a;this.nc()};f.Sa=function(){return this.rotation};f.Tw=function(a){this.za=a};f.pt=function(a){var b=this.za^a;this.Tw(a);1!=b&&2!=b||this.ow();this.nc()};f.Vp=function(){return!1};f.ow=function(){};
f.Ya=function(){return this.left+this.width};f.ua=function(){return this.top+this.height};f.Mi=function(){};f.Xo=function(){return!this.sy};f.JD=function(){return!0};f.xy=function(){return!0};f.KD=function(){return!1};f.Rd=function(){return!1};f.Ef=function(){return this.selected};f.Hb=function(){return!1};f.lD=function(){return!1};f.vS=function(){return!1};f.qr=function(){return!1};f.Vt=function(){return!1};f.wS=function(){return!1};f.iy=function(){return!1};f.FJ=function(){return!1};f.kb=function(){return!1};
f.YF=function(){return!1};f.tk=function(a){this.selected=a};function uC(a){return 0<a.C().parents(".group").length}function vC(a){a=a.C().parents(".group");return a.length&&(a=a.data("canvaElement"),a instanceof gC)?a:null}
f.nc=function(a){var b=this.C(),c=Math.round(this.left*W),d=Math.round(this.top*W);if(0<this.C().parents("#overlays").length&&!uC(this))var e=K.Ka[this.page?this.page.K():0],c=c+Math.round(rC(e)),d=d+Math.round(wC(e));b.css("transform",gp({Hw:this.rotation,vi:d,ti:c}));b.css("opacity",(100-this.Da)/100);this.Vp()&&this.tI();!a&&this.le&&this.Za()};f.tI=function(){};function xC(a){var b=R.dS*a.j();a.C().css("perspective",b+"px")}f.clone=function(){return Hg(this.serialize())};
f.$k=function(a){a.addElement(this,!0)};f.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):yC(a,this,a.ja().length)};f.Bv=function(a){return a?fh(this.pa(),a.pa()):!1};f.insertAfter=function(a){var b=a.K();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?yC(c,this,b+1):d<b?yC(c,this,b):d>b&&yC(c,this,b+1);!this.le&&a.le&&(this.le=a.le);this.$a()}};
f.insertBefore=function(a){var b=a.K();if(-1!=b){var c=a.R(),d=c.elements.indexOf(this);-1==d?yC(c,this,b):d<b-1?yC(c,this,b-1):d>b&&yC(c,this,b);!this.le&&a.le&&(this.le=a.le)}};f.$a=function(){function a(){b.le&&b.Za()}var b=this;this.bt&&(kC(this),sC(this),this.nc(!0),this.na(),this.ea(),this.nc(),this.ge&&this.ge.ws()?this.ge.update(!1,a):a())};f.Za=function(){if(this.le){var a=this.C().data("toolbar");a&&(zC(a),AC(a,this));BC(this)}};
function BC(a){gh(a).write(function(){var a=this.C(),c=a.data("selectionBox");if(c){var d=this.dM(),e;e=Math.round(this.top*W);var g=0;this.page&&(g=wC(K.Ka[this.page?this.page.K():0])||0);e=g+e;var g=this.Sa(),h=tC(this),a=op(this)||a.height(),k=0,l=0,m=80>h||80>a;this.Th&&this.Th()&&(k=this.C().css("font-size").replace("px",""),k=this.Th()/1E3*parseInt(k,10)*W);this.ls&&(l=(this.padding||0)*W);c.css("transform",gp({ti:d,vi:e,Hw:g})).css("width",h+2*(k+l)).css("height",a+2*(k+l));c.toggleClass("tightTargets",
m);CC(c,g)}})}f.uh=function(){var a=this.C(),b=a.data("toolbar"),c=a.data("selectionBox"),d=a.data("sideDrawer");d&&(DC(d,!1),P.delay(200).then(function(){a.removeData("sideDrawer");d.remove()}));b&&b.remove();c&&c.remove();a.removeData("selectionBox").removeData("toolbar");T.trigger("hideContextualControlsRequested")};
f.serialize=function(){var a={elementIndex:this.K(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.Da,userEdited:this.xI};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.za&&(a.flipOrientation=this.za);return a};f.Tj=function(){return!1};f.wv=function(){return!1};f.Zi=function(){return this.me||(this.me=new $o)};f.cA=function(){return!1};f.Sz=function(){return{}};f.MY=function(){};f.Hy=function(){return!1};
function EC(a){var b;b=J.Ba();var c=Nx(Kx()).ia().xp();b=(c=c?uh("#"+c):null)?{Us:c,mt:c.Zu()<R.SI?qn(new on,255,255,255):qn(new on,0,0,0),Bt:c.Zu()<R.SI?Cn(c,qn(new on,255,255,255),R.lS):Cn(c,qn(new on,0,0,0),R.lS)}:!FC(b)||b.Df()?{Us:qn(new on,255,255,255),mt:qn(new on,0,0,0),Bt:qn(new on,127,127,127)}:{Us:qn(new on,0,0,0),mt:qn(new on,255,255,255),Bt:qn(new on,127,127,127)};c=a.pm;c===b||c&&b&&c.Us.equals(b.Us)&&c.mt.equals(b.mt)&&c.Bt.equals(b.Bt)||(a.pm=b,a.AD=!0)}
function GC(a,b){b!=a.ty&&(a.ty=b,a.AD=!0)}f.HB=function(){};function HC(){return 0==this.Bg().length}function IC(){var a=this.ag();if(!a)return null;var b=this.ed(),c=this.Wa?this.Wa[this.Gc()].za:this.za;return Sm(a,b,c)}
function JC(){var a=this.C(),b=this.Bg(),c=this.ed(),d=a.data("selectionBox");if(d){c.scale(W).round();var e=a.data("cropControls");e||(e=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),e.data("canvaElement",
this),a.data("cropControls",e),e.appendTo("#overlays"));var g=e.find(".viewPort");g.css(KC(c,0));g.children(".inner").css("width",c.j()).css("height",c.o());var h=b.attr("src")||b.attr("xlink:href"),b=e.find("img.masked, img.uncropped");b.attr("src")!=h&&b.each(function(){LC(MC,$(this),h)});b=NC(d);e.css(KC(b,this.Sa()));b=this.ag();b.scale(W).round();var k=this.Wa?this.Wa[this.Gc()].za:this.za;OC(g.find("img.masked"),b,k);b.translate(c.F(),c.w());c=e.find(".cropBox");c.css(KC(b,0));OC(c.find("img.uncropped"),
null,k);d.addClass("cropping");PC(a);a=a.data("confirmationToolbar");zC(a)}}function QC(a,b){var c=this.ag(),d=this.ed();d.hb(0).cb(0);a>d.F()?a=d.F():a+c.j()<d.Ya()&&(a=d.Ya()-c.j());b>d.w()?b=d.w():b+c.o()<d.ua()&&(b=d.ua()-c.o());c.hb(a).cb(b);this.Ul(c)}function RC(a){var b=this.Gc();-1<b&&SC(this.Wa[b],a)}
function TC(){var a=this.C();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function UC(){this.C().removeClass("cropping");var a=this.Bg();if(a){var b=this.qF().scale(W).round();a.css(KC(b,0)).attr("data-image-rect",JSON.stringify(this.ag().serialize()))}}function VC(){var a=this.Gc();return this.an(0<=a?a:0)}
function WC(){var a=this.Gc();if(-1===a)return!1;a=this.pl(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}
function XC(a){function b(b){if(c.data("mediaId")===a.ba&&c.data("mediaVersion")===a.ca){var d=!!b;b=!!b&&b.src||"";d&&LC(MC,c,b);a.aw&&a.aw(d)}}var c=a.mn;c.data("mediaId",a.ba);c.data("mediaVersion",a.ca);var d=Fb.Hc(a.ba,a.ca);if(d){var d=d[YC],e=ZC(a.ba,a.ca,"print"===$B?$C:Tg);LC(MC,c,d.ma());e.then(function(a){return aD(MC,a.ma())}).then(b).catch(b.bind(null,void 0))}else a.aw&&a.aw(!1)}
function ZB(a){var b=this;Z.call(this,a);this.background=!!a.isBackground;this.Em=!!a.isDark;this.backgroundColor=a.backgroundColor||null;this.ba="string"===typeof a.mediaId?a.mediaId:null;this.ca="number"===typeof a.mediaVersion?a.mediaVersion:null;this.pb=void 0===a.mediaApproved||!!a.mediaApproved;this.$p()?(this.IF=!0,this.Uy=!1):(this.IF=void 0!==a.isCutout,this.Uy=!this.IF||a.isCutout);this.uH=!!a.isRecolorable;this.ym=!this.$p();var c=this.Nb(),d=null!==c,e=this.C();e.addClass("image").toggleClass("hasMedia",
d);if(d){var g=$("\x3cdiv\x3e").addClass("imageWrapper");g.append("\x3cimg\x3e");g.appendTo(e);this.Kc=new YB({mediaId:this.ba,mediaVersion:this.ca,mediaApproved:this.pb},g);this.ge=WB(a.filter,this.Kc);this.Vl(c.id,c.version).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:image",this)}).catch(function(){T.trigger("elementLoadingError",this)})}else this.ge=this.Kc=null;this.uH&&this.backgroundColor&&e.css("background-color",this.backgroundColor);this.Qg=new V((this.width-
this.width*R.gD)/2,(this.height-this.height*R.gD)/2,this.width*R.gD,this.height*R.gD);this.Ea=new V(-this.Qg.F(),-this.Qg.w(),this.width,this.height);this.Lx=this.pa();this.Ok=!1;if(c=a.imageBox)zl(this,new V(-1*c.left,-1*c.top,this.width,this.height)),this.Ul(Gm(c)),this.Lx=this.ag(),this.Ir(),a=Gm({left:a.left,top:a.top,width:a.width,height:a.height}),this.md(a);this.background&&aq(this);d||window.setTimeout(function(){T.trigger("elementLoaded",b);T.trigger("elementLoaded:image",b)},0)}
ZB.prototype=Object.create(Z.prototype);f=ZB.prototype;f.constructor=ZB;f.Up=HC;f.aQ=QC;f.Lq=TC;f.ed=VC;f.qF=IC;f.Op=function(){return!!this.ge};f.pV=function(){return!0};f.Ad=function(){return this.ge};f.Fz=function(){return 0};f.zp=function(a){return 0===a?this.ge:null};f.Zp=function(){return!(!this.ge||!this.ge.ws())};f.ds=function(){return this.lD()?["transparency","delete"]:this.OE};f.r3=ZB.prototype.Zp;f.qH=function(a,b){bD(this.ge,b)};f.up=function(){this.ge.up()};f.tp=function(){this.ge.tp()};
f.UF=function(a){function b(){c.vH();a&&a()}var c=this;this.ge&&this.ge.initialize(b)};f.vH=function(){var a;this.r3()&&(a=this.C().data("toolbar"))&&a.view.Ju("filter")};f.KD=function(){return!this.Hb()&&!this.Rd()};f.$p=function(){return this.pb&&null===this.Nb()};f.appendTo=function(a){this.Hb()?(yC(a,this,0),cD(a)):Z.prototype.appendTo.call(this,a)};
f.serialize=function(){var a=Z.prototype.serialize.call(this),b;this.ge&&(b=dD(this.ge))&&(a.filter=b);a.type="image";a.mediaId=this.ba;a.mediaVersion=this.ca;a.isBackground=this.background;a.isRecolorable=this.uH;a.isCutout=this.Uy;a.isDark=this.Em;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.pb||(a.mediaApproved=!1);this.Ok&&(a.imageBox=this.Ea.serialize());return a};
f.na=function(a){void 0===a&&(a=this.width);var b=this.C(),c=a!=this.width;this.Ea&&c&&!b.is(".cropping")&&(b=a/this.width,this.Ea.scale(b,1),this.Qg.scale(b,1));this.Kc&&SC(this.Kc,this.Ok?this.Ea:new V(0,0,a,this.height));Z.prototype.na.call(this,a)};
f.ea=function(a){void 0===a&&(a=this.height);var b=this.C(),c=a!=this.height;this.Ea&&c&&!b.is(".cropping")&&(b=a/this.height,this.Ea.scale(1,b),this.Qg.scale(1,b));this.Kc&&SC(this.Kc,this.Ok?this.Ea:new V(0,0,this.width,a));Z.prototype.ea.call(this,a)};f.Vp=function(){return null!==this.Kc};f.Tw=function(a){Sm(this.Ea,this.Qg,this.za^a);this.Qg.hb(-this.Ea.F());this.Qg.cb(-this.Ea.w());this.za=a};f.tI=function(){OC(this.C().find(".imageWrapper"),null,this.za)};
f.ow=function(){xC(this);var a=this.C().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};f.$a=function(){Z.prototype.$a.call(this);var a=this.C();if(this.Ok&&!a.is(".cropping")){var b=this.qF().scale(W).round();$("img",a).css(KC(b,0))}};f.Za=function(){Z.prototype.Za.call(this);this.C().is(".cropping")?this.ez():this.Lq()};f.SC=function(a){this.$p()||hq(a,this.Nb())||(this.ZB(!1),this.ca=this.ba=null)};f.Tj=function(){return!0};
f.Nb=function(){return null!=this.ba&&null!=this.ca?new en({id:this.ba,version:this.ca}):null};f.Aw=function(){var a=this.Nb();return a?this.Vl(a.id,a.version):P.resolve()};f.Vl=function(a,b){return new P(function(c,d){this.ba=a;this.ca=b;var e=this;XC({mn:e.C().find("img"),ba:a,ca:b,aw:function(a){a?e.UF(c):d()}})}.bind(this))};f.wA=function(){return this.pb};f.ZB=function(a){this.pb=a;this.C().toggleClass("unapproved",!a);this.Za()};f.nt=function(){};f.Bg=function(){return this.C().find("img")};
f.Gc=function(){return 0};f.Oz=function(a){return 0!=a?$():$("img",this.C()).eq(0)};f.dg=function(){return 1};f.an=function(){return this.Qg.clone()};f.pl=function(){return null};f.Fp=function(){return this.Kc};f.Vq=function(){};f.EB=function(){};function zl(a,b){var c=a.Qg.F(),d=a.Qg.w();a.Qg=b.clone();a.Ea.translate(c-a.Qg.F(),d-a.Qg.w())}f.ag=function(){return this.Ea.clone()};f.BM=function(){return!0};
f.ez=function(){if(this.page){var a=this.C();this.qI||(this.qI=!0,this.Lx=new V(this.left+(this.Ok?this.Ea.F():0),this.top+(this.Ok?this.Ea.w():0),this.Ea.j(),this.Ea.o()));var b=eD(K,this.page),c=rC(b)||0,d=wC(b)||0,b=this.Lx.clone();b.scale(W).translate(c,d).round();(c=a.data("selectionBox"))&&c.css(KC(b,this.Sa()));JC.call(this);0==$(".viewPort .frameHandle").length&&(c=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
(a=a.data("cropControls"))&&a.find(".viewPort").append(c))}};f.uh=function(){Z.prototype.uh.call(this);this.Lq()};f.Ul=function(a){this.Ea=a.clone()};f.Ir=function(){UC.call(this);var a=this.C();this.Bg().css("position","absolute");a.css("overflow","hidden");var b=this.Qg.clone();b.translate(this.Lx.F(),this.Lx.w());a.addClass("cropping");this.md(b);a.removeClass("cropping");this.Qg.hb(-this.Ea.F()).cb(-this.Ea.w());this.Ok=!0;this.qI=!1};
function aq(a){var b=a.mc();a.background=!0;a.ym=!1;a.C().addClass("background");a.page&&(yC(a.page,a,0),cD(a.page),a.page.trigger("change:background",a.page));a.mc()!==b&&a.Za();a.xe()}function fD(a){var b=a.mc();a.background=!1;a.ym=!a.$p();a.C().removeClass("background");a.Rd()&&null!==a.backgroundColor&&a.Rw(null);a.mc()!==b&&a.Za();a.page&&a.page.trigger("change:background",a.page);a.xe()}f.Hb=function(){return this.background};f.FJ=function(){return!0};f.lD=function(){return this.background};
f.qr=function(){return!0};f.mv=function(){return!0};f.mc=function(){return this.Rd()?this.Hb():this.uH};f.hM=function(){if(this.mc()){var a=uh(this.backgroundColor||R.UI);if(a)return a.Zu()<R.SI}return this.Em};f.Rd=function(){var a=this;this.IF||null===this.Nb()||(this.IF=!0,Bb.Mb(this.ba,(new gD).Ck(this.ca),function(b,c){a.Uy=c.Ja().Rd()}));return this.Uy};f.ab=function(){var a=[];if(this.mc()){var b=uh(this.backgroundColor||R.UI);b&&a.push(b)}return a};f.Bd=function(){return this.ab().length};
f.hh=function(){return null!==this.backgroundColor?uh(this.backgroundColor):null};f.Rw=function(a){var b=this.C();a?(this.backgroundColor=a.qa(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.Hb()&&this.page&&this.page.trigger("change:background",this.page);this.xe()};f.Yd=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.Rw(b)};
f.Zi=function(){if(this.me)return this.me;var a=new $o;this.ab().forEach(function(b){cp(a,b)});return this.me=a};
function hp(a){this.jw=[];this.vb=this.zc=this.gJ=null;this.Wb=$();this.ux=[];this.IQ=$();this.Wa=[];this.Wc=[];this.OV=this.loaded=!1;Z.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ba=a.mediaId;this.ca=a.mediaVersion;this.pb=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.C();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.VW);this.listenTo(this,"change:fontFamily",this.VW);this.contents=a.contents?a.contents.slice(0):
null;a.scale&&(this.scale=a.scale);this.oi=null;a.svgMetadata&&(this.oi=a.svgMetadata);a.fillColors&&(this.Qc=a.fillColors.map(function(a){return{index:a.index,color:jB(a.color)}}),Object.freeze(this.Qc));this.Vl(this.ba,this.ca).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:svg",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}hp.prototype=Object.create(Z.prototype);f=hp.prototype;f.constructor=hp;f.Up=HC;f.Lq=TC;f.ed=VC;f.BM=WC;f.qF=IC;
f.Ro=ZA;f.rE=eB;f.Sc=GA;f.av=HA;f.uF=XA;f.es=WA;f.hs=VA;f.ol=RA;f.tF=OA;f.Cw=UA;f.dt=YA;f.KH=dB;f.Qw=fB;f.io=KA;f.setColor=JA;f.OH=TA;f.Sq=zA;f.YB=AA;f.sk=BA;f.pe=EA;f.XB=FA;f.ko=LA;f.ji=IA;f.Vw=$A;f.QH=aB;f.Ww=SA;f.Xw=QA;f.Yw=MA;f.Xq=PA;f.Bx=bB;f.Vp=function(){return this.OV};f.vA=function(){return!0};f.qr=function(){return!this.Af()};f.Vt=function(){return this.ke()&&!this.mv()};f.ke=function(){return this.Wb&&0<this.Wb.length};f.Op=function(){return this.Wc&&0<this.Wc.length};
f.tI=function(){OC(this.C().children("svg"),null,this.za)};f.ow=function(){xC(this);var a=this.C().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};f.SC=function(a){hq(a,this.Nb())||(this.ZB(!1),this.ca=this.ba=null)};f.Tj=function(){return!0};
f.ED=function(a,b){function c(){k.wP?b&&b(!1):(k.Wb.each(function(a,b){k.nj(a,k.Vb(a),x,!0);$(b).css("opacity","")}),k.$a(),l.forEach(function(a){var b=a.index,c=k.bb(b);k.nj(b,a,function(b){b&&void 0!==a.lineLengths&&sA(c,a.lineLengths);x()},!0)}),k.jw=hD(p,".photoPlaceholder"),k.ym=0<k.dg(),iD(p,k.jw),jD(p,k.jw),kD(p,k.jw),m&&(k.Wa=XB(m,k.dg(),h),k.Wc=VB(m,k.Wa),Object.freeze(k.Wc),Object.freeze(k.Wa)),k.Wa.forEach(function(a,b){Im(a.Wm(),Hm)&&SC(a,lD(k,b))}),UB(k,function(){r=!0;e()}))}function d(){z=
!0;window.setTimeout(e,0)}function e(){if(r&&z&&!k.loaded&&(k.nc(),k.loaded=!0,p.css("position","absolute"),b&&b(!0),null!=k.oi&&(null==v||JSON.stringify(k.oi)!==JSON.stringify(v)))){var a=k.R();(a=a?a.Eb:null)&&a.trigger("change")}}function g(a,b){var c=a.parent(),d=a.prev(),e=KB(a),e=$("\x3cdiv\x3e\x3c/div\x3e").css("opacity",0).css("width",e.j()*W).css("height",e.o()*W).append(a).appendTo("#limbo");try{b()}finally{0<c.length?0<d.length?a.insertAfter(d):a.prependTo(c):a.detach(),e.remove()}}var h=
this.C(),k=this,l=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],m=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(!mB(a,!0)||this.wP)b&&b(!1);else{var n=MB();a=yB(a,n);var p=$(a).filter("svg");zB(p);p=$(p.get(0).cloneNode(!0));p.appendTo(h);this.zc=KB(p);this.width&&this.height||(this.na(this.zc.j()),this.ea(this.zc.o()));this.Wb=mD(p,mc(this.i));this.Wb.css("opacity",0).data("canvaElement",this).appendTo(h);nD(this);oD(this).each(function(){var a=
$(this).data("designObject");k.listenTo(a,"change:width",k.SW);k.listenTo(a,"change:height",k.RW)});a=pD(p,this.Wb);this.ux=a.ux;this.ux.forEach(function(a){k.listenTo(a,"change",k.bX)});this.IQ=a.S1;this.IQ.appendTo(h);this.Qc&&this.Qc.forEach(function(a){k.Yd(a.index,a.color)});var q=[],u=[];this.Wb.each(function(){var a=$(this).data("fontFamily"),b=jA($(this)).Xe;a&&q.push(a);q=q.concat(b)});l.forEach(function(a){var b=wA('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);q=q.concat(b);
a.lineLengths&&k.bb(a.index).data("cachedLineLengths",a.lineLengths);a.fontMedia&&(u=u.concat(fn(a.fontMedia)));Array.isArray(a.htmlFontMedia)&&(u=u.concat(a.htmlFontMedia.map(fn)))});var u=u.filter(Boolean),v=this.oi;g(p,function(){k.vb=qD(p);k.oi=rD(k,p)});k.vb&&(k.scale&&sD(k),k.na(k.j()),k.ea(k.o()));var z=!1,r=!1;a=this.Wb.length+l.length;var x=_.after(a,d);0===a&&d();this.xe();tD(Jb,u,q,c)}};f.$a=function(){Z.prototype.$a.call(this);uD(this);ip(this);vD(this)};
f.qs=function(){var a=this,b=[];this.Wb&&this.Wb.each(function(c){b.push(uh(a.Vb(c).color))});return b};f.Ad=function(){var a=this.Gc();return-1<a?this.Wc[a]:null};f.Fz=function(){return this.Gc()};f.zp=function(a){return this.Wc[a]||null};f.Zp=function(){return!(!this.Ad()||!this.Ad().ws())};f.ds=function(){var a=this.OE.slice();0<this.dg()&&a.push("deletePlaceholder");return a};f.up=function(){this.Ad()&&this.Ad().up()};f.tp=function(){this.Ad()&&this.Ad().tp()};
f.vH=function(){if(this.Ad()&&this.Ad().ws()){var a=this.C().data("toolbar");a&&a.view.Ju("filter")}};f.qH=function(a,b){bD(this.Wc[a],b)};f.VW=function(a,b){(a=b.data("designObject"))&&this.loaded&&wD(a)};var xD=0;function MB(){xD=xD==Math.pow(2,53)?0:xD+1;return"CANVA"+xD+"_"}function yD(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function qD(a){function b(a,b){var c=b.firstElementChild;c?b.insertBefore(a,c):b.appendChild(a)}function c(a,c,d,e,g){if(0!=a.length){var h=a.get(0),k=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),n=MB(),L=MB(),G=document.createElementNS("http://www.w3.org/2000/svg","rect"),O=document.createElementNS("http://www.w3.org/2000/svg","rect"),Q=a.get(0).cloneNode(!0),N=document.createElementNS("http://www.w3.org/2000/svg",
"rect");m.id=n;G.setAttribute("width",e);G.setAttribute("height",g);G.setAttribute("x",c);G.setAttribute("y",d);m.appendChild(G);k.id=L;Q.removeAttribute("id");$("g.canva, .textPlaceholder, .photoPlaceholder",Q).remove();k.appendChild(Q);l.appendChild(k);l.appendChild(m);a.children(":not(.canva)").remove();a.data("clipId",n);a.data("useId",L);h.setAttribute("clip-path","url(#"+n+")");N.setAttribute("width",e);N.setAttribute("height",g);N.setAttribute("x",c);N.setAttribute("y",d);N.setAttribute("class",
"repeat");N.setAttribute("visibility","hidden");N.setAttribute("pointer-events","none");O.setAttribute("width",e);O.setAttribute("height",g);O.setAttribute("class","repeat");O.setAttribute("display","none");O.setAttribute("pointer-events","none");O.setAttribute("class","canva dimensions");b(N,h);h.insertBefore(O,N);h.setAttribute("class","canva tiled");zD(a)}}if(!yD(a))return null;var d=KB(a),e={left:0,right:0,top:0,bottom:0,repeat:!1,gt:!0,$n:!0},g=a.get(0),h=d.j(),k=d.o();$("g",a).each(function(a,
b){-1!=["n","e","s","w"].indexOf(b.id)&&(e.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(e.right=Math.max(e.right,h-b.getBBox().x),e.right==h&&(e.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(e.left=Math.max(e.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(e.bottom=Math.max(e.bottom,k-b.getBBox().y),e.bottom==k&&(e.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(e.top=Math.max(e.top,b.getBBox().y))});e.gt=!g.classList.contains("verticalOnly");e.$n=!g.classList.contains("horizontalOnly");
if(e.repeat){var l=document.createElementNS("http://www.w3.org/2000/svg","defs");b(l,g);var d=e.left+e.right,m=e.top+e.bottom,n=g.classList.contains("horizontalOnly"),g=g.classList.contains("verticalOnly");c($("g#n",a),e.left,0,h-d,n?k:e.top);c($("g#s",a),e.left,k-e.bottom,h-d,n?k:e.bottom);c($("g#c",a),e.left,e.top,h-d,k-m);c($("g#w",a),0,e.top,g?h:e.left,k-m);c($("g#e",a),h-e.right,e.top,g?h:e.right,k-m)}return e}
function zD(a){var b=a.data("clipId"),c=a.data("useId"),d=a.get(0);if(b&&c){var b=d.querySelector(".repeat"),e=d.querySelector(".dimensions");if(b&&e){var g=Number(b.getAttribute("width")),h=Number(b.getAttribute("height")),b=Number(e.getAttribute("width")),e=Number(e.getAttribute("height")),g=Math.ceil(g/b),h=Math.ceil(h/e);if(!(isNaN(g*h)||!isFinite(g*h)||0>h||0>g||g===Number(a.data("columns"))&&h===Number(a.data("rows")))){a.find("use").remove();for(var k=0;k<g;k++)for(var l=0;l<h;l++){var m=document.createElementNS("http://www.w3.org/2000/svg",
"use"),n=k*b-.5*k,p=l*e-.5*l;m.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);m.setAttribute("transform","translate("+n+","+p+")");d.appendChild(m)}a.data("columns",g);a.data("rows",h)}}}}
function hD(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),e=a.prev(),g=KB(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.j()).css("height",g.o());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0);Gf(a);var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){a=$(b).clone();a.attr("fill","transparent").appendTo($(b).parents("g, svg").first());Gf(a);b=dh(a.get(0).getBoundingClientRect());a.remove();b.translate(-k.left,-k.top);c.push(b)});
0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();h.remove();return c}
function mD(a,b){var c=$(),d=hD(a,".textPlaceholder"),e=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=e.eq(d),l=k.data()||{},m=$(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e',l.placeholderText||b.format("documentSvgPlaceholderText"),"\x3c/div\x3e\x3c/div\x3e"].join(""));m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||R.cD).css("font-size",(l.fontSize||R.cD)*R.Ci+"%").data("defaultFontSize",l.fontSize||R.cD).data("original-fill",l.fill).data("is-primary-color",l.fill&&HB.equals(uh(l.fill))).data("is-secondary-color",l.fill&&IB.equals(uh(l.fill))).data("is-tertiary-color",l.fill&&JB.equals(uh(l.fill))).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",
l.lineSpacing||R.WI).css("line-height",l.lineSpacing||R.WI).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||AD(m);a=new BD(m,0,0);m.data("designObject",a);c=c.add(m)});return c}
function pD(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(e,g){e=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===e.length){var q=new BD(e.eq(0),b.F(),b.w());e.data("stackId",a.getAttribute("data-stack-id")).data("designObject",q);d.push(q)}});return d}var d=$(),e=[],g=hD(a,".canva.stack");a.find(".canva.stack").each(function(a,k){a=g[a];var l=0<$(k).parents("#n, #c, #s").length,m=0<$(k).parents("#w, #c, #e").length,n=c(k,a,b);a={valign:k.getAttribute("data-valign"),
box:a.serialize(),resizeHorizontal:l,resizeVertical:m,contents:n};a=new CD(a);e.push(a);l=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');m=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});l.data("sourceElement",k).data("stack",a).append(m);d=d.add(l)});return{ux:e,S1:d}}
function AD(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function iD(a,b){b.forEach(function(b,d){var e=new V(0,0,R.fS,R.eS);Pm(e,b);a.find("image.placeholder").eq(d).attr("x",e.F()).attr("y",e.w()).attr("width",e.j()).attr("height",e.o())})}
function jD(a,b){b.forEach(function(b,d){var e=Math.max(b.j(),b.o()),e=new V(0,0,e,e);d=a.find("image.placeholder").eq(d);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");Om(Pm(e,b).scale(Math.max(1,R.gy)),b);Jm(e)&&(g.classList.add("vignette"),$(g).appendTo(d.parent()).attr("fill","none").attr("clip-path",d.attr("clip-path")).attr("x",e.F()).attr("y",e.w()).attr("width",e.j()).attr("height",e.o()))})}
function kD(a,b){b.forEach(function(b,d){d=a.find("image.placeholder").get(d);var e=d.cloneNode(!0);e.classList.remove("placeholder");e.classList.add("broken");b=Om(b.clone().scale(.33),b);$(e).appendTo(d.parentNode).attr("x",b.F()).attr("y",b.w()).attr("width",b.j()).attr("height",b.o());e.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function DD(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,Nm(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,Nm(b,0,a*d.scale));return b}f=hp.prototype;
f.SW=function(a,b){if(this.vb&&this.vb.gt&&0!==b){var c=Nm(this.pa(),b,0);switch(a.Dk.data("justification")){case ED:c.translate(-b/2,0);break;case FD:c.translate(-b,0)}GD(this,c);this.nc()}};f.RW=function(a,b){this.vb&&this.vb.$n&&0!==b&&(a=Nm(this.pa(),0,b),a.translate(0,-b/2),GD(this,a),this.nc())};function GD(a,b){var c=a.Za,d=a.nc;a.Za=function(){};a.nc=function(){};a.md(b);a.nc=d;a.Za=c}
f.bX=function(a){if(this.vb&&(this.vb.gt||this.vb.$n)){var b=!1,c=a.pa(),d=this.C().children(".stack").filter(function(){return $(this).data("stack")===a}),d=DD($(d.data("sourceElement")),a.Mz(),!0,HD(this));if(this.vb.$n){var e=c.ua()-d.ua(),b=b||0!==e;this.ea(this.o()+e)}this.vb.gt&&(c=c.Ya()-d.Ya(),b=b||0!==c,this.na(this.j()+c));b&&this.$a()}};
function sD(a){var b,c=a.zc;b={scale:a.scale,deltaX:a.j()/a.scale-c.j(),deltaY:a.o()/a.scale-c.o()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.zc.j()*c,a.zc.o()*c);d&&a.na(c*d+a.j());b&&a.ea(c*b+a.o())}
f.setSize=function(a,b){var c=this.width;ID(a,this.width)&&!ID(b,this.height)?this.ea(b):ID(b,this.height)&&!ID(a,this.width)?this.na(a):(Z.prototype.na.call(this,a),Z.prototype.ea.call(this,b),uD(this),vD(this),nD(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.Wa.forEach(function(b){var e=b.Wm();e.scale(a/c);SC(b,e)}))};
f.na=function(a){var b;Z.prototype.na.call(this,a);if(this.vb&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.C()).length){this.Wb.each(function(){var a=$(this);a.data("dynamicWidth")&&uA(a)});b=KB($("svg",this.C()));b.o()==this.zc.o()?(a=this.zc.o()*this.width/this.height,b=this.zc.clone()):(a=b.o()*this.width/this.height,b=b.clone());b.na(a);b=[b.F(),b.w(),b.j(),b.o()].join(" ");$("svg",this.C()).get(0).setAttribute("viewBox",b);b=this.vb.left+this.vb.right;var c=this.zc.j()-b,d=a-b,e=d/c,g=-this.vb.left*
(e-1),h=this;$("g#n, g#c, g#s",this.C()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.vb.top*(a-1));h.vb.repeat?($(".repeat",this).attr("width",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("width",d)):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+e.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",e)});var k=d-c-1;$("g#ne, g#e, g#se",
this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"e"==this.id&&(a=-h.vb.top*(b-1));"e"==this.id&&h.vb.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");
"w"==this.id&&(a=-h.vb.top*(b-1));"w"==this.id&&h.vb.repeat?$(this).attr("transform","translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});uD(this);vD(this)}};
f.ea=function(a){Z.prototype.ea.call(this,a);if(this.vb&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.C()).length){var b;b=KB($("svg",this.C()));b.j()==this.zc.j()?(a=this.zc.j()*this.height/this.width,b=this.zc.clone()):(a=b.j()*this.height/this.width,b=b.clone());b.ea(a);$("svg",this.C()).get(0).setAttribute("viewBox",b.F()+" "+b.w()+" "+b.j()+" "+b.o());b=this.vb.top+this.vb.bottom;var c=this.zc.o()-b,d=a-b,e=d/c,g=-this.vb.top*(e-1),h=this;$("g#w, g#c, g#e",this.C()).each(function(){var a=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.vb.left*(a-1));h.vb.repeat?($(".repeat",this).attr("height",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("height",d)):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+e.toString()+")");$(this).data("deltaY",d-c).data("scaleY",e)});var k=d-c-1;$("g#sw, g#s, g#se",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.vb.left*(b-1));"s"==this.id&&h.vb.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.vb.left*(b-1));"n"==this.id&&
h.vb.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform","translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});uD(this);vD(this)}};function JD(a){return a.zc?a.j()/a.zc.j():0}
function HD(a){var b={scale:JD(a),deltaX:0,deltaY:0};if(!a.vb)return b;var c,d=KB($("svg",a.C()));a.zc.j()!=d.j()&&a.zc.o()!=d.o()?c=a.width/d.j():a.zc.o()==d.o()?c=a.height/a.zc.o():(a.zc.j(),d.j(),c=a.width/a.zc.j());b.scale=c;b.deltaX=d.j()-a.zc.j();b.deltaY=d.o()-a.zc.o();return b}
function ip(a){a.Wb.each(function(){var b=$(this),c=b.data("fontSize"),d=void 0!==b.data("stackId"),e=HD(a),c=c*e.scale;b.css("font-size",c*R.Ci+"%");!d&&b.data("placeholderElement")&&b.data("rect")&&b.data("designObject")&&(d=b.data("placeholderElement"),c=b.data("rect").clone(),c=DD(d,c,!!a.vb,e),e=b.data("designObject"),a.stopListening(e,"change:width"),a.stopListening(e,"change:height"),e.md(c),a.listenTo(e,"change:width",a.SW),a.listenTo(e,"change:height",a.RW),c.scale(W).round(),b.css(c.serialize()))})}
function oD(a){return a.Wb.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function nD(a){if(a.Wb&&0!=a.Wb.length){var b=oD(a),c=HD(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}function uD(a){a.C().find(".canva.tiled").each(function(){zD($(this))})}
function vD(a){a.ux.forEach(function(b,c){var d=HD(a),e=a.C().find(".canva.stack").eq(c),e=DD(e,b.Mz(),!!a.vb,d),g=e.clone().scale(W).round();a.IQ.eq(c).css(g.serialize());a.stopListening(b,"change");b.md(e,d.scale);b.ka();a.listenTo(b,"change",a.bX)})}f.remove=function(){this.Wb.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&cB(a)});Z.prototype.remove.call(this);this.stopListening();this.Wb.remove();this.ux.forEach(function(a){a.remove()})};
f.uh=function(){Z.prototype.uh.call(this);this.Lq()};f.vP=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};
f.Za=function(){Z.prototype.Za.call(this);KD(this);var a=this.C(),b=a.data("selectionBox");b&&this.vb&&(this.vb.$n&&b.addClass("verticalScale"),this.vb.gt&&b.addClass("horizontalScale"));if(a.is(".cropping"))this.ez();else{this.Lq();var c=this,b=$("#overlays");0!==b.length&&(b=b.find(".svg.text.focused"),b=b.filter(function(){return c==$(this).data("canvaElement")}),a=a.data("toolbar"))&&(0<b.length&&a.view.$el.filter(".toolbar--font").length&&LD(a),this.Wa.length&&(b=-1<this.Gc(),a.view.TY("imageDelete",
"crop","filter"),a.view.Qf("imageDelete",b),a.view.Qf("crop",b),a.view.Qf("filter",b&&MD(this.Wa[this.Gc()]))),zC(a))}};f.Nb=function(){return null!==this.ba&&null!==this.ca?new en({id:this.ba,version:this.ca}):null};f.Aw=function(){var a=this.Nb();if(!a)return P.resolve();this.contents&&this.contents.splice.bind(this.contents,0,Infinity).apply(null,this.serialize().contents);var b=$('\x3cimg class\x3d"placeholder" /\x3e');this.C().empty().append(b);this.loaded=!1;return this.Vl(a.id,a.version)};
f.Kz=function(){for(var a=[],b=0;b<this.dg();b++){var c=this.Fp(b);c&&a.push(c)}return a};f.wv=function(){return!0};f.Uq=function(a){LC(MC,this.C().find("img.placeholder"),a)};f.Vl=function(a,b){this.ba=a;this.ca=b;return ND(this)};
function ND(a){return new P(function(a,c){function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.ED(a,e)});g.fail(function(){b?T.trigger("elementLoadingError",k):d(a+c,!0)})}function e(a){if(a){var b=k;b.C().children("img.placeholder").remove();b.$a()}h(a)}function g(a){function b(a){var c=!!a;k.Uq(c&&a.src||"");k.C().find("img.placeholder").removeClass("placeholder");k.C().addClass("raster");h(c)}aD(MC,a).then(b).catch(b.bind(null,void 0))}function h(d){d?
window.setTimeout(function(){k.$a();k.HB();a()},0):c()}var k=this,l=Fb.Hc(this.ba,this.ca);if(l){var m=l[YC];ZC(this.ba,this.ca,"print"==$B?$C:Tg).then(function(a){var b=a.ma();a.url.match(/^data:image\/svg\+xml;base64,/i)?(a=window.atob(b.substr(b.indexOf(",")+1)),k.ED(a,e)):a.url.match(/\.svg(\?|$)/)?(k.Uq("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(b)):(k.Uq(m.ma()),g(b))})}else c()}.bind(a))}f.wA=function(){return this.pb};
f.ZB=function(a){this.pb=a;this.C().toggleClass("unapproved",!a);this.Za()};function OD(a){a=1/JD(a)/W;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function KD(a){var b=a.Bg();PD(a);0<b.length&&(b=b.get(0),b.getAttribute("xlink:href")!=R.Ko&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",OD(a)))}
function PD(a){QD(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}f.Mi=function(){PD(this)};f.nt=function(a){this.Up()||(this.gJ=a,KD(this),(a=this.C().data("toolbar"))&&AC(a,this))};f.pl=function(a){return(a=this.Wa[a])?a.serialize():null};f.Fp=function(a){return this.Wa[a]||null};
f.Vq=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Wa[a];b.mediaId?SC(RD(SD(TD(e,b.mediaId,b.mediaVersion,c),b.origin?new cn(b.origin):null),b.mediaApproved),Gm(b.imageBox)).Tw(b.flipOrientation):this.EB(a)};f.jY=function(){this.EB(this.Gc())};f.EB=function(a){a===this.Gc()&&(this.gJ=null,PD(this));var b=lD(this,a);SC(UD(this.Wa[a]),b);this.Wc[a].remove()};function lD(a,b){a=a.an(b);b=new V(0,0,R.fS,R.eS);a&&Pm(b,a).translate(-a.F(),-a.w());return b}
function QD(a){return a.C().find("svg image.placeholder")}function VD(a){return QD(a).filter(function(){return $(this).attr("xlink:href")!=R.Ko}).first()}f.Bg=function(){return this.gJ||VD(this)};f.Gc=function(){return QD(this).index(this.Bg())};f.Oz=function(a){return QD(this).eq(a)};f.dg=function(){return this.jw.length};
f.ez=function(){JC.call(this);var a=this.C().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.Bg().clone().get(0),c=this.ed().scale(1/JD(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.F(),c.w(),c.j(),c.o()].join(" ");d.appendChild(e);e.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.ed();d.scale(W).round();a.find("svg").css("transform",gp({ti:d.F(),vi:d.w()})).css("width",d.j()).css("height",d.o())};f.aQ=function(a,b){QC.call(this,a,b);b=this.C().data("cropControls");a=this.Bg();b=$("g.cropLayer image",b);var c=this.ed(),d=this.ag();d.translate(c.F(),c.w()).scale(1/JD(this));a.attr("x",d.F()).attr("y",d.w());b.attr("x",d.F()).attr("y",d.w())};
f.Ul=function(a){RC.call(this,a);var b=this.C().data("cropControls"),b=$("g.cropLayer image",b),c=this.ed();a=a.clone();a.translate(c.F(),c.w()).scale(1/JD(this));b.attr("x",a.F()).attr("y",a.w()).attr("width",a.j()).attr("height",a.o())};f.an=function(a){var b=JD(this);a=this.jw[a].clone();a.scale(b);return a};
f.ag=function(){var a=this.Bg(),b=this.ed(),a=new V(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(JD(this)).translate(-b.F(),-b.w());return a};f.Ir=function(){var a=this.C();a.removeClass("cropping");var b=this.Bg(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
f.serialize=function(){function a(a,b){a=a===kB?kB:a.qa();return{index:b,color:a}}var b=Z.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ba;b.mediaVersion=this.ca;this.pb||(b.mediaApproved=!1);0!==JD(this)&&(b.scale=HD(this).scale);var c=this,d=[],e;this.loaded?(this.Wa.forEach(function(a,b){if(MD(a)||!a.pb)a=a.serialize(),(b=dD(c.Wc[b]))&&(a.filter=b),d.push(a)}),this.Wb&&this.Wb.each(function(a){a=c.Vb(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),e=this.ab().map(a),0<e.length&&
(b.fillColors=e)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.Qc&&(b.fillColors=this.Qc.map(function(b,c){return a(b.color,c)})));this.oi&&(b.svgMetadata=this.oi);return b};
function rD(a,b){function c(a,b){var c,e,g,h,k,z,r,x;a.find("g[id\x3dc]")[0]?(c=d("n"),e=d("s"),g=d("w"),h=d("e"),k=d("nw"),z=d("ne"),r=d("sw"),x=d("se")):a.find("g[id\x3dn]")[0]?(g=d("nw"),h=d("ne"),c=e=k=z=r=x={width:0,height:0}):a.find("g[id\x3dw]")[0]&&(c=d("nw"),e=d("sw"),g=h=k=z=r=x={width:0,height:0});a=Math.max(g.width,k.width,r.width);c=Math.max(c.height,z.height,k.height);return{x:b.x+a,y:b.y+c,width:b.width-a-Math.max(h.width,z.width,x.width),height:b.height-c-Math.max(e.height,x.height,
r.height)}}function d(a){return(a=b.find("g[id\x3d"+a+"]")[0])?a.getBBox():{x:0,y:0,width:0,height:0}}function e(a){return{left:a.x,top:a.y,width:a.width,height:a.height}}Ca(1===b.closest("#limbo").length,"svg must be in limbo element.");try{var g=a.vb,h={},k={x:a.zc.F(),y:a.zc.w(),width:a.zc.j(),height:a.zc.o()};h.viewBox=e(k);h.textHolderBoxes=b.find(".textPlaceholder").toArray().map(function(a){return e(a.getBBox())});h.photoHolderBoxes=b.find("image.placeholder").toArray().map(function(a){a=(a=
a.getAttribute("clip-path"))&&a.match(/url\(["']?(.*?)["']?\)/);Fa(!!a,"SVG image placeholder's clip-path attribute is missing or invalid.");var c=b.find(a[1]);Fa(1===c.length,"SVG image placeholder's clipPath element is missing or ambiguous.");a=SVGClipPathElement.prototype.getBBox?c[0].getBBox():null;if(null==a||0===a.width&&0===a.height&&null!=c[0].innerHTML)c=$("\x3csvg\x3e\x3cg\x3e\x3c/g\x3e\x3c/svg\x3e").children().html(c.html()).insertAfter(c),a=c[0].getBBox(),c.remove();return e(a)});g&&(h.centerBox=
e(c(b,k)),h.tile=!!g.repeat);return h}catch(l){return WD().log("Failed to serialize SVG metadata.",{error:l}),null}}f.Ae=function(){return this.Wb?this.Wb.filter(".focused"):$()};f.Af=function(){return 0<this.Ae().length};f.mv=function(){return 0<this.Bg().length};f.Zi=function(){function a(a,c){jA($(c)).vf.forEach(b)}function b(a){(a=uh(a))&&cp(c,a)}if(this.me)return this.me;var c=new $o;this.Wb&&this.Wb.each(a);this.ab().forEach(function(a){a instanceof on&&cp(c,a)});return this.me=c};f.AF=function(){return this.Wb.length};
f.bb=function(a){return this.Wb?this.Wb.eq(a):$()};f.yb=function(){return this.Wb.index(this.Ae())};
f.Vb=function(a){function b(a,b,c){var d=Math.PI/2,e=Math.PI,g=Math.PI+Math.PI/2;if(0<=c&&c<d)return b*=Math.sin(c),{left:a.left+b,top:a.top};if(c>=d&&c<e)return b*=Math.sin(c-d),{left:a.right,top:a.top+b};if(c>=e&&c<g)return b*=Math.sin(c-e),{left:a.right-b,top:a.bottom};if(c>=g)return b*=Math.sin(c-g),{left:a.left,top:a.bottom-b};throw Error("Invalid radians value "+c);}function c(a,b,c){var d=a.left-b.left;a=a.top-b.top;var e=Math.sin(c);c=Math.cos(c);return{left:d*c-a*e+b.left,top:d*e+a*c+b.top}}
if(0>a||a>=this.Wb.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var d=this.Wb.eq(a);a=this.Qw(a);var e=d.data("designObject");e&&(a.preferredFontSize=e.hH);var g=d.children(".inner");a.width=g.prop("clientWidth");a.height=g.prop("clientHeight");e=function(a,d){var e=a[0].getBoundingClientRect(),m=g[0].getBoundingClientRect();if(0===d)return{left:(m.left-e.left)/W,top:(m.top-e.top)/W};d=Pn(0<=d?d:360+d);var n={left:e.left+e.width/2,top:e.top+e.height/2};a=Number(a.prop("clientHeight"));
e=b(e,a,d);e=c(e,n,-d);a=Number(g.prop("clientHeight"))*W;m=b(m,a,d);m=c(m,n,-d);return{left:(m.left-e.left)/W,top:(m.top-e.top)/W}}(this.C(),this.Sa()%360);a.left=e.left;a.top=e.top;d=Number(d.data("lineSpacing"));a.lineHeight=100*(isNaN(d)?R.WI:d);return a};
f.nj=function(a,b,c,d){if(0<=a&&this.Wb&&a<this.Wb.length){var e=this.Wb.eq(a),g=e.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.sk(a,b.fontFamily,c,d);this.Sq(a,b.fontMedia&&fn(b.fontMedia));this.setColor(a,uh(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.pe(a,b.fontSize*HD(this).scale);this.io(a,b.bold);this.ko(a,b.italic);this.ji(a,b.justification);this.Yw(a,b.list);this.Xq(a,b.textTransform);a=e.data("designObject");void 0!==b.preferredFontSize&&(a.hH=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");uA(e)}};f.nL=function(){};f.uE=function(){};f.uA=function(){};
f.pe=function(a,b){var c=this.bb(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=HD(this).scale,e=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*R.Ci+"%");if(e!==g){d=g/e;if(.5>d||2<d)this.dt(a),this.Cw(a),uA(c);this.trigger("change:fontSize",this,c,b)}}};f.Sc=function(a){a=GA.call(this,a);var b=HD(this).scale;return a*b};f.XB=function(a){var b=this.Ae().data("designObject"),c=HD(this).scale;b.hH=a/c;FA.apply(this,arguments)};
f.ab=function(){var a=XD(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};f.Bd=function(){return this.ab().length};function XD(a){var b={};a.C().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var e=this.classList.item(d);if(e.match(/^color-\d+$/)){a=e;break}}a&&(d=jB(this.getAttribute("fill")))&&(b[a]=d)});return b}f.Hy=function(){var a=this.C().children("svg").get(0);return!!a&&a.classList.contains("baseColors")};
f.HB=function(){function a(a,b,c){return Cn(uh(a),b,c)}var b=this.pm,c=this.ty;null!==this.pm&&this.Hy()&&(this.C().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.Us,c).qa())}),this.C().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.mt,c).qa())}),this.C().children("svg").find(".tertiaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),
b.Bt,c).qa())}),this.Wb.each(function(d,e){var g=!!jQuery.data(e,"is-primary-color"),h=!!jQuery.data(e,"is-secondary-color"),k=!!jQuery.data(e,"is-tertiary-color");e=jQuery.data(e,"original-fill");g?this.setColor(d,a(e,b.Us,c)):h?this.setColor(d,a(e,b.mt,c)):k&&this.setColor(d,a(e,b.Bt,c))}.bind(this)))};
f.Yd=function(a,b){var c=XD(this);a=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.C().children("svg").find("."+a).each(function(){var a=this.getAttribute("data-color");this.setAttribute("fill",lB(b)||a)});this.xe()};
function Rp(a,b){function c(){g.nj(0,a,d,!0);g.xo=$.extend(!0,{},a.stylesOverriden);g.bt=!1}function d(a){n=!0;q=a;m&&e()}function e(){var c=p&&q;g.loaded=!0;h.removeClass("textElementLoading");if(c)g.bt=!0,g.$a(),g.yd&&a.height?g.ea(a.height):g.ea(),sC(g),kC(g),g.nc(),T.trigger("elementLoaded",g),T.trigger("elementLoaded:text",g);else{var d=g;Z.prototype.ea.call(d,a.height);Z.prototype.na.call(d,a.width);sA(d.C(),a.lineLengths||[]);d.vz=!0;d.C().toggleClass("failed",d.vz);d.bt=!0;T.trigger("elementLoadingError",
g)}b&&b(g,c)}Z.call(this,a);var g=this,h=this.C(),k=mc(this.i);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Jf()).append('\x3cdiv class\x3d"inner"\x3e'+k.Jf()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.kG=!0;!1===a.lockedWidth&&(this.kG=!1);k=[];a.fontMedia&&k.push(fn(a.fontMedia));a.htmlFontMedia&&(k=k.concat(a.htmlFontMedia.map(fn)));a.verticalAlignment&&(this.ue=a.verticalAlignment);var l=wA(a.html);a.fontFamily&&
l.push(a.fontFamily);var m=!1,n=!1,p=!1,q=!1;this.xo={};0<k.length?YD(Jb,k,c):c();this.yd=this.loaded=!1;this.Y6=a;tD(Jb,k,l,function(a){m=!0;p=a;n&&e()});this.tN=!1}Rp.prototype=Object.create(Z.prototype);f=Rp.prototype;f.constructor=Rp;f.Ro=ZA;f.rE=eB;f.Sc=GA;f.av=HA;f.uF=XA;f.es=WA;f.hs=VA;f.ol=RA;f.tF=OA;f.Cw=UA;f.dt=YA;f.KH=dB;f.Qw=fB;f.io=KA;f.setColor=JA;f.OH=TA;f.Sq=zA;f.YB=AA;f.sk=BA;f.pe=EA;f.XB=FA;f.ko=LA;f.ji=IA;f.Vw=$A;f.QH=aB;f.Ww=SA;f.Xw=QA;f.Yw=MA;f.Xq=PA;f.Bx=bB;f.vv=function(){return!this.loaded};
f.AF=function(){return 1};f.Xo=function(){return this.loaded&&!this.sy&&!this.vz};f.Vt=function(){return!0};f.JD=function(){return this.loaded&&!this.vz};f.nZ=function(){return!0};f.RQ=function(){return!0};f.vA=function(){return this.kG};f.Yj=function(){this.kG=!0};f.gR=function(){this.kG=!1};
function ZD(a){if(!a.nr){var b=a.bb(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=Yz(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=Yz(b)+c);2===c.length&&(a.nr=c)}a.nr&&(a.nr=a.nr.replace(/\s/gi,""),2!==a.nr.length&&(a.nr=void 0));return a.nr}function $D(a){var b=ZD(a);return b?a.uF(0,b):0}f.LY=function(a){var b=ZD(this);b&&(this.Vw(0,a,b),this.Ro(0))};f.BV=function(){var a=ZD(this);if(a){var b=$D(this);this.Vw(0,Math.min(b+10,200),a);this.Ro(0)}};
f.IT=function(){var a=ZD(this);if(a){var b=$D(this);this.Vw(0,Math.max(b-10,-200),a);this.Ro(0)}};f.sk=function(a,b,c,d){this.xo.fontFamily=!0;BA.call(this,a,b,c,d)};f.pe=function(a,b,c){this.xo.fontSize=!0;EA.call(this,a,b,c)};f.io=function(a,b){this.xo.bold=!0;KA.call(this,a,b)};f.ko=function(a,b){this.xo.italic=!0;LA.call(this,a,b)};f.ji=function(a,b){this.xo.justification=!0;IA.call(this,a,b)};f.setColor=function(a,b){this.xo.color=!0;JA.call(this,a,b);this.xe()};
f.na=function(a){var b=void 0!==a&&a!==this.width;Z.prototype.na.call(this,a);a=this.j();TB(this).css("width",Math.round(a));b&&!this.tN&&uA(this.C())};f.ea=function(a){this.yd?a&&Z.prototype.ea.call(this,a):(a=TB(this).prop("scrollHeight")||0,Z.prototype.ea.call(this,a))};f.setSize=function(a,b,c){this.tN=!!c;this.na(a);this.ea(b);this.tN=!1};
f.nc=function(){var a=TB(this),b=W,c=.5*(R.Ot-this.ol(0))/100*b;a.css("transform","translateY("+c+"em) scale("+b+")").css("transform-origin","top left").css("width",this.j());Z.prototype.nc.apply(this,arguments)};f.Ae=function(){return this.Pa};f.Af=function(){return 0<this.Pa.length};f.Zi=function(){if(this.me)return this.me;var a=new $o;jA(this.Pa).vf.forEach(function(b){(b=uh(b))&&cp(a,b)});return this.me=a};f.bb=function(a){return 0!==a?$():this.Pa};f.yb=function(){return 0};
f.Vb=function(a){a=this.Qw(a);a.height=this.o();a.width=this.j();this.yd&&(a.fontSizeAuto=this.yd);return a};f.qs=function(){return[uh(this.Vb(0).color)]};function aE(a){return jA(a.C()).vf.filter(function(a,c,d){return d.indexOf(a)===c})}
f.nj=function(a,b,c,d){var e=this,g=this.C(),h=Array.isArray(b.htmlFontMedia)?b.htmlFontMedia.map(fn):[],k=this.rE(b.kerning),l=b.lineLengths;this.yd=!1;TB(this).html(b.html);this.YB(a,h);this.Sq(a,b.fontMedia&&fn(b.fontMedia));this.pe(a,b.fontSize);this.io(a,b.bold);this.ko(a,b.italic);this.ji(a,b.justification);this.Ww(a,b.letterSpacing);this.Xw(a,b.lineHeight);this.Yw(a,b.list);this.Xq(a,b.textTransform);this.setColor(a,uh(b.color));l&&g.data("cachedLineLengths",l);this.xo=$.extend(!0,{},b.stylesOverriden);
this.xe();this.sk(a,b.fontFamily,function(b){b&&(k&&e.Ro(a),l&&sA(g,l));c&&c(b)},d);k&&this.QH(a,k);b.fontSizeAuto&&bE(this)};f.nL=function(){bE(this)};f.uE=function(){this.yd=!1};f.uA=function(){return this.yd};f.ke=function(){return!0};f.xM=function(){return!0};function cE(a,b){a.border=b?{width:b}:{width:0};a.$a()}f.Th=function(){return this.border&&this.border.width||0};f.AM=function(){return!0};f.aC=function(a){this.padding=a?a:0;this.$a()};f.ls=function(){return this.padding};
f.$a=function(){Z.prototype.$a.call(this);var a=this.C(),b="#000000",c=jA(a).vf;0<c.length&&(b=c[c.length-1]);this.Th()?a.css("border",this.Th()/1E3*W+"em solid "+b):a.css("border","none");a.css("padding",this.padding*W+"px")};f.bv=function(){var a=R.XI;Ib.H.get(sg)&&(a=a.slice(0),a.push(dE));return a};f.remove=function(){var a=this.C();0<a.parents("#overlays").length&&cB(a);Z.prototype.remove.call(this)};
f.Za=function(){Z.prototype.Za.call(this);var a=this.C(),b=a.data("toolbar"),a=a.data("selectionBox");b&&(a&&(this.yd?(a.addClass("autoSize"),a.removeClass("horizontalScale")):(a.addClass("horizontalScale"),a.removeClass("autoSize"))),LD(b),zC(b))};f.uh=function(){Z.prototype.uh.call(this);var a=this.C(),b=a.data("toolbar");b&&b.remove();a.removeData("toolbar")};function bE(a){a.yd=!0;a.Yj();a.Za()}
f.serialize=function(){var a=Z.prototype.serialize.call(this);if(!this.loaded){var b=this.Y6;Object.keys(a).forEach(function(c){b[c]=a[c]});return b}var c=this.Vb(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.xo);for(var d in c)a[d]=c[d];this.ue&&(a.verticalAlignment=this.ue);delete a.fontSizeAuto;return a};
function cC(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}void 0===a&&(a={});a.width=a.width||R.XR;a.height=a.height||R.XR;Z.call(this,a);var c=parseInt(a.spacing,10);this.spacing=isNaN(c)||!isFinite(c)||0>c?R.dD:c;this.items=a.items||b();this.ym=!0;c=this.C();c.addClass("grid").css("width",this.width*W).css("height",this.height*W);eE(this,fE(this.items));a=a.contents||[];this.Wa=XB(a,this.dg(),c);Object.freeze(this.Wa);this.Wc=VB(a,this.Wa);Object.freeze(this.Wc);
this.load().bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:grid",this)})}cC.prototype=Object.create(Z.prototype);f=cC.prototype;f.constructor=cC;f.Up=HC;f.ag=function(){return-1===this.Gc()?null:this.Wa[this.Gc()].Wm()};f.ez=JC;f.aQ=QC;f.Ul=RC;f.Lq=TC;f.Ir=UC;f.ed=VC;f.BM=WC;f.qF=IC;f.Vp=function(){return!0};f.Tq=function(a){Z.prototype.Tq.call(this,a);this.C().toggleClass("fullPageGrid",this.Eg())};
f.setSize=function(a,b,c){Z.prototype.setSize.call(this,a,b,c);this.C().toggleClass("fullPageGrid",this.Eg())};f.nc=function(){Z.prototype.nc.call(this);this.C().toggleClass("fullPageGrid",this.Eg())};f.Aw=function(){this.Wa.forEach(function(a){a.JF=!1});return this.load()};f.load=function(){return new P(function(a){UB(this,a)}.bind(this))};f.Zi=function(){if(this.me)return this.me;var a=new $o;this.Wa.forEach(function(b){(b=b.hh())&&cp(a,b)});return this.me=a};f.ab=function(){return this.Wa.map(function(a){return a.hh()})};
f.Bd=function(){return this.ab().length};f.Yd=function(a,b){var c=this.Wa[a]||this.Wa[this.Wa.length-1];this.Vq(a,null);c.Rw(b);this.Za();this.xe()};
function fE(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var e=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));e=e.add(l)}return e}return b([{type:"rows",children:a}])}f.Op=function(){return this.Wc&&0<this.Wc.length};f.Ad=function(){var a=this.Gc();return-1!=a&&MD(this.Wa[a])?-1<a?this.Wc[a]:null:null};f.Fz=function(){var a=this.Gc();return-1!==a&&MD(this.Wa[a])?a:-1};f.zp=function(a){return this.Wc[a]};f.Zp=function(){return this.Ad()&&this.Ad().ws()};f.hM=function(){return!1};
f.hh=function(){return 1===this.Bd()?uh(this.ab()[0]):null};f.$p=function(){return null!==this.hh()};f.mc=function(){var a=1===this.Wa.length&&null===this.Wa[0].Nb();return this.$p()||a};f.Eg=function(){return!(!this.page||!Qm(this.pa(),this.page.pa()))};f.qr=function(){return!0};f.mv=function(){return 0<this.Bg().length};f.ds=function(){var a=this.OE.slice();0<this.dg()&&a.push("deletePlaceholder");return a};f.up=function(){this.Ad()&&this.Ad().up()};f.tp=function(){this.Ad()&&this.Ad().tp()};
f.vH=function(){if(this.Ad()&&this.Ad().ws()){var a=this.C().data("toolbar");a&&a.view.Ju("filter")}};f.qH=function(a,b){bD(this.Wc[a],b)};f.jY=function(){this.EB(this.Gc());this.C().find(".active").removeClass("active")};function bn(a,b,c,d){if(d)return new V(0,0,a,b);c*=R.cS;return new V(-c,-c,a+2*c,b+2*c)}function eE(a,b){var c=a.C();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);gE(a)}f.$a=function(){Z.prototype.$a.call(this);gE(this);hE(this)};
function gE(a){var b=Math.round(Math.round(a.spacing/2)*W);a=TB(a);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b)}function hE(a){a.Wa.forEach(function(a){a.update()})}
f.Za=function(){function a(){if(iE(K,c.R())){var a=c.Wa[c.Gc()];if(a)if(MD(a)){e.view.Ju("crop","filter","flip","imageDelete");e.view.TY("crop","filter","flip");var d;d=a.Pa.find("img.placeholder");a=a.Pa.find("canvas");d=1==d.length&&d.attr("src")?""+d.attr("src"):1==a.length?a.get(0).toDataURL():R.Ko;b(d)}else e.view.AK("crop","filter","flip","imageDelete"),e.view.NF("crop","filter","flip"),b(R.Ko),(d=c.ab()[c.Gc()])&&e.view.setColor([d.qa()],g);else b(R.Ko),e.view.AK("crop","filter","flip","imageDelete"),
e.view.NF("crop","filter","flip")}}function b(a){e.view.setColor(["url("+a+")"],g)}Z.prototype.Za.call(this);var c=this,d=this.C(),e=d.data("toolbar"),g=ve();d.is(".cropping")?this.ez():(this.Lq(),e&&a())};f.uh=function(){Z.prototype.uh.call(this);this.Lq()};f.Wq=function(a){this.spacing=a;this.$a()};f.remove=function(){Z.prototype.remove.call(this);this.Wc.forEach(function(a){a.remove()})};f.he=function(){return this.spacing};f.bA=function(){return!0};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.Wa.forEach(function(a,e){a.isEmpty()||(a=a.serialize(),a.filter=dD(b.Wc[e]),c.push(a))});a.contents=c;return a};f.nt=function(a){if(!this.Up()){T.trigger("hideContextualControlsRequested");var b=$(".item .placeholder.active, div.content.active",this.C());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.Za()}};
f.Bg=function(){var a=this.C().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};f.Gc=function(){var a=this.C().find(".item .content.active");0===a.length&&(a=this.C().find(".item.filled .content"));return this.C().find(".item .content").index(a)};f.Oz=function(a){return this.C().find(".item .placeholder").eq(a)};f.dg=function(){return this.C().find(".item .placeholder").length};
f.an=function(a){a=this.Oz(a).parent("div.content");var b=new V(0,0,this.width,this.height);a=a.parentsUntil(".inner");b.translate(this.spacing,this.spacing);Nm(b,-this.spacing,-this.spacing);a.toArray().reverse().forEach(function(a){a=$(a);var d=parseFloat(a.data("left"))||0,e=parseFloat(a.data("top"))||0,g=parseFloat(a.data("width"))||1;a=parseFloat(a.data("height"))||1;b.translate(d*b.j(),e*b.o()).na(b.j()*g).ea(b.o()*a)});b.na(b.j()-this.spacing).ea(b.o()-this.spacing);return b};
f.pl=function(a){return(a=this.Wa[a])?a.serialize():null};f.Fp=function(a){return this.Wa[a]||null};f.Vq=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Wa[a];e&&(b&&b.mediaId?SC(RD(SD(TD(jE(e),b.mediaId,b.mediaVersion,c),b.origin?new cn(b.origin):null),b.mediaApproved),Gm(b.imageBox)).Tw(b.flipOrientation):b&&b.backgroundColor?e.Rw(uh(b.backgroundColor)):(e.clear(),this.Wc[a].remove(),kE(this.Wc[a],new lE)))};f.EB=function(a){this.Vq(a,null)};f.cA=function(){return!0};
f.Sz=function(){return{imageBoxes:this.Wa.map(function(a){return a.isEmpty()?null:a.Wm().serialize()})}};f.MY=function(a){a=a.imageBoxes;for(var b=0;b<this.Wa.length;b++){var c=this.Wa[b],d=a[b];d&&!c.isEmpty()&&SC(c,Gm(d))}};f.Kz=function(){for(var a=[],b=0;b<this.dg();b++){var c=this.Fp(b);c&&a.push(c)}return a};f.wv=function(){return!0};function mE(a){this.a=a}function nE(){var a=document.createElement("a");return new mE(a)}function oE(a,b){a=a.a;a.href=b;return"data:"==a.protocol||"blob:"==a.protocol||":"==a.protocol||""==a.hostname?!1:a.protocol!=window.location.protocol||a.hostname!=window.location.hostname||a.port!=window.location.port}
function LC(a,b,c){var d=b instanceof jQuery?b:$(b);return new P(function(e,g){function h(){d.attr(p)===c&&(d.one("error",k),d.attr(p,c+n))}function k(){m();g(Error("Could not load image from src: "+c))}function l(){m();e(b)}function m(){d.off("error",h);d.off("error",k);d.off("load",l)}var n=0>c.indexOf("?")?"?":"\x26",p=null;d&&d.length&&(p="image"===d.get(0).tagName?"xlink:href":"src",d.one("load",l),oE(a,c)?(d.attr("crossorigin","anonymous"),d.one("error",h)):(d.removeAttr("crossorigin"),d.one("error",
k)),d.attr(p,c))})}function aD(a,b){return LC(a,new Image,b)}var MC=nE();function pE(a){this.N=a;this.path="/licenses"}
pE.prototype.fF=function(a){var b=a.status,c=a.D,d=a.document,e=a.yc,g=a.media,h=a.YZ,k=a.Qy,l=a.Z,m=a.limit;a=[].concat(na(a.types.map(function(a){return"type\x3d"+encodeURIComponent(a)})),na(b.map(function(a){return"status\x3d"+encodeURIComponent(a)})),[c&&"brand\x3d"+encodeURIComponent(c),d&&"document\x3d"+encodeURIComponent(d)],na(e.map(function(a){return"license\x3d"+encodeURIComponent(a)})),na(g.map(function(a){return"media\x3d"+encodeURIComponent(a)})),[h&&"validAt\x3d"+encodeURIComponent(String(h)),
k&&"creatingBrand\x3d"+encodeURIComponent(k),l&&"continuation\x3d"+encodeURIComponent(l),m&&"limit\x3d"+encodeURIComponent(String(m))]);return yj(this.N,this.path+"?"+a.filter(function(a){return!!a}).join("\x26")).get(0).then(La).then(qE)};function fi(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}function Fi(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}
function rE(a,b){switch(b){case "ACTIVATED":return"ACTIVATED";case "REVOKED":return"REVOKED";default:throw new TypeError('expected LicenseStatus for property "'+a+'", found: '+JSON.stringify(b));}}function sE(a){this.types=a.types||[];this.status=a.status||[];this.D=a.D;this.document=a.document;this.yc=a.yc||[];this.media=a.media||[];this.YZ=a.YZ;this.Qy=a.Qy;this.Z=a.Z;this.limit=a.limit}f=sE.prototype;f.zf=function(){return this.status};f.ia=function(){return this.D};f.getDocument=function(){return this.document};
f.Mb=function(){return this.media};f.Fb=function(){return this.Z};f.Cd=function(){return this.limit};function tE(a){this.id=a.id;this.media=a.media;this.ca=a.ca;this.D=a.D;this.Qy=a.Qy;this.MV=a.MV;this.document=a.document;this.BT=a.BT;this.LN=a.LN;this.pz=a.pz;this.type=a.type;this.status=a.status;this.yW=a.yW}f=tE.prototype;f.u=function(){return this.id};f.Mb=function(){return this.media};f.ks=function(){return this.ca};f.ia=function(){return this.D};f.getDocument=function(){return this.document};
f.jb=function(){return this.type};f.zf=function(){return this.status};function uE(a){return new tE({id:B("id",a),media:B("media",a),ca:y("mediaVersion",a),D:B("brand",a),Qy:B("creatingBrand",a),MV:B("invoiceItem",a),document:C("document",a),BT:y("createdDate",a),LN:y("modifiedDate",a),pz:A("expiryDate",a),type:Qa(Fi,"type",a),status:Qa(rE,"status",a),yW:B("mediaBrand",a)})}function vE(a){this.yc=a.yc||[];this.Ql=a.Ql;this.Z=a.Z}vE.prototype.Fb=function(){return this.Z};
function qE(a){return new vE({yc:F(uE,"licenses",a),Ql:y("responseTimestamp",a),Z:C("continuation",a)})};function wE(a){this.N=a}
function xE(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+
encodeURIComponent(b.projections.join(""))+("continuation"in b&&null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.N.get(b,function(a,b){var g=null;200==a&&(g={media:yE(b.media),continuation:b.continuation});c&&c(a,g)})}
function AE(a,b){return new P(function(a,d){xE(this,b,function(b,g){g?a({Z:g.continuation,media:g.media}):d(b)})}.bind(a))}function BE(a,b){return wj(a.N,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(Kj)}
wE.prototype.Mb=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.N.get(a,function(a,b){b=200==a?Kj(b):null;c&&c(a,b)})};function CE(a,b,c){return new P(function(a,e){this.Mb(b,c,function(b,c){Lk(b)?a(c):e(b)})}.bind(a))}
function DE(a,b,c){function d(a){return a.id+":"+a.version}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+("unwatermarked"in b?"\x26unwatermarked\x3d"+encodeURIComponent(b.unwatermarked):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.N.get(b,function(a,b){var d=null;200==a&&(d={media:yE(b.media)});c&&
c(a,d)})}function EE(a,b){return new P(function(a,d){DE(this,b,function(b,g){Lk(b)?a(g):d(b)})}.bind(a))}function FE(a,b,c){var d="/media/"+encodeURIComponent(b.u())+"/"+b.getVersion();a.N.post(d,b,function(a,b){b=200==a?Kj(b):null;c&&c(a,b)})}function GE(a,b,c,d){b=(new HE).Go(b).Ck(c).Kt(!0);FE(a,b,d)}function IE(a,b,c){return new P(function(a,e){GE(this,b,c,function(b,c){Lk(b)?a(c):e(b)})}.bind(a))}
wE.prototype.a_=P.method(function(a,b){function c(a){return 404===a}function d(){return CE(h,a,b).catch(c,function(){return null})}function e(){return d().then(function(a){g++;var b;if(b=a)b=a.Ja().zf(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?a.Ja().zf()===JE?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(e).cancellable()})}var g=0,h=this;return e().timeout(36E5)});var YC="THUMBNAIL",Tg="SCREEN",$C="PRINT";function Dt(a,b){switch(b){case "THUMBNAIL":return YC;case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return Tg;case "PRINT":return $C;case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}var Ng="RASTER",Pg="VECTOR";
function yh(a,b){switch(b){case "RASTER":return Ng;case "VECTOR":return Pg;case "DESIGN":return"DESIGN";case "FONT":return"FONT";case "ELEMENT_GROUP":return"ELEMENT_GROUP";default:throw new TypeError('expected MediaType for property "'+a+'", found: '+JSON.stringify(b));}}
function KE(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function LE(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function cj(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}
function Ji(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}function en(a){this.id=a.id;this.version=a.version}en.prototype.u=function(){return this.id};en.prototype.getVersion=function(){return this.version};function Fv(a){return{id:ib("id",a.id),version:db("version",a.version)}}
function fn(a){return new en({id:B("id",a),version:y("version",a)})}function ME(a){this.bm=a.bm;this.$q=a.$q;this.oF=a.oF;this.dG=a.dG||[]}function Ug(a){return{spritesWide:db("spritesWide",a.bm),spritesHigh:db("spritesHigh",a.$q),fullyRecolorable:gb("fullyRecolorable",a.oF),layers:kb(NE,"layers",a.dG)}}function Xr(a){return new ME({bm:y("spritesWide",a),$q:y("spritesHigh",a),oF:Ma("fullyRecolorable",a),dG:F(OE,"layers",a)})}function PE(a){this.type=a.type;this.BA=a.BA;this.color=a.color}
PE.prototype.jb=function(){return this.type};PE.prototype.jM=function(){return this.BA};PE.prototype.Sb=function(){return this.color};function NE(a){return{type:lb(KE,"type",a.type),layerIndex:eb("layerIndex",a.BA),color:H("color",a.color)}}function OE(a){return new PE({type:Qa(LE,"type",a),BA:A("layerIndex",a),color:C("color",a)})};var JE="APPROVED",QE={z$:"F",E$:"K",L$:"P",N$:"S",R$:"T",v$:"D"},hB="DOCUMENT",Sg="FACEBOOK",gB="LAYOUT";function RE(a){a=void 0===a?{}:a;this.url=a.url||"";this.width=a.width||0;this.height=a.height||0;this.watermarked=a.Rx||!1;this.page=a.page||0;this.quality=a.fi||null}f=RE.prototype;f.ma=function(){return this.url};f.o=function(){return this.height};f.j=function(){return this.width};f.R=function(){return this.page};f.zF=function(){return this.quality};
function fr(a){return a?$.extend(new RE,a):null}function SE(a,b){this.locale=a;this.text=b}SE.prototype.bg=function(){return this.locale};SE.prototype.bn=function(){return this.text};function TE(a){return a?$.extend(new SE(a.locale,a.text),a):null}
function UE(a){a=void 0===a?{}:a;this.version=a.version||0;this.restrictedAccess=a.qba||!1;this.listed=a.Waa||!1;this.status=a.status||"PENDING_SUBMISSION";this.rejectionReason=a.nba;this.importState=a.Naa||"PENDING_IMPORT";this.importMessage=a.Maa;this.designVersion=a.saa;this.designType=a.Ti;this.artist=a.eaa||"";this.title=a.title||"";this.titles=a.Kba;this.description=a.description||"";this.descriptions=a.Xy;this.locale=a.locale||null;this.background=a.background||!1;this.cutout=a.Uy||!1;this.isolated=
a.Qaa||!1;this.photoholder=a.dba||!1;this.textholder=a.Hba||!1;this.repeating=a.oba||!1;this.recolorable=a.uH||!1;this.superKeywords=a.Dba||[];this.keywords=a.De||[];this.files=a.files||{};this.quality=a.fi;this.ageRating=a.daa||null;this.priceModel=a.iba||{};this.spritesheetMetadata=a.Og;this.submittedBy=a.Bba;this.submittedDate=a.Cba;this.reviewedBy=a.rba;this.reviewedDate=a.sba}f=UE.prototype;f.getVersion=function(){return this.version};f.zf=function(){return this.status};f.QU=function(){return this.artist};
f.sb=function(){return this.title};f.wf=function(){return this.description};f.bg=function(){return this.locale};f.Hb=function(){return this.background};f.Rd=function(){return this.cutout};f.xA=function(){return this.repeating};f.mc=function(){return this.recolorable};f.rM=function(){return this.superKeywords};f.nl=function(){return this.keywords};f.pc=function(){return this.files};f.zF=function(){return this.quality};f.ps=function(){return this.spritesheetMetadata};
function VE(a){return a.priceModel}function WE(a){a=void 0===a?{}:a;this.id=a.id||"";this.importKey=a.importKey||"";this.importBucket=a.Kaa||"";this.importFilename=a.Laa||"";this.type=a.type||Ng;this.copyright=a.naa||"";this.bundle=a.jaa||new UE;this.deactivated=a.nE||!1;this.oneTimeUseDiscountable=a.$aa||!1;this.brand=a.D||"";this.user=a.user;this.design=a.ye}f=WE.prototype;f.u=function(){return this.id};f.jb=function(){return this.type};f.Ja=function(){return this.bundle};f.xv=function(){return this.oneTimeUseDiscountable};
f.ia=function(){return this.brand};f.va=function(){return this.user};function Kj(a){if(!a)return null;a=$.extend(new WE,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new UE,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(TE));c.keywords&&(c.keywords=c.keywords.map(TE));if(c.files)for(b in c.files)c.files[b]=fr(c.files[b]);c.spritesheetMetadata&&(c.spritesheetMetadata=Xr(La(c.spritesheetMetadata)));b=c}else b=null;a.bundle=b}return a}
function yE(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(Kj(a[c]));return b}function XE(){this.projections=[]}f=XE.prototype;f.yi=function(a){this.brand=a;return this};f.Nt=function(a){this.user=a;return this};f.Mt=function(a){this.restricted=a;return this};f.Ux=function(a){this.staging=a;return this};f.f_=function(a){null!=a&&0<a.length&&(this.filename=a);return this};f.LR=function(a){null!=a&&0<a.length&&(this.ids=a);return this};f.Kt=function(a){this.deactivated=a;return this};
f.GI=function(a){this.locale=a;return this};f.Fo=function(){this.projections.push("F");return this};f.WC=function(){this.projections.push("P");return this};f.FI=function(){this.projections.push("K");return this};f.e_=function(){this.projections=Object.keys(QE).map(function(a){return QE[a]});return this};f.zi=function(a){this.continuation=a;return this};f.sg=function(a){this.limit=a;return this};function YE(a,b){a.types=b;return a}function ZE(){}ZE.prototype.Lt=function(a){this.name=a;return this};
ZE.prototype.Mt=function(a){this.restricted=a;return this};ZE.prototype.i_=function(a){this.listed=a;return this};function $E(a,b){a.fileSize=b;return a}ZE.prototype.GI=function(a){this.locale=a;return this};function gD(){}f=gD.prototype;f.Ck=function(a){this.version=a;return this};f.Ux=function(a){this.staging=a;return this};function aF(a){a.projection="";return a}f.Fo=function(){this.projection=(this.projection||"")+"F";return this};f.FI=function(){this.projection=(this.projection||"")+"K";return this};
f.WC=function(){this.projection=(this.projection||"")+"P";return this};f.j_=function(){this.projection=(this.projection||"")+"T";return this};f.d_=function(){this.projection=(this.projection||"")+"D";return this};function bF(){this.projections=[]}function cF(a,b){a.refs=b;return a}f=bF.prototype;f.LR=function(a){this.ids=a;return this};f.Ux=function(a){this.staging=a;return this};f.e_=function(){this.projections=Object.keys(QE).map(function(a){return QE[a]});return this};
f.WC=function(){this.projections.push("P");return this};f.Fo=function(){this.projections.push("F");return this};f.j_=function(){this.projections.push("T");return this};f.d_=function(){this.projections.push("D");return this};function dF(a){a.unwatermarked=!0;a.projections.push("F")}function HE(){}f=HE.prototype;f.Go=function(a){this.id=a;return this};f.u=function(){return this.id};f.Ck=function(a){this.version=a;return this};f.getVersion=function(){return this.version};
f.Kt=function(a){this.deactivated=a;return this};f.i_=function(a){this.listed=a;return this};f.g_=function(a){this.importVersion=a;return this};function eF(a,b){a.superKeywords=b;return a}f.FI=function(a){this.keywords=a;return this};f.GI=function(a){this.locale=a;return this};function fF(a,b,c){this.nC=a;this.q9=b;this.r9=c;this.aZ=null;this.kN=this.lN=0;this.n1=this.isAlpha()?"destination-in":"lighter";this.color=gF(this);this.we=null}f=fF.prototype;f.mc=function(){return"RECOLORABLE"===this.nC.type};f.isAlpha=function(){return"BACKGROUND_A"===this.nC.type};
function gF(a){switch(a.nC.type){case "RECOLORABLE":return uh(a.nC.color);case "BACKGROUND_R":return qn(new on,255,0,0);case "BACKGROUND_G":return qn(new on,0,255,0);case "BACKGROUND_B":return qn(new on,0,0,255);case "BACKGROUND_A":return null;default:throw Error("Unknown SpritesheetLayerType");}}f.jM=function(){return this.nC.BA};f.Sb=function(){return this.color};f.setColor=function(a){this.mc()&&(this.color=a)};
f.multiply=function(a,b,c,d,e){this.we=a.getImageData(b,c,d,e);c=ma([b,c]);b=c.next().value;c=c.next().value;for(d=0;d<this.we.data.length;d+=4){var g=ma(this.color.lb.slice());e=g.next().value;var h=g.next().value,g=g.next().value;this.we.data[d]=this.we.data[d]/255*e;this.we.data[d+1]=this.we.data[d+1]/255*h;this.we.data[d+2]=this.we.data[d+2]/255*g}a.putImageData(this.we,b,c)};f.compose=function(a,b,c,d,e,g,h,k,l,m){hF(b,this.n1);b.drawImage(a.canvas,c,d,e,g,h,k,l,m)};
function hF(a,b){a.globalCompositeOperation=b;return a.globalCompositeOperation==b}f.xe=function(){this.we=null};function iF(a){this.vo=a.vo;this.bm=a.bm;this.$q=a.$q;this.UM=a.UM;this.cf=a.cf;this.vn=a.vn;this.IM=a.IM;this.VG=[];this.HD=null;this.FD=!1}function jF(a){var b=document.createElement("canvas").getContext("2d"),c=document.createElement("canvas").getContext("2d"),d=kF(a),e=a.bm,g=a.$q;a=a.oF;var h=nE();return(new iF({vo:d,bm:e,$q:g,cf:b,vn:c,UM:a,IM:h})).init()}
function kF(a){return a.dG.map(function(b,c){return new fF(b,c%a.bm,Math.floor(c/a.bm))}).sort(function(a,c){return a.isAlpha()?1:c.isAlpha()?-1:a.jM()-c.jM()})}iF.prototype.init=function(){this.VG=lF(this);return this};iF.prototype.Hk=function(a){var b=this;this.HD=null;this.FD=!1;return aD(this.IM,a).then(function(a){return mF(b,a)}).then(function(){return nF(b)}).then(function(){return oF(b)}).then(function(){return b.FD=!0}).catch(function(){throw Error("Could not build spritesheet");})};
iF.prototype.mc=function(){return this.vo.some(function(a){return a.mc()})};function pF(a){var b=[HB,IB,JB];return a.UM&&a.VG.every(function(a){return b.some(function(b){return b.equals(a)})})}function lF(a){return qF(a).map(function(a){return a.Sb()})}function qF(a){return a.vo.filter(function(a){return a.mc()})}iF.prototype.toDataURL=function(){return this.FD&&this.HD||(this.HD=this.cf.canvas.toDataURL())};
function rF(a,b){var c=a.vo.indexOf(b);if(!(0>c)){var d=a.vn,c=c*a.cf.canvas.width,e=a.cf.canvas.width,g=a.cf.canvas.height;b.xe();hF(d,"source-over");d.drawImage(b.aZ,b.q9*b.lN,b.r9*b.kN,b.lN,b.kN,c,0,e,g);if(b.isAlpha()){var h=ma([c,0]);a=h.next().value;h=h.next().value;b.we=b.we||d.getImageData(c,0,e,g);for(c=0;c<b.we.data.length;c+=4)b.we.data[c+3]=b.we.data[c],b.we.data[c]=b.we.data[c+1]=b.we.data[c+2]=255;d.putImageData(b.we,a,h)}else b.color&&(hF(d,"multiply")?(d.fillStyle=b.color.toString(),
d.fillRect(c,0,e,g)):b.multiply(d,c,0,e,g))}}function mF(a,b){var c=b.width/a.bm,d=b.height/a.$q;a.cf.canvas.width=c;a.cf.canvas.height=d;a.vn.canvas.width=a.vo.length*c;a.vn.canvas.height=d;a.vo.forEach(function(a){a.aZ=b;a.lN=c;a.kN=d})}function nF(a){a.vn.clearRect(0,0,a.vn.canvas.width,a.vn.canvas.height);a.vo.forEach(function(b){return rF(a,b)})}
function oF(a){a.cf.clearRect(0,0,a.cf.canvas.width,a.cf.canvas.height);a.vo.forEach(function(b,c){return b.compose(a.vn,a.cf,c*a.cf.canvas.width,0,a.cf.canvas.width,a.cf.canvas.height,0,0,a.cf.canvas.width,a.cf.canvas.height)})};function aC(a){if("print"==$B)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");if(void 0!==a&&void 0!==a.mediaId&&void 0!==a.spritesheetMetadata){var b=this;this.loaded=!1;this.jN=null;this.Og=Xr(La(a.spritesheetMetadata));this.wo=jF(this.Og);Z.call(this,a);this.ba=a.mediaId;this.ca=a.mediaVersion;this.pb=void 0===a.mediaApproved?!0:a.mediaApproved;var c=this.C();c.addClass("graphic");var d=$('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
c.append(d);c.find(".canvasPlaceholder").append(this.wo.cf.canvas);this.mk();this.contents=a.contents?a.contents.slice(0):null;a.fillColors&&a.fillColors.forEach(function(a){var c=uh(a.color);c&&b.Yd(a.index,c)});this.Vl(this.ba,this.ca).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:graphic",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}aC.prototype=Object.create(Z.prototype);f=aC.prototype;f.constructor=aC;
f.Vl=function(a,b){this.ba=a;this.ca=b;this.loaded=!1;return sF(this,a,b)};function sF(a,b,c){var d=Fb.Hc(b,c);if(!d)return P.reject();d=d[YC];b=ZC(b,c,Tg);a.Uq(d.ma());return b.bind(a).then(function(a){return this.wo.Hk(a.ma())}).then(function(){this.loaded=!0;this.xe();this.AB?this.Kq():this.mk()})}f.PZ=function(){this.loaded&&this.Uq(this.wo.toDataURL())};f.G1=_.debounce(aC.prototype.PZ,200);f.Uq=function(a){var b=this.C().find(".imgPlaceholder");LC(MC,b,a)};
function tF(a){return a.loaded&&a.jN!==a.AB?(a.jN=a.AB,!0):!1}f.Kq=function(){Z.prototype.Kq.call(this);tF(this)&&(this.C().find(".canvasPlaceholder").show(),this.C().find(".imgPlaceholder").hide())};f.mk=function(){Z.prototype.mk.call(this);tF(this)&&(this.PZ(),this.C().find(".imgPlaceholder").show(),this.C().find(".canvasPlaceholder").hide())};f.SC=function(a){hq(a,this.Nb())||(this.ZB(!1),this.ca=this.ba=null)};f.Tj=function(){return!0};
f.Nb=function(){return null!=this.ba&&null!=this.ca?new en({id:this.ba,version:this.ca}):null};f.Aw=function(){this.jN=null;var a=this.Nb();return a?this.Vl(a.id,a.version):P.resolve()};f.wA=function(){return this.pb};f.ZB=function(a){this.pb=a;this.C().toggleClass("unapproved",!a);this.Za()};f.mc=function(){return 0<this.ab().length};f.ab=function(){return 5<lF(this.wo).length?[]:lF(this.wo)};f.Bd=function(){return this.ab().length};
f.Yd=function(a,b){var c=this.wo;if(a=qF(c)[a])c.HD=null,a.setColor(b),c.FD&&(rF(c,a),oF(c));this.xe();this.G1()};f.Zi=function(){if(this.me)return this.me;var a=new $o;this.ab().forEach(function(b){cp(a,b)});return this.me=a};f.Vp=function(){return!0};f.tI=function(){OC(this.C().find(".placeholder"),null,this.za)};f.ow=function(){xC(this);var a=this.C().find(".placeholder");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="graphic";a.mediaId=this.ba;a.mediaVersion=this.ca;this.pb||(a.mediaApproved=!1);a.spritesheetMetadata=Ug(this.Og);var b=this.ab().map(function(a,b){return{index:b,color:a.qa()}});0<b.length&&(a.fillColors=b);return a};f.Hy=function(){return pF(this.wo)};function uF(a){var b=a.ty;1<=b||0>=b?a.mk():a.Kq()}
f.HB=function(){if(this.mc()&&this.AD&&null!==this.pm&&this.Hy()){this.AD=!1;uF(this);var a;this.wo.VG.forEach(function(b,c){switch(b.qa()){case HB.qa():a=this.pm.Us;break;case IB.qa():a=this.pm.mt;break;case JB.qa():a=this.pm.Bt;break;default:a=null}a&&(b=Cn(b,a,this.ty),this.Yd(c,b))}.bind(this))}};f.qr=function(){return!0};aC.prototype.HY=aC.prototype.Yd;function vF(){this.pP=0}var wF=["tame","angry"];
vF.prototype.Yd=function(a,b){this.HY(a,b);if(!(0>["MABsSJ6etSs"].indexOf(this.ba))&&xF(this)){this.pP=this.pP||0;this.Kq();var c=wF[this.pP++]||"flipOut",d=this.C().find(".placeholder");d.addClass(c);var e=this.ab();a={overflow:"visible",zIndex:5};var g=$(".page .elements"),h={},k;for(k in a)h[k]=g.css(k);g.css(a);$({ratio:0}).animate({ratio:1},{duration:500,step:function(a){this.wo.VG.forEach(function(b,c){b=In(e[c],b,a);this.HY(c,b)}.bind(this))}.bind(this),always:function(){this.mk();this.Za();
d.removeClass(c);g.css(h)}.bind(this)})}};function xF(a){return a.ab().every(function(a){return a.equals(uh("#cc0000"))})}_.extend(aC.prototype,vF.prototype);function gC(a){this.elements=[];this.Xc=null;this.tP=!0;this.p1={};this.mI=new WeakMap;this.Ih(a);Z.call(this,a);this.l0=[{id:"HorizontalAlignLeft",name:le(yc(this.i)),enabled:!0},{id:"HorizontalAlignCenter",name:ne(yc(this.i)),enabled:!0},{id:"HorizontalAlignRight",name:me(yc(this.i)),enabled:!0},{id:"VerticalAlignTop",name:oe(yc(this.i)),enabled:!0},{id:"VerticalAlignCenter",name:qe(yc(this.i)),enabled:!0},{id:"VerticalAlignBottom",name:pe(yc(this.i)),enabled:!0},{id:"HorizontalDistribute",name:re(yc(this.i)),
enabled:!0},{id:"VerticalDistribute",name:se(yc(this.i)),enabled:!0}];this.ED()}var eC="CHART";function yF(a,b){var c;c=Math.max(0,b.Da-a.Da);var d=jn(hn([b.left+b.width/2-(a.left+a.width/2),b.top+b.height/2-(a.top+a.height/2)]).rotate(a.rotation));return{Da:c||0,rotation:SB(b.rotation,a.rotation)||0,top:d[1]-b.height/2+a.height/2,left:d[0]-b.width/2+a.width/2,width:b.width,height:b.height}}
function zF(a,b,c){c?(c=100-(100-b.Da)/100*((100-a.Da)/100)*100,c=Math.round(10*c)/10):c=Math.min(100,b.Da+a.Da);var d=kn(hn([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]),-a.rotation),e=jn(d);return{Da:c||0,rotation:SB(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:e[1]-b.height/2+a.top+a.height/2,left:e[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}
function AF(a){var b=a.filter(function(a){return"group"===a.type})[0];if(!b)throw Error("Group index out of bounds");var c=b.childRange;if(!kq(c))throw Error("Invalid group child range");for(var b=new gC(b),d,e,g=c[0];g<=c[1];g++)d=Hg(a[g]),e=yF(pC(b),pC(d)),d.Xl(e.Da),d.setPosition(e.left,e.top),d.Wl(e.rotation),BF(b,d),d.sy=!1;return b}gC.prototype=Object.create(Z.prototype);f=gC.prototype;f.constructor=gC;f.kb=function(){return!0};f.YF=function(){return!0};f.lV=function(){return!1};f.RQ=function(){return!0};
f.Ih=function(a){function b(a,b){return a.elementIndex>b.elementIndex?1:-1}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=Hg(a))&&c.addElement(a)})};function CF(a,b){kC(a,Math.min.apply(null,b.map(function(a){return a.$b()})));sC(a,Math.min.apply(null,b.map(function(a){return a.jc()})));a.na(Math.max.apply(null,b.map(function(a){return a.Dd()}))-a.F());a.ea(Math.max.apply(null,b.map(function(a){return a.gd()}))-a.w());return a}
f.Er=function(a){var b={};b.elementIndex=this.K();b.pageIndex=this.R()&&this.R().K();b.old=this.pa();if(!this.tP)return b["new"]=this.pa(),b;var c=Infinity,d=Infinity,e=-Infinity,g=-Infinity;a||(a=this.elements[0]);if(!a)return b["new"]=this.pa(),b;for(var h=0;h<this.elements.length;h++){var k=this.elements[h].F(),l=this.elements[h].w(),m=this.elements[h].j(),n=this.elements[h].o(),p=Um(this.elements[h].Sa()),q=k+m/2,u=l+n/2,v=jn(kn(hn([k-q,l-u]),-p));v[0]+=q;v[1]+=u;var z=jn(kn(hn([k+m-q,l-u]),-p));
z[0]+=q;z[1]+=u;var r=jn(kn(hn([k-q,l+n-u]),-p));r[0]+=q;r[1]+=u;k=jn(kn(hn([k+m-q,l+n-u]),-p));k[0]+=q;k[1]+=u;c=Math.min(c,v[0],z[0],r[0],k[0]);d=Math.min(d,v[1],z[1],r[1],k[1]);e=Math.max(e,v[0],z[0],r[0],k[0]);g=Math.max(g,v[1],z[1],r[1],k[1])}k=e-c;l=g-d;h=jn(hn([this.F(),this.w()]).translate(-this.j()/2,-this.o()/2).rotate(Um(-this.Sa())).translate(this.j()/2,this.o()/2));e=jn(hn([this.F(),this.w()]).translate(-k/2,-l/2).rotate(Um(-this.Sa())).translate(k/2,l/2));g=e[0]-h[0];e=e[1]-h[1];for(h=
0;h<this.elements.length;h++)q=this.elements[h],0===q.Sa()&&2>Math.round(q.w())&&2>Math.round(q.F())&&2>Math.abs(Math.round(this.j()-q.j()))&&2>Math.abs(Math.round(this.o()-q.o()))&&(this.elements[h].na(k),this.elements[h].ea(l));this.na(k);this.ea(l);h=pC(a);QB(a)?h.top+=h.height/2:RB(a)&&(h.top+=h.height);h=zF(pC(this),h);q=h.top;u=h.left;for(h=0;h<this.elements.length;h++)k=this.elements[h].F(),l=this.elements[h].w(),this.elements[h].setPosition(k-c,l-d);h=pC(a);QB(a)?h.top+=h.height/2:RB(a)&&
(h.top+=h.height);a=zF(pC(this),h);c=a.top-q;a=a.left-u;this.setPosition(this.F()-g-a,this.w()-e-c);b["new"]=this.pa();return b};f.qV=function(){return!1};function DF(a){a.elements.forEach(function(b){b instanceof Rp&&a.mI.set(b,lA(b.C(),!0).length)})}
f.sP=function(a,b,c){function d(d,l){g.elements.filter(e).forEach(function(e){var g=h.has(e)?h.get(e):e.pa();h.set(e,e.pa());var m=Um(a.Sa()),n=lA(a.C(),!0).length,p=Um(a.Sa()),E=b.clone();1<=n&&5>Math.abs(m-p)&&(m=a.o()/n/2,Mm(E,-m));E=Qm(g,E);m=Tm(b,g,d);n=Tm(c,g,d);if(E||!(m<-1*g.o()/2)){var g=m-n,L=p=0;isFinite(m)&&!isFinite(n)&&k&&(g=m);isFinite(g)&&!isNaN(g)&&(0<=d&&45>d?p=g*Math.cos(d*Math.PI/180):45<=d&&90>d?L=g*Math.sin(d*Math.PI/180):90<=d&&135>d?L=g*Math.cos((d-90)*Math.PI/180):135<=d&&
180>d?p=g*Math.sin((d-90)*Math.PI/180):180<=d&&225>d?p=g*Math.cos((d-180)*Math.PI/180):225<=d&&270>d?L=g*Math.sin((d-180)*Math.PI/180):270<=d&&315>d?L=g*Math.cos((d-270)*Math.PI/180):315<d&&(l=!0,p=g*Math.sin((d-270)*Math.PI/180)),!e.Vt()&&E?1<Math.abs(L)?e.na(e.j()+L):1<Math.abs(p)&&(l&&e.cb(e.w()-p),e.ea(e.o()+p)):(l&&(p*=-1),1<Math.abs(L)?e.hb(e.F()+L):1<Math.abs(p)&&e.cb(e.w()+p)))}})}function e(b){return b!==a}var g=this;if(this.tP&&-1!==this.elements.indexOf(a)&&(c=c||a.pa(),Jm(b)&&Jm(c))){var h=
new Map,k=c.o()>b.o(),l=a.ol(0),m=.5*(R.Ot-a.ol(0))/100,n=lA(a.C(),!0).length,p=this.mI.get(a);l<R.Ot&&p!==n&&(1===p?c.ea(c.o()+m*b.o()):1===n&&c.ea(c.o()-m*c.o()));this.mI.set(a,n);l=a.Sa();a.ue&&"top"!==a.ue?RB(a)?d(Um(l),!0):QB(a)&&(d(Um(180+l),!1),d(Um(l),!0)):d(Um(180+l),!1);this.Er(a)}};f.bv=function(){var a=R.XI;Ib.H.get(sg)&&(a=a.slice(0),a.push(dE));return a};f.ED=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.C().addClass("group").html(a);this.nc()};
f.setSize=function(a,b,c){var d;a<R.$x||b<R.$x||(void 0!==a&&void 0!==b&&(d=(a-this.j())/this.j(),Z.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(d&&(void 0===c||c)){var b=d,h=a.j()/a.o(),k,l,m;!isNaN(b)&&isFinite(b)&&(k=a.j()+a.j()*b,h=k/h,l=a.F()+a.F()*b,m=a.w()+a.w()*b,a.setSize(k,h,!0),a.setPosition(l,m),a instanceof Rp&&a.Sc&&a.Sc(0)&&(b=a.Sc(0)+a.Sc(0)*b,a.pe(0,b,!0)))}a.na();a.setPosition();a.$a()}))};
f.$a=function(){this.bt&&(Z.prototype.$a.call(this),this.elements.forEach(function(a){a.na();a.setPosition();a.$a()}))};f.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a);a instanceof Rp&&this.mI.set(a,lA(a.C(),!0).length)};
function BF(a,b,c){if(b.R()&&void 0===c)a.addElement(b);else{c=void 0!==c?c:Math.max(a.elements.length-1,0);var d=a.R();if(d){b.Tq(d);var e=eD(K,d);b.le=e.$el;yC(d,b,a.K()+c+1,!0)}a.elements.splice(c,0,b);a=a.C().find(".elements");a.find(".element").length>c?a.find(".element").eq(c).before(b.C()):a.append(b.C());b.nc(!0)}}f.jj=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};
f.remove=function(){this.elements.forEach(function(a){a.remove()});var a=this.R();a&&this.stopListening(a,"change:background");Z.prototype.remove.call(this)};f.ja=function(){return this.elements};function EF(a){return a.elements.filter(function(a){return a instanceof Rp})}f.$b=function(){return Math.min.apply(null,this.ja().map(function(a){return a.$b()}))};f.Dd=function(){return Math.max.apply(null,this.ja().map(function(a){return a.Dd()}))};f.jc=function(){return Math.min.apply(null,this.ja().map(function(a){return a.jc()}))};
f.gd=function(){return Math.max.apply(null,this.ja().map(function(a){return a.gd()}))};f.kh=function(){return this.Dd()-this.$b()};f.jh=function(){return this.gd()-this.jc()};f.clone=function(){var a=this.serialize();return new gC(a)};f.ds=function(){return"ungroup copy arrange transparency link delete deleteElement".split(" ")};f.PU=function(){return this.l0};f.Af=function(){return 1===this.Ae().length};f.AF=function(){return this.elements.reduce(function(a,b){return a+b.AF()},0)};f.mv=function(){return!1};
function FF(a,b){a.Mi();b&&-1!==a.elements.indexOf(b)?(a.Xc=b,a.Xc.C().addClass("focused")):a.Xc=null}f.Mi=function(){this.Xc=null;this.elements.forEach(function(a){a.uh();a.C().removeClass("active focused")})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="group";a.constraints=this.p1;a.elements=this.ja().map(function(a){return a.serialize()});return a};f.Zp=function(){return!1};f.ke=function(){for(var a=0;a!==this.elements.length;a++)if(GF(this,a))return!0;return!1};
function GF(a,b){return a.elements[b]instanceof Rp}f.Ae=function(){var a=this.elements.filter(function(a){var c=a.C().hasClass("focused");return a instanceof Rp&&c})[0];return a?a.C():$()};f.yb=function(){for(var a=0;a!=this.elements.length;a++)if(this.elements[a]instanceof Rp&&this.elements[a].C().hasClass("focused"))return a;return-1};f.bb=function(a){return GF(this,a)?this.elements[a].bb(0):$()};function HF(a){for(var b=[],c=0;c!==a.elements.length;c++)GF(a,c)&&b.push(a.Vb(c));return b}
f.Vb=function(a){if(GF(this,a)){var b=this.elements[a].Vb(0);b.index=a;return b}return this.Gz()};f.nj=function(a,b,c,d){GF(this,a)&&this.elements[a].nj(0,b,c,d)};f.Ro=function(a){return this.elements[a].Ro(0)};f.av=function(){for(var a=[],b=0;b!==this.elements.length;b++)this.elements[b].ke()&&this.elements[b].av().forEach(function(b){a.push(b)});return a};f.rE=function(a){return this.elements[a].rE(0)};f.Sc=function(a){return GF(this,a)?this.elements[a].Sc(0):IF(this)};f.uF=function(a){return this.elements[a].uF(0)};
f.es=function(a){return this.elements[a].es(0)};f.hs=function(a){return this.elements[a].hs(a)};f.ol=function(a){return this.elements[a].ol(0)};f.tF=function(a){return this.elements[a].tF(0)};f.Cw=function(a){return this.elements[a].Cw(0)};f.dt=function(a){return this.elements[a].dt(0)};f.KH=function(a){return this.elements[a].KH(0)};f.Qw=function(a){return this.elements[a].Qw(0)};f.io=function(a,b){GF(this,a)?this.elements[a].io(0,b):this.cQ(b)};
f.setColor=function(a,b){this.elements[a]?JF(this.elements[a],b):this.dQ(b);this.Za()};function JF(a,b){if(b)if(a instanceof Rp)a.setColor(0,b);else for(var c=0;c<a.Bd();c++)a.Yd(c,b)}f.Yd=function(a,b){this.Xc&&this.Xc.Bd()&&this.Xc.Yd(a,b)};f.OH=function(a,b){this.elements[a].OH(0,b)};f.Sq=function(a,b){this.elements[a].Sq(0,b)};f.YB=function(a,b){this.elements[a].YB(0,b)};f.sk=function(a,b,c,d){GF(this,a)?this.elements[a].sk(0,b,c,d):this.MH(b,c,d)};
f.pe=function(a,b){if(GF(this,a))this.elements[a].pe(0,b);else if(0!==IF(this))this.NH(b);else{var c=b/KF(this);this.elements.forEach(function(a){if(a instanceof Rp){var b=Math.round(10*a.Sc(0)*c)/10;a.pe(0,b)}})}};f.XB=function(a){this.pe(this.yb(),a)};f.nL=function(){var a=this.yb();-1!==a?bE(this.elements[a]):this.elements.forEach(function(a){a instanceof Rp&&bE(a)})};f.uE=function(){var a=this.yb();-1!==a?this.elements[a].yd=!1:this.elements.forEach(function(a){a instanceof Rp&&(a.yd=!1)})};
f.uA=function(){var a=this.yb();return-1!==a?this.elements[a].yd:LF(this)};f.ko=function(a,b){GF(this,a)?this.elements[a].ko(0,b):this.eQ(b)};f.ji=function(a,b){this.elements[a].ji(0,b)};f.Vw=function(a,b,c){this.elements[a].Vw(0,b,c)};f.QH=function(a,b){this.elements[a].QH(0,b)};f.Ww=function(a,b){this.elements[a].Ww(0,b)};f.Xw=function(a,b){this.elements[a].Xw(0,b)};f.Yw=function(a,b){this.elements[a].Yw(0,b)};f.Xq=function(a,b){this.elements[a].Xq(0,b)};
function MF(a){function b(a){-1===d.indexOf(a)&&d.push(a)}function c(a){-1===e.indexOf(a)&&e.push(a)}var d=[],e=[];a.elements.filter(function(a){return a instanceof Rp}).forEach(function(a){a=jA(a.C());a.Xe.forEach(b);a.vf.forEach(c)});return{Xe:d,vf:e}}f.Gz=function(){var a={};this.elements.filter(function(a){return a instanceof Rp}).forEach(function(b){var c=b.Qw(0);Tz.forEach(function(b){-1===Object.keys(a).indexOf(b)?a[b]=c[b]:a[b]!==c[b]&&(a[b]=null)})});return a};
f.Cg=function(){var a=MF(this).vf.map(function(a){return uh(a)});this.elements.forEach(function(b){b.Bd()&&(a=a.concat(b.ab()))});return a};function NF(a){function b(a){return a instanceof on?a.qa():"string"===typeof a?a:"#000000"}var c=MF(a).vf;a.elements.forEach(function(a){a.Bd()&&(c=c.concat(a.ab().map(b)))});return c}function OF(a){return NF(a).filter(function(a,c,d){return d.indexOf(a)===c})}function PF(a){var b=a.Gz(),c=$("\x3cdiv\x3e");Tz.forEach(function(a){c.data(a,b[a])});return c}
function IF(a){for(var b,c=0;c!==a.elements.length;c++)if(a.elements[c]instanceof Rp&&(b=b||a.elements[c].Sc(0),b!==a.elements[c].Sc(0)))return 0;return b}f.Bd=function(){return this.elements.reduce(function(a,b){return a+b.Bd()},0)};f.ab=function(){return this.elements.reduce(function(a,b){return b.Bd()?a.concat(b.ab()):a},[])};function LF(a){return a.elements.filter(function(a){return a instanceof Rp}).every(function(a){return a.yd})}
function QF(a){return!LF(a)&&a.elements.filter(function(a){return a instanceof Rp}).some(function(a){return a.yd})}function KF(a){for(var b=0,c=0;c!==a.elements.length;c++)a.elements[c]instanceof Rp&&(b=Math.max(b,a.elements[c].Sc(0)));return b}f.cQ=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.io(0,a)});this.Za()};f.dQ=function(a){this.elements.forEach(function(b){JF(b,a)});this.Za()};
f.MH=function(a,b,c){function d(a){g+=1;!h&&g>=e&&(h=!0,k=k&&a,b&&b(k))}var e=0,g=0,h=!1,k=!0;this.elements.forEach(function(b){b instanceof Rp&&(e+=1,b.sk(0,a,d,c))})};f.NH=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.pe(0,a)})};f.eQ=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.ko(0,a)})};f.Bx=function(){for(var a=0;a<this.elements.length;a++)this.elements[a]instanceof Rp&&this.elements[a].Bx()};f.vP=function(){this.Yn()};
f.Yn=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};function RF(a){for(var b=a,c=0;c<a.elements.length;c++)a.elements[c].K()>b.K()&&(b=a.elements[c]);return b}function SF(a){function b(a,b){return a.K()-b.K()}0===a.elements.filter(function(a){return-1===a.K()}).length&&a.elements.sort(b);var c=a;a.elements.forEach(function(b){b.insertAfter(c);c=b;b.C().appendTo(a.C().children(".elements"))})}f.insertBefore=function(a){-1!=a.K()&&(Z.prototype.insertBefore.call(this,a),SF(this))};
f.insertAfter=function(a){-1!=a.K()&&(Z.prototype.insertAfter.call(this,a),SF(this))};f.$Q=function(){var a=this.yb();-1!==a&&this.elements[a].$Q()};f.HN=function(){var a=this.yb();-1!==a&&this.elements[a].HN()};f.xJ=function(){var a=this.yb();-1!==a&&this.elements[a].xJ()};f.lD=function(){return!1};f.vS=function(){return!0};f.qr=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].qr())return!0;return!1};
f.Vt=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].Vt())return!0;return!1};f.Tq=function(a){var b=this.R();b&&this.stopListening(b);Z.prototype.Tq.call(this,a);TF(this,a)};function TF(a,b){UF(a,b);a.listenTo(b,"change:background",function(){UF(this,b)})}
function UF(a,b){var c=uh("#000000"),d=uh(R.fD);a.elements.forEach(function(a){a.qs&&a.qs()&&a.qs().forEach(function(g,h){g&&g.equals&&(b.Df()&&g.equals(c)?a.setColor(h,d):!b.Df()&&g.equals(d)&&a.setColor(h,c))});a.Bd()&&a.ab().forEach(function(g,h){g&&g.equals&&(b.Df()&&g.equals(c)?a.Yd(h,d):!b.Df()&&g.equals(d)&&a.Yd(h,c))})})};function bC(a){Z.call(this,a);this.C().addClass("shape");this.hj=[];this.viewBox=new V(0,0,0,0);if(a&&a.paths){var b=a.paths.map(function(a){return new VF({d:a.d,fill:a.fill,hl:a.fillRule})});WF(this,b)}a&&a.viewBox&&XF(this,Gm(a.viewBox));this.render();T.trigger("elementLoaded",this)}bC.prototype=Object.create(Z.prototype);f=bC.prototype;f.constructor=bC;function YF(a){return new bC({top:a.w(),left:a.F(),width:a.j(),height:a.o()})}
function WF(a,b){if(b.some(function(a){return a.d.match(/[^emclazMCLAZ0-9., -]/)}))throw Error("Invalid path data.");a.hj=b}function XF(a,b){a.viewBox=b}
f.render=function(){var a=this.viewBox,b=this.C().find("svg"),c=this.hj;b.length||(b=$(document.createElementNS("http://www.w3.org/2000/svg","svg")),this.C().append(b));b.get(0).setAttribute("viewBox",[a.F(),a.w(),a.j(),a.o()].join(" "));var d=b.find("path");d.slice(c.length).remove();c.forEach(function(a,c){var h=(c=d.get(c))||document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",a.d);h.setAttribute("fill",a.fill);if(a.hl){a:switch(a.hl){case "EVEN_ODD":a="evenodd";break a;
default:a="nonzero"}h.setAttribute("fill-rule",a)}!c&&b.append(h)})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="shape";a.paths=this.hj.map(function(a){return{d:a.d,fill:a.fill,fillRule:a.hl}});a.viewBox=this.viewBox.serialize();return a};f.wS=function(){return!0};f.ab=function(){return this.hj.map(function(a){return uh(a.fill)})};f.Bd=function(){return this.ab().length};
f.Yd=function(a,b){b&&(this.hj[a]=new VF({d:this.hj[a].d,fill:b.toString(),hl:this.hj[a].hl}),this.render(),this.xe())};f.Zi=function(){if(this.me)return this.me;if(0<this.C().parents(".group.chart").length)return new $o;var a=new $o;this.ab().forEach(function(b){b&&cp(a,b)});return this.me=a};function VF(a){this.d=a.d;this.fill=a.fill;this.hl=a.hl};function ZF(a,b,c,d,e,g){V.call(this,a,b,c,d);this.color=e;this.html=g||""}t(ZF,V);f=ZF.prototype;f.setColor=function(a){this.color=a;return this};f.wf=function(){return["M",this.F(),this.ua(),"L",this.F(),this.w(),"L",this.Ya(),this.w(),"L",this.Ya(),this.ua(),"Z"].join(" ")};f.Sb=function(){return this.color};f.toString=function(){return this.html};f.setElement=function(a){this.element=a};f.getElement=function(){return this.element};
f.wm=function(){var a={};a[$F]=this.w();a[aG]=this.F();a[bG]=this.j();a[cG]=this.o();a[dG]=this.Sb();return a};f.clone=function(){var a=new ZF(this.F(),this.w(),this.j(),this.o(),this.Sb(),this.toString());a.setElement(this.getElement());return a};
function eG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(fG(a,b))},onComplete:function(){return b=c}};e[$F]=function(b,d){return c[a.indexOf(d)].w()};e[aG]=function(b,d){return c[a.indexOf(d)].F()};e[bG]=function(b,d){return c[a.indexOf(d)].j()};e[cG]=function(b,d){return c[a.indexOf(d)].o()};e[dG]=function(b,d){return c[a.indexOf(d)].Sb()};return e}function gG(a){return a.map(function(a){return a.wm()})}
function fG(a,b){return a.map(function(a,d){d=b[d];d.cb(a[$F]);d.hb(a[aG]);d.na(a[bG]);d.ea(a[cG]);d.setColor(a[dG]);return d})}var $F="TOP",aG="LEFT",bG="WIDTH",cG="HEIGHT",dG="COLOR";function hG(a,b,c,d,e,g){ZF.call(this,b,c,d,e,"transparent",g);this.Di=a;this.rotation=this.padding=0}t(hG,ZF);f=hG.prototype;f.scale=function(a,b){var c=this.j(),d=this.o();ZF.prototype.scale.call(this,a,b);this.na(c);this.ea(d);return this};f.Wl=function(a){this.rotation=a;this.Di=0!=this.rotation?"right":"center"};
f.Sa=function(){return this.rotation};f.Jz=function(){return this.Di};f.ji=function(a){this.Di=a};f.ls=function(){return this.padding};f.aC=function(a){this.padding=a};f.clone=function(){var a=new hG(this.Jz(),this.F(),this.w(),this.j(),this.o(),this.toString());a.setElement(this.getElement());return a};function iG(a){ZF.call(this,0,a.value,a.width,a.ri,a.color);this.ri=a.ri||1}t(iG,ZF);iG.prototype.scale=function(a,b){ZF.prototype.scale.call(this,a,b);this.ea(this.ri);return this};
iG.prototype.clone=function(){var a=new iG({value:this.w(),width:this.j(),ri:this.o(),color:this.Sb()});a.setElement(this.getElement());return a};function jG(a){ZF.call(this,a.index,a.top,1,Math.abs(a.value),a.color)}t(jG,ZF);jG.prototype.wf=function(){var a=Math.min(this.o(),Math.max(.08*this.j(),1));return["M",this.F(),this.ua(),"L",this.F(),this.ua()-this.o()+a,"a",a,a,0,0,1,a,-a,"L",this.Ya()-a,this.ua()-this.o(),"a",a,a,0,0,1,a,a,"L",this.Ya(),this.ua(),"Z"].join(" ")};
jG.prototype.clone=function(){var a=new jG({index:this.F(),top:this.w(),value:this.o(),color:this.Sb()});a.setElement(this.getElement());return a};function kG(a){return Math.PI*(a+-90)/180}function lG(a){ZF.call(this,a.left,a.top,a.width,a.height,a.color);this.ly={x:0,y:0};this.data="";this.bh=a.bh;this.oh=a.oh;this.rh=a.rh;this.ff=a.ff;this.gb=a.gb;this.sm=a.sm;this.tm=a.tm;this.value=a.value;this.Gk=a.Gk}t(lG,ZF);f=lG.prototype;f.fd=function(){this.WJ();return this.ly};
f.wf=function(){this.WJ();return this.data};f.WJ=function(){var a=this.sm+this.gb*Math.cos(kG(this.ff)),b=this.tm+this.gb*Math.sin(kG(this.ff)),c=Math.min(this.bh+5,359.999),d=this.sm+this.gb*Math.cos(kG(c)),e=this.tm+this.gb*Math.sin(kG(c));this.Rq(this.sm+(this.gb+this.Gk)*Math.cos(kG(this.oh)),this.tm+(this.gb+this.Gk)*Math.sin(kG(this.oh)));this.data=["M",this.sm,this.tm,"L",a,b,"A",this.gb,this.gb,0,180<=c-this.ff?1:0,1,d,e,"Z"].join(" ")};f.qc=function(){return this.value};f.jl=function(){return this.sm};
f.kl=function(){return this.tm};f.Rq=function(a,b){this.ly={x:a,y:b}};f.setData=function(a){this.data=a};f.setRadius=function(a){this.gb=a};f.clone=function(){return new lG({left:this.F(),top:this.w(),width:this.j(),height:this.o(),color:this.Sb(),value:this.qc(),rh:this.rh,ff:this.ff,oh:this.oh,bh:this.bh,gb:this.gb,sm:this.jl(),tm:this.kl(),Gk:this.Gk})};f.wm=function(){var a={};a[mG]=this.ff;a[nG]=this.bh;a[oG]=this.gb;a[pG]=this.Sb();return a};
function qG(a){return a.map(function(a){return a.wm()})}function rG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(sG(a,b))},onComplete:function(){return b=c}};e[mG]=function(b,d){return c[a.indexOf(d)].ff};e[nG]=function(b,d){return c[a.indexOf(d)].bh};e[oG]=function(b,d){return c[a.indexOf(d)].gb};e[pG]=function(b,d){return c[a.indexOf(d)].Sb()};return e}function sG(a,b){return a.map(function(a,d){d=b[d];d.ff=a[mG];d.bh=a[nG];d.setRadius(a[oG]);d.setColor(a[pG]);return d})}
var mG="START_ANGLE",nG="END_ANGLE",oG="RADIUS",pG="COLOR";function tG(a,b,c,d,e,g){hG.call(this,a,b,c,d,e,g);this.ly={x:0,y:0};this.EW={x:0,y:0};this.angle=0}t(tG,hG);tG.prototype.fd=function(){return this.ly};tG.prototype.Rq=function(a,b){this.ly={x:a,y:b}};function uG(a){ZF.call(this,a.left,a.top,a.width,a.height,a.color);this.data=a.data}t(uG,ZF);uG.prototype.wf=function(){return this.data};function vG(a){lG.call(this,a);this.Ph=a.Ph}t(vG,lG);
vG.prototype.WJ=function(){var a=Math.min(this.bh+5,359.999),b=this.jl()+this.gb*this.Ph*Math.cos(kG(this.ff)),c=this.kl()+this.gb*this.Ph*Math.sin(kG(this.ff)),d=this.jl()+this.gb*this.Ph*Math.cos(kG(a)),e=this.kl()+this.gb*this.Ph*Math.sin(kG(a)),g=this.jl()+this.gb*Math.cos(kG(this.ff)),h=this.kl()+this.gb*Math.sin(kG(this.ff)),k=this.jl()+this.gb*Math.cos(kG(a)),l=this.kl()+this.gb*Math.sin(kG(a));this.Rq(this.jl()+(this.gb+this.Gk)*Math.cos(kG(this.oh)),this.kl()+(this.gb+this.Gk)*Math.sin(kG(this.oh)));
a=180<=a-this.ff?1:0;this.data=["M",b,c,"L",g,h,"A",this.gb,this.gb,0,a,1,k,l,"L",d,e,"A",this.gb*this.Ph,this.gb*this.Ph,0,a,0,b,c,"Z"].join(" ")};vG.prototype.clone=function(){return new vG({left:this.F(),top:this.w(),width:this.j(),height:this.o(),color:this.Sb(),value:this.qc(),rh:this.rh,ff:this.ff,oh:this.oh,bh:this.bh,gb:this.gb,sm:this.jl(),tm:this.kl(),Gk:this.Gk,Ph:this.Ph})};function wG(a){ZF.call(this,a.left,a.top,a.width,a.height,a.color);this.gb=a.gb}t(wG,ZF);
wG.prototype.setRadius=function(a){this.gb=a};wG.prototype.wf=function(){var a=this.gb,b=this.F()+this.j()/2-a,c=this.w();return["M",b,c,"a",a,a,0,1,0,2*a,0,"a",a,a,0,1,0,2*-a,0,"Z"].join(" ")};wG.prototype.clone=function(){return new wG({left:this.F(),top:this.w(),width:this.j(),height:this.o(),color:this.Sb(),gb:this.gb})};wG.prototype.wm=function(){var a=ZF.prototype.wm.call(this);a[oG]=this.gb;return a};
function xG(a,b,c,d){var e=eG(a,b,c,d,Power1.easeOut);e.onUpdate=function(){return d(yG(a,b))};e[oG]=function(b,d){return c[a.indexOf(d)].gb};return e}function yG(a,b){return a.map(function(a,d){d=b[d];d.cb(a[$F]);d.hb(a[aG]);d.na(a[bG]);d.ea(a[cG]);d.setColor(a[dG]);d.setRadius(a[oG]);return d})}function zG(a,b,c,d){var e=Math.min(a.x,b.x),g=Math.min(a.y,b.y);ZF.call(this,e,g,Math.max(a.x,b.x)-e,Math.max(a.y,b.y)-g,c);this.Ac=a;this.bc=b;this.ri=d}t(zG,ZF);
zG.prototype.wf=function(){var a=this.ri/2,b=180*Math.atan2(this.bc.y-this.Ac.y,this.bc.x-this.Ac.x)/Math.PI- -90-90,c=this.Ac.x-(this.Ac.x+a*Math.cos(kG(b))),a=this.Ac.y-(this.Ac.y+a*Math.sin(kG(b)));return["M",this.Ac.x-c,this.Ac.y-a,"L",this.bc.x-c,this.bc.y-a,"L",this.bc.x+c,this.bc.y+a,"L",this.Ac.x+c,this.Ac.y+a,"Z"].join(" ")};zG.prototype.clone=function(){return new zG({x:this.Ac.x,y:this.Ac.y},{x:this.bc.x,y:this.bc.y},this.Sb(),this.ri)};
zG.prototype.wm=function(){var a={};a[AG]=this.Ac.x;a[BG]=this.Ac.y;a[CG]=this.bc.x;a[DG]=this.bc.y;a[EG]=this.Sb();a[FG]=this.ri;return a};
function GG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(HG(a,b))},onComplete:function(){return b=c}};e[AG]=function(b,d){return c[a.indexOf(d)].Ac.x};e[BG]=function(b,d){return c[a.indexOf(d)].Ac.y};e[CG]=function(b,d){return c[a.indexOf(d)].bc.x};e[DG]=function(b,d){return c[a.indexOf(d)].bc.y};e[EG]=function(b,d){return c[a.indexOf(d)].Sb()};e[FG]=function(b,d){return c[a.indexOf(d)].ri};return e}function IG(a){return a.map(function(a){return a.wm()})}
function HG(a,b){return a.map(function(a,d){d=b[d];d.Ac.x=a[AG];d.Ac.y=a[BG];d.bc.x=a[CG];d.bc.y=a[DG];d.setColor(a[EG]);d.ri=a[FG];return d})}var AG="POINT_1_X",BG="POINT_1_Y",CG="POINT_2_X",DG="POINT_2_Y",EG="COLOR",FG="THICKNESS";var JG=/([^\-0-9,.]*)([\-0-9,.\s]*\d)(\D*)/;function KG(a){this.parsed=!1;this.value=a;this.ph=NaN;this.post=this.WN=this.vB="";this.parse()}KG.prototype.uk=function(a){this.value=a;this.parsed=!1;return this};KG.prototype.parse=function(){if(!this.parsed){var a=JG.exec(this.value);a&&!isNaN(LG(this.value))?(this.ph=LG(this.value),this.vB=a[1],this.WN=a[2],this.post=a[3]):(this.ph=NaN,this.post=this.WN=this.vB="");this.parsed=!0}};
KG.prototype.toString=function(){this.parse();return this.vB+this.WN+this.post};KG.prototype.isValid=function(){this.parse();return!isNaN(this.ph)&&(""!==this.vB||""!==this.post)};function LG(a){if(a=JG.exec(a))if(a=parseFloat(a[2].replace(/[,\s]*/g,"")),!isNaN(a))return a;return NaN};function MG(a){a=void 0===a?{}:a;var b=a.bar||{};this.o0=!0;this.Cs=5;this.spacing=void 0!==b.spacing?b.spacing:.5;this.padding=void 0!==b.padding?b.padding:10;this.BS=!1;this.color=En(vn(a.colors?a.colors[0]:"#00c4cc"),a.gradientRange);this.data=[];this.Vy=new V(0,0,0,0);this.Fd=void 0!==a.labelset?a.labelset:0;this.Tf=this.Fd+1;this.Bl={labels:[],uJ:[],wk:[]};this.Td={labels:[],Jv:[],wk:[]};this.VN=a.VN||function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};a.data&&this.Fs(a.data)}
f=MG.prototype;
f.Fs=function(a,b,c){var d=this;this.Fd=b||this.Fd;this.Tf=c||this.Tf;this.Fd===this.Tf&&this.Tf++;var e=null;this.data=a.map(function(a){var b=new KG(a[d.Tf]);!e&&b.isValid()&&(e=b);a=a[d.Fd];b.parse();return[a,b.ph]}).filter(function(a){return!isNaN(a[d.Tf])});c=this.data.map(function(a){return a[d.Tf]});a=0;b=_.max(c);this.BS&&(a=Math.min(0,_.min(c)));this.o0&&(this.Cs=5,5<b&&10>=b&&0!==b%2?b+=2-b%2:10<b&&25>=b&&0!==b%5?b+=5-b%5:25<b&&100>=b&&0!==b%10?b+=10-b%10:100<b&&1E3>=b&&0!==b%50?b+=50-b%
50:1E3<b&&1E4>=b&&0!==b%100?b+=100-b%100:1E4<b&&(c=Math.pow(10,Math.floor(Math.log10(b))),b/=c,b=(Math.floor(b)+Math.ceil(20*(b-Math.floor(b)))/20)*c),4<b&&(0===b%4?this.Cs=5:0===b%3?this.Cs=4:0===b%5&&(this.Cs=6)));this.Vy=new V(0,a,this.data.length,b-a);this.Td=NG(this,a,b,e);this.Bl=OG(this,this.data,a)};f.XU=function(){var a=[];a[1]=this.Bl.wk.slice();a[0]=this.Td.wk.slice();return a};f.getData=function(){return this.data};f.Wq=function(a){this.spacing=a};f.he=function(){return this.spacing};
function NG(a,b,c,d){for(var e=[],g=[],h=[],k=[],l=0;l<a.Cs;l++)k.push(mn(b,c,l/(a.Cs-1)));var m=k.reduce(function(a,b){return Math.abs(a)<Math.abs(b)?a:b});k.forEach(function(c){var k=c-m;c=k+Math.abs(b);var l=a.VN(k.toString());d&&(d.parse(),l=d.vB+l+d.post);h.push(l);k=new iG({value:k+Math.abs(b),width:a.Vy.j(),ri:1,color:"#ccc"});e.push(new hG("right",0,c,a.Cs-1,1,l));g.push(k)});return{wk:h,labels:e,Jv:g}}
function OG(a,b,c){var d=[],e=[],g=[];b.forEach(function(b,k){var l=parseFloat(b[a.Tf]);!a.BS&&0>l&&(l=0);var m=new hG("center",k,0,1,1,b[a.Fd]);e.push(new jG({index:k,top:0>=c&&0<l?Math.abs(c):Math.abs(c)-Math.abs(l),value:l,color:"#ccc"}));d.push(m);g.push(b[a.Fd])});return{labels:d,uJ:e,wk:g}}function PG(a,b,c,d){var e=c.j()/a.Vy.j(),g=c.o()/a.Vy.o();return b.map(function(a){a=a.clone();a.scale(e,g);a.translate(c.F(),c.w());a.ea(a.o());a.cb(d.o()-a.w()-a.o());return a})}
f.Gr=function(a){function b(a,b){return a>b?a:b}var c=this;if(0===this.data.length||0===this.Vy.o())return{Td:[[],[]],data:[[],[]]};var d=a.Gx.Tx[0].reduce(b,0),e=a.Gx.Tx[1].reduce(b,0),g=a.Gx.hN;this.padding=.5*g;this.spacing=void 0!==a.spacing?a.spacing:this.spacing;this.color=a.color||this.color;var h=a.ME,k=h.j()-d-2*this.padding,l=k/this.Bl.uJ.length,m=l<e,n=m?.7071067811865475*(e+g):g,p=d+this.padding,q=(1-this.spacing)*l,u=h.o()-n-g-this.padding,v=new V(0,n+this.padding+g/2,d,u),z=m?this.padding:
.5*this.padding,r=new V(p+(m?.7071067811865475*g/2:0),h.o()-n-z,k,n),n=new V(p,n+this.padding,k,u),k=PG(this,this.Td.Jv,n,h),v=PG(this,this.Td.labels,v,h),x=PG(this,this.Bl.uJ,n,h),I=PG(this,this.Bl.labels,r,h);I.forEach(function(a){return a.ea(g)});v.forEach(function(a){return a.na(d)});x.forEach(function(a,b){a.setColor(c.color(b,x.length));if(1===x.length)a.na(l);else{var d=1<x.length?b*c.spacing*l/(x.length-1):0;a.na(q).translate(d,-1);I[b].translate(-(l-q)/2+d,0)}});k.forEach(function(b){return b.setColor(a.Iv)});
I.forEach(function(a){if(m){var b=a.F()+l/2;a.na(e);a.hb(b-.7071067811865475*(e+g));a.Wl(-45);a.cb(r.w()+.35355339059327373*e)}else a.na(l),a.cb(r.w())});var E=Math.ceil(1.2*g/l),I=I.filter(function(a,b){return 0===b%E}),h={Td:[],data:[]};h.Td.push(k);h.Td.push(v);h.data.push(x);h.data.push(I);return h};function QG(a){var b="undefined"!==typeof a.Q2?a.Q2:1;this.canvas=document.createElement("canvas");this.color=En(vn(a.color||"#00c4cc"),b);this.data=[];this.Fd=0;this.Bl=[];this.total=0;this.Tf=1;this.wk=[];this.spacing=a.spacing||0;a.data&&this.Fs(a.data)}f=QG.prototype;f.getData=function(){return this.data};f.XU=function(){return this.wk};f.he=function(){return this.spacing};f.Wq=function(a){this.spacing=a};
f.Fs=function(a,b,c){var d=this;this.Fd=b||this.Fd;this.Tf=c||this.Tf;this.data=a.map(function(a){return[a[d.Fd],LG(a[d.Tf])]}).filter(function(a){return!isNaN(a[d.Tf])}).filter(function(a){return 0<a[d.Tf]});this.total=this.data.reduce(function(a,b){return a+b[d.Tf]},0);this.Bl=this.data.map(function(a){return[a[0],a[d.Tf],100*a[d.Tf]/d.total]});this.wk[0]=this.data.map(function(a,b){return""+d.Bl[b][0]});this.wk[1]=this.data.map(function(a,b){return Math.round(d.Bl[b][2])+"%"})};
f.Gr=function(a){for(var b=a.color||this.color,c=a.ME,d=a.h3||.9,e="undefined"!==typeof a.$V?a.$V:.3,d=Math.min(c.o(),c.j())/2*d,g=RG(this,b,c,d,e,a.Iv,a.Gx),h=SG(g,c);0<h&&10<d;)d=Math.max(d-h,10),g=RG(this,b,c,d,e,a.Iv,a.Gx),h=SG(g,c);return g};function RG(a,b,c,d,e,g,h){e*=h.fontSize;var k=c.j()/2,l=c.o()/2;b=TG(a,c,b,k,l,d,e);c=[];var m=[];if(0<h.fontSize){var m=d+2.1*h.fontSize,n=2*h.hN;c=UG(a,b,k,l,m,n,e,h);m=VG(c,k,l,m,n,g)}return{b3:0<m.length,labels:c,Jv:m,y7:d,uo:b}}
function UG(a,b,c,d,e,g,h,k){return b.map(function(b,m){var n=Math.ceil(Math.max(k.Tx[0][m],k.Tx[1][m]))+2*h,p=.0032*n*(90-Math.abs(b.oh%180-90)),q=c+(e+p)*Math.cos(kG(b.oh)),p=d+(e+p)*Math.sin(kG(b.oh));m=new tG("center",q-n/2,p-g/2,n,g,"\x3cb\x3e"+a.wk[0][m]+"\x3c/b\x3e\x3cbr/\x3e"+a.wk[1][m]);m.Rq(q,p);m.angle=b.oh;m.slice=b;return m})}
function WG(a,b,c,d){var e=a.slice,g=e.fd(),h=a.fd(),k=a.EW,l=(2*k.x+e.fd().x)/3,m=(2*k.y+e.fd().y)/3,n=(2*k.x+a.fd().x)/3;a=(2*k.y+a.fd().y)/3;b=g.x>=b?1:-1;c=g.y>=c?-1:1;g=["M",g.x,g.y,"C",l,m,",",n,a,",",h.x,h.y,"L",h.x+b,h.y+c,"C",n+b,a+c,",",l+b,m+c,",",g.x+b,g.y+c,"Z"].join(" ");return new uG({left:e.F(),top:e.w(),width:e.j(),height:e.o(),color:d,data:g})}
function TG(a,b,c,d,e,g,h){var k=0;return a.Bl.map(function(l,m,n){var p=3.6*k,q=p+3.6*l[2],u=p+1.8*l[2];k+=l[2];return a.AT({top:0,left:0,width:b.j(),height:b.o(),value:l[1],rh:l[2],color:c(m,n.length),ff:p,bh:q,oh:u,gb:g,sm:d,tm:e,Gk:h})})}f.AT=function(a){return new lG(a)};
function SG(a,b){b=b.clone().setPosition(0,0);a=a.labels.reduce(function(a,b){return{left:Math.min(a.left,b.F()),top:Math.min(a.top,b.w()),right:Math.max(a.right,b.Ya()),bottom:Math.max(a.bottom,b.ua())}},{left:b.F(),top:b.w(),right:b.Ya(),bottom:b.ua()});return parseInt(Math.max(Math.abs(a.left-b.F()),Math.abs(a.top-b.w()),Math.abs(a.right-b.Ya()),Math.abs(a.bottom-b.ua())),10)}
function VG(a,b,c,d,e,g){for(var h=[],k=[],l=0;10>l;l++){var m=h.length;a.forEach(function(b){a.forEach(function(a){b!==a&&fh(b,a)&&[b,a].forEach(function(a){-1===h.indexOf(a)&&h.push(a)})})});if(h.length===m)break;h.forEach(function(a){var g=b+d*Math.cos(kG(a.angle)),h=c+d*Math.sin(kG(a.angle));a.Rq(g,h);a.cb(h-e/2);a.fd().x>=b?a.hb(g):a.hb(g-a.j());a.EW={x:g,y:h}})}var l=h.filter(function(a){return a.fd().x>=b&&a.fd().y<c}),m=h.filter(function(a){return a.fd().x>=b&&a.fd().y>=c}),n=h.filter(function(a){return a.fd().x<
b&&a.fd().y<c}),p=h.filter(function(a){return a.fd().x<b&&a.fd().y>=c}),q=[l,m,n,p];q.filter(function(a){return a.length}).forEach(function(a){a.sort(function(a,b){return a.w()>b.w()?1:-1});a[0].fd().y<c&&a.reverse()});var u=0;l[0]&&m[0]&&fh(l[0],m[0])&&(u=l[0].ua()-m[0].w());n[0]&&p[0]&&fh(n[0],p[0])&&(u=Math.max(u,n[0].ua()-p[0].w()));q.forEach(function(a){a.forEach(function(d,h){var l=u/2,m=d.fd(),n=d.fd().x>=b?m.x+25:m.x-25,l=d.fd().y>=c?m.y+l:m.y-l,p=d.fd().x>=b?n:n-d.j();d.Rq(n,l);d.hb(p);d.cb(l-
e/2);if((l=a[h-1])&&fh(d,l))for(l=l.fd(),l=d.fd().y>=c?l.y+e:l.y-e,d.Rq(n,l),d.cb(l-e/2),m=l-m.y,h+=1;h<a.length;h++)n=a[h],l=n.fd(),p=l.y+m,n.Rq(l.x,p),n.cb(p-e/2);k.push(WG(d,b,c,g))})});return k}function XG(a){QG.call(this,a);this.Ph=a.Ph||.55}t(XG,QG);XG.prototype.AT=function(a){a=Object.assign({},a,{Ph:this.Ph});return new vG(a)};function YG(a){a=void 0===a?{}:a;MG.call(this,a)}t(YG,MG);
YG.prototype.Gr=function(a){var b=MG.prototype.Gr.call(this,a),c=b.data[0],d=a.ME.o()/100,e=1.5*d,g=c.map(function(a){return a.Sb()});g.unshift(g[0]);var h=e;a=d;1<c.length&&(a=c[1].F()-c[0].F(),h=Math.max(Math.min(e,a/3),.5*d),a=h/e*d);c=c.map(function(a,b){return new wG({left:a.F(),top:a.w(),width:a.j(),height:a.j(),color:g[b],gb:h})});d=[];for(e=0;e<c.length-1;e++){var k=c[e],l=c[e+1];d.push(new zG({x:k.F()+k.j()/2,y:k.w()},{x:l.F()+l.j()/2,y:l.w()},l.Sb(),a))}b.data[0]=d.concat(c);return b};var ZG={type:"text",transparency:0,fontFamily:R.Ld,fontSize:R.Kd},$G={type:"image",isBackground:!1,isRecolorable:!0};function aH(a){var b=a.serialize();b.backgroundColor=a.Sb();return new ZB(_.extend({},$G,b))}function bH(a,b,c){var d=a.serialize();d.html=a.toString();d.justification=0!=a.Sa()?"right":"center";d.rotation=a.Sa();d.padding=a.padding;c&&(d.fontMedia=c);return new Rp(_.extend({},ZG,d,b))}
function cH(a,b,c,d){var e=d.chart;this.Dw=a;this.Li=e.chartType;this.data=e.data;this.z1=b;this.fE=c;this.Tc=e.labelTextStyle;this.zA=e.labelFontMedia;this.ts=e.interpolation;this.Dr=dH(d);this.tj=!0;gC.call(this,d);this.C().addClass("chart");this.I1=_.debounce(this.render,300)}cH.prototype=Object.create(gC.prototype);f=cH.prototype;f.constructor=gC;function fC(a){a=JSON.parse(JSON.stringify(a));a.chart.data=eH(a.chart.data);var b=fH(a);return new cH(b,aH,bH,a)}
function gH(a){var b;function c(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","g");c.setAttribute("shape-rendering","crispEdges");c.setAttribute("style","opacity: 0.15;");c.setAttribute("data-recolorable-lines","true");a.Td[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line"),d=Math.max(2,a.w());b.setAttribute("x1",a.F());b.setAttribute("y1",d);b.setAttribute("x2",a.Ya());b.setAttribute("y2",d);b.setAttribute("stroke",a.Sb());b.setAttribute("stroke-width",
"1");b.setAttribute("vector-effect","non-scaling-stroke");c.appendChild(b)});b.appendChild(c)}var d=JSON.parse(JSON.stringify(a));b=b||new V(0,0,d.width,d.height);a=d.chart.chartType;var e=d.chart;e.data=eH(e.data);var g=fH(d),d=dH(d),e=g.Gr({ME:b,Gx:{Tx:[[0],[0]],hN:0,fontSize:0},color:d,Iv:e.labelTextStyle.color||hH,h3:e.idealPieRadiusFactor||.8}),h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width","100%");h.setAttribute("height","100%");h.setAttribute("preserveAspectRatio",
"xMaxYMax");h.setAttribute("viewBox",b.F()+" "+b.w()+" "+b.j()+" "+b.o());switch(a){case iH:c(e,h);e.data[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",a.F());b.setAttribute("y",a.w());b.setAttribute("width",a.j());b.setAttribute("height",a.o());b.setAttribute("fill",a.Sb());h.appendChild(b)});break;case jH:case kH:e.uo.forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("d",a.wf());
b.setAttribute("fill",a.Sb());h.appendChild(b)});break;case lH:c(e,h);var k=1;e.data[0].filter(function(a){return a instanceof zG}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line");b.setAttribute("x1",a.Ac.x);b.setAttribute("y1",a.Ac.y);b.setAttribute("x2",a.bc.x);b.setAttribute("y2",a.bc.y);b.setAttribute("stroke",a.Sb());b.setAttribute("stroke-width",.65*a.ri);b.setAttribute("stroke-linecap","round");b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b);
k=a.ri});e.data[0].filter(function(a){return a instanceof wG}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx",a.F()+a.j()/2);b.setAttribute("cy",a.w());b.setAttribute("r",k);b.setAttribute("fill",a.Sb());b.setAttribute("stroke",a.Sb());b.setAttribute("stroke-width",.75*k);b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b)})}return h}
function fH(a){a=a.chart;var b;b=Kb;b.IJ||(b.IJ=new wf(b.config));b=b.IJ;a.VN=b.x0.bind(b);switch(a.chartType){case iH:return new MG(a);case jH:return new QG(a);case lH:return new YG(a);case kH:return new XG(a)}throw Error("Invalid chart type specified");}function dH(a){a=a.chart||{};switch(a.coloringType){case mH:if(a.interpolation&&(a=Fn(a.interpolation)))return a}return nH}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};f.he=function(){return this.Dw.he()};
f.Wq=function(a){this.Dw.Wq(a);this.render()};f.Fs=function(a){this.data=JSON.parse(JSON.stringify(a));this.Dw.Fs(this.data)};f.qs=function(){return[uh(this.Tc.color)]};f.ab=function(){return[uh(this.Dr(0,1))]};f.Bd=function(){return this.ab().length};f.Yd=function(a,b){if(b instanceof on){switch(this.Li){case jH:case kH:this.Dr=En(b,1,90,0,36);break;case iH:case lH:this.Dr=this.ts&&this.ts.from===this.ts.to?function(){return b.qa()}:En(b,.75)}this.render({Paa:!0})}};
function oH(a){return new V(a.F(),a.w(),a.j(),a.o())}function pH(a){for(var b=oH(a).setPosition(0,0),c=a.ja().filter(function(a){return a instanceof bC}),d=0;2>d;d++){var e=c[d];e||(e=YF(b),BF(a,e,d),c[d]=e);e.viewBox=b;e.na(b.j());e.ea(b.o())}return c}function qH(a){return function(b){WF(a,b.map(function(a){return new VF({d:a.wf(),fill:a.Sb()})}));a.render()}}function rH(a,b){a=a.Td[0];var c=qH(b);b.Xl(75);c(a)}
function sH(a,b){var c=pH(a),d=c[0],e=a.xb.data[0],g=b.data[0],c=qH(c[1]);if(a.tj)if(e.length){a=Math.max(g.length,e.length);for(var h=0;h<a;h++){var k=g[h],l=e[h];k&&!l?e.push(k):k||e.pop()}a=gG(e);TweenMax.to(a,.3,eG(a,e,g,c,Power1.easeOut))}else a.xb=b,c(a.xb.data[0]);else c(g);rH(b,d)}
function tH(a,b){function c(){if(m.length){var a=[],c=[],k=m.filter(d),l=m.filter(e),r=n.filter(d),x=n.filter(e);g(r,k,k[0]);g(x,l,k[0]);var I=gG(k),E=IG(l),k=xG(I,k,r,function(b){c=b;p(a.concat(c))});TweenMax.to(E,.3,GG(E,l,x,function(b){a=b;p(a.concat(c))},Power1.easeOut));TweenMax.to(I,.3,k)}else h.xb=b,p(h.xb.data[0])}function d(a){return a instanceof wG}function e(a){return a instanceof zG}function g(a,b,c){for(var d=Math.max(a.length,b.length),e=0;e<d;e++){var g=a[e],h=b[e];if(g&&!h){var h=
g.clone(),k=b.length-1;g instanceof zG?-1<k?(h.bc.x=b[k].bc.x,h.bc.y=b[k].bc.y,h.Ac.x=b[k].bc.x,h.Ac.y=b[k].bc.y):(g=c.F()+c.j()/2-c.gb,h.bc.x=g,g=c.w(),h.bc.y=g,g=c.F()+c.j()/2-c.gb,h.Ac.x=g,g=c.w(),h.Ac.y=g):g instanceof wG&&(h.hb(b[k].F()),h.cb(b[k].w()),h.na(b[k].j()),h.ea(b[k].o()));b.push(h)}else g||b.pop()}}var h=a,k=pH(a),l=k[0],m=a.xb.data[0],n=b.data[0],p=qH(k[1]);a.tj?c():p(m=n);rH(b,l)}
function uH(a,b){var c=pH(a),d=c[0],e=qH(d);d.Xl(75);e(b.Jv);e=c[1];c=a.xb.uo;d=b.uo;c.length||(a.xb=b);e=qH(e);if(a.tj)if(c.length){a=Math.max(d.length,c.length);for(b=0;b<a;b++){var g=d[b],h=c[b];g&&!h?(g=g.clone(),g.setRadius(c[0].gb),c.push(g)):g||(c.pop(),g=c.length-1,d[g]&&(c[g].bh=d[g].bh))}a=qG(c);TweenMax.to(a,.3,rG(a,c,d,e,Power1.easeOut))}else a.xb=b,e(a.xb.uo);else e(d)}
function vH(a,b,c){if(b!==c&&(b||c)){var d=c&&!b;if(!c&&b)c=b instanceof hG?a.fE(b,a.gs(),a.iM()):a.z1(b),BF(a,c,b instanceof iG?0:void 0),b.setElement(c);else if(d)c=c.getElement(),a.jj(c),a.R().jj(c,{XY:!0}),c.C().remove(),c.remove();else{c=c.getElement();if(b instanceof hG){c.setPosition(b.F(),b.w());c.na(b.j());c.Wl(b.Sa());c.ji(0,b.Jz());var d=c,e=b.toString();Ib.H.get(mg)&&(d.C().removeData("cachedLineLengths"),TB(d).html(e));c.setPosition(b.F(),b.w())}else c.md(b),c.Rw(uh(b.Sb())),c.nc(!0);
b.setElement(c);a.elements[a.elements.indexOf(c)]=c}}}function wH(a,b){var c=a.iM(),d=a.gs().fontFamily,e;c&&(e=new en(c));a.render();xH(Jb,d)?b&&b():DA(Jb,e,d,function(){this.render({WO:!0});b&&b()}.bind(a))}f.appendTo=function(a){gC.prototype.appendTo.call(this,a);yH(this,a)};f.$k=function(a){gC.prototype.$k.call(this,a);yH(this,a)};function yH(a,b){zH(a)&&0<a.ja().length&&a.render();a.listenTo(b,"change:background",function(){zH(this)&&this.render()})}
function zH(a){return a.Tc.color?!1:(a.Iv=a.R().Df()?R.fD:R.eD,!0)}
f.render=function(a){function b(a){TweenMax.fromTo(a,.5,{autoAlpha:0},{autoAlpha:1,ease:Power1.easeIn})}a=a||{};var c,d=this.Gr();!this.xb&&AH(this);var e=this.tj;a.WO&&(this.tj=!1);switch(this.Li){case jH:case kH:for(c=0;c<Math.max(this.xb.labels.length,d.labels.length);c++)vH(this,d.labels[c],this.xb.labels[c]);a.fN&&this.tj&&b(this.C().find(".text.element"));uH(this,d);break;case lH:for(c=0;c<Math.max(this.xb.Td[0].length,d.Td[0].length);c++)vH(this,d.Td[1][c],this.xb.Td[1][c]);for(c=0;c<Math.max(this.xb.data[0].length,
d.data[1].length);c++)vH(this,d.data[1][c],this.xb.data[1][c]);!a.fN&&this.tj&&b(this.C().find(".text.element"));tH(this,d);break;default:for(c=0;c<Math.max(this.xb.Td[0].length,d.Td[0].length);c++)vH(this,d.Td[1][c],this.xb.Td[1][c]);for(c=0;c<Math.max(this.xb.data[0].length,d.data[1].length);c++)vH(this,d.data[1][c],this.xb.data[1][c]);!a.fN&&this.tj&&b(this.C().find(".text.element"));sH(this,d)}this.xb=d;this.tj=e};f.clone=function(){return fC(this.serialize())};
f.ds=function(){return["copy","arrange","transparency","link","delete"]};f.qV=function(){return!0};f.Er=function(){};f.sP=function(){};f.setSize=function(a,b,c){if(!(a<R.$x||b<R.$x)){var d=this.o();void 0!==a&&void 0!==b&&Z.prototype.setSize.call(this,a,b);c&&(a=this.o()/d,0!==a&&(a*=this.gs().fontSize,gC.prototype.NH.call(this,a),this.Tc.fontSize=a));this.C().find(".elements").length&&this.render({WO:!0})}};
f.Za=function(){gC.prototype.Za.call(this);var a=this.C().data("selectionBox");a&&(a.addClass("verticalScale"),a.addClass("horizontalScale"));(a=this.C().data("toolbar"))&&LD(a)};f.uh=function(){Z.prototype.uh.call(this);this.Hu=!1};f.iy=function(){return!0};f.YF=function(){return!1};f.lV=function(){return!0};f.RM=function(){return!!this.Hu};
f.serialize=function(){var a=gC.prototype.serialize.call(this);a.generatorType="CHART";var b=a.chart={};b.data=this.hi();b.labelColumn=0;b.labelTextStyle={};var c=this.gs(),d;for(d in c)b.labelTextStyle[d]=c[d];(c=CA(c.fontFamily))&&(b.labelFontMedia={id:c.id,version:c.version});b.chartType=this.Li;(b[this.Li.toLowerCase()]={}).spacing=this.he();b.coloringType=mH;b=b.interpolation={};b.colorSpace="HCL";b.from=this.Dr(0,1);b.to=this.Dr(1,1);if("#aNaNaN"===b.from||"#aNaNaN"===b.from)a.invalid=!0;return a};
f.hi=function(){var a={columns:[]};this.data.forEach(function(b,c){b.forEach(function(b,e){var g=a.columns[e]||{};g.name=e?"Value":"Label";g.cells=g.cells||[];g.cells[c]=""+b;a.columns[e]=g})});return a};function eH(a){var b=[];a.columns.forEach(function(a,d){a.cells.forEach(function(a,c){b[c]=b[c]||[];b[c][d]=a})});return b}f.dV=function(a){switch(this.Li){case jH:case kH:return{dj:2,$j:12,maxLength:16,Fd:0,SJ:a.slice(0,2)};default:return{dj:2,$j:58,maxLength:16,Fd:0,SJ:a.slice(0,2)}}};
f.iM=function(){var a=CA(this.gs().fontFamily);if(a)return{id:a.id,version:a.version}};f.gs=function(){return{fontFamily:this.Tc.fontFamily,fontSize:this.Tc.fontSize,bold:this.Tc.bold,italic:this.Tc.italic,color:this.Tc.color}};f.Gz=function(){return gC.prototype.Gz.call(this)};f.cQ=function(a){gC.prototype.cQ.call(this,a);this.Tc.bold=a;this.render()};f.eQ=function(a){gC.prototype.eQ.call(this,a);this.Tc.italic=a;this.render()};
f.dQ=function(a){this.elements.forEach(function(b){b instanceof Rp&&b.setColor(0,a)});this.Tc.color=a?a.qa():null;this.render()};f.MH=function(a,b,c){var d=this;gC.prototype.MH.call(this,a,function(c){c&&(d.Tc.fontFamily=a);d.render();b(c)},c)};f.NH=function(a){gC.prototype.NH.call(this,a);this.Tc.fontSize=a;this.render()};
f.nj=function(a,b,c,d){gC.prototype.nj.call(this,a,b,c,d);this.Tc.fontFamily=b.fontFamily;this.Tc.fontSize=b.fontSize;this.Tc.bold=b.bold;this.Tc.italic=b.italic;this.Tc.letterSpacing=b.letterSpacing;this.Tc.lineHeight=b.lineHeight;this.Tc.color=b.color;this.render()};function BH(a){switch(a){case jH:a=Wm.PIECHART1;break;case lH:a=Wm.LINECHART1;break;case kH:a=Wm.DONUTCHART1;break;default:a=Wm.BARCHART1}return fC(a)}
function CH(a,b){a=a.gs();var c=a.bold?"bold":"normal",d=a.italic?"italic":"",e=a.fontSize||R.Ld,g=a.fontFamily||R.Kd,h=document.createElement("canvas").getContext("2d"),k=96/72*e,l={Tx:[],hN:(a.lineHeight||R.Ot)/100*k,fontSize:k};h.font=d+" "+c+" "+e+"pt "+g;b.forEach(function(a){l.Tx.push(a.map(function(a){return Math.ceil(1.2*h.measureText(a).width)}))});return l}var iH="BAR",jH="PIE",lH="LINE",kH="DONUT",DH={u$:iH,J$:jH,H$:lH,w$:kH},mH="INTERPOLATE";function EH(a,b){a.Dw=b}
function AH(a){a.xb=a.Li===jH||a.Li===kH?{labels:[],uo:[],b3:!1,y7:0}:{Td:[[],[]],data:[[],[]]};for(var b,c=a.R();b=a.elements.pop();)a.jj(b),c&&c.jj(b,{XY:!0}),b.C().remove(),b.remove()}cH.prototype.Gr=function(){var a=CH(this,this.Dw.XU());return this.Dw.Gr({ME:oH(this),Gx:a,color:this.Dr,Iv:this.Tc.color||this.Iv||R.eD,$V:.3})};
function FH(a,b){function c(a){a=a.clone();a.ff=0;a.bh=0;return a}function d(a){a=a.clone();a.setRadius(0);return a}function e(a){a=a.clone();var b=a.ua();a.ea(0);a.top=b-a.o();return a}function g(a){var b=a.clone();a=q.indexOf(a);0!==a?(a=q[a-1],b.Ac.x=a.bc.x,b.Ac.y=a.bc.y,b.bc.x=a.bc.x,b.bc.y=a.bc.y):(b.bc.x=b.Ac.x,b.bc.y=b.Ac.y);return b}function h(a){WF(r,v);r.Xl(75);r.render();a=a.map(k);WF(x,a);x.render()}function k(a){return new VF({d:a.wf(),fill:a.Sb()})}function l(){wH(p);b&&b();p.tj=!0}
function m(a){return a instanceof wG}function n(a){return a instanceof zG}var p=a;a.tj=!1;AH(a);a.render();var q,u,v,z;u=pH(a);var r=u[0],x=u[1];switch(a.Li){case kH:v=a.xb.Jv.map(k);q=a.xb.uo.reverse().map(c);u=a.xb.uo.reverse();z=qG(q);TweenMax.staggerTo(z,.5,rG(z,q,u,h,Power1.easeOut),.5/Math.max(a.getData().length,1),l);break;case jH:v=a.xb.Jv.map(k);q=a.xb.uo.map(d);u=a.xb.uo;z=qG(q);TweenMax.staggerTo(z,.5,rG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case iH:q=a.xb.data[0].map(e);
u=a.xb.data[0];v=a.xb.Td[0].map(k);z=gG(q);TweenMax.staggerTo(z,.5,eG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case lH:q=a.xb.data[0];u=a.xb.data[0];v=a.xb.Td[0].map(k);var I=[],E=[],L=q.filter(n),L=L.map(g),G=q.filter(m),G=G.map(d),O=u.filter(n),Q=u.filter(m),N=.75/Math.max(G.length,1),ea=new TimelineMax({onComplete:l});G.forEach(function(a,b){L[b]&&(a=L[b].wm(),ea.to([a],N,GG([a],[L[b]],[O[b]],function(a){I[b]=a[0]},Power0.easeNone)));a=G[b].wm();var c=xG([a],[G[b]],[Q[b]],
function(a){E[b]=a[0];h(I.concat(E))});ea.to([a],N,c,"-\x3d"+N)});break;default:l()}}cH.prototype.bv=function(){return GH};function HH(a,b){var c=JSON.parse(JSON.stringify(b)),d=c.chart;d.data=a.getData();EH(a,fH(c));a.Li=d.chartType;a.Dr=dH(b);a.ts=d.interpolation;a.Tc=d.labelTextStyle;a.zA=d.labelFontMedia;TweenMax.to(a.C(),.3,{opacity:0,ease:Power1.easeOut,onComplete:function(){FH(a);TweenMax.to(a.C(),.5,{opacity:1,ease:Power1.easeOut})}})}
var nH=En(vn("#00c4cc")),hH="#fff",GH=[6,8,10,12,14,16,18,21,24,28,32,36];function IH(a){Z.call(this,a);this.yh=!0;this.gN="vertical"===a.align;this.SV=!this.gN;this.C().addClass("guide").addClass(a.align)}IH.prototype=Object.create(Z.prototype);f=IH.prototype;f.constructor=IH;f.Xo=function(){return!1};f.xy=function(){return!1};f.JD=function(){return!0};f.activate=function(){this.C().removeClass("inactive")};f.mE=function(){this.C().addClass("inactive")};f.cb=function(a){this.SV&&Z.prototype.cb.call(this,a)};f.hb=function(a){this.gN&&Z.prototype.hb.call(this,a)};
f.setPosition=function(a,b){this.gN&&Z.prototype.hb.call(this,a);this.SV&&Z.prototype.cb.call(this,b)};function dC(a){Z.call(this,a);this.yh=!0;this.placeholder=a.placeholder in JH?a.placeholder:"DEFAULT";this.C().addClass("fixed").css("backgroundImage","url("+JH[this.placeholder]+")")}dC.prototype=Object.create(Z.prototype);dC.prototype.constructor=dC;
var JH={CARD:"https://static.canva.com/static/images/furniture_card_fold_line_center.svg",CARD_VERTICAL:"https://static.canva.com/static/images/furniture_card_fold_line_center_vertical.svg",DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",
GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg",BROCHURE_FOLD_LINE_LEFT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_left.svg",BROCHURE_FOLD_LINE_CENTER:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_center.svg",BROCHURE_FOLD_LINE_RIGHT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_right.svg",BROCHURE_BLEED_AREA:"https://static.canva.com/static/images/furniture_trifold_brochure_bleed_area.svg",
PHONE:"https://static.canva.com/static/images/furniture_phone.svg",TABLET:"https://static.canva.com/static/images/furniture_tablet.svg",BROWSER:"https://static.canva.com/static/images/furniture_browser.svg"};f=dC.prototype;f.serialize=function(){return{type:"fixed"}};f.Za=function(){};f.Xo=function(){return!1};f.JD=function(){return!1};f.xy=function(){return!1};function YB(a,b){this.index=a.index;this.Pa=b;this.ba=a.mediaId;this.ca=a.mediaVersion;this.origin=a.origin?new cn(a.origin):null;this.Ea=Gm(a.imageBox);this.$X=this.cY=this.bY=this.aY=0;this.DB=!0;this.za=a.flipOrientation|0;this.$F=0<this.Pa.parents(".svg.element").length;this.JF=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=uh(a.backgroundColor));this.pb=void 0===a.mediaApproved?!0:a.mediaApproved;RD(this,this.pb)}f=YB.prototype;
f.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ba,mediaVersion:this.ca,imageBox:this.Ea.serialize(),flipOrientation:this.za,mediaApproved:this.pb};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};f.C=function(){return this.Pa};
function TD(a,b,c,d){var e=b!==a.ba||c!==a.ca;if(a.JF&&!e)return d&&d(!0),a;e&&(a.ba=b,a.ca=c,a.origin=null,RD(a,!0));a.JF=!0;a.DB=!0;a.$F?a.ba&&a.ca&&(b=a.Pa.find("image.placeholder"),a.Pa.get(0).classList.add("filled"),XC({mn:b,ba:a.ba,ca:a.ca,aw:d})):a.ba&&a.ca&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.Pa.find(".placeholder").remove(),a.Pa.append(b),a.Pa.parent(".item").addClass("filled"),XC({mn:b,ba:a.ba,ca:a.ca,aw:d}));return a}function SD(a,b){a.origin=b;return a}
function UD(a){a.JF=!1;RD(a,!0);a.ba=void 0;a.ca=void 0;a.origin=null;a.$F?(a.Pa.get(0).classList.remove("filled"),a.Pa.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href",R.Ko)):(a.Pa.parent(".item").removeClass("filled"),a.Pa.find(".placeholder").remove(),a.Pa.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}f.Wm=function(){return this.Ea.clone()};function SC(a,b){a.Ea=b.clone();a.DB=!0;KH(a);return a}
f.Tw=function(a){var b=a^this.za;Sm(this.Ea,LH(this),b);this.DB=!0;this.za=a;KH(this);return this};f.pt=function(a){this.ow();this.Tw(a);return this};f.hh=function(){return this.backgroundColor};f.Rw=function(a){this.backgroundColor=a;MH(this);return this};function jE(a){a.backgroundColor=null;a.Pa.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function MD(a){return!(!a.ba||!_.isNumber(a.ca))}f.isEmpty=function(){return!(MD(this)||this.hh())};
f.Hc=function(){return MD(this)?Fb.Hc(this.ba,this.ca):null};function RD(a,b){(a.pb=b)?a.Pa.get(0).classList.remove("unapproved"):a.Pa.get(0).classList.add("unapproved");return a}f.SC=function(a){var b=this.Nb();null!=this.backgroundColor||null==b||hq(a,this.Nb())||(UD(this),RD(this,!1))};f.Nb=function(){return void 0!==this.ba&&void 0!==this.ca?new en({id:this.ba,version:this.ca}):null};f.Vl=function(a,b){return new P(function(c){this.ba=a;this.ca=b;this.update(c)}.bind(this))};
f.update=function(a){var b=this.pb;void 0!==this.ba&&void 0!==this.ca?(TD(this,this.ba,this.ca,a),KH(this)):(UD(this),MH(this),a&&a(!0));RD(this,b)};f.clear=function(){UD(this);jE(this)};function MH(a){if(a.backgroundColor){UD(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.qa());a.Pa.find(".placeholder").replaceWith(b)}else a.clear()}
function KH(a){if(a.$F){var b=a.Pa.closest(".element").data("canvaElement"),c=a.Pa.find("image.placeholder"),d=LH(a);a=a.Ea.clone();a.translate(d.F(),d.w()).scale(1/JD(b));c.attr("width",a.j()).attr("height",a.o()).attr("x",a.F()).attr("y",a.w())}else{b=LH(a);c=b.j();d=b.o();if(a.DB)a.aY=a.Ea.F()/c,a.bY=a.Ea.w()/d,a.cY=a.Ea.j()/c,a.$X=a.Ea.o()/d,a.DB=!1;else{var e=a.Ea.gh();a.Ea.hb(c*a.aY);a.Ea.cb(d*a.bY);a.Ea.na(c*a.cY);a.Ea.ea(d*a.$X);var g=e/a.Ea.gh(),e=c/2,h=d/2,k=1;1>g?(Lm(a.Ea,e,h,g,1),g=Math.max(0,
a.Ea.F(),c-a.Ea.Ya()),k=c/(c-2*g)):1<g&&(Lm(a.Ea,e,h,1,1/g),g=Math.max(0,a.Ea.w(),d-a.Ea.ua()),k=d/(d-2*g));1<k&&Lm(a.Ea,e,h,k)}OC(a.Pa,null,a.za);c=a.Ea.clone();Sm(c,b,a.za);c.scale(W);c.round();a.Pa.find("img.placeholder").css(KC(c))}}function LH(a){var b=a.Pa.closest(".element").data("canvaElement");return b?b.an(a.index):Hm.clone()}f.ow=function(){var a=this.Pa,b=R.dS*this.Ea.j();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function CD(a){this.wR=a.valign;this.wj=Gm(a.box);this.Hg=this.wj.clone();this.gt=a.resizeHorizontal;this.$n=a.resizeVertical;this.contents=a.contents;this.xR=[];this.f3=[];this.scale=1;this.pv=NH(this);this.FV=this.wj.o()-OH(this);PH(this);this.ka();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.ka);b.listenTo(a,"change:height",b.ka)})}CD.prototype.trigger=Backbone.Events.trigger;CD.prototype.listenTo=Backbone.Events.listenTo;CD.prototype.stopListening=Backbone.Events.stopListening;
_.extend(CD.prototype,Backbone.Events);f=CD.prototype;f.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};f.na=function(a){ID(a,this.j())||(this.wj.na(a),this.ka(),this.trigger("change:width",this),this.trigger("change",this))};f.j=function(){return this.wj.j()};f.ea=function(a){ID(a,this.o())||(this.wj.ea(a),this.ka(),this.trigger("change:height",this),this.trigger("change",this))};f.o=function(){return this.wj.o()};
f.setSize=function(a,b,c){var d=this.j()!==a,e=this.o()!==b;if(d||e)this.wj.setSize(a,b),this.scale!==c&&(this.scale=c,QH(this)),this.ka(),d&&this.trigger("change:width",this),e&&this.trigger("change:height",this),this.trigger("change",this)};f.Kp=function(){return this.wj.Kp()};f.md=function(a,b){this.wj.hb(a.F()).cb(a.w());this.setSize(a.j(),a.o(),b)};f.pa=function(){return this.wj.clone()};f.Mz=function(){return this.Hg.clone()};
function NH(a){a=a.contents.map(function(a){return a.pa()});return Bl(a.map(function(a){return a.w()}))}function OH(a){a=a.contents.map(function(a){return a.pa()});return Cl(a.map(function(a){return a.ua()}))}function RH(a){var b=NH(a);return OH(a)-b}function SH(a){a=a.contents.slice(0);a.sort(function(a,c){a=a.Mz();c=c.Mz();return a.w()<c.w()?-1:a.w()>c.w()?1:0});return a}
function PH(a){a.xR=[];if(!(2>a.contents.length)){var b=SH(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.pa(),d=b[d+1].pa().w()-c.ua());a.xR.push(d)})}}function TH(a,b){a.contents.forEach(function(c){var d=c.pa();d.translate(0,b);a.stopListening(c);c.md(d,a.scale);a.listenTo(c,"change:width",a.ka);a.listenTo(c,"change:height",a.ka)})}
function QH(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.ka);a.listenTo(b,"change:height",a.ka)})}
f.ka=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.xC)if(b.aL)UH(b);else{var c=b.pa(),d=VH(b);c.na(d.width);c.ea(d.height);b.md(c)}});var b=0===this.f3.length;this.contents.forEach(function(c){if(a.gt&&b){var d=c.pa();d.j()!==a.j()&&(d.na(a.j()),c.md(d,a.scale))}});var c=SH(this);c.forEach(function(b,d){if(0!==d){d=c[d-1];var e=a.contents.indexOf(d),g=a.xR[e],e=b.pa();d=d.pa().ua()+g*a.scale;e.cb(d);b.md(e,a.scale)}});var d=RH(this),e=this.wj.o(),g;"CENTER"==this.wR?
(g=this.pv+this.FV,g=this.pv+(e-d-g)/2,g-=NH(this),TH(this,g),d>e&&this.$n&&(g=-NH(this),TH(this,g),this.ea(d))):"TOP"==this.wR?this.pv+d>e&&this.$n&&this.ea(this.pv+d):"BOTTOM"==this.wR&&(g=this.pv+this.FV,g=this.pv+(e-d-g),g-=NH(this),TH(this,g),d>e&&this.$n&&(g=-NH(this),TH(this,g),this.ea(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.ka);a.listenTo(b,"change:height",a.ka)})};
function BD(a,b,c){this.Dk=a;this.Hg=a.data("rect").clone().translate(-b,-c);this.fz=!!a.data("dynamicWidth");this.LE=!!a.data("dynamicHeight");this.aL=!!a.data("dynamicFontSize");this.hH=a.data("defaultFontSize");this.aL&&(this.LE=this.fz=!1);this.fz&&this.LE&&(this.fz=!1);this.Lb={KI:0,Sx:0,Bf:0,Id:1};this.xC=!1}BD.prototype.trigger=Backbone.Events.trigger;BD.prototype.listenTo=Backbone.Events.listenTo;BD.prototype.stopListening=Backbone.Events.stopListening;_.extend(BD.prototype,Backbone.Events);
var ED="center",FD="right";f=BD.prototype;f.C=function(){return this.Dk};f.Mz=function(){return this.Hg.clone()};f.pa=function(){var a=this.Hg.clone();a.cb(this.Lb.KI+this.Hg.w()*this.Lb.Id).hb(this.Hg.F()*this.Lb.Id).na(this.Lb.Sx+a.j()*this.Lb.Id).ea(this.Lb.Bf+a.o()*this.Lb.Id);return a};
f.md=function(a,b){void 0===b&&(b=this.Lb.Id);var c=this.pa(),d=a.clone().scale(W).round();this.Dk.css(d.serialize());WH(this);this.Lb.Id=b;this.Lb.KI=a.w()-this.Hg.w()*this.Lb.Id;this.Lb.Sx=a.j()-this.Hg.j()*this.Lb.Id;this.Lb.Bf=a.o()-this.Hg.o()*this.Lb.Id;b=!ID(c.j(),a.j());d=!ID(c.o(),a.o());b&&this.trigger("change:width",this,a.j()-c.j());d&&this.trigger("change:height",this,a.o()-c.o());(b||d)&&this.trigger("change",this)};
f.scale=function(a){this.Lb.KI*=a/this.Lb.Id;this.Lb.Sx*=a/this.Lb.Id;this.Lb.Bf*=a/this.Lb.Id;this.Lb.Id=a};function WH(a){if(a.Dk.hasClass("text")){var b=a.pa(),c=a.Dk.children(".inner");c.css("width",b.j()).css("height","");var d=a.Dk.height();a=c.height();b=Math.round(b.j()*(W-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+W+")")}}
function UH(a){if(!a.xC){var b=XH(a),c=a.Dk.data("canvaElement"),d=a.Dk.data("textIndex");a.xC=!0;c.pe(d,b);a.xC=!1;WH(a)}}function wD(a){var b;if(!a.xC)if(a.aL)UH(a);else{var c=a.pa();b=VH(a);var d=b.width;b=b.height;a.fz&&(d=Math.max(d,a.Hg.j()*a.Lb.Id));a.LE&&(b=Math.max(b,a.Hg.o()*a.Lb.Id));c.na(d);c.ea(b);a.md(c)}}
function XH(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?e:g;var n=m.call(b);d/=n/a;b.css("font-size",d*R.Ci+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*R.Ci+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*R.Ci+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),R.ZI)}var c=a.hH*a.Lb.Id,d=parseFloat(a.Dk.data("fontSize"))*a.Lb.Id,e=Math.floor(a.Lb.Sx+a.Hg.j()*a.Lb.Id),g=Math.floor(a.Lb.Bf+
a.Hg.o()*a.Lb.Id);a=a.Dk.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*R.Ci+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function VH(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);d=a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","");Gf($(d));b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.Lb.Sx+a.Hg.j()*a.Lb.Id,d=a.Lb.Bf+a.Hg.o()*a.Lb.Id,e=a.Dk;a.fz&&(c=b(e,"width",d));a.LE&&(d=b(e,"height",c));return{width:c,
height:d}};function YH(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),ZH(b))return b}function ZH(a){return/^[^@]+@[^@]+\.[^@]+$/.test(a)&&!/[ ,<>'"]/.test(a)};function $H(){this.N=Gb;this.path="/login"};function aI(){}t(aI,Error);function bI(a,b,c){this.id=a;this.length=b;this.name=c}bI.prototype.u=function(){return this.id};bI.prototype.getLength=function(){return this.length};bI.prototype.getName=function(){return this.name};function cI(a,b,c,d){this.id=a;this.name=b;this.od=d;this.X6=c}cI.prototype.u=function(){return this.id};cI.prototype.getName=function(){return this.name};cI.prototype.je=function(){return this.od};cI.prototype.Jj=function(){return this.X6};function dI(a,b,c){this.height=a;this.url=b;this.width=c}dI.prototype.o=function(){return this.height};dI.prototype.ma=function(){return this.url};dI.prototype.j=function(){return this.width};function eI(a){this.N=a.N;this.qW=a.qW;this.nJ=a.config.nJ;this.Wr=null}var fI={z2:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.permissions=c},param:"permissions"};
eI.prototype.init=function(){var a=this,b,c;b=this;return(c=window.facebookSdkPromise)?c:c=window.facebookSdkPromise=new P(function(c,e){a.TP=function(b){gI(a);e(b)};window.fbAsyncInit=function(){FB.init({version:"v2.11",appId:b.nJ,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});gI(a);c(a)};hI(a)})};eI.prototype.TP=function(){gI(this)};function gI(a){document.getElementById("facebook-jssdk").removeEventListener("error",a.TP)}
function hI(a){var b,c=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(b=document.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.com/en_US/sdk.js",b.addEventListener("error",a.TP),c.parentNode.insertBefore(b,c))}function iI(){var a;a=window.facebookSdkPromise;return!!a&&a.isFulfilled()}
function jI(a,b){return new P(function(c,d){kI(a).then(function(e){e=e.permissions;var g=_.difference(b,e);a.Wr&&a.Wr.tba(e);g.length?d():c()}).catch(d)})}
function kI(a){var b=[fI];return new P(function(c,d){a.getAuthResponse().then(function(a){for(var g=[],h=0;h<b.length;h++){var k=b[h];k.param&&g.push(k.param)}g=g.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(g),function(g){if("error"in g)d("FB_API_ERROR");else{for(var h={},k=0;k<b.length;k++)b[k].z2.call(h,a,g);c(h)}})}).catch(function(b){a.Wr=null;d(b)})})}
eI.prototype.getAuthResponse=function(){return new P(function(a,b){FB.getAuthResponse()?a(FB.getAuthResponse()):FB.getLoginStatus(function(c){"connected"==c.status?a(c.authResponse):b("UNAUTHORIZED")})})};eI.prototype.va=function(){return this.Wr};
function lI(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function e(b){a.Wr=null;d(b)}function g(g){g.authResponse&&g.status?jI(a,b).then(c).catch(e):d("FB_API_ERROR")}var h=_.difference(b,a.Wr?a.Wr.permissions:[]);0<h.length?FB.login(g,{scope:h.join(",")}):jI(a,b).then(c).catch(e)})}function mI(a){return jI(a,["email","public_profile","user_photos"])}
function nI(a){if(!iI())throw new aI;var b={fields:"id,name,count"};void 0!==a&&(b.offset=a);b.limit=10;return new P(function(a,d){FB.api("/me/albums?return_ssl_resources\x3d1",b,function(b){"error"in b?d("FB_API_ERROR"):(b=b.data.map(function(a){return new bI(a.id,a.count||0,a.name)}),a(b))})})}
function oI(a,b,c){if(!iI())throw new aI;var d={fields:"id,name,height,width,source,picture,images"};void 0!==b&&(d.offset=b);void 0!==c&&(d.limit=c);return new P(function(b,c){FB.api("/"+encodeURIComponent(a)+"/photos?return_ssl_resources\x3d1",d,function(a){"error"in a?c("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,e=b/4.6,g=c/4.6,h=a.picture,v=a.images.filter(function(a){return a.source===h});0<v.length&&(e=v[0].height,g=v[0].width);v=a.images.sort(function(a,b){return b.height-
a.height})[0];if(v.width>c||v.height>b)b=v.height,c=v.width,d=v.source;return new cI(a.id,a.name,new dI(b,d,c),new dI(e,h,g))}),b(a))})})}
function pI(a,b){return new P(function(c,d){function e(){return m.reduce(function(a,b){return a+b.getLength()},0)}function g(c){var k;m=m.concat(c);c=0<c.length&&10>=c.length;k=e()<a+b;c&&k?nI(m.length).then(g).catch(d):h()}function h(){var c=0,e=m.filter(function(b){c+=b.getLength();return c>a}),g=m.filter(function(a){return-1===e.indexOf(a)}).reduce(function(a,b){return a+b.getLength()},0),h=[],n=0;e.forEach(function(c,d){var e=0===d?a-g:0;d=Math.min(b,c.getLength()-e);n<b&&(c=oI(c.u(),e,d).tap(k),
h.push(c));n+=d});P.all(h).then(l).catch(d)}function k(a){n=n.concat(a)}function l(){c(n)}var m=[],n=[];if(!iI())throw new aI;nI(0).then(g).catch(d)})}function qI(){this.nJ=B("appId",window.facebookConfig)};function rI(a){this.N=a}rI.prototype.HA=function(a,b){var c=b.fM(),d=b.Cd(),e=b.Fb(),g=b.cM();a="/vfolders/"+a+b.uc()+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(e?"\x26continuation\x3d"+encodeURIComponent(e):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return yj(this.N,a).get(0).then(sI)};function tI(a,b){var c=b.ia();return a.HA("brands/"+(c?encodeURIComponent(c):"~"),b)}
function uI(a,b){var c=b.ia(),d=b.va();return a.HA("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),b)};function vI(){this.content=null}vI.prototype=new Dk;vI.prototype.getContent=function(){return this.content};function wI(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function xI(){}f=xI.prototype;f.yi=function(a){this.brand=a;return this};f.ia=function(){return this.brand||null};f.Nt=function(a){this.user=a;return this};
f.va=function(){return this.user||null};f.Bk=function(a){this.folder=a;return this};f.uc=function(){return this.folder};function yI(a,b){a.filter=b;return a}f.fM=function(){return this.filter};f.zi=function(a){this.continuation=a;return this};f.Fb=function(){return this.continuation||null};f.sg=function(a){this.limit=a;return this};f.Cd=function(){return this.limit};f.cM=function(){return this.decorations};function zI(){this.items=[];this.folders=this.continuation=null}zI.prototype.yf=function(){return this.items};
zI.prototype.Fb=function(){return this.continuation};zI.prototype.Ap=function(){return this.folders};function sI(a){if(!a)return null;a=$.extend(new zI,a);a.items&&(a.items=a.items.map(sk));a.folders&&(a.folders=a.folders.map(bk));return a};function AI(a,b){this.Ua=a;this.J=b}AI.prototype.rb=function(){var a=this.Ua.getName(),b=this.Ua.ie();if(a)return a;if(b){if("LOGOS"===b)return this.J.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===b)return this.J.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.Ua===ik?this.J.format("objectPanelUploadsPanelUploadsFolder"):this.Ua===jk?Td(this.J):this.J.format("objectPanelUploadsPanelUntitledFolder")};function lE(a){this.name=a||"Normal";this.Uf=this.vignette=this.lf=this.saturation=this.contrast=this.brightness=this.blur=0;this.xh=50}var BI=new lE,CI=new lE("halftone");
function DI(a){var b=a.match(/([a-z0-9]{2})/gi),c=new lE;if("halftone"===a)return CI;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.lf=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.Uf=parseInt(b[6],16)-100;c.xh=7<b.length?parseInt(b[7],16):BI.xh;return c}function EI(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function FI(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function GI(a,b){var c=_.findWhere(HI,{name:a.name});_.chain(c).keys().filter(EI).each(function(a){this.LH(a,FI(a,c[a],b))}.bind(a))}function II(a){var b=new lE;b.Ih(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}f=lE.prototype;
f.Ih=function(a){a&&(this.name=a.name||BI.name,this.blur=a.blur||BI.blur,this.brightness=a.brightness||BI.brightness,this.contrast=a.contrast||BI.contrast,this.saturation=a.saturation||BI.saturation,this.lf=a.tint||BI.lf,this.vignette=a.vignette||BI.vignette,this.Uf=a.xpro||BI.Uf,this.xh=_.isNumber(a.tintAmount)?a.tintAmount:BI.xh)};
function JI(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?BI:a;b=void 0===b?BI:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
f.LH=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.lf=b,!0;case "xpro":case "xprocess":return this.Uf=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.xh=b,!0;default:return!1}};
f.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.lf;case "xpro":case "xprocess":return this.Uf;case "vignette":return this.vignette;case "tintAmount":return this.xh;default:throw Error("unknown filter property name: "+a);}};f.ZM=function(){return null!==KI(this)};
f.serialize=function(){if(JI(this,BI))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.lf&&(a.tint=this.lf);this.vignette&&(a.vignette=this.vignette);this.Uf&&(a.xpro=this.Uf);_.isNumber(this.xh)&&(a.tintAmount=this.xh);return a};
function KI(a){var b=_.findWhere(HI,{name:a.name});if(null===b)return null;var c=LI(a,b);return null===c?null:_.all(b,function(a,e){return EI(e)?1>=Math.abs(this.getByName(e)-FI(e,b[e],c)):!0}.bind(a))?c:null}function LI(a,b){var c=0,d=null;_.each(b,function(a,b){EI(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
f.qa=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.lf+100,this.blur+100,this.vignette,this.Uf+100,this.xh].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function MI(a,b){a-=200/7;0>a&&(a=200+a);var c,d;a=360*a/200/360;c=1;d=.5;if(0==c)d=c=a=d;else{var e=.5>d?d*(1+c):d+c-d*c,g=2*d-e;d=Hn(g,e,a+1/3);c=Hn(g,e,a);a=Hn(g,e,a-1/3)}a=[Math.round(255*d),Math.round(255*c),Math.round(255*a)];return{color:{r:a[0],il:a[1],b:a[2]},Qo:7+.14*(b-50)}}
function NI(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),e=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-e[1]],[.75,.75-e[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);e=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-e[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function OI(a){this.filter=new lE;this.Tp=this.nP=this.zj=!1;this.JE={};this.f2="";this.Kc=a;this.uK="print"==$B?$C:Tg;this.EQ=null;this.pA=50}function WB(a,b){var c=new lE;b=new OI(b);a&&c.Ih(a);kE(b,c);return b}f=OI.prototype;f.ZM=function(){return this.filter.ZM()};f.ws=function(){return this.Tp};f.initialize=function(a){function b(){c.Tp=!0;a&&a()}var c=this;!MD(this.Kc)||this.Tp||JI(this.filter,BI)?b():bD(this,b)};function PI(a){a.Sh||(a.Sh=new QI(window,a.Kc,a.uK),a.Sh.update(!0))}
f.update=function(a,b){var c=this;if(this.zj)if(this.EQ=dD(this),this.trigger("change"),this.Kc.isEmpty())this.Sh&&(this.Sh.remove(),this.Sh=null),this.zj=!1,b&&b();else{this.Sh||(this.Sh=new QI(window,this.Kc,this.uK));var d=!!this.nP;RI(this.Sh.apply(this.filter),d).update(!!a,function(){c.zj=!1;b&&b()})}else b&&b()};function bD(a,b){a.zj=!0;a.nP=!0;a.up();a.update(!0,function(){a.nP=!1;a.tp();b&&b()})}
f.LH=function(a,b,c){"intensity"===a?(this.pA=b,GI(this.filter,b/50),this.zj=!0):this.zj=this.filter.LH(a,b);this.update(!1,c)};f.getByName=function(a){return"intensity"==a?this.pA:this.filter.getByName(a)};function kE(a,b){a.filter=b;a.pA=Math.round(50*KI(b))}function SI(a,b){a.filter=new lE;a.pA=50;b&&a.filter.Ih(b);bD(a,void 0)}function TI(a){a.filter=new lE;a.pA=50;a.zj=!0;bD(a,void 0)}function dD(a){return a.filter.serialize()}f.qa=function(){return this.filter.qa()};f.up=function(){};
f.tp=function(){if(this.Sh){var a=RI(this.Sh,!0);if(!a.rR)if(a.OC)UI(a);else if(a.canvas){var b=a.HI.clone(!0).off().removeAttr("crossorigin"),c=VI(a);c?(b.get(0).src=c,WI(a)):(c=a.canvas.toDataURL(),a.cache.add(XI(a),c),b.get(0).src=c);a.Pa.find("img,canvas").remove();a.Pa.append(b);a.HI=b;$("#limbo").append(a.canvas);a.Px=!1}}};f.Hc=function(){return this.Kc.Hc()};
f.$K=function(a,b,c){var d=new lE;a&&d.Ih(a);this.Kc.serialize().mediaId+this.Kc.serialize().mediaVersion!==this.f2&&(this.JE={});if(this.JE[d.name])c(this.JE[d.name]);else if(a=this.Hc()){var e=this,g=b?YC:this.uK,h=a[g];b=h.ma();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.j(),b=h.o();k.css("width",a).css("height",b);var a=new YB(e.Kc.serialize(),k),n=new QI(window,a,g);n.apply(d).$K().update(!0,function(){var a={src:YI(n),m$:ZI(n)};
e.JE[d.name]=a;c(a);n.remove();k&&k.remove()})});LC(MC,a,b)}};f.remove=function(){this.Sh&&this.Sh.remove();this.Sh=null};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;_.extend(OI.prototype,Backbone.Events);var HI=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function QI(a,b,c){this.Kc=b;this.fi=c;this.Pa=this.Kc.C();this.rR=this.Kc.$F;this.OC=$I;this.aN=this.KE=this.zj=this.locked=this.Px=!1;!this.OC&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(aJ=a,bJ=b,this.OC=$I=!0))}var aJ,bJ;QI.prototype.P2=function(){var a=0;return function(){a+=1;return a.toString()}}();var $I=!1;QI.prototype.$K=function(){this.KE=!0;return this};QI.prototype.apply=function(a){this.values=new lE;this.values.Ih(II(a).serialize());return this};
function RI(a,b){a.Px=b;return a}QI.prototype.update=function(a,b){this.aN||!a&&this.locked||(this.rR?this.g$(b):this.OC?cJ(this,b):dJ(this,a,b))};function UI(a){function b(){this.Px=!1;c.Pa.find("img,canvas").remove();c.Pa.append(d);c.HI=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.HI.clone(!0).off().removeAttr("crossorigin"),e=VI(a);e?(d.get(0).src=e,b(),WI(a)):cJ(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(XI(c),a);b()})}}
function eJ(a,b){a=a.Kc.Wm().scale(W).round();$(b).css(KC(a,0))}
(function(){function a(a,c,d,e){aD(MC,a.Hc()[d].ma()).then(function(g){var h=$("\x3cdiv\x3e").append(g);g=new YB(a.serialize(),h);h.appendTo("#limbo");var k=new QI(window,g,d);k.values=b(c);k.update(!0,function(){var a=YI(k);h.remove();e(a)})})}function b(a){a=DI(a.qa());a.saturation/=.8;0!==a.lf&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,lf:k,blur:p,vignette:h,Uf:e},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=c.Wm().scale(2);g.setAttribute("id",b);"print"===$B&&g.setAttribute("filterRes",c.j()+" "+c.o());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function e(a){if(0===a)return[];a=g(NI(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=fJ({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var e=Math.min(1,R.gy);c.setAttribute("offset",(1<R.gy?R.eJ/R.gy:R.eJ).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",e.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===
a)return[];a=MI(a+100,b.getByName("tintAmount"));var c={r:a.color.r/255,g:a.color.il/255,b:a.color.b/255},d=a.Qo/100*2,e=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=c[a]*d;b.setAttribute("type","linear");b.setAttribute("slope",1-d);b.setAttribute("intercept",a);e.appendChild(b)});e.classList.add("tint");
return[e]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function p(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var q=0;QI.prototype.g$=function(b){var e="_CANVA_FILTER_"+q++;gJ(this);if(!this.values||JI(this.values,BI))b&&b();else{this.yz=c(this.Pa.get(0));var g=d(this.values,e,this.Kc);this.yz.appendChild(g);var g=this.yz.querySelector(".vignette"),
h=this.Pa.get(0).querySelector(".vignette"),k=e+"_VIGNETTE";g?(this.yz.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.Pa.find("image.placeholder").get(0);Mz?a(this.Kc,this.values,this.fi,function(a){a&&LC(MC,$(l),a);b&&b()}):(l.setAttribute("filter","url(#"+e+")"),b&&b())}}})();function XI(a){var b,c=a.Kc.serialize();a.zh&&a.values&&a.Kc&&(b=a.values.qa()+c.mediaId+c.mediaVersion+a.zh.width+a.zh.height);return b}
function hJ(a){var b=XI(a);return a.Px&&!!b&&!!a.cache.fetch(b)}function VI(a){return hJ(a)?a.cache.fetch(XI(a)):void 0}
function cJ(a,b){function c(){d.zh.width=e;d.zh.height=g;d.canvas||(d.canvas=d.KE?bJ:aJ,d.Pa.append(d.canvas),eJ(d,d.canvas),d.WG=d.canvas.texture(d.zh),d.canvas.draw(d.WG,e,g),$("#limbo").append(d.zh));if(d.canvas.width!==e||d.canvas.height!==g)d.canvas.width=e,d.canvas.height=g;eJ(d,d.canvas);d.canvas.draw(d.WG,e,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.lf){var a=MI(d.values.lf+100,d.values.xh);
d.canvas.colorize(a.color.r,a.color.il,a.color.b,a.Qo/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.Uf&&(a=NI(d.values.Uf),d.canvas.curves(a.red,a.green,a.blue));WI(d);d.values.name===CI.name&&d.canvas.colorHalftone(e/2,g/2,.45,e/100)}d.canvas.update();b&&b();d.KE=!1;d.locked=!1;d.zj=!1}var d=a,e,g;if(hJ(a))b&&b();else if(a=a.Kc.Hc())a=a[d.fi],e=a.j(),g=a.o(),d.yV=a.ma(),d.Px=!1,d.locked=!0,iJ(d,c)}
function dJ(a,b,c){function d(){h.zh.width=k;h.zh.height=l;if(h.Jh){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;e()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.eT="camanCanvas"+h.P2(),h.canvas.id=h.eT,h.canvas.width=k,h.canvas.height=l,eJ(h,h.canvas),h.Pa.append(h.canvas),h.w0=h.canvas.getContext("2d"),h.w0.drawImage(h.zh,0,0,k,l),h.Jh=Caman("#"+h.eT,e),$("#limbo").append(h.zh)}function e(){eJ(h,h.canvas);
h.Jh.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.Jh.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.Jh.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.Jh.greyscale():h.Jh.saturation(h.values.saturation));var a=MI(h.values.lf+100,h.values.xh);h.values.lf&&h.Jh.colorize(a.color.r,a.color.il,a.color.b,2.5*a.Qo);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.Jh.stackBlur(h.values.blur):h.Jh.sharpen(-1*
h.values.blur||0));if(h.values.Uf){var b=NI(h.values.Uf),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.Jh.curves("r",a[0],a[1],a[2],a[3]);h.Jh.curves("g",d[0],d[1],d[2],d[3]);h.Jh.curves("b",b[0],b[1],b[2],b[3])}WI(h)}h.Jh.render(function(){c&&c();h.KE=!1;window.setTimeout(function(){h.locked=!1},1E3);h.zj=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if(hJ(a))c&&c();else if(a=a.Kc.Hc())a=a[h.fi],k=a.j(),l=a.o(),h.yV=a.ma(),
h.Px=!1,h.locked=!0,iJ(h,d)}else c&&c()}function WI(a){var b=a.Pa.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.Pa.prepend(b));a.values.vignette?(a=ZI(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function iJ(a,b){function c(a){if(d.Ns&&0<d.Ns.length&&d.Ns.get(0).src){d.zh=new Image;var c=$(d.zh);c.css("visibility","hidden");LC(MC,c,a).then(function(){window.setTimeout(function(){d.aN||(d.Ns.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});eJ(d,d.zh);d.Pa.append(c)}else window.setTimeout(function(){iJ(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.Pa),d.Pa.find("img").remove()),b()):(d.Ns=d.Pa.find("img"),d.HI=d.Ns,c(d.yV))}
function ZI(a){return"circle farthest-side at center center, rgba(0,0,0,0) "+100*R.eJ+"%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" "+100*R.gy+"%"}function YI(a){var b=$("\x3cimg /\x3e");a.OC?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
QI.prototype.remove=function(){this.aN=!0;this.rR?gJ(this):($(this.zh).remove(),this.Ns&&this.Ns.remove(),this.Pa.find(".vignette").remove(),this.WG&&this.WG.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function gJ(a){a.Pa.find("image.placeholder").removeAttr("filter");a.Pa.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.yz).remove();a.yz=null}function jJ(){this.cache={}}
jJ.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};jJ.prototype.fetch=function(a){return this.cache[a]};QI.prototype.cache=new jJ;var kJ=FONT_DATA;R.aS&&kJ.forEach(function(a){a.fonts.forEach(function(a){a.displayNameThumbnail=a.displayNameThumbnail2x;a.sampleTextThumbnail=a.sampleTextThumbnail2x})});function lJ(a,b,c){var d=$("\x3cdiv\x3e");d.css("font-family",a+", zerowidthfallbackfont").css("font-size","20px").css("font-weight",b||"400").css("font-style",c||"normal").css("font-synthesis","none").css("position","absolute").css("white-space","pre").html("A1  ");$("#limbo").append(d);a=d.get(0).offsetWidth;d.remove();return 0===a};function mJ(a,b){this.fonts=a;this.ac=b.ac;this.EI=b.EI;this.LL=b.LL;this.ML={};this.Bz=[];this.PL=[];this.Vu=[];this.NL=[];this.lF=[];this.fI=Date.now();this.fP=[];this.PC=[];this.locale=b.locale;this.KX=null;this.KU=!!b.KU;this.G=b.G}mJ.prototype.off=Backbone.Events.off;mJ.prototype.on=Backbone.Events.on;mJ.prototype.once=Backbone.Events.once;mJ.prototype.trigger=Backbone.Events.trigger;
var nJ="hairline thin light regular medium bold black heavy".split(" "),oJ=new Set(nJ),pJ=new Map(nJ.map(function(a,b){return[a,b]})),qJ=new Set(["en"]);function rJ(a){return a.PC.filter(function(a){return 0>this.fP.indexOf(a)},a)}
function sJ(){var a=Jb;a.KX||(a.KX=new P(function(a,c){var d=YE((new XE).Mt(!0).Kt(!1).Nt("*").Fo(),["FONT"]).sg(25);xE(this.ac,d,function(d,g){200===d&&g?(d=g.media,d=tJ(this,d),d.forEach(function(a){0<=uJ(this).indexOf(a)&&(this.PC.unshift(a),this.PC=this.PC.slice(0,25))},this),vJ(this,d.map(function(a){return a.internalName})),a()):c()}.bind(this))}.bind(a)))}
function yA(a,b){if(b=b&&b.replace?b.replace(/#/gi,"_"):null)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.name==b||g.family==b)return g.generic=d.generic,g}return null}function pA(a){a=yA(Jb,a);return!(!a||!0!==a.charWrappingForbidden)}
function wJ(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.media&&g.media.id===b.id&&g.media.version===b.version)return g.generic=d.generic,g}return null}function CA(a){if((a=yA(Jb,a))&&a.media)return new en({id:a.media.id,version:a.media.version})}function DA(a,b,c,d){var e=[],g=[];b&&e.push(b);c&&g.push(c);tD(a,e,g,d)}function xJ(a,b){vJ(Jb,[a],b)}
function xH(a,b){return(b=yA(a,b))?void 0===b.url&&!1===b.generateStyles||0<=a.Vu.indexOf(b.family):!1}function yJ(a,b,c){a.PL=a.PL.concat(b);a.lF.push({Xe:b,callback:c||$.noop})}function zJ(a){function b(a){var b=!0;0!==a.Xe.filter(function(a){var d=xH(c,a);a=0<=c.NL.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.WT||(a.WT=!0,a.callback(b),c.trigger("update"))}var c=a;a.G.setTimeout(function(){c.lF.forEach(b);c.lF=c.lF.filter(function(a){return!a.WT})},0)}
function AJ(a,b){a.Vu=a.Vu.filter(function(c){return(c=yA(a,c))&&0>b.indexOf(c.family)});b.forEach(function(b){var d=yA(a,b);d&&-1===a.NL.indexOf(d.family)&&a.NL.push(d.family);a.trigger("fontLoadFailed",b)});zJ(a)}
function BJ(a,b,c){c=c||0;var d=b.filter(function(b){var c=yA(a,b);if(c){b=c.family;var d=c.variants.bold,e=c.variants.italic,g=c.variants.boldItalic;Fa(!!(0<$("#limbo").length),"Font measurement requires #limbo");Fa(!!(0<$("#zeroWidthFallbackFont").length),"Font measurement requires #zeroWidthFallbackFont");lJ("zerowidthfallbackfont")?(c=!lJ(b),d=!d||!lJ(b,"700"),e=!e||!lJ(b,"400","italic"),b=!g||!lJ(b,"italic","700"),b=c&&d&&e&&b):b=!1}else b=!1;return b}),e=b.filter(function(a){return-1===d.indexOf(a)});
if(0<e.length)if(6>=c){var g=c+1;a.G.setTimeout(function(){BJ(a,e,g)},200*Math.pow(2,c))}else CJ(a,e);$.browser.safari?a.G.setTimeout(function(){CJ(a,d)},2E3):CJ(a,d)}function CJ(a,b){b.forEach(function(b){b=yA(a,b);-1===a.Vu.indexOf(b.family)&&a.Vu.push(b.family)});zJ(a)}
mJ.prototype.generateStyles=function(a){function b(a,b,c,k){k=k.woff?"src: url('"+k.woff+"') format('woff'); ":k.ttf?"src: url('"+k.ttf+"') format('truetype'); ":k.otf?"src: url('"+k.otf+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.fI);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.fI+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();
a.generateStyles&&(b(a.family,"normal","400",a.styles.regular),a.variants.bold?b(a.family,"normal","700",a.styles.bold):b(a.family,"normal","700",a.styles.regular),a.variants.italic?b(a.family,"italic","400",a.styles.italic):b(a.family,"italic","400",a.styles.regular),a.variants.boldItalic?b(a.family,"italic","700",a.styles.boldItalic):a.variants.bold?b(a.family,"italic","700",a.styles.bold):a.variants.italic?b(a.family,"italic","700",a.styles.italic):b(a.family,"italic","700",a.styles.regular))};
function tD(a,b,c,d){b&&0<b.length?c&&0<c.length?DJ(a,b,function(b){b?vJ(a,c,d):a.G.setTimeout(function(){d&&d(!1)},0)}):DJ(a,b,d):c&&0<c.length?vJ(a,c,d):a.G.setTimeout(function(){d&&d(!0)},0)}function EJ(a,b,c){var d=[],e=[];b.forEach(function(a){var b=a.font;a=b.family;(b=b.Mb())?d.push(b):a&&e.push(a)});tD(a,d,e,c)}
function YD(a,b,c){function d(a){if(a){var b=m.LL.Hc(a.id,a.version);if(b)l.push(h(FJ(m,a,b)));else throw Error("Media "+a.id+","+a.version+" missing from media map.");}}function e(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.u()+","+a.Ja().getVersion();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=tJ(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.ML[a.u()+","+a.getVersion()]}var l=[],m=
a,n=new Set,p=b.filter(function(a){return!wJ(m,a)}).filter(function(a){return!!a});p.forEach(function(a){n.add(a.id+","+a.version)});if(a.ac){var q=p.filter(k);if(0!==q.length){b=cF(new bF,q).Fo().j_().d_();var u=EE(a.ac,b);q.forEach(function(a){m.ML[a.u()+","+a.getVersion()]=u})}a=p.map(function(a){return m.ML[a.u()+","+a.getVersion()]});P.all(a).then(e).catch(g)}else a.LL&&b.forEach(d),a.G.setTimeout(function(){c(!0,l)},0)}
function DJ(a,b,c){YD(a,b,function(b,e){b?vJ(a,e,c):c&&a.G.setTimeout(function(){c(!1)},0)})}function GJ(a,b){function c(a){return a&&(a=(a.Sba|a.aba+a.Lba)/40,1<a)?Math.round(a*d-d):0}a=a.KU?15E3:6E4;var d=a/30;return b.reduce(function(a,b){b.styles&&(a+=c(b.styles.regular),a+=c(b.styles.bold),a+=c(b.styles.italic),a+=c(b.styles.boldItalic));return Math.ceil(a)},a)}
function vJ(a,b,c){function d(a,b,c){h.EI.load({custom:{families:a,urls:b},active:function(){BJ(h,c)},inactive:function(){AJ(h,c)},timeout:u})}function e(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,e){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[e]})}});return d}function g(a){return yA(h,a)}var h=a,k=[],l=[],m={},n=_.uniq(b).filter(function(a){return null!==g(a)}),p=n.filter(function(a){var b=0<=h.Vu.indexOf(a);a=yA(h,a);a=void 0===a.url&&!1===a.generateStyles;return!(b||a)}),q=p.filter(function(a){return 0>h.PL.indexOf(a)}),q=_.uniq(q.map(g)),u=GJ(a,q);0===p.length&&c?h.G.setTimeout(function(){c(!0)},0):(yJ(h,n,c),zJ(h),q.forEach(function(a){var b;b=["n4"];a.variants&&(a.variants.italic&&b.push("i4"),a.variants.bold&&b.push("n7"),
a.variants.boldItalic&&b.push("i7"));b.sort();if(b=(b=a.variants&&(a.variants.italic||a.variants.bold||a.variants.boldItalic)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);a.testString&&(m[b]=a.testString);!0===a.generateStyles?h.generateStyles(a):a.url&&l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.fI);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.fI+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.variants&&(!1===a.variants.italic&&
b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.variants.bold&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.variants.boldItalic&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)));h.trigger("fontLoadStart",a.family)}}),0<q.length&&
a.EI.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=e(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):BJ(h,b)},inactive:function(){d(k,l,b)},timeout:u}))}function uJ(a){return PB(a).filter(function(a){return!a.disabled}).sort(a.TJ)}
mJ.prototype.TJ=function(a,b){a=w(a.family||a.displayName);var c=w(b.family||b.displayName);if(!a.includes(" ")||!c.includes(" "))return a.localeCompare(c);b=a.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");a=c.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");var c=b.split(/\s+/gi),d=a.split(/\s+/gi),e=c.pop(),g=d.pop();return c.join("")===d.join("")&&oJ.has(e)&&oJ.has(g)?Math.sign(pJ.get(e)-pJ.get(g)):b.localeCompare(a)};
function PB(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.sort(a.TJ)}function iA(a){var b=PB(Jb).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function tJ(a,b){return b.map(function(a){var b,e=new en({id:a.u(),version:a.Ja().getVersion()});if(HJ(this,e))return wJ(this,e);b=a.Ja();var g=a.u();a=b.sb()||a.importFilename.replace(/\..*$/,"")||g;var h=b.pc()[Tg].ma(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);h=b.pc()[YC];b=IJ({displayName:a,fontFamily:g+"_"+b.getVersion(),displayNameThumbnail:{url:h.ma(),width:h.j(),height:h.o()},ba:g,ca:b.getVersion(),IZ:k,iX:l,k_:m});this.Bz.push(e);JJ(this,b);return b},a)}
function FJ(a,b,c){if(HJ(a,b)&&wJ(a,b))b=w(wJ(a,b)),JJ(a,b);else{a.Bz.push(b);var d=c[Tg].ma(),e,g,h;/\.ttf/gi.test(d)?e=d:/\.otf/gi.test(d)?g=d:/\.woff/gi.test(d)&&(h=d);c=c[YC];b=IJ({displayName:b.id,fontFamily:b.id+"_"+b.version,displayNameThumbnail:{url:c.ma(),width:c.j(),height:c.o()},ba:b.id,ca:b.version,IZ:e,iX:g,k_:h})}JJ(a,b);return b}
function JJ(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.category})[0];return!!c})()?c.fonts.push(b):a.fonts.push({category:"Media",generic:"sans-serif",fonts:[b]})}function HJ(a,b){for(var c=0;c!==a.Bz.length;c++)if(a.Bz[c].id===b.id&&a.Bz[c].version===b.version)return!0;return!1}
function IJ(a){return{family:a.fontFamily,internalName:a.fontFamily,displayName:a.displayName,disabled:!1,generateStyles:!0,displayNameThumbnail:a.displayNameThumbnail,displayNameThumbnail2x:a.displayNameThumbnail,media:{id:a.ba,version:a.ca},styles:{regular:{otf:a.iX,ttf:a.IZ,woff:a.k_,psName:a.fontFamily}},url:"#",variants:{italic:!1,bold:!1,boldItalic:!1}}};function KJ(a){this.id=a.id;this.version=a.version}KJ.prototype.u=function(){return this.id};KJ.prototype.getVersion=function(){return this.version};function LJ(a){this.document=a.document;this.locale=a.locale}LJ.prototype.getDocument=function(){return this.document};LJ.prototype.bg=function(){return this.locale};function MJ(){}function NJ(){return new MJ};function OJ(){this.N=Gb}function PJ(a,b,c,d,e,g){a.N.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,function(a){e&&e(a)})}function QJ(a,b){wj(a.N,"/import/elementgroup/"+encodeURIComponent(b.document.id)+"/"+encodeURIComponent(String(b.document.version)),b).catch(xj).get(0).then(La).then(NJ)}function RJ(a,b,c,d){return wj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?upload",{url:d})}
function SJ(a,b,c,d){return yj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?form\x26signatureV4\x26mimeType\x3d"+encodeURIComponent(d)).spread(TJ)}function UJ(a,b,c,d){return wj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return Kj(a.media)})}function VJ(){this.prices={}}function WJ(a,b,c){a.prices[b]=c;return a}var XJ=WJ(new VJ,"ONE_USE",0),YJ=WJ(WJ(WJ(new VJ,"ONE_USE",1),"ROYALTY_FREE",10),"EXTENDED",100);
function ZJ(){this.licensing=this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}ZJ.prototype.MR=function(a){this.licenseModel=a;return this};ZJ.prototype.NR=function(a){this.licensing=a;return this};function $J(a,b){a.publicifyMediaRequests.push(b)}function aK(){var a=(new ZJ).MR(XJ).NR("FREE");a.autoPublicify=!0;return a}ZJ.prototype.GI=function(a){this.locale=a;return this};
function bK(){this.licensing=this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}function cK(a){var b=new bK;b.media=a;return b}f=bK.prototype;f.Ck=function(a){this.version=a;return this};function dK(a,b){a.title=b;return a}f.c_=function(a){this.description=a;return this};f.FI=function(a){this.keywords=a;return this};f.MR=function(a){this.licenseModel=a;return this};f.NR=function(a){this.licensing=a;return this};function eK(){}
eK.prototype.g_=function(a){this.importVersion=a;return this};function fK(a){this.reset();this.i=a}fK.prototype.reset=function(){this.previous=null;this.pr=[];this.Tk={top:0,left:0}};fK.prototype.CB=function(){var a=this;gK();a.pr.forEach(function(b){b={elementIndex:b.K(),pageIndex:jp(J,b.R()),"new":{left:b.F(),top:b.w()},old:{left:b.F()-a.Tk.left,top:b.w()-a.Tk.top}};M.register(new Y(kp,b))});hK()};
fK.prototype.iG=function(){var a=this;return function(b){a.pr=J.Va();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".toolbar__item--submenuExpanded .menuList").length||"block"===$("#overlays #marquee").css("display")||b.metaKey||b.ctrlKey)return!0;if(0<a.pr.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.Tk.left-=1/W*1*d,a.pr.forEach(function(a){lC(a,1/W*1*d)}),iK(yc(a.i),Ac(a.i)),!1;
case 38:return a.previous=38,a.Tk.top-=1/W*1*d,a.pr.forEach(function(a){mC(a,1/W*1*d)}),iK(yc(a.i),Ac(a.i)),!1;case 39:return a.previous=39,a.Tk.left+=1/W*1*d,a.pr.forEach(function(a){nC(a,1/W*1*d)}),iK(yc(a.i),Ac(a.i)),!1;case 40:return a.previous=40,a.Tk.top+=1/W*1*d,a.pr.forEach(function(a){oC(a,1/W*1*d)}),iK(yc(a.i),Ac(a.i)),!1}}null!==a.previous&&a.CB();a.reset();return!0}};fK.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.CB(),a.reset())}};function Gz(a){$(document).keydown(jK);a=new fK(a);$(document).keydown(a.iG());$(document).keyup(a.save())}
function jK(a){var b;if($("body").hasClass("fullscreenMode"))return!1;if(27===a.which){a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;var c=J.Va();0<$("*:focus").length?$("*:focus").blur():0<$(".modalContentMask").length?(a=$(".modalContentMask:last"),(c=a.next().children(".dialog").data("Canva_Views_Dialog"))?c.cancel():a.trigger("click")):$(".toolbar__item--submenuExpanded").length?T.trigger("hideContextualControlsRequested"):1===c.length&&c[0]instanceof gC&&
c[0].Xc?(c[0].Xc instanceof Rp&&cB(c[0].Xc.C()),c[0].Mi()):0<a?ph():$(".infoPanel .close").click();return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;if(16===a.which){var d=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",d))};(c=J.Va()[0])&&0===Zz(c.C())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");
$(document).on("keyup",d)}var c=document.querySelector(".element.text.selected"),e=document.querySelector(".element.text.focused"),g=e,h=document.activeElement,k=h?h.nodeName.toLowerCase():"";if("input"===k||"textarea"===k)g=!0;k=J.Va()[0];if(g&&9===a.which&&0===$(h).parents(".tableView").length)return kK(),!1;if(J.ja().some(function(a){return a.qg}))return!0;if(k&&a.altKey&&(a.ctrlKey||a.metaKey)){if(67===a.which)return po(bc,k.clone()),!1;if(86===a.which)return lK(k),!1}if(k&&k.Th&&g&&a.shiftKey&&
a.altKey){if(66===a.which)return mK(k),!1;if(187===a.which||171===a.which)return nK(k,1),!1;if(189===a.which||173===a.which)return nK(k,-1),!1}if(k&&k.bA()&&a.shiftKey&&a.altKey){if(187===a.which||171===a.which)return oK(k,1),!1;if(189===a.which||173===a.which)return oK(k,-1),!1}if(c&&13===a.which&&(a.ctrlKey||a.metaKey))return e?cB($(c)):pK($(c)),!1;if(g&&k&&k.nZ()&&a.altKey){switch(a.which){case 37:return qK(k,-1),!1;case 39:return qK(k,1),!1;default:k.nr=void 0}if(a.shiftKey&&81===a.which)return qK(k,
0),!1}if(k&&k.kb()&&k.ke()&&!k.Af()&&!k.qV()&&(a.metaKey||a.ctrlKey)){if(74===a.which)return rK(k),!1;if(75===a.which){if(a.shiftKey||a.altKey)return sK(k),!1}else if(76===a.which){if(a.shiftKey||a.altKey)return tK(k),!1}else if(82===a.which){if(a.shiftKey||a.altKey)return uK(k),!1}else if(67===a.which&&(a.shiftKey||a.altKey))return vK(k),!1}if(g&&k&&k.RQ()&&(a.shiftKey||a.altKey)&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");$(".toolbar__button--uppercase").trigger("click");
break;case 76:$(".textToolbarLeft a").trigger("click");$(".toolbar__button--left").trigger("mouseup");break;case 82:$(".textToolbarRight a").trigger("click");$(".toolbar__button--right").trigger("mouseup");break;case 67:$(".textToolbarCenter a").trigger("click");$(".toolbar__button--center").trigger("mouseup");break;case 84:wK(k);break;case 77:xK(k);break;case 66:yK(k)}return!1}if(a.metaKey||a.ctrlKey){if(90===a.which)return a.shiftKey?zK():AK(),!1;if(89===a.which){if(a.shiftKey)return!0;zK();return!1}}if(!g){if(a.metaKey||
a.ctrlKey)switch(a.which){case 67:if(a.shiftKey)return!0;BK();return!1;case 86:if(a.shiftKey)return!0;CK();return!1;case 68:if(a.shiftKey)return!0;BK();CK();return!1;case 71:return a.shiftKey?DK():EK(),!1;case 65:return ph(),a.shiftKey||FK(J.Ba().ja()),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case 46:return $(".enabled \x3e .toolbar__button--imageDelete").length?$(".toolbar__button--imageDelete").trigger("click"):
$(".enabled \x3e .toolbar__button--elementDelete").length?$(".toolbar__button--elementDelete").trigger("click"):$(".toolbar__button--delete").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return GK(),!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return HK(1),!1;if(219===a.which)return HK(-1),!1}switch(a.which){case 221:case 38:if(eq())return $(".elementToolbarForward a").click(),$(".toolbar__button--forward").trigger("mouseup"),
!1;break;case 219:case 40:if(eq())return $(".elementToolbarBackward a").click(),$(".toolbar__button--back").trigger("mouseup"),!1;break;case 187:case 61:return $(".zoomer__in").click(),!1;case 189:case 173:return $(".zoomer__out").click(),!1;case 83:return T.trigger("documentSaveRequested"),!1}if(59===a.which||186===a.which)return Rb().toggle(),!1}if(Ib.H.get(mg)&&a.altKey)switch(a.which){case 112:var l=prompt("Select which type of chart to create:\n0 \x3d Bar chart\n1 \x3d Pie chart\n2 \x3d Line chart\n3 \x3d Donut chart",
"0"),l=DH[Object.keys(DH)[+l]],m=BH(l);m.$k(J.Ba());FH(m,function(){Jg(m);bm(l)});return!1}return!0};function IK(){}
IK.prototype.search=function(a,b,c){return new P(function(d,e){function g(){d(JK({results:[]}))}function h(){pI(b,c).then(k).catch(g)}function k(a){var b=[];a.forEach(function(a){var c=a.je(),d=a.Jj(),c={page:0,quality:"THUMBNAIL",height:c.o(),width:c.j(),url:c.ma()},d={page:0,quality:"SCREEN",height:d.o(),width:d.j(),url:d.ma()};b.push({id:a.u(),title:a.getName(),origin:Sg,files_:[c,d]})});d(JK({results:b}))}"facebook"==a.toLowerCase()?Eg&&mI(Eg).then(h).catch(function(){lI(Eg).then(h).catch(g)}):e(Error("Not handled"))})};function KK(a,b){this.N=a;this.K8=b||[];this.url="/search"}var LK=["DESIGN"],MK=[Ng,Pg],NK=["ELEMENT_GROUP"];
KK.prototype.lt=function(a){function b(a){var b="";0<a.length&&(b=a.map(function(a){return"\x26sort\x3d"+encodeURIComponent(a.Qu+":"+a.direction)}).join(""));return b}a.from||(a.Kg=null);a="/search?q\x3d"+encodeURIComponent(a.query)+(a.Uk?"\x26docId\x3d"+encodeURIComponent(a.Uk):"")+function(a,b,e,g){var h="",k=[],l=[],m=[];if(a){var n=[];a.forEach(function(a){a=a.toString().charAt(0);h+=a;n.push(a)});m.push("+type:("+n.join(" ")+")")}b&&Object.keys(b).forEach(function(a){k.push(""+a+":"+b[a]);m.push("+"+
a+":"+b[a])});e&&Object.keys(e).forEach(function(a){l.push(""+a+":"+e[a]);m.push("-"+a+":"+e[a])});g&&(m=m.concat(g));a="";h&&(a+="\x26types\x3d"+h);0<k.length&&(a+="\x26includes\x3d"+encodeURIComponent(k.join(",")));0<l.length&&(a+="\x26excludes\x3d"+encodeURIComponent(l.join(",")));0<m.length&&(a+="\x26fq\x3d"+encodeURIComponent(m.join(",")));return a}(a.An,a.tl,a.fl,a.filters)+(null!=a.Cx?"\x26suggest\x3d"+encodeURIComponent(String(a.Cx)):"")+(a.sort?b(a.sort):"")+(a.elevation?"\x26elevation\x3d"+
encodeURIComponent(a.elevation):"")+(a.QE?"\x26elevateIds\x3d"+encodeURIComponent(a.QE.join(",")):"")+(a.iz?"\x26elevatedOnly\x3dtrue":"")+(null!=a.limit?"\x26limit\x3d"+encodeURIComponent(String(a.limit)):"")+(null!=a.from?"\x26from\x3d"+encodeURIComponent(String(a.from)):"")+(a.zk?"\x26translatable\x3dtrue":"")+(a.Kg?"\x26rootSearchId\x3d"+encodeURIComponent(a.Kg):"")+(null!=a.jg?"\x26organic\x3d"+encodeURIComponent(String(a.jg)):"")+(null!=a.fh?"\x26freeOnly\x3d"+encodeURIComponent(String(a.fh)):
"")+(null!=a.aspectRatio?"\x26aspectRatio\x3d"+encodeURIComponent(String(a.aspectRatio)):"");return yj(this.N,a).get(0).then(JK)};function OK(a,b){return P.any(a.K8.map(function(a){return a.search(b.query,b.from,b.limit)})).catch(function(){return this.lt(b)}.bind(a)).cancellable()}function PK(a){var b=Sb;wj(b.N,b.url+"/click",{events:kb(QK,"events",a.events)}).return()};function RK(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.oneTimeUseDiscountable=!1;this.spritesheetMetadata=this.componentMedia=this.extendedPriceCents=this.royaltyFreePriceCents=this.oneTimeUseAggregatePriceCents=null;this.files_=[];this.designType=void 0;this.type=null;this.status=
JE;this.user=null;this.Yo=void 0}f=RK.prototype;f.cV=function(){return this.searchId};f.aV=function(){return this.rank};f.u=function(){return this.id};f.getVersion=function(){return this.version};f.Qd=function(){return this.origin};f.ia=function(){return this.brand};f.va=function(){return this.user};f.QU=function(){return this.artist};f.sb=function(){return this.title};f.wf=function(){return this.description};f.Hb=function(){return this.background};f.Rd=function(){return this.cutout};f.xA=function(){return this.repeating};
f.mc=function(){return this.recolorable};function SK(a){return a.oneTimeUsePriceCents}f.xv=function(){return this.oneTimeUseDiscountable};f.wF=function(){return this.oneTimeUseAggregatePriceCents};f.aM=function(){return this.componentMedia};f.rM=function(){return this.superKeywords};f.nl=function(){return this.keywords};f.pc=function(){return this.files_};f.ps=function(){return this.spritesheetMetadata};function TK(a){return a.type}
f.Hc=function(a){return this.pc().filter(function(b){return b.R()===(a||0)}).reduce(function(a,c){a[c.zF()]=c;return a},{})};f.ic=function(){return UK(this).length};function UK(a){var b=[];a.pc().forEach(function(a){a=a.R();-1===b.indexOf(a)&&b.push(a)});return b}function VK(a){return"DESIGN"==TK(a)&&1<a.ic()}f.getFile=function(a,b){return(b=this.Hc(b))?b[a]:void 0};
f.Jj=function(a){var b=this,c=this.getFile("ORIGINAL");c?b.Yo?a&&a(JSON.parse(JSON.stringify(b.Yo))):$.getJSON(c.ma(),function(c){b.Yo=c;a&&a(JSON.parse(JSON.stringify(b.Yo)))}):a&&a(JSON.parse(JSON.stringify(b.Yo)))};f.cn=function(){var a=this.getFile("THUMBNAIL_LARGE")||this.getFile(YC);return a?a.ma():null};
function Rg(a){if(!a)return null;a=$.extend(new RK,a);if(a.files_){var b;b=(b=a.files_)?b.map(fr):null;a.files_=b}Array.isArray(a.componentMedia)&&(a.componentMedia=a.componentMedia.map(La).map(fn));a.spritesheetMetadata&&(a.spritesheetMetadata=Xr(La(a.spritesheetMetadata)));return a}function WK(a,b){a.id=b.u();a.version=b.Ja().getVersion();a.origin="CANVA"}function XK(){this.end=this.start=0;this.replacement=this.original=""}XK.prototype.Jj=function(){return this.original};
function YK(a){return a?$.extend(new XK,a):null}function ZK(){this.overridden=!1;this.replacementQuery=this.originalQuery="";this.replacementHits=this.originalHits=0;this.tokenReplacements=null}function $K(a){return a.replacementQuery}function aL(){this.id="";this.totalHits=0;this.results=[];this.suggestion=null}aL.prototype.u=function(){return this.id};aL.prototype.Pz=function(){return this.results};
function JK(a){if(!a)return null;a=$.extend(new aL,a);a.results&&(a.results=a.results.map(Rg));if(a.suggestion){var b;(b=a.suggestion)?(b=$.extend(new ZK,b),b.tokenReplacements&&(b.tokenReplacements=b.tokenReplacements.map(YK))):b=null;a.suggestion=b}return a}function bL(a){this.events=a}function cL(a,b){return new bL([new dL({kt:a.cV(),ba:a.u(),$s:a.aV(),zd:0===SK(a),jg:!!b})])}function dL(a){this.kt=a.kt;this.ba=a.ba;this.$s=a.$s;this.zd=a.zd;this.jg=a.jg}
function QK(a){return{searchId:ib("searchId",a.kt),mediaId:ib("mediaId",a.ba),rank:db("rank",a.$s),free:hb("free",a.zd),organic:hb("organic",a.jg)}};function eL(a,b){switch(b){case "DESC":return"DESC";case "ASC":return"ASC";default:throw new TypeError('expected SortDirection for property "'+a+'", found: '+JSON.stringify(b));}}function fL(a){this.Qu=a.Qu;this.direction=a.direction}fL.prototype.getDirection=function(){return this.direction};function zh(a){return new fL({Qu:B("field",a),direction:Qa(eL,"direction",a)})}
function xh(a){this.Uk=a.Uk;this.query=a.query;this.An=a.An||[];this.tl=a.tl||new Map;this.fl=a.fl||new Map;this.filters=a.filters||[];this.elevation=a.elevation;this.QE=a.QE||[];this.iz=a.iz;this.sort=a.sort||[];this.UE=a.UE;this.Zq=a.Zq;this.limit=a.limit;this.zk=a.zk;this.locale=a.locale;this.Kg=a.Kg;this.jg=a.jg;this.fh=a.fh;this.aspectRatio=a.aspectRatio;this.uU=a.uU;this.LS=a.LS;this.OT=a.OT;this.bU=a.bU;this.category=a.category}xh.prototype.Dp=function(){return this.An};xh.prototype.Cd=function(){return this.limit};
xh.prototype.bg=function(){return this.locale};xh.prototype.gh=function(){return this.aspectRatio};function gL(a,b){this.cache=$.extend({},a,!0);this.ac=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=fr(c.cache[a][g][b])})})})}function Yg(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var e in d)a.cache[b][c][e]=fr(d[e])}gL.prototype.Hc=function(a,b){return hL(this,a,b)?this.cache[a][b]:null};
function hL(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function hq(a,b){return!!b&&hL(a,b.id,b.version)}function iL(a,b,c,d){function e(a){a&&a.media&&a.media.forEach(function(a){Yg(g,a.u(),a.Ja().getVersion(),a.Ja().pc())})}var g=a;0===b.length?d():(b=cF(new bF,b),c?dF(b):b.Fo(),EE(a.ac,b).then(e).catch($.noop).finally(d))}function jL(a,b,c){iL(a,b,!0,c)}
gL.prototype.getKeys=function(){var a=this,b=[];Object.keys(a.cache).forEach(function(c){Object.keys(a.cache[c]).forEach(function(a){b.push({id:c,version:Number(a)})})});return b};var kL={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function lL(){}lL.prototype.getKey=function(){return this.key};function TJ(a){return If(lL,a)};function mL(a,b,c){this.fileName=a;this.pU=b;this.s2=c}mL.prototype.getFileName=function(){return this.fileName};function nL(){}nL=Xy.extend();nL.prototype.initialize=function(a){this.ir=a.ir;this.mf=a.mf;Xy.prototype.initialize.call(this,{title:"Upload error",content:$(oL(this).toString())})};
function oL(a){var b=a.ir.pU,c=a.ir.getFileName()||"";switch(b){case 0:return a.mf.Qa("uploadErrorUnsupportedBrowserHtml");case 3:return a.mf.Qa("uploadErrorWorkerHtml");case 1:return a.mf.Qa("uploadErrorUnsupportedFileTypeHtml",c);case 2:return a.mf.Qa("uploadErrorFileTooLargeHtml",c);case 4:return a.mf.Qa("uploadErrorFileProcessingHtml",c);case 5:return a.mf.Qa("uploadErrorUnsupportedSvgContentHtml",c);case 6:return b=a.ir.s2,b=b instanceof WE?b.Ja().rejectionReason:void 0,b?a.mf.Qa("uploadErrorMediaImportWithReasonHtml",
c,b):a.mf.Qa("uploadErrorMediaImportHtml",c)}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}nL.Rv=null;nL.show=function(a,b){if(!nL.p$(a))return null;var c=new nL({ir:a,mf:b});c.on("hide",function(){nL.Rv===c&&(nL.Rv=null)});if(nL.Rv)nL.Rv.on("hide",function(){c.show()});else c.show();return nL.Rv=c};nL.p$=function(a){if(nL.Rv)switch(a.pU){case 1:case 2:case 4:case 5:case 6:return!1}return!0};function pL(a,b,c){this.Wf=!1;this.qb=b;this.media=null;this.Rn=0;this.yx=Date.now();this.B9=!!c;this.pg=a;this.ir=null}f=pL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Mb=function(){return this.media};f.cn=function(){return this.pg};f.start=function(a){this.Wf||this.media||(this.media=a,this.trigger("start",this))};f.update=function(a){this.Wf||(this.Rn=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
f.complete=function(){this.Wf||(this.Wf=!0,this.Rn=100,this.trigger("complete",this))};f.fail=function(a){this.Wf||(this.Wf=!0,this.media=null,this.ir=a,this.trigger("fail",this))};function qL(){this.sJ=!1;this.zL=this.Wf=0;this.id=void 0;this.xX=[];this.DQ=0}f=qL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Go=function(a){this.id=a;return this};f.u=function(){return this.id};f.xF=function(){return this.xX};
f.create=function(a,b,c,d){function e(){k.trigger("start",l)}function g(){l.off("start",e);l.off("complete",g);l.off("fail",h);k.Wf++;k.sJ&&k.Wf+k.DQ===k.zL&&k.complete()}function h(){k.fail(l.ir);g()}var k=this,l=new pL(a,c,d);l.on("start",e);l.on("complete",g);l.on("fail",h);this.xX.push(l);this.trigger("create");return l};f.init=function(a){a()};f.sync=function(){this.trigger("sync")};function rL(a){a.sJ=!0;a.zL++}f.Zq=function(){this.DQ++};
f.complete=function(){this.Wf=this.DQ=this.zL=0;this.sJ=!1;this.trigger("complete")};f.fail=function(a){this.trigger("fail",a)};function sL(){this.Tv={}}_.extend(sL.prototype,Backbone.Events);sL.prototype.off=Backbone.Events.on;sL.prototype.on=Backbone.Events.on;sL.prototype.trigger=Backbone.Events.trigger;sL.prototype.xF=function(a){return 0<=Object.keys(this.Tv).indexOf(a)?this.Tv[a].xF():[]};
function tL(a,b){a=Object.keys(a.Tv).map(a.xF,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.yx>=b});if(a.every(function(a){return a.Wf}))return 100;var c=a.reduce(function(a,b){return a+(b.Wf&&!b.media?100:b.Rn)},0);return Math.min(100*c/(100*a.length),99)};function uL(a){this.source=a.source;this.OG=a.OG||null;this.listener=a.progress}function vL(a,b,c,d,e,g,h,k){var l=!1,m=a.listener.create(d,e,g,h);wL(b,c,d,g,function(a,b){l||(l=!0,m.start(a));m.update(b)},k).then(function(){m.complete();a.OG&&a.OG(m.Mb())},function(a){m.fail(new mL(b.name||"Unnamed File",6,a))})}
function xL(a){var b=a.naturalWidth,c=a.naturalHeight,d=b,e=c,g=200/Math.max(b,c);1>g&&(d=Math.round(g*b),e=Math.round(g*c));g=document.createElement("canvas");g.width=d;g.height=e;var h=g.getContext("2d");h.drawImage(a,0,0,b,c,0,0,d,e);a=g.toDataURL();for(var d=h.getImageData(0,0,d,e),e=d.data,b=e.length,c=new on,k=0;k<b;k+=4)qn(c,e[k],e[k+1],e[k+2]),e[k]=e[k+1]=e[k+2]=c.Zu();h.putImageData(d,0,0);g=g.toDataURL();return{color:a,eV:g}}
function yL(a,b){zL(b).then(function(c){var d=xL(c);c={width:c.naturalWidth,height:c.naturalHeight};for(var e=window.atob(b.substr(22)),g=e.length,h=Math.ceil(g/1024),k=Array(h),l=0;l<h;++l){for(var m=1024*l,n=Math.min(m+1024,g),p=Array(n-m),q=0;m<n;++q,++m)p[q]=e[m].charCodeAt(0);k[l]=new Uint8Array(p)}e=new Blob(k,{type:"image/png"});e.name="generated_file_"+Date.now()+".png";e.type="image/png";e.constructor=File;vL(a,e,b,d.color,d.eV,c,!1)}).catch($.noop)}
uL.prototype.upload=function(a,b){var c=this;this.listener.init(function(){function d(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var g=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[kL[5],kL[6],kL[7],kL[8]].indexOf(c)?(g.width=k,g.height=h):(g.width=h,g.height=k);var l=g.getContext("2d");switch(c){case kL[2]:l.translate(h,0);l.scale(-1,1);break;case kL[3]:l.translate(h,k);l.rotate(Math.PI);break;case kL[4]:l.translate(0,k);l.scale(1,-1);break;case kL[5]:l.rotate(.5*
Math.PI);l.scale(1,-1);break;case kL[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case kL[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case kL[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=g.toDataURL("image/jpeg",.92);e(a,b)});d.attr("src",b)}function e(a,b){var c=b.slice(b.indexOf(",")+1),d=g(c);d.name=a;d.type="image/jpeg";var e=$("\x3cimg\x3e");e.attr("src",b);e.one("load",function(){k(d,e.get(0),b)})}function g(a){a=window.atob(a);for(var b=a.length,
c=Math.ceil(b/1024),d=Array(c),e=0;e<c;++e){for(var g=1024*e,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[e]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function h(a,b){var d=m[a];AL(d).then(function(a){k(d,a,b)}).catch(function(){c.listener.fail(new mL(a,4));c.listener.Zq();l()})}function k(a,d,e){var g=xL(d);vL(c,a,e,g.color,g.eV,{width:d.naturalWidth,height:d.naturalHeight},!1,b);window.setTimeout(l,600)}function l(){u++;u<q?p.postMessage({next:!0}):
c.listener.sync()}if(window.URL){for(var m={},n=[],p=new Worker(R.X_.upload),q=0,u=0,v=0;v<a.length;v++){var z=a[v],r=z.name,x=z.type,I=z.size;rL(c.listener);var E;a:{switch(x){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":E=!0;break a}E=!1}if(E)if(26214400<I)c.listener.fail(new mL(r,2)),c.listener.Zq();else{if("image/jpeg"===x||"image/png"===x)m[r]=z;n.push(z);q++}else c.listener.fail(new mL(r,1)),c.listener.Zq()}c.listener.sync();if(0===q)c.listener.complete();
else{p.onmessage=function(a){var g=JSON.parse(a.data);if("error"===g.status)c.listener.fail(new mL(g.fileName,4)),c.listener.Zq(),l();else if("exifRotated"===g.specialFile)d(g.fileName,g.imageData,g.orientation);else if("raw"===g.specialFile)e(g.fileName,g.imageData);else if(g.svgText)if(a=g.fileName,g=g.svgText,mB(g)){a=(new iB(g)).f_(a);a.source=wB(a.source);a.source=tB(a.source);a.source=vB(a.source);a.viewBox=uB(a.source);a.source=a.source.replace(/xmlns:xml=['"]http:\/\/www.w3.org\/XML\/1998\/namespace["']/g,
"");g=new Blob([a.source],{type:"image/svg+xml"});g.name=a.filename;g.constructor=File;var k="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(a.source)));vL(c,g,k,k,k,{width:a.viewBox[2],height:a.viewBox[3]},!0,b);window.setTimeout(l,600)}else c.listener.fail(new mL(a,5)),c.listener.Zq(),l();else h(g.fileName,g.imageData)};try{p.postMessage(n)}catch(L){c.listener.fail(new mL(null,3));c.listener.complete();return}U&&U.track("image_upload",{source:c.source,quantity:q})}}else c.listener.fail(new mL(null,
0)),c.listener.complete()})};function AL(a){return new P(function(b,c){if(BL){var d=window.URL.createObjectURL(a);zL(d).then(b,c).finally(function(){window.URL.revokeObjectURL(d)})}else{var e=new FileReader;e.onload=function(){zL(e.result).then(b,c)};e.onerror=c;e.readAsDataURL(a)}})}function zL(a){return new P(function(b,c){var d=new Image;d.onload=function(){b(d)};d.onerror=c;d.src=a})}var BL="IE"!==(new UAParser).getResult().browser.name;function CL(a){Ca(0<a);this.J3=a;this.queue=[];this.LM=0}CL.prototype.MP=function(a){var b=this;return(new P(function(a){b.queue.push(a);DL(b)})).cancellable().then(a).finally(function(){b.LM--;DL(b)})};function DL(a){if(!(a.LM>=a.J3)){var b=a.queue.shift();b&&(a.LM++,b())}};function EL(a,b,c,d,e,g,h,k){this.N=a;this.media=b;this.kc=c;this.af=d;this.Ox=e;this.u2=g;this.Fx={};this.JC=[];this.Es=h;this.Lh=k;this.LZ=[];this.BN=_.throttle(this.BN.bind(this),30,{leading:!1})}EL.prototype.Hc=function(a,b){return null==a||null==b?null:this.af.Hc(a,b)||this.Fx[a]||null};
function ZC(a,b,c){var d=Fb,e=d.Hc(a,b),g;return e&&(g=e[c])?g.watermarked?(new P(function(c){d.LZ.push({K3:new en({id:a,version:b}),resolve:c});d.BN()})).then(function(){var e=d.Hc(a,b);if(!e||!(g=e[c]))throw Error();return g}):P.resolve(g):P.reject()}EL.prototype.BN=function(){var a=this.LZ.splice(0),b=a.map(function(a){return a.K3});jL(this.af,b,function(){return a.forEach(function(a){return a.resolve()})})};
function FL(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.u();a=a.getVersion();if(this.Hc(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Wg(a,b){var c=b.u();a.Fx[c]||(b=b.Hc(),a.Fx[c]={SCREEN:fr(b[Tg]),THUMBNAIL:fr(b[YC])})}
function Lg(a,b,c){var d=b.Qd();if(d!==Sg&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var e,g=b.u(),h=GL(b,a.kc),d=(new ZE).Lt(h.filename).Mt(!0);a.JC.push(g);BE(a.media,d).then(function(b){var c=b.Ja();a.Fx[b.u()]=c&&c.pc();e=b;a:switch(h.origin){case Sg:case "GOOGLE":b=new HL(h.id,h.kc,b,h.BH);break a;default:throw Error(h.origin+" is unsupported");}return a.Ox.upload(b)}).then(function(){var b=(new gD).Ck(e.Ja().getVersion()).Ux(!0);return a.media.a_(e.u(),b)}).then(function(c){var d=
b.getVersion();WK(b,c);Yg(a.af,c.u(),c.Ja().getVersion(),c.Ja().pc());var d={mediaId:g,mediaVersion:d},e={mediaId:c.u(),mediaVersion:c.Ja().getVersion()};IL(d,e);fq(J).forEach(function(a){var b=a.Nb();b&&b.id===g&&a.Vl(c.u(),c.Ja().getVersion())});JL();return c}).catch(function(b){c.SC(a.af);JL();return Promise.reject(b)}).finally(a.gZ.bind(a,g))}
function wL(a,b,c,d,e,g){var h=Fb;function k(a){var e={};e[YC]=new RE({url:c,width:d.width,height:d.height});e[Tg]=new RE({url:b,width:d.width,height:d.height});q.Fx[a.u()]=e;return a}function l(a){var b=(new gD).Ck(a.Ja().getVersion()).Ux(!0);return q.media.a_(a.u(),b)}function m(a){Yg(q.af,a.u(),a.Ja().getVersion(),a.Ja().pc());JL();return P.resolve(a)}function n(a){return Promise.reject(a)}function p(b){b=new KL({file:a,jF:g,id:_.uniqueId("file_"),media:b,kc:q.kc,Es:q.Es,Lh:q.Lh});b.iP.push(e);
return q.Ox.upload(b)}var q=h,u=a.name.replace(/\$/g,"_"),v=_.uniqueId("file_"),z=$E((new ZE).Lt(u).Mt(!0).i_(!1),a.size);h.JC.push(v);return h.u2.MP(function(){return BE(q.media,z).then(k).then(p).then(l).then(m).catch(n).finally(q.gZ.bind(q,v))})}EL.prototype.gZ=function(a){a=this.JC.indexOf(a);-1!=a&&this.JC.splice(a,1)};function JL(){J.trigger("change")}
function LL(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&(hL(d.af,g,h)?0:g in d.Fx)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):c(d)&&b(d)})}function c(a){return a instanceof Object}var d=Fb;b(a)};function ML(a){this.id=a.id;this.origin=a.origin;this.BH=a.BH;this.dr=a.dr;this.filename=a.filename;this.kc=a.kc}
function GL(a,b){var c=a.Qd();switch(c){case Sg:var c=a.getFile(Tg).ma(),d=a.getFile(YC).ma(),e=c.match(/.*(\.\w+)/)[1],e=a.u()+e;return new ML({id:a.u(),origin:a.Qd(),BH:c,dr:d,filename:e,kc:b});case "GOOGLE":return c=a.getFile(Tg).ma(),d=a.getFile(YC).ma(),e=a.sb(),new ML({id:a.u(),origin:a.Qd(),BH:c,dr:d,filename:e,kc:b});default:throw Error('Cannot create temporary media for origin "'+c+'"');}};function NL(){this.queue=[];this.JB={};this.qR={};this.sK=null}NL.prototype.upload=function(a){function b(){var b=new P(function(b,d){b={request:a,resolve:b,reject:d};c.queue.push(b);d=a.u();var e=c.JB[d];e||(e=[]);e.push(b);c.JB[d]=e});OL(c);return b}var c=this,d=this.qR[a.u()];return d?P.resolve(d):P.resolve().then(b)};function OL(a){if(!a.sK&&0<a.queue.length){var b=a.queue.shift();a.sK=b;PL(a,b)}}
function PL(a,b){var c=b.request.u();QL(b.request).then(function(b){a.qR[c]=b}).then(function(){var b=a.JB[c],e=a.qR[c];if(!e)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(e)})}).catch(function(){var b=a.JB[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.JB[c]}).finally(a.d4.bind(a))}
function QL(a){return new P(function(b,c){function d(h){7>e&&h===RL?(e++,g*=1.6,P.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var e=0,g=500;a.send().then(b).catch(d)})}NL.prototype.d4=function(){this.sK=null;OL(this)};function SL(a,b){this.id=a;this.media=b;this.iP=[]}var RL=Error("Canva is too busy to process your upload at this time. Please try again later.");SL.prototype.u=function(){return this.id};SL.prototype.send=function(){return P.reject("Not implemented")};SL.prototype.dX=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.iP.length;b++)this.iP[b](this.media,a)}};function TL(a){a=function(a){var c=/^([^?]+)\?/.exec(a);return c?c[1]:a}(a);return _.find(UL,function(b,c){return a.slice(-c.length)===c})}var UL={".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".ttf":"application/x-font-truetype",".otf":"application/x-font-otf",".woff":"application/font-woff"};function KL(a){SL.call(this,a.id,a.media);this.file=a.file;this.jF=a.jF;this.kc=a.kc;this.h7=void 0;this.Lh=a.Lh;this.DM=a.Es.DM("canva.editor.uploadrate")}KL.prototype=Object.create(SL.prototype);KL.prototype.constructor=KL;
KL.prototype.send=P.method(function(){var a=this,b=a.file.type||TL(a.file.name),c=this.Lh.now();return SJ(this.kc,this.media.u(),this.media.Ja().getVersion(),b).then(function(c){var e=c.formFields||{};if(0<Object.keys(e).length)return c={file:a.file,url:c.postUrl,QL:e,progress:a.dX.bind(a)},VL(c);c={a0:c.awsAccessKeyId,file:a.file,N3:b,key:c.getKey(),B7:c.policy,progress:a.dX.bind(a),k9:c.signature,url:c.postUrl};return VL({file:c.file,url:c.url,QL:{key:c.key,AWSAccessKeyId:c.a0,policy:c.B7,signature:c.k9,
"Content-Type":c.N3||c.file.type},progress:c.progress,vV:c.vV})}).tap(function(){a.DM.update(a.file.size/(a.Lh.now()-c))}).then(function(c){c=(new eK).g_(c);c.mimeType=b;c.isPaid=!0===a.h7;a.jF&&(c.folderKey=a.jF);return UJ(a.kc,a.media.u(),a.media.Ja().getVersion(),c)}).catch(this.p8.bind(this))});
KL.prototype.p8=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function HL(a,b,c,d){SL.call(this,a,c);this.kc=b;this.url=d}HL.prototype=Object.create(SL.prototype);HL.prototype.constructor=HL;HL.prototype.send=P.method(function(){var a=this;return RJ(this.kc,this.media.u(),this.media.Ja().getVersion(),this.url).then(function(){return a.media}).catch(function(a){throw 429===a[1]?RL:Error();})});function Fz(a){function b(a,b,c){c||b.forEach(function(a){a.u&&a.getVersion&&a.pc&&("CANVA"==a.Qd()?Yg(vb,a.u(),a.getVersion(),a.Hc()):Wg(Fb,a))})}function c(){WL="FREE"===z.Ab.TB;XL(l,!0)}var d=$("#objectPanel"),e=new rh(window.viewConfig),g=Kx(),h=Ox(g),k=Nx(g).ia(),l=a.i,m=nm(),n=a.Xb,p=new Oj(Gb),q=new KK(Gb);EJ(Jb,function(){var a=(Nx(g).yp()||new ex({})).DC;return a&&a[0]?a[0].EC||[]:[]}(),function(){var a=new YL({model:J,Ii:Nx(g).yp(),i:l});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});
var u=null,v=wh(e);null!=v&&(u=ZL(v));new eM({Qb:k.xp(),rK:h.u(),iK:function(b){return new fM({J:kc(l),zu:b,Vc:a.Vc,hx:!Ib.Yy()})},bE:function(a,b){var c,d;-1<h.ns().indexOf("FUSION")?(c=Ou(window.cdocType).u(),d=!1):(c=void 0,d=!0);return new gM({el:a,L1:new hM({Ra:xb,gc:p,la:h.u(),ta:k.u(),Uu:b,Ur:d,AE:c}),tA:!!b,i:l})},hK:function(a){return new iM({el:a,i:l,eE:function(){return new jM(null!=u?new kM({VP:q,Zc:u}):new kM({VP:q,tc:J.ib(),query:e.rg.get("layoutQuery",null)}))}})},dK:function(a){return new lM({el:a,
i:l})},Ra:xb,gc:p,el:"#resultsLayout",G3:e.rg.get("magicTemplates",[]).map(mM),model:J,wba:Ib.H.get(Sf),xba:Ib.Yy(),i:l,wQ:!!Nx(g).getSubscription(),yQ:-1===["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(e.qh())});v=$(".searchAdvanced");if(1===v.length){var z=nM({Sl:Ed(l),HL:c,anchor:$("#search"),H:a.H,l:m,QD:function(){if(Ib.H.get(Dg)){var a=Lb;a.l.wa(rm());Oo(a,oM)}else a=Lb,a.l.wa(rm()),Oo(a,pM)}});v.append(z.view.$el);WL="FREE"===z.Ab.TB}var r=new qM({el:"#resultsSearch",i:l});r.on("results:didFetch",
b);r.on("searchFilterMediaType",function(){rM=r.Dp();XL(l,!0)});rM=r.Dp();v=new sM({el:"#resultsElements",i:l,e9:Ib.H.get(mg)});v.on("results:didFetch",b);v.on("folder:expand",function(a){m.track("folder_opened",{section:"editor",subsection:"object_panel",location:"elements_tab",type:a.replace(/\s/g,"_").toLowerCase()})});var v=new rI(Gb),x=new sL,I=new Fg({Eb:J,vd:K,af:vb,ac:Bb,gc:p,lI:Fb,Py:function(a,b){var c=kc(l);a=a.u();var d;0<=Object.keys(x.Tv).indexOf(a)?a=x.Tv[a]:(d=(new qL).Go(a),d.on("create",
x.trigger.bind(x,"create")),d.on("fail",x.trigger.bind(x,"fail")),a=x.Tv[a]=d);return new uL({source:b,J:c,progress:a})}}),E;a:{try{E=Nx(g).yp().xp().Dg;break a}catch(L){}E=void 0}E=new tM({Qb:E,Na:I,kz:Ib.H.get(Wf),dl:Ib.H.get(Uf),c2:new uM($(window)),gl:Eg,W:Ib,gc:p,xi:v,ac:Bb,i:l,X:Cb,Sf:x,la:h.u(),G:ol,Vc:a.Vc});E.render().getElement().replaceAll("#normalUploads");E.show();(new vM({root:$("#objectPanel menu .uploads"),Sf:x,mf:ld(l)})).start();wM(Nx(g).yp(),uc(l),m);xM(l);Pz();d.children("menu").find("a").on("click",
function(){yM.call(this,l)});(new mp("#objectPanel")).on("mousedown",".templateGallery a",zM).on("touchstart",".templateGallery a",zM);d.on("click",".backgroundGallery a",AM);(new mp("#objectPanel")).on("mousedown",".backgroundGallery *:not(.static) a",BM).on("touchstart",".backgroundGallery *:not(.static) a",BM);d.on("click",".backgroundGallery a",!1);d.on("click",".infoPanelGallery .info .moreInfo",function(){CM.call(this,l)});d.on("click",".infoPanelGallery .info .superKeyword",DM);if(Ib.H.get(Qf))d.on("click",
".searchSuggestion a",function(){var a=l,b=$(this).data("query");$("#search").val(b);EM=null;XL(a,!1)});(new mp("#objectPanel")).on("mousedown",".photoGallery:not(.gridGallery):not(.albumGallery) a",FM).on("touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",FM);d.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new mp("#objectPanel")).on("mousedown",".gridGallery a",GM).on("touchstart",".gridGallery a",GM);(new mp("#objectPanel")).on("mousedown",".chartGallery .chart a",
HM).on("touchstart",".chartGallery .chart a",HM).on("mousedown",".chartGallery :not(.chart) a",FM).on("touchstart",".chartGallery :not(.chart) a",FM);Eg&&Eg.init().then(function(a){mI(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll",IM);$("#search").on("focus",JM);$("#someoneElseEditing").find("a").on("click",KM);$("#inReview").find("a").on("click",LM);$("#touchDevice").find("a").on("click",MM);
d.find(".scrollPane").each(function(){(new co($(this))).render()});NM(d,a.mp,l);OM(n,PM,function(){var a=Td(kc(l)),a=d.find('[title\x3d"'+a+'"]'),b=d.find(".uploads");return b.is(".on")&&1===a.length?(a=a.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+15}):1===b.length?(a=b.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+Number(a.height)/2}):null})}
function NM(a,b,c){function d(b){var d=b.param;"folder"===b.action?e(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?yM.call(b,c):h())}function e(b){var d=$("#resultsElements").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .elements a").get(0);0<d.length?(yM.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},R.Aa.fk)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);XL(c)},R.Aa.fk)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
yM.call(a,c)}b?d(b):h()}
function wM(a,b,c){function d(){var a=e();if(a&&!a.equals(p.Ip())||null===a&&null!==p.Ip())p.off("preview",m.pw),p.off("confirm",m.confirm),p.dC(a),p.confirm(),p.on("preview",m.pw),p.on("confirm",m.confirm),m.reset()}function e(){if(FC(n)){var a=$p(n);if(0<a.length)return a[a.length-1].hh()}return null}function g(){fo(p);p.confirm()}function h(a){0===$(a.target).closest(".colorPicker, .colorPalette").length&&g()}var k=$("#resultsBackground"),l=k.find(".colorControls"),m=QM(),n=J.Ba();a=a&&a.Ey||[];
var p=new Xn({Fy:new Wy({jy:function(a){a.appendTo("#objectPanel")},Uz:function(){return $(document.body)},margin:R.VR,sC:Vy}),yl:b,Oi:qc(Kb),Kl:J,ku:a,QB:!1,Pb:e(),l:c,W:Ib,window:window});p.on("preview",m.pw);p.on("confirm",m.confirm);p.on("showColorPicker",function(){document.addEventListener("mousedown",h,!0);k.find(".layer").on("scroll",g)});p.on("hideColorPicker",function(){document.removeEventListener("mousedown",h,!0);k.find(".layer").off("scroll",g)});p.listenTo(J,"page:change:selected",
function(){g();p.stopListening(n);n=J.Ba();d();p.listenTo(n,"change:background",d)});p.listenTo(n,"change:background",d);p.listenTo(M,"beforeOperationStackPop",g);p.appendTo(l)}function JM(){var a=this;"resultsSearch"!==RM().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},R.Dc)}
function yM(a){function b(a,b,c,d,e,g){var h=$(a);a=h.find("\x3e .layer \x3e .inner \x3e .searchGroup").first();a.parent(".layer").find(".searchError").remove();SM(a);a.height(h.height());EM=new TM(c,b,d,null,null,null,!1,null,UM(h,h.height()),null,!1,!1,function(){VM(e)},!1,null);g&&(b=new TM(c,g,d,null,null,null,!1,null,UM(h,h.height()),null,!1,!1,function(){VM(e)},!1,null),b.QX=EM,EM.HH=b);a.data("search",EM);VM(e)}T.trigger("objectPanel:tabClicked");var c=$(this).parents("menu"),d=$("li",c),e=
$(this).parents("li"),g=d.index(c.find("li.on"))+1,h=e.index()+1,k=$("#objectPanel"),l="#"+k.find(".content \x3e .results").get(g-1).id,c="#"+k.find(".content \x3e .results").get(h-1).id,m=k.get(0).className,m=m.replace(/(^| )stage[^ ]+/g,"");k.get(0).className=m;k.addClass("stage"+h);d.removeClass("on");U&&e.get(0)&&Ul(U,e.get(0).className,"object_panel");e.addClass("on");d=RM();e.hasClass("search")&&$("#search").focus();g==h&&d.find(".layer").first().animate({scrollTop:0},R.Aa.Pq);e=$(l+" .layer");
WM(e);XM&&XM.cancel();XM=null;g=$(c);e=0===g.find(".gallery li:not(.static)").length;g=0<g.find(".searchLoader").length;e&&!g&&("#resultsLayout"==c?(c=$("#resultsLayout"),a=c.data("view"),c=UM(c,c.height()),a.Qh(c)):"#resultsText"==c?b(c,NK,"text",null,a,MK):"#resultsBackground"==c&&b(c,MK,"backgrounds",{background:"true"},a));(a=d.find(".layer").last().find(".searchGroup").last().data("search"))&&EM&&"facebook"!=EM.query.toLowerCase().trim()&&(EM=a);return!1}
function zM(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var c=Math.abs(a-m)>R.Ec,c=Math.abs(b-l)>R.Ec||c;null==k&&c&&(k=g.Oy(),$("#content").append(k),e.css("opacity",0),$("#search").blur(),YM(k,ZM(n)));null!=k&&(a=h.top+a-m,k.css("left",h.left+b-l).css("top",a));return!1}function c(){function a(){$(this).remove();e.css("opacity","")}$("#hotspots").remove();n.off("mousemove|touchmove",b).off("mouseup|touchend",
c);e.removeClass("pickedUp");null==k||k.hasClass("disappeared")||k.hasClass("placing")?(k&&k.remove(),e.animate({opacity:1},R.Aa.hL),d()):(h=e.offset(),k.addClass("returning"),k.one("transitionend",a).css("left",h.left).css("top",h.top))}function d(){var b=null!=k;if(!$(a.currentTarget).find(".multiPageDesignItem,.multiPageLayoutItem").length||b){var c;switch($(".layoutsControls .tabDropdown").attr("data-selected")){case $M:c=g.model instanceof vI?"canva_layout_grid":"canva_layout";break;case aN:c=
"brand_template";break;case bN:c="your_designs";break;default:c="design_folder"}var d=$(a.target).is(".componentItemLink"),e="function"===typeof g.model.wF&&0<g.model.wF();U&&U.track("layout_use",{media_id:g.model.u(),layout_source:c,component_page:d,interaction:b?"drag":"click",is_paid_layout:e?"yes":"no"});if(b=e&&Ib)b=Ib.H.get(yg);b&&(window.location.hash="#premiumLayoutHint",window.Appcues&&window.Appcues.page())}}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||a.which==
R.Eh||a.ctrlKey)return!0;tz();var e=$(this);e.addClass("pickedUp");var g=e.parents("li").data("view"),h=e.offset(),k=null,l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n=new mp($(document));n.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function QM(){function a(){b&&(hK(),b=!1);d=c=null}var b=!1,c,d,e;return{pw:function(a){ph();var h=J.Ba(),k=$p(h);e={index:0,color:a.qa()};b||(gK(),b=!0);c=k.filter(function(a){return a.$p()}).pop();k.forEach(function(a){a!==c&&(cN(a),a.remove())});c?(d||(h=c.ab()[0],d={index:0,color:h?h.qa():R.UI}),c.Yd(0,a)):(a={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:e.color},_.extend(a,h.pa().serialize()),a=Hg(a),a.appendTo(h),d=e,Jg(a),c=a)},confirm:function(){if(c&&c.R()){var b={elementIndex:c.K(),
pageIndex:c.R().K(),"new":e,old:d};M.register(new Y(dN,b));d=e}a()},reset:a}}function AM(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;ph();a=$(a.currentTarget).parents("li")[0];a=$(a);eN(a);a=a.data("result");PK(cL(a));cm("background_image",a.u(),null);return!1}
function BM(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==m&&(Math.abs(b-n)>=R.Ec||Math.abs(a-p)>R.Ec)){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.xA()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),r=parseInt(c.attr("width"),10),x=parseInt(c.attr("height"),10);r<x?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",e).append(c).css("left",
h.left).css("top",h.top).css("width",k).css("height",l).css("background-color",e.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();YM(m,ZM(q))}null!=m&&(a=h.top+a-p,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity",1)}$("#hotspots").remove();q.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")||m.hasClass("placing")?(m&&m.remove(),d.animate({opacity:1},
R.Aa.hL)):(h=d.offset(),m.addClass("returning"),m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(a.which==R.Eh||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var e=d.parents("li"),g=e.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=new mp($(document));q.on("mousemove|touchmove",
b).on("mouseup|touchend",c);return!1}
function eN(a){var b=J.Ba(),c=oh(K),d=$p(b);if(0<d.length){var e=d[d.length-1].C().clone();e.removeClass("appearing");fN(c,e);P.delay(R.Aa.h2*R.Xx).then(function(){e.remove()})}a=$("img",a);(a=Hg(gN(a)))&&a.FJ()&&(gK(),d.forEach(function(a){var c=a.K(),c={backgroundColor:a.hh(),elementIndex:c,oldElementIndex:c,pageIndex:jp(J,b)};fD(a);M.register(new Y(hN,c));cN(a);a.remove()}),d=b.pa(),c=a.pa(),Pm(c,d),a.md(c),b.addElement(a,!1,!0),Jg(a),d=a.K(),aq(a),d={backgroundColor:a.hh(),elementIndex:a.K(),
oldElementIndex:d,pageIndex:jp(J,b)},M.register(new Y(iN,d)),hK())}
function Pz(a,b){function c(a){var b,c,d=a.width(),l=parseFloat(a.find("a").css("margin-right"));b=a.data("layoutItem");c=a.data("designItem");var m=a.data("searchResult");if(b)c=b.getContent(),b=c.width,c=c.height;else{if(c)c=$q(c.draft.imageSets.thumbnail);else if(c=m.getFile("ORIGINAL"),!c)return d;b=c.j();c=c.o()}return 80>(d-l)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var d=a.filter(".gridGallery");a=a.not(d);
jN(d);a.each(function(){var a=$(this),d=a.children("li"),h=a.hasClass("backgroundGallery");if(!(0>=d.length||(a.removeClass("laidOut"),0>=a.width()))){b||d.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");d.css("width","").css("left","").css("top","");var k;k=a.hasClass("templateGallery")?c(d.first()):d.first().width();for(var l=parseInt($("a",this).css("margin-right"),10),m=parseInt($("a",this).css("margin-bottom"),10),n=Math.round(a.width()/k),p=a.data("columnData"),
q={m1:k,marginRight:l,marginBottom:m,ra:[]},u=p&&p.ra.length==n&&p.m1==k,v=0;v<n;v++)q.ra[v]={height:0,items:[],Bf:0},u&&(q.ra[v].Bf=p.ra[v].Bf);var z=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;z=$(this).data("originalTop")+(k-l)/b*a+m});null!=z&&u||d.removeData("modifiedTop");d.each(function(){for(var b=$(this),c=b.data("result"),d=0,g=q.ra[d].height,n=0;n<q.ra.length;n++)if(0==
q.ra[n].height){d=n;g=0;break}else q.ra[n].height<g&&(d=n,g=q.ra[n].height);var n=b.find("a"),p=b.find("img"),r,v;0<p.length?(r=parseInt(p.attr("width"),10)||p.get(0).naturalWidth,v=parseInt(p.attr("height"),10)||p.get(0).naturalHeight):v=r=k;var x=r>v,I=k-l,ia=I/r*v;p.css("height",ia);b.hasClass("grid")&&(ia=b.data("layoutItem").getContent(),ia=(k-l)*ia.height/ia.width,b.find("a").css("height",ia));b.data("originalTop",g).css("width",k).css("left",d*k);h&&(x&&(I=r/v*(k-m),p.css("width",I).css("height",
"")),"backgroundColorAlbum"===b.attr("id")?b.add(n).add(p).css("width","").css("height",""):(b.height(k),n.height(k-m),c&&!c.xA()&&(ia=x?0:(k-m-ia)/2,p.css("margin-left",(k-l-I)/2).css("margin-top",ia))),c&&(c.mc()&&(ia="#"+(R.O_[c.u()]||"888888"),b.data("color",ia),n.css("background-color",ia)),c.xA()&&b.addClass("patterned")),ia=k-m);c=d;b.hasClass("newSearch")?(d=0,null!=z&&g+ia+m>z&&(d=q.ra[c].Bf,0==d&&(d=kN(a.parents(".searchGroup")),d+=z-q.ra[c].height,q.ra[c].Bf=d),b.data("modifiedTop",g+d)),
b.css("top",g+d)):b.data("modifiedTop")?(c=b.data("columnIndex"),g=b.data("modifiedTop"),b.css("left",c*k).css("top",g).data("originalTop",g-q.ra[c].Bf)):u?(c=b.data("columnIndex"),b.css("left",c*k).css("top",q.ra[c].height).data("originalTop",q.ra[c].height)):b.css("top",g);q.ra[c].height+=ia+m;q.ra[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",q);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){d.filter(":not(.newSearch)").removeClass("doNotTransition")},
R.Aa.QA);var r=a.parent(".searchGroup"),n=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==r.get(0);Qz(r,!n);var x=r.height(),I=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=lN(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?mN(r):0,g=-1;a.children("li.newSearch").each(function(){var a=$(this),e=!1;(e=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<x)?window.setTimeout(function(){a.removeClass("newSearch")},++g*R.Aa.Xv*I):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
R.Dc)}})}
function jN(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),e=a.parents(".layer"),g=e.offset(),h=e.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});Qz(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},a*
R.Aa.Xv):b.removeClass("newSearch")})},R.Dc)})}function nN(a,b){var c=a.parents("li"),c=c.data("result");c||(c=a.parent().data("li"),c=c.data("result"));c.Jj(function(a){oN(a).then(function(){b(a.elements)})})}
function gN(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,e=parseInt(a.data("screen-width")||a.attr("width"),10),g=parseInt(a.data("screen-height")||a.attr("height"),10),h="image";a.hasClass("svg")?(h="svg",e*=K.lp,g*=K.lp):a.hasClass("graphic")&&(h="graphic");var k=c.ps();return{type:h,origin:c.Qd(),mediaId:c.u(),mediaVersion:c.getVersion(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):
!0,width:e,height:g,isDark:!!a.hasClass("dark"),isBackground:c.Hb()&&d,isCutout:c.Rd(),isRepeating:c.xA(),isRecolorable:c.mc(),backgroundColor:c.mc()?b.data("color"):void 0,spritesheetMetadata:k&&Ug(k)}}
function pN(a){var b=Zg(J.ib().qb),c=$("img",a);a=c.parents("li").data("result");if("ELEMENT_GROUP"===TK(a))qN(a,!0,null);else{var c=Hg(gN(c)),d=c.j(),e=c.o(),g=Math.min(d,b.j()*R.Fh),h=g/d*e;h>b.o()*R.Fh&&(h=b.o()*R.Fh,g=h/e*d);c.na(g);c.ea(h);EC(c);c.HB();b=J.Ba();c.$k(b);rN(c,a);c.Tj()&&sN(a,c);Jg(c)}}
function qN(a,b,c){function d(b,d,h,k){g=b.elements.filter(function(a){return"group"!==a.type}).map(function(a){delete a.elementIndex;delete a.groupIndex;"text"===a.type?(l++,a=new Rp(a,e)):a=Hg(a);var b=(new gn).translate(-1*d.F(),-1*d.w());a.transform(b);BF(d,a);return a});b=new V(0,0,d.j(),d.o());var m=R.Fh*h.j(),z=R.Fh*h.o(),m=new V(0,0,m,z),m=nh(b.clone(),m);m.j()<b.j()||m.o()<b.o()?d.setSize(m.j(),m.o(),!0):d.setSize(b.j(),b.o(),!0);k?d.$k(h):c&&(d.setPosition(c.x,c.y),h.addElement(d),TF(d,
h));Jg(d);U&&U.track("text_group_insert",{media_id:a.u()})}function e(){++k===l&&(h.Er(g[0]),b?h.setPosition((m.j()-h.j())/2,(m.o()-h.o())/2):c&&(h.setPosition(c.x,c.y),Kg(h)))}var g,h,k=0,l=0,m=J.Ba();a.Jj(function(c){if(c&&c.elements&&0<c.elements.length){var e=c.elements.filter(function(a){return"group"===a.type});h=new gC(e[0]);oN(c).then(function(){d(c,h,m,b);cm("text_group",a.u(),TK(a))})}})}
function oN(a){function b(a){a&&a.media&&a.media.forEach(function(a){a&&Yg(vb,a.u(),a.Ja().getVersion(),a.Ja().pc())})}a=function(a){function b(a){a.mediaId&&e.push(new en({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&e.push(fn(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(e=e.concat(a.htmlFontMedia.map(fn)))}var e=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return e}(a);return a.length?(a=cF((new bF).Fo(),a),
EE(Bb,a).then(b)):P.resolve()}function sN(a,b){"CANVA"!==a.Qd()&&Lg(Fb,a,b)}function tN(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();Pz(b)},500)}function Oz(){$(".infoPanel .close").click()}
function CM(a){function b(a){a=a.u();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return(new rh(window.viewConfig)).rg.get("magicTemplates",[]).map(mM).reduce(function(a,b){a[b.template]=uN(b);return a},{})}function d(){m.removeClass("transitioning")}var e=$(this).parents("a"),g=$("img",e),h=e.parents("li"),k=e.parents(".gallery"),l=e.parents(".layer"),m=e.parents(".searchGroup"),n=$(this).parents(".results"),p=vN(m),q=parseInt(m.css("margin-top"),10),u=1===$(this).parents("#resultsUpload").length,
v=1===$(this).parents("#resultsLayout").length,z=wN(m),r=0,x=m.prevAll(".searchGroup");x.each(function(){r=Math.max(r,wN($(this)));z+=r});v&&z>l.height()&&(l.find(".infoPanel").css("height","0"),x.find(".infoPanel").css("height","0"),l.scrollTop(l.scrollTop()-z));l.find(".infoPanel .close").click();e.addClass("infoOpen");var x=h.data("result"),I=h.data("designItem"),E=h.data("originalTop"),L=h.height(),G=E+L,p=p+G+mN(m),q=p-r+q;if(null!=x||null!=I){var O=(new xN({Qb:Nx(Kx()).ia().xp(),Ra:xb,QM:!!I,
bN:!!x,Uj:!(!x||!VK(x)),dN:!1===g.data("mediaApproved"),eN:u,As:I&&b(I),model:x||I,oO:tN.bind(null,h),i:a,W:Ib,aI:g.height()/g.width()})).render().$el;O.data("item",e);O.css("top",q).appendTo(m);e.data("infoPanel",O);var Q=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');Q.css("left",parseInt(h.css("left"),10)+parseInt(O.css("left"),10)+h.width()/2).css("top",q).appendTo(m);O.data("infoPanelPointer",Q);var N=O.height(),ea=O.outerHeight(!0);O.one("transitionend",d).css("height",0);P.delay(R.Dc).then(function(){O.addClass("on").css("height",
N);Q.addClass("on")});var da=yN(k,G),da=da.filter(function(a){return a!=h.get(0)}),sa=k.data("columnData");sa.ra.forEach(function(a){var b=null;a.items.filter(function(a){return-1<da.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");null===b&&(b=G+ea-d,a.Bf=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",sa.ra.indexOf(a))})});a=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");Qz(m,!a);v?setTimeout(function(){var a=h.parents(".scrollPane").get(0).getBoundingClientRect(),
b=h.get(0).getBoundingClientRect(),c=a.top>b.top,d=a.height>ea+b.height,e=0;a.height-b.bottom>ea?c&&(e=b.top-a.top-15):e=d?ea-(a.bottom-b.bottom):b.top-a.top-15;30>=e&&-30<=e&&(e=0);l.animate({scrollTop:l.scrollTop()+e},R.Aa.Pq)},300):(v=p+ea,n=lN(n),a=v-q<l.height(),v>n&&a?l.animate({scrollTop:l.scrollTop()+(v-n)},R.Aa.Pq):q<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-q)},R.Aa.Pq),m.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",m,wN(m)))}}
function DM(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),e=b.data("result");if(d&&e){var g=(e.rM()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return new SE("en",a.trim())});e=eF((new HE).Go(e.u()).Ck(e.getVersion()),g);FE(Bb,e,function(e){200==e&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),
a.attr("title","Add superKeyword '"+d+"'"),b.data("superKeywordAdd",!0)))})}}
function zN(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").ra.forEach(function(a){a.Bf=0});a.one("transitionend",function(){e&&(e.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var e=a.data("infoPanelPointer");e.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",d,0);return!1}
function FM(a){function b(a){function b(){r=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=gN(m);x=Hg(a);x.na(q);x.ea(u);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(x.C()),e;m.is(".svg")?e="svg":m.is(".graphic")&&(e="graphic");ia&&(c.addClass("elementGroupSearchResult"),nN(m,function(a){a=AF(a);var b=new V(0,0,a.j(),a.o()),d=R.Fh*L.j(),e=R.Fh*L.o(),d=new V(0,0,d,e),d=nh(b.clone(),d),e=b.j(),g=b.o();if(d.j()<b.j()||d.o()<b.o())e=d.j(),g=d.o();v=e*W;z=g*W;l=k/(v/z);a.setPosition(0,0);a.setSize(e,
g);a.tP=!1;a.bt=!1;c.empty().append(a.C());x=a}));e&&(r.addClass(e),c.addClass(e),a=Fb.Hc(a.mediaId,a.mediaVersion),x instanceof gC?x.ja().filter(function(a){return a instanceof hp})[0].Uq(a[YC].ma()):x.Uq(a[YC].ma()));r.append(c).css("left",h.left).css("top",h.top).css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").toggleClass("cutout",x.Rd()).data("li",g.parents("li")).data("canvaElement",x).data("isOrganicSearchResult",d);$("#content").append(r);g.css("visibility","hidden");
ia||!x.KD()&&!x.Rd()||qh(r,null,ZM(Oa));$("#search").blur()}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==r)if(ZM(Oa)){var e=Rn(Q,N,c,a);if(300<e||60>e)b();else return!0}else(Math.abs(c-Q)>R.Ec||Math.abs(a-N)>R.Ec)&&b();if(null!=r){var n=Math.min(1,Math.sqrt(Math.pow(c-Q,2)+Math.pow(a-N,2))/sa),e=Math.min(1,k/(v*(1-n))),p=Math.min(1,l/(z*(1-n)));if(c>Q){r.css("transform","scale("+e+", "+p+")");if(x.kb()){var sc=
OF(x);Hb||sc&&0!==sc.length&&(1!==sc.length||"#000000"!==sc[0])||(Hb=uh(R.fD));Hb&&(sc=J.Ba().Df()?Hb:uh(R.eD))&&x.dQ(Cn(Hb,sc,n))}x.Hy()&&(null===x.pm&&EC(x),GC(x,n),x.HB());n=Math.round(h.top+a-N-(p*z-l)*da);r.css("left",Math.round(h.left+c-Q-(e*v-k)*ea)).css("top",n)}else r.css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").css("left",h.left+c-Q).css("top",h.top+a-N);(c<E.left||c>E.left+I.outerWidth()||a<E.top||a>E.top+I.outerHeight())&&r&&!r.hasClass("disappeared")&&
!r.hasClass("placing")&&AN(G,r)?(null==ja&&(ja=new jh(r,O)),lh(ja,Ab,Da)):$("#overlays .align").removeClass("on")}return!1}function c(a){function e(){$(this).remove();g.css("visibility","visible")}function m(){g.css("opacity",0);window.setTimeout(function(){g.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},R.Dc)}function n(){var a;if(a=ia.xv())a=Ib.H.get(wg);a&&!Ib.H.get(tg)&&(Ib.H.get(Dg)?(a=Lb,a.l.wa(qm()),Oo(a,
BN)):(a=Lb,a.l.wa(qm()),Oo(a,Po)))}Oa.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==CN){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");ph();var p=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;var q=Math.abs(a-N)>R.Ec,q=Math.abs(p-Q)>R.Ec||q;$("#hotspots").remove();P.delay(R.Aa.w7).then(function(){g.removeClass("pickedUp")});var u=g.parents("li");if(u.data("result")){var ia=
u.data("result");if(null==r&&!q)return $("#search").blur(),pN(u),p=cL(ia,d),PK(p),n(),!1;null!=r&&null!=x&&((p<E.left||p>E.left+I.outerWidth()||a<E.top||a>E.top+I.outerHeight())&&r&&!r.hasClass("disappeared")&&AN(G,r)?(p=J.Ba(),"ELEMENT_GROUP"===TK(ia)?qN(ia,!1,{x:ja.F(),y:ja.w()}):(x.setPosition(ja.F(),ja.w()),x.na(ja.j()),x.ea(ja.o()),p&&x.appendTo(p),x.Tj()&&sN(ia,x),Jg(x),Kg(x)),m(),p=cL(ia,d),PK(p),rN(x,ia),n(),r.remove()):null==r||r.hasClass("disappeared")?null!=r&&r.hasClass("disappeared")&&
(m(),DN(r.data("placedInElement"))):(h=g.offset(),r.addClass("returning"),r.one("transitionend",e).css("left",h.left).css("top",h.top).css("transform","scale("+k/v+", "+l/z+")")))}}}if(a.which==R.Eh||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=1===$(this).parents("#resultsSearch").length,e=Zg(J.ib().qb),g=$(this);g.addClass("pickedUp");var h=g.offset(),k=g.width(),l=g.height(),m=$("img",g).first(),n=gN(m),p=n.width,
n=n.height,q=Math.min(p,e.j()*R.Fh),u=q/p*n;u>e.o()*R.Fh&&(u=e.o()*R.Fh,q=u/n*p);var v=q*W,z=u*W,r=null,x=null,I=$("#objectPanel"),E=I.offset(),L=J.Ba(),e=oh(K),G=e.$el,O=e.$el.find(".page__content").offset(),Q=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,ea=(Q-h.left)/k,da=(N-h.top)/l,sa=Math.abs(Q-(E.left+I.outerWidth())),Oa=new mp($(document)),ia=1===$(a.target).parents(".elementGroupSearchResult").length;Oa.on("mousemove|touchmove",
b).on("mouseup|touchend",c);var ja=null,Da=kh(),Ab={},Hb=null;return EN}
function HM(a){function b(a){function b(a){var c=$('\x3cdiv class\x3d"clone" style\x3d"pointer-events: none"\x3e\x3c/div\x3e'),d=a.offset(),e=a.width(),g=a.height();c.append(gH(m)).css("left",d.left).css("top",d.top).css("width",e).css("height",g).css("transform-origin","top left");$("#content").append(c);a.css("visibility","hidden");$("#search").blur();return c}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;
var d=c-G.x,g=a-G.y,n=Math.abs(d)>R.Ec||Math.abs(g)>R.Ec;if(!x)if(n)x=b(e);else if(ZM(ea))if(g=180*Math.atan2(g,d)/Math.PI,300<g||60>g)x=b(e);else return!0;if(x){d=ln(ln(d,0,d)/N);g=mn(1,z/k,d);n=mn(1,r/l,d);x.css("width",g*k+"px").css("height",n*l+"px").css("left",h.left+c-G.x-mn(0,(z-k)*O.x,d)).css("top",h.top+a-G.y-mn(0,(r-l)*O.y,d));g=x.find('[data-recolorable-lines\x3d"true"] \x3e line');if(g.length){var n=e.find('[data-recolorable-lines\x3d"true"] \x3e line').first().attr("stroke"),p=J.Ba().Df()?
R.fD:R.eD,d=Cn(Gn(n),Gn(p),d);g.attr("stroke",d.toString())}c>Q&&AN(E,x)?(da=da||new jh(x,L),lh(da,Oa,sa)):FN();d=$(".selectionBox");d.css("pointer-events","none");c=$(document.elementFromPoint(c,a));d.css("pointer-events","");c=c.is(".element.chart")?c:c.parents(".element.chart");$(".element.chart").not(c).removeClass("chartElement--droppable");c.length&&c.addClass("chartElement--droppable")}return!1}function c(a){function g(){$(this).remove();e.css("visibility","visible")}function p(){e.css("opacity",
0);P.delay(R.Dc).then(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")})}ea.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==CN){FN();ph();var q=d(a);a=Math.abs(q.x-G.x)>R.Ec||Math.abs(q.y-G.y)>R.Ec;var r=Hg(m);r.na(u);r.ea(v);if(!a&&!x)return $("#search").blur(),1===n.length&&n[0]instanceof cH?(a=n[0],q=a.serialize(),HH(a,r.serialize()),M.register(new Y(GN,{elementIndex:a.K(),pageIndex:a.R().K(),
"new":a.serialize(),old:q})),Kg(a),r=null):r&&(r.$k(I),rN(r),FH(r,function(){r&&(Jg(r),rN(r),U&&bm(m.chart.chartType))})),!1;x&&(a=q.x>Q&&AN(E,x),q=$(document.elementFromPoint(q.x,q.y)),q=q.is(".element.chart")?q:q.parents(".element.chart"),a&&r&&q.length?(a=q.data("canvaElement"),q.removeClass("chartElement--droppable"),a&&(q=a.serialize(),HH(a,r.serialize()),M.register(new Y(GN,{elementIndex:a.K(),pageIndex:a.R().K(),"new":a.serialize(),old:q})),Kg(a)),p(),x.remove(),r=null):a&&r?(r.setPosition(da.F(),
da.w()),r.appendTo(I),wH(r,function(){r&&(Jg(r),U&&bm(m.chart.chartType))}),Kg(r),p(),x.remove()):(x.addClass("returning"),x.one("transitionend",g).css("left",h.left).css("top",h.top).css("width",k).css("height",l)))}}function d(a){return{x:void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,y:void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY}}if(a.which==R.Eh||a.ctrlKey)return!0;var e=$(this),g=e.parents("li").data("chart-name"),h=e.offset(),k=e.width(),l=e.height(),m=JSON.parse(JSON.stringify(Wm[g])),
n=J.Va(),g=m.width,p=m.height,q=Zg(J.ib().qb),u=.75*q.j(),v=u/g*p;v>.75*q.o()&&(v=.75*q.o(),u=v/p*g);var z=u*W,r=v*W,x=null,I=J.Ba(),g=oh(K),E=g.$el,L=g.$el.find(".page__content").offset(),G=d(a),O={x:(G.x-h.left)/k,y:(G.y-h.top)/l},Q=document.getElementById("objectPanel").getBoundingClientRect().right,N=Math.abs(G.x-Q),ea=new mp($(document));ea.on("mousemove|touchmove",b).on("mouseup|touchend",c);var da=null,sa=kh(),Oa={};return EN}
function GM(a){function b(a){function b(){h=e.clone(!1);h.appendTo("#content").css("top",u).css("left",q).addClass("clone draggableGridItem dragging");e.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==h)if(ZM(ea)){var d=Rn(G,O,c,a);if(300<d||60>d)Q=!0,b();else return!0}else c-G>R.Ec&&(Q=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-G,2)+Math.pow(a-O,2))/N),a=c<=G?0:a,c=
2+(m-2)*a,d=z+(L-z)*a,h.css("width",v+(E-v)*a).css("height",d),d=u+(I-u)*a,h.css("left",q+(x-q)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){p.ja().forEach(function(a){if(a instanceof cC){for(var b=a.dg(),c,d=!0,e=0>=a.w()&&0>=a.F()&&0===a.Sa()&&a.j()>=p.j()&&a.o()>=p.o(),g=0;g!==b;g++)if(c=a.pl(g).mediaId){d=!1;break}d&&e&&(cN(a),a.remove())}})}function d(a){function g(a){function b(a){this==
a.target&&$(this).off("animationend",b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),e.css("visibility",""))}function k(){e.css("opacity",0);setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},R.Dc)}a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Q?a>=x?(gK(),n.md(r),c(),n.appendTo(p),Kg(n),Jg(n),hK(),k(),h.remove()):(h.addClass("returning").on("transitionend",
g),parseInt(h.css("left"),10)==Math.floor(q)&&parseInt(h.css("top"),10)==Math.floor(u)?h.trigger("transitionend"):h.css("left",q).css("top",u).css("width",v).css("height",z)):(gK(),n.md(r),c(),n.$k(p),rN(n),Jg(n),hK());ea.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(a.which==R.Eh||a.ctrlKey)return!0;$("#search").blur();ph();var e=$(a.currentTarget),g=e.offset(),h=null,k=e.parents("li").data("grid-name"),l=$.extend(!0,[],Vm[k].items),m=(Vm[k].spacing||R.dD)*W,n=new cC({items:l}),p=J.Ba(),
k=K.Ba(),l=$("#canvaDocument \x3e .inner").offset(),k=eh(k).translate(l.left,l.top),q=g.left,u=g.top,v=e.width(),z=e.height(),g=0<$p(p).filter(function(a){return!a.Eg()}).length,r=bn(p.j(),p.o(),n.he(),g),g=r.clone().scale(W).translate(k.F(),k.w()).round(),x=g.F(),I=g.w(),E=g.j(),L=g.o(),G=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,O=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,Q=!1,N=x-G,ea=new mp($(document));ea.on("mousemove|touchmove",b).on("mouseup|touchend",
d);return!1}function wN(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=Cl(c.ra.map(function(a){return a.Bf}));else return b;b=Cl(c.ra.map(function(a){return a.height}));c=Cl(c.ra.map(function(a){return 0==a.height?0:a.height+a.Bf}));return b=b!=c?c-b:kN(a)}function kN(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function Qz(a,b){if(0!=a.parents(".results.infinite").length){var c=a.parents(".results").first(),d=a.is(".inlineFolderGroup")||c.is("#resultsLayout"),e=d?a.find("p button")?a.find("p").height():0:vN(a),g=0;$(".gallery li",a).each(function(a,b){a=$(b);g=Math.max(g,a.data("originalTop")+a.height())});g+=e;a.data("contentHeight",g);e=wN(a);b||d?a.height(g+e):a.height(Math.max(g+e,c.height()))}}
function IM(){var a=$(this).parents(".results");clearTimeout(a.data("scrollTimer"));var b=setTimeout(function(){HN(a)},100);a.data("scrollTimer",b)}
function yN(a,b){var c=[];a=a.data("columnData");if(void 0===a)return c;a=a.ra;for(var d=0;d<a.length;d++){for(var e=a[d].items,g=0,h=!1,k=0;k<e.length;k++){var l=e[k],m=l.data("originalTop")||0,m=(l.data("modifiedTop")||m)-m;0==m||h||(g+=m,h=!0);g+=l.height();if(g>b)break}c=c.concat(e.slice(k))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function UM(a,b){var c;c=a.find(".layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;a=Math.floor(Math.abs(a.find(".layer").width())/c)||1;return Math.max(18,a*Math.max(Math.ceil(b/c),3))}
function HN(a){if(null!=EM&&!a.is(".modifying")){var b=a.find(".layer").last(),c=b.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",c).length||gh().read(function(d){var e=c.outerHeight()+c.offset().top-(a.offset().top+a.outerHeight());null!=EM&&EM.sq>=EM.limit&&e<=a.outerHeight()*R.bS&&d.write(function(){var c=b.find("\x3e .inner \x3e .searchGroup .gallery li").length;c>R.hD&&IN(b,c-R.hD);c=a.find(".searchLoaderHolder");SM(c);
c.addClass("on");EM.from+=EM.limit;EM.zY()})})}}
function IN(a,b){for(var c=a.parents(".results"),d=$(),e=$(),g=a.find("\x3e .inner \x3e .searchGroup").toArray(),h=0;h<g.length&&!(0>=b);h++){var k=$(g[h]),l=$(".gallery li",k);if(l.length<b)d=d.add(k),b-=l.length;else for(var k=b,m=0;m<k;m++)e=e.add(l[m]),b--}b=e.parents(".searchGroup").add(d);g=$(".infoPanel",b);0<g.length&&(b.addClass("doNotTransition"),g.addClass("doNotTransition"),$(".close",g).click(),g.data("infoPanelPointer").remove(),g.remove(),b.removeClass("doNotTransition"));c.addClass("modifying");
a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");b=a.scrollTop();var g=e.parents(".searchGroup"),n=0;0<g.length&&(h=g.outerHeight(!0),l=$(".gallery",g),l.removeData("columnData"),e.remove(),Pz(l),n+=h-g.outerHeight(!0));d.each(function(){n+=$(this).outerHeight(!0)});d.remove();g=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<g.length&&g.addClass("doNotTransition").css("top",parseInt(g.css("top"),10)-n).removeClass("doNotTransition");a.scrollTop(Math.max(0,b-n));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
c.removeClass("modifying")}function vN(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function JN(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return mN(a)+a.outerHeight(!0)}function mN(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function KN(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.ra.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.Bf=0))})})}}function lN(a){var b=a.find(".layer").last().scrollTop();a=a.height();return b+a}
function RM(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function LN(){window.location.reload();return!1}function MN(a,b){$("#savingErrorCode").text("");$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");NN();return!1}function KM(){return MN.call(this,0,"#someoneElseEditing")}function LM(){return MN.call(this,0,"#inReview")}function MM(){return MN.call(this,0,"#touchDevice")}
function ON(){$("#inReview").addClass("on");PN()}function QN(){$("#outOfSync").is(".on")||(RN(),PN(),$("#outOfSync").removeClass("off").addClass("on"),$("#outOfSync button").on("click",LN))}function SN(){$("#savingError").is(".on")||$("#outOfSync").is(".on")||($("#savingError").removeClass("off").addClass("on"),$("#savingError button").on("click",LN),Tb&&TN())}function RN(){$("#savingError").is(".on")&&($("#savingError").removeClass("on").addClass("off"),NN())}
function rN(a,b){var c="other";a instanceof cC?c="grid":a instanceof ZB?c="image":a instanceof hp&&(c="image:svg");U&&cm(c,b?b.u():null,b?TK(b):null)};function UN(){this.jd=[];this.yw=[];this.hn=[];this.rP=this.fR=!1}f=UN.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(UN.prototype,Backbone.Events);
UN.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.fR||this.rP)return!1;var b=a instanceof VN;0<this.hn.length?this.hn[this.hn.length-1].push(a):(this.jd.push(a),this.yw=[],!b&&J.trigger("change"));return!0};function WN(){var a=M;return a.jd.length?a.jd[a.jd.length-1]:null}function gK(){var a=M,b=new VN;a.register(b);a.hn.push(b)}
function hK(){var a=M;if(0==a.hn.length)throw Error("mismatched number of .endGrouping calls");var b=a.hn.pop();-1!==a.jd.indexOf(b)&&0===b.getLength()&&a.jd.splice(a.jd.indexOf(b),1);0==a.hn.length&&J.trigger("change")}
function IL(a,b){var c=M;function d(a){var b=[];a instanceof Y?b.push(a):a instanceof VN&&a.jd.forEach(function(a){b=b.concat(d(a))});return b}function e(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.jd.map(d).concat(c.yw.map(d));[].concat.apply([],c).forEach(function(c){switch(c.Ob){case XN:e(c.data["new"],a,b);e(c.data.old,a,b);break;case YN:case ZN:e(c.data,a,b)}})}
function $N(a){var b=[];if(a instanceof VN)a=a.jd,a.forEach(function(a){a=$N(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof Y&&a[1]instanceof Y&&a[0].Ob==YN&&a[1].Ob==XN&&(b=$N(a[0]));else if(a.Ob!=ZN&&(a instanceof Y||a instanceof aO)){var c=a.data.elementIndex;J.O[a.data.pageIndex].ja().forEach(function(a){a.K()==c&&b.push(a)})}return _.uniq(b)}function bO(){this.Ob=null;this.data={}}
bO.prototype.Sn=function(){throw Error("classes that inherit from Operation must implement .perform");};bO.prototype.invert=function(){throw Error("classes that inherit from Operation must implement .invert");};function cO(a){return $.extend(!0,{},a)}function VN(){this.jd=[]}VN.prototype=new bO;VN.prototype.Sn=function(){this.jd.forEach(function(a){a.Sn()})};VN.prototype.invert=function(){var a=new VN;this.jd.reverse();this.jd.forEach(function(b){a.push(b.invert())});this.jd.reverse();return a};
VN.prototype.push=function(a){this.jd.push(a)};VN.prototype.getLength=function(){return this.jd.length};var kp=1,ZN=2,YN=3,XN=5,iN=7,hN=8,dN=9,GN=16;function Y(a,b){this.Ob=a;this.data=b}Y.prototype=new bO;
Y.prototype.Sn=function(){lp();var a=J.O[this.data.pageIndex],b=a.ja().length,c;switch(this.Ob){case YN:c=Hg($.extend(!0,{},this.data));break;case 4:case iN:case hN:c=a.elements[this.data.oldElementIndex]||null;break;default:c=a.elements[this.data.elementIndex]||null}if(!c)throw Error("error performing operation on non-existent element");var d,e;switch(this.Ob){case kp:a=this.data["new"];null!=a.left&&c.hb(a.left);null!=a.top&&c.cb(a.top);null!=a.rotation&&c.Wl(a.rotation);null!=a.flipOrientation&&
c.pt(a.flipOrientation);null!=a.transparency&&c.Xl(a.transparency);null!=a.borderWidth&&cE(c,a.borderWidth);null!=a.spacing&&c.Wq(a.spacing);null!=a.padding&&c.aC(a.padding);null!=a.verticalAlignment&&(c.ue=a.verticalAligment);c.setSize(null==a.width?c.j():a.width,null==a.height?c.o():a.height,this.data.proportionalSetSize);null!=a.transformDependentData&&c.MY(a.transformDependentData);break;case 11:a=this.data["new"];d=c.zp(this.data.placeholderIndex);a.filter?JI(dD(d),a.filter)||SI(d,a.filter):
TI(d);break;case 10:a=this.data["new"];null!=a.link&&jC(c,a.link);break;case ZN:c.remove();break;case 4:d=this.data.elementIndex;this.data.oldElementIndex<d&&d++;b=a.ja().length;d=Math.max(Math.min(b,d),0);e=a.elements[d]||null;d==b?c.appendTo(a):e&&c.insertBefore(e);break;case YN:d=this.data.elementIndex;var g=this.data.groupElementIndex,h=this.data.groupIndex;e=$.extend(!0,{},this.data);delete e.groupIndex;delete e.groupElementIndex;c=Hg(e);if(!c)throw Error("bad element template while performing operation of type"+
this.Ob.toString());d=Math.max(Math.min(b,d),0);e=a.elements[d]||null;if(void 0!==g){var k=a.elements[g]||null;if(!k)throw Error("group could not be found for operation type "+this.Ob.toString());k.Bx();BF(k,c,h);c.vv()?(a=function m(a){a===c&&(k.Er(c),T.off("elementLoaded",m),T.off("elementLoadingError",m))},T.on("elementLoaded",a),T.on("elementLoadingError",a)):k.Er(c)}else d==b?c.appendTo(a):e&&c.insertBefore(e);break;case XN:c.Vq(this.data.placeholderIndex,this.data["new"]);break;case 6:a=c.Oz(this.data.placeholderIndex);
c.nt(a);a=this.data["new"];d=Gm(a.imageBox);e=Gm(a.placeholderBox);c instanceof ZB?a.cropped?(zl(c,e),c.Ul(d),c.Ir(),c.hb(a.left),c.cb(a.top)):(c.hb(a.left),c.cb(a.top),c.na(d.j()),c.ea(d.o()),zl(c,e),c.Ul(d),c.qI=!1,c.Ok=!1,c.C().find("img").css("transform","").css("width","").css("height","")):(c.Ul(d),c.Ir());break;case iN:aq(c);yC(a,c,this.data.elementIndex);this.data.backgroundColor&&c.Yd(0,this.data.backgroundColor);break;case hN:fD(c);yC(a,c,this.data.elementIndex);break;case dN:d=this.data["new"];
a=d.index;d.placementData?c.Vq(a,d.placementData):(d=uh(d.color),c.Yd(a,d));break;case 12:c.Wa[this.data.placeholderIndex].pt(this.data["new"].flipOrientation);break;case 13:b=this.data.childRange;g=this.data.elements;e=$.extend(!0,{},this.data);e.elements=[];d=this.data.elementIndex;c=new gC(e);yC(a,c,d);if(2===b.length)for(d=b[0],e=0;d<=b[1];d++,e++)if(h=a.elements[d]||null)h.setPosition(g[e].left,g[e].top),h.setSize(g[e].width,g[e].height),h.Xl(g[e].transparency),h.Wl(g[e].rotation),c.addElement(h),
c.C().find(".elements").append(h.C());break;case 14:dO(c);break;case 15:c.Fs(this.data["new"].data);c.render({WO:!0});break;case GN:HH(c,$.extend(!0,{},this.data["new"]));break;default:throw Error("cannot perform unknown operation type "+this.Ob.toString());}};
Y.prototype.invert=function(){function a(a){var b=a.elementIndex;a.elementIndex=a.oldElementIndex;a.oldElementIndex=b}var b=cO(this.data);switch(this.Ob){case kp:case 11:case 6:case XN:case dN:case 10:case 12:case 15:case GN:return b["new"]=this.data.old,b.old=this.data["new"],new Y(this.Ob,b);case YN:case ZN:return new Y(this.Ob==YN?ZN:YN,b);case 4:return a(b),new Y(this.Ob,b);case iN:return a(b),new Y(hN,b);case hN:return a(b),new Y(iN,b);case 13:return new Y(14,b);case 14:return new Y(13,b);default:throw Error("cannot invert unknown operation type "+
this.Ob.toString());}};function eO(a,b){this.Ob=a;this.data=b}eO.prototype=new bO;eO.prototype.Sn=function(){lp();var a=null;1==this.Ob?(a=$.extend(!0,{},this.data),a=new Op(J,a)):a=J.O[this.data.pageIndex];switch(this.Ob){case 5:a=J.O[this.data.oldPageIndex];case 1:bq(J,a,this.data.pageIndex);break;case 2:a.ja().forEach(function(a){fO(a)});dq(J,a);break;case 4:gO(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.Ob.toString());}};
eO.prototype.invert=function(){var a=cO(this.data);switch(this.Ob){case 1:case 2:return new eO(1==this.Ob?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new eO(this.Ob,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new eO(this.Ob,a);default:throw Error("cannot invert unknown operation type "+this.Ob.toString());}};function hO(a,b){return-1<[4,1].indexOf(a.Ob||-1)&&a.data.pageIndex===b}function aO(a,b){this.Ob=a;this.data=b}aO.prototype=new bO;
aO.prototype.Sn=function(){function a(){var a=b instanceof gC?b.ja()[c]:b;a&&(void 0!==d.height&&a.ea(),void 0!==d.width&&a.na(d.width))}var b=J.O[this.data.pageIndex].elements[this.data.elementIndex]||null;if(!b)throw Error("operation element index out of bounds "+this.data.elementIndex);switch(this.Ob){case 1:var c=this.data.textIndex,d=this.data["new"];b.nj(c,d,a);break;default:throw Error("cannot perform unknown operation type "+this.Ob.toString());}};
aO.prototype.invert=function(){var a=cO(this.data);switch(this.Ob){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new aO(this.Ob,a);default:throw Error("cannot invert unknown operation type "+this.Ob.toString());}};function lO(a,b){this.Ob=a;this.data=b}lO.prototype=new bO;
lO.prototype.Sn=function(){var a=this.data["new"],b,c;switch(this.Ob){case 1:b=a.doctypeSpec?Lp(a.doctypeSpec):null;c=Ou(a.docType);J.resize(c,b);break;case 2:b=a.doctypeSpec?Lp(a.doctypeSpec):null;c=Ou(a.docType);J.eR(a.model,c,b);break;default:throw Error("cannot perform unknown document operation type "+this.Ob.toString());}};
lO.prototype.invert=function(){var a=cO(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.Ob){case 1:return new lO(2,a);case 2:return new lO(1,a);default:throw Error("cannot invert unknown operation type "+this.Ob.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var e=b*Math.PI/180;b=Math.cos(e);e=Math.sin(e);return[b*a[0]-e*a[1],e*a[0]+b*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},O3:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.s0=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.XG=[c.start.x,c.start.y];this.YG=[c.end.x,c.end.y];var d=b.O3(this.YG,this.XG),e=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),e=b.rotate(e,c.start.angle);this.kX=b.add(this.XG,e);d=b.rotate(d,c.end.angle);this.lX=b.add(this.YG,d);this.A2=function(a){return a*a*a};this.B2=function(a){return 3*a*a*(1-a)};this.C2=function(a){return 3*a*(1-a)*(1-a)};this.D2=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.A2(a),c=this.B2(a),d=this.C2(a);a=this.D2(a);var e={};e.x=this.x=this.XG[0]*b+this.kX[0]*c+this.lX[0]*d+this.YG[0]*a+.5|0;e.y=this.y=this.XG[1]*b+this.kX[1]*c+this.lX[1]*
d+this.YG[1]*a+.5|0;e.left=e.x+"px";e.top=e.y+"px";return e}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.J7&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.hba-d.y,d.J7-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function Dp(a,b,c,d){this.X=a;this.SO=0;this.UQ=23;this.zJ="";a=this.i=c;a.sd||(a.sd=new ef(a.config));this.sd=a.sd;this.Vi=b;this.W=d}function mO(a){a.preventDefault();a.stopPropagation();return!1}var nO=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");a=_.extend({},new RK,{sb:function(){return""},
id:c,u:function(){return c},files:{bJ:{width:a[0],height:a[1],url:a[2]},ey:{width:a[0],height:a[1],url:a[2]}}});nO.push(a)});function oO(){return{SCREEN:{ma:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{ma:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}function pO(a,b,c){c(200,{Ja:function(){return{getVersion:function(){return 0},pc:function(){return oO()}}}});return new Ik}f=Dp.prototype;f.go=function(){qO(this)};
function rO(a,b,c,d){function e(){var c=g.shift();c===a.zJ&&(c="\x3cbr\x3e");h+=c;b(h);0<g.length?window.setTimeout(e,250+Math.floor(100*Math.random())):window.setTimeout(d,250);return!1}var g=c.split(""),h="";b("");e()}
function sO(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}f.oW=function(){var a=this;sO();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function tO(a){a.wT=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("click",function(){uO(a).then(function(){a.wT||vO(a)}.bind(a))})}
function uO(a){$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");var b=$("body \x3e .mask");b.addClass("off");$("video.for-onboarding").remove();a.Db.addClass("disappearing");return P.delay(500).then(function(){b.removeClass("fullscreenMessageMask off on white");a.Db.remove()})}
f.OY=function(){tO(this);var a=gf(this.sd);Hp()&&!this.t3&&wO()&&(a=this.sd.format("twentyThreeSecondOnboardingChooseText"));this.Db=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.UQ+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e'+this.sd.format("twentyThreeSecondOnboardingDescription")+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+
a+'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e'+hf(this.sd)+'\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e'+jf(this.sd)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e'+
this.sd.format("twentyThreeSecondOnboardingShowMeHowButtonText")+'\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');this.Db.appendTo("body");this.next()};
f.b_=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){a.wT=!0;var c=$(".onboarding-drag .icon"),d=c.clone(),e=$(".onboarding-show-me-how-button"),g=e.clone(),h=e.clone(),e=e.offset(),c=c.find("img").offset();d.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(c);g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);h.attr("id","onboarding-active-button-width").addClass("for-onboarding").appendTo("body");
d=a.UQ-1;$("#onboarding-23second-dialog .onboarding-time").text(d.toString());b.fadeOut(2E3);a.next()})};f.iY=function(){$("body").append(this.wJ);this.wJ.on("click",mO);var a=this.UQ-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};f.oU=function(){var a=J.Gb().length;ph();1===a&&J.Gb()[0].isEmpty()?(this.NY=!1,this.page=J.Gb()[0]):(this.NY=!0,a=new Op(J,J.Gg()),bq(J,a,0),this.page=a);this.next()};
f.FW=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),e=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").click();(function(){e.css({width:e.width(),height:"46px"});e.text("");P.delay(R.Aa.N1).then(function(){e.animate({width:xO(gf(b.sd)),"border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.animate({left:1*e.offset().left-15,top:1*e.offset().top-4},{duration:600,queue:!1,complete:a})})})()};
f.XV=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};f.V8=function(){$("#onboarding-active-button").text(gf(this.sd));this.next()};f.S8=function(){yO(hf(this.sd));this.next()};
f.T8=function(){this.lC||yO(this.sd.format("twentyThreeSecondOnboardingEditText"));this.next()};f.U8=function(){$("#onboarding-active-button").text("Choose");this.next()};function zO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function AO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function BO(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}f.NEXT="next";function CO(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function yO(a,b){var c=$("#onboarding-active-button");b=_.extend({width:xO(a)},b);c.text(a);c.animate(b,{duration:500,queue:!1})}
function xO(a){return $("#onboarding-active-button-width").text(a).width()}
function DO(a,b,c){var d=2/3,e=c.Xt||{x:0,y:0},g=c.callback||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+e.y,left:1*$(b).offset().left+1*$(b).width()/3+e.x};c&&c.jU&&"BR"===c.jU&&(l={top:1*$(b).offset().top+1*$(b).height()+e.y,left:1*$(b).offset().left+1*$(b).width()+e.x});b=CO(k,l);l=new $.path.s0({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.callback===a.NEXT&&(g=
function(){a.next(300)});c.GM&&window.setTimeout(function(){c.GM()},d*b);h.animate({path:l},b,g)}f.W3=function(){DO(this,"#search",{callback:this.NEXT})};f.Z0=function(){BO();$("#search").focus();this.next(600)};
f.I8=function(){function a(){var a=$("#resultsSearch"),a=$(".layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;WM(a);nO.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.bJ.url+'"data-screen-width\x3d"'+a.files.bJ.width+'"data-screen-height\x3d"'+a.files.bJ.height+'"src\x3d"'+a.files.ey.url+'"width\x3d"'+a.files.ey.width+'"height\x3d"'+a.files.ey.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');d.appendTo(c);
$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");Pz(c);Sb.lt=b.lt}var b=this,c=$("#search");this.lt=Sb.lt;Sb.lt=function(){return new P(function(){})};rO(this,function(a){c.val(a)},this.sd.format("twentyThreeSecondOnboardingSearchTerm"),function(){WM($("#resultsSearch .layer \x3e .inner \x3e .searchGroup"));XL(b.i,!0,a)})};
f.V3=function(){yO(hf(this.sd));DO(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{callback:this.NEXT})};f.ve=function(){this.next(600)};
f.b2=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=CO(b.offset(),c),e=Math.floor(.8*J.Ba().o())*W,g=Math.floor(.8025*e);zO();a.Vr=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.Vr.removeAttr("width");a.Vr.removeAttr("height");a.Vr.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.Vr);a.Vr.animate({height:e+"px",width:g+"px",left:(-180*
W-42)/2+"px",top:(-180*W-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};f.e2=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=Hg(gN(b)),c=Math.floor(.8*J.Ba().o());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(J.Ba());Jg(b);AO();a.Vr.fadeOut(200,function(){a.Vr.remove()});a.next(300)};f.M8=function(){var a;a=J.Ba().ja().filter(function(a){return a instanceof ZB})[0];Kg(a);this.next(200)};
f.q8=function(){function a(){AO();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=J.Ba(),e=800/642,g=$(".handle.br"),h=d.Va()[0],k=K.$el.offset(),l=eD(K,this.page).pa(),d=.78*d.j(),m=d*e,n={left:Math.floor(k.left+l.F()+d*W*.78),top:Math.floor(k.top+l.w()+m*W*.78)},p=h.j();h.o();DO(this,".selectionBox .handle.br",{Xt:{x:-20,y:-12},callback:function(){var b=c.offset();zO();g.addClass("on");P.delay(300).then(function(){c.animate(n,{duration:1E3,queue:!1,complete:a,
progress:function(){var a=(c.offset().left-b.left)/W+p,d=a*e;$(".selectionBox").css({height:d*W+"px",width:a*W+"px"});h.setSize(a,d)}})})}})};f.Y3=function(){var a=this;yO(this.sd.format("twentyThreeSecondOnboardingAddText"));DO(this,"#objectPanel \x3e menu li.text a",{callback:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};f.c1=function(){BO();$("#objectPanel \x3e menu li.text a").click().css("color","");this.next(200)};
f.T3=function(){var a=this;DO(this,"#objectPanel .textControls [data-style\x3dtitle]",{Xt:{x:0,y:16},callback:function(){a.next(300)}})};
f.G0=function(){function a(){var a=h.yb();h.sk(a,"Carter One")}function b(){T.off("elementLoaded:text",b);c()}function c(){ph();BO();a();h.appendTo(e);Jg(h);Kg(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,e=J.Ba(),g={width:e.j()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:function(a,b,c,d){var e=document.createElement("canvas").getContext("2d");if(null==e)return c;e.font=c*R.Ci*14/100+"px "+d;a=e.measureText(a).width;isFinite(b)&&0<b&&
(10<b-a||a>b)&&(c*=b/a);return Math.floor(c)}(kf(this.sd),380,120,"Carter One"),color:"#222",left:e.j()-400,top:Math.floor(.5*e.o()-112.5)};T.on("elementLoaded:text",b);var h=new Rp(g)};f.V9=function(){var a=this,b=J.Ba().Va()[0];b.C().trigger("click");rO(this,function(a){TB(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},kf(this.sd),function(){TB(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};
f.KW=function(){var a=jf(this.sd),b={left:-xO(a)-25,padding:"0 39px 0 17px"};$("#designToolsText a").css({color:"#fff"});yO(a,b);DO(this,".editorActionExport",{callback:this.NEXT,GM:function(){$(".editorActionExport").addClass("fakeHoverState")}})};f.pT=function(){BO();$(".editorActionExport").trigger("click");this.next(600)};
f.JW=function(){var a=this;yO(jf(this.sd),{left:"22px",padding:"0 20px 0 31px"});DO(this,".exportPopOver__downloadButton",{callback:function(){a.next(600)},GM:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportPopOver__downloadButton").addClass("fakeHoverState")}})};f.nT=function(){BO();var a=this;$(".exportPopOver__downloadButton").addClass("fakeActiveState");window.setTimeout(function(){$(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
f.YH=function(){var a=oh(K).$el.clone(),b=a.find(".page__content");a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");this.Db=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.Db.css({width:b.width()-4+"px",height:b.height()-4+"px"});this.Db.append(a);this.Db.appendTo("body");this.next()};
f.zU=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
f.SY=function(){var a=this,b=$(window).height()-a.Db.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e'+this.sd.format("twentyThreeSecondOnboardingNowText")+'\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e'+this.sd.format("twentyThreeSecondOnboardingYourTurnText")+"\x3c/span\x3e\x3c/div\x3e").appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
d.css({bottom:"-280px"});d.appendTo("body");d.animate({bottom:"0"},900,function(){var e=1*a.Db.css("margin-top").replace(/px/,"")-b;d.animate({bottom:e+"px"},{duration:1800,al:"easeOutQuint",queue:!1});a.Db.animate({"margin-top":b+"px"},{duration:1800,al:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function EO(){EM=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},R.Dc)}f.hY=function(){function a(){b.next()}var b=this;ph();!0===this.NY?(dq(J,this.page),a()):FO(b.page).then(a)};f.IP=function(){EO();this.next()};
f.mT=function(){this.wJ.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");ph();this.next()};
f.PX=function(){this.r0=Ub;this.w2=zb.$D;this.wJ=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.Ov=ub.Ov;zb.$D=function(){return P.resolve(new Wv({id:1,gB:null,status:"COMPLETE"}))};Ub=function(){};ub.close();ub.Ov=function(){};J.off("change");this.next()};f.e3=function(){this.p_=Bb.Mb;Bb.Mb=pO;Yg(vb,"M-YUM-LION",0,oO());this.next()};f.u8=function(){Bb.Mb=this.p_;this.next()};function vO(a){Ub=a.r0;zb.$D=a.w2;ub.Ov=a.Ov;GO(window.csession,window.cdoc);J.on("change",Vb)}
f.rY=function(){$(".page.selected").removeClass("invisible-text");vO(this);this.next()};f.D7=function(){$("#resultsLayout").data("view").qY();this.next()};f.onComplete=function(){T.trigger("onboarding:complete")};function HO(a){a.order=[a.gY,a.oW,a.PX,a.OY,a.b_,a.IP,a.oU,a.iY,a.FW,a.XV,a.V8,a.ve,a.W3,a.e3,a.Z0,a.I8,a.ve,a.V3,a.b2,a.e2,a.M8,a.q8,a.ve,a.Y3,a.c1,a.ve,a.T3,a.G0,a.ve,a.V9,a.ve,a.KW,a.pT,a.ve,a.JW,a.nT,a.ve,a.YH,a.zU,a.ve,a.SY,a.ve,a.hY,a.mT,a.u8,a.IP,a.rY,a.b9,a.D7,a.onComplete]}
f.C0=function(){var a=$(".templateGallery li:not(.grid)").has(".price.free").first(),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());$(a).addClass(b);this.CA="."+b;this.next()};f.n0=function(){var a=new Kp({},Yu(0,0,"PIXELS"),this.i),a=new Op(a,{}),b=$(this.CA).data("layoutItem");b&&gO(a,Ym(b.content),null,null,!0);this.next()};f.U3=function(){this.vO=$(this.CA);this.wO=$(this.CA+" img");this.dF=$(this.CA+" img").clone();DO(this,this.CA,{callback:this.NEXT})};
f.a2=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),e=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+e},d=CO(b.offset(),c),e=d/4;zO();window.setTimeout(function(){a.dF.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},e);a.wO.parent().addClass("pickedUp");a.dF.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.dF);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.wO.parent().removeClass("pickedUp");a.next(300)}})};
f.d2=function(){function a(){T.off("pageLayoutLoaded",a);b.next()}var b=this;AO();this.dF.remove();T.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");if(this.vO.find(".multiPageLayoutItem").length){var c=this.vO.data("searchResult"),d=this.vO.parents(".results").data("view");c&&IO(d,c,!0)}else this.wO.click()};function JO(){return"substantial-text-element"}
f.$0=function(){if(!this.lC){var a=$("."+JO()),b=$("."+JO());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");BO();Kg(b);a.hasClass("element")||(pK(a,!0),KO(a,yc(this.i)),b.Za())}this.next()};
f.l9=function(){var a,b;if(!this.lC){var c=$("."+JO());b=c.clone();b.find("br").replaceWith(this.zJ);a=b.text().trim();var d;d=/\S\S/.test(a)?a.split(/\s+/g):a.split(/\s{2,}/g);2>d.length?(a="",b=d[0]||""):(b=d[d.length-1],3>b.length&&(b=a.slice(a.lastIndexOf(d[d.length-2]))),3>b.length&&(b="!",a+=b),a=a.slice(0,a.lastIndexOf(b)),a=a.replace(new RegExp(this.zJ,"g"),"\x3cbr\x3e"));this.eW=b;this.JU=a;c.children(".inner").html(this.JU)}$(".page.selected").removeClass("invisible-text");this.next()};
f.U9=function(){function a(a){rO(b,function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.JU+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.eW,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.lC)this.next();else{var b=this,c=$("."+JO());c.trigger("click");a(function(){ph();b.next()})}};
f.x7=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.lC=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.Sc()>b&&0<c.C().text().split("").length&&(b=c.Sc(),a=$(this))});a.addClass(JO())}this.next()};
f.X3=function(){if(this.lC)this.next();else{var a=parseFloat($("."+JO()).css("font-size").replace("px",""))*W,b=Math.floor(a/2),a=Math.floor(a*this.eW.split("").length/2);DO(this,"."+JO(),{jU:"BR",Xt:{x:-a,y:-b},callback:this.NEXT})}};f.d9=function(){$("#objectPanel li.layout a").click();this.next()};f.b9=function(){$("#objectPanel li.elements a").click();this.next()};function Hp(){return/[?&]layouts/g.test(window.location.search)}
function wO(){return 1<=$(".templateGallery li:not(.grid)").has(".price.free").length}function LO(a,b,c){var d=c||1;10<d&&(a.t3=!0,b(!1));Hp()?1<=$(".templateGallery li").length?b(wO()):window.setTimeout(function(){LO(a,b,d+1)},200*d):b(!1)}f.gY=function(){MO.ST();this.next()};f.next=function(a){function b(){d.call(c)}var c=this,d=this.order[this.SO];d&&d.call?(this.SO++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function qO(a){a.SO=0;Hp()?LO(a,function(b){b?a.order=[a.gY,a.oW,a.PX,a.OY,a.C0,a.n0,a.b_,a.oU,a.iY,a.FW,a.XV,a.U8,a.ve,a.U3,a.S8,a.ve,a.a2,a.d2,a.ve,a.x7,a.l9,a.X3,a.ve,a.T8,a.$0,a.ve,a.U9,a.ve,a.KW,a.pT,a.ve,a.JW,a.nT,a.ve,a.YH,a.zU,a.ve,a.SY,a.ve,a.hY,a.mT,a.IP,a.rY,a.d9,a.onComplete]:HO(a);a.next()}):(HO(a),a.next())};function Cp(a,b,c){this.document=a;this.config=b;this.DU="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId);this.ig=c}Cp.prototype.listenTo=Backbone.Events.listenTo;
function NO(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function OO(a){var b=a.config.qh();switch(b){case "FREE_NEW_USER":return b=PO(J.sb()),a={fbUrl:a.DU,twitterText:a.ig.format("magicButtonFreeNewTwitterText",b),congratulations:a.ig.format("magicButtonFreeNewCongratulations"),youHaveCompleted:a.ig.format("magicButtonFreeNewYouHaveCompleted",b),startYourOwnDesign:a.ig.format("magicButtonFreeNewStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return b=PO(J.sb()),a={fbUrl:a.DU,twitterText:a.ig.format("magicButtonTutorialTwitterText",b),congratulations:a.ig.format("magicButtonTutorialCongratulations"),youHaveCompleted:a.ig.format("magicButtonTutorialYouHaveCompleted",b),startYourOwnDesign:a.ig.format("magicButtonTutorialStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a={congratulations:a.ig.format("magicButtonInvitedUserCongratulations"),gettingTheHangHtml:a.ig.format("magicButtonInvitedUserGettingTheHang"),visitTeamSpace:a.ig.format("magicButtonInvitedUserVisitTeamSpace")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%\x3d gettingTheHangHtml %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
$(b(a));default:throw Error("onboarding mode "+b+" not handled");}}
function QO(a){function b(){P.all([Rz(1E3),wj(c.N,c.url+"/"+encodeURIComponent(ub.hc())+"/complete",null).get(0).then(Eo)]).finally(function(){window.location="/"})}var c=new Co;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");OO(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function RO(a){return 0<a.document.ja().filter(function(a){return"magic-button"==a.C().attr("id")}).length}
Cp.prototype.MS=function(){function a(a){a.stopPropagation();a.preventDefault();QO(b);return!1}var b=this,c=b.document;b.MS=function(){};if(!RO(b)){b.page=new Op(c,c.Gg());b.page.sW();bq(c,this.page,c.ic(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.config.qh()&&$("#canvaDocument").addClass("pageControlsDisabled");eD(K,b.page).$el.css("background-color","#20c4cb");var c={html:SO(this),width:460,justification:"center"},c=new Rp(c),d=c.C();d.attr("id","magic-button");d.on("mousedown",
a);d.on("touchstart",a);b.page.addElement(c,!1,!1);var d=(b.page.j()-c.j())/2,e=(b.page.o()-c.o())/2;c.setPosition(d,e)}};function SO(a){a={tutorialComplete:a.ig.format("magicButtonTutorialCompleteButton")};var b=_.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");return $(b(a))}Cp.prototype.go=function(){NO();this.MS()};function Op(a,b){this.Eb=a;this.Pc=null;this.elements=[];this.height=0;this.ka=b.layout&&new Xm(b.layout);this.ft=this.Zn=this.Hq=null;this.jG=this.yh=this.selected=!1;this.wy=null;this.zH=this.vD=!1;this.width=0;this.Ih(b,!0);cD(this)}_.extend(Op.prototype,Backbone.Events);f=Op.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.sW=function(){this.yh=!0};function TO(a,b){a.Hq=b;a.trigger("change:preview")}
function UO(a){a.Hq=null;a.trigger("change:preview")}function VO(a){var b=a.elements.filter(function(a){return a.yh||a.Hb()&&a.Nb&&!a.Nb()?!1:!0}),c=!1,d=WN();d instanceof eO&&(c=hO(d,a.K()));return 0<b.length&&!c}
function gO(a,b,c,d,e){function g(a){a.forEach(function(a){var b=a.u(),c=a.getVersion();Yg(vb,b,c,a.gM())})}function h(){if(-1!==k.K()||e){var a=k.ka;if(a===m||a&&m&&a.id===m.id&&a.version===m.version)UO(k),k.Ih(m.Gg(),!1,e),cD(k)}else k.zH=!1,k.vD=!1}var k=a,l=FL(Fb,dn(b)),m=b.clone();e||(m.na(a.j()),m.ea(a.o()));a.wy=a.wy||a.serialize();a.clear();a.ka=m;a.vD=!0;0===l.length?(a.Ih(m.Gg(),!1,e),cD(a)):(a.zH=!0,c&&TO(a,c),d&&d.jb()===hB?Lq(d.u()).then(g).catch($.noop).finally(h):iL(vb,l,!1,h))}
f.Ih=function(a,b,c){function d(a){0<=q.indexOf(a)||(q.push(a),0<u.length&&e())}function e(){var b=0===u.filter(l).length,d=0===u.filter(h).filter(l).length,e=0<u.filter(k).length;d&&e&&!p?(p=!0,WO(u,a)):b?g():(window.clearTimeout(v),v=window.setTimeout(function(){c||T.trigger("pageTimeoutWaitingForElements");g()},n))}function g(){m.vD=!1;m.jG=!1;T.off("elementLoaded",d);T.off("elementLoadingError",d);window.clearTimeout(v);m.elements.forEach(function(a){a.sy=!1});m.trigger("unpacked");T.trigger("pageLayoutLoaded",
m);c||m.trigger("updateemptystate");b||(m.trigger("change"),c||m.Eb&&m.Eb.trigger("change"))}function h(a){return!a.kb()}function k(a){return a.kb()}function l(a){return-1===q.indexOf(a)}var m=this,n=3E4;this.Eb&&!this.Eb.MM&&(n+=5E3*this.Eb.ic());this.jG=!0;this.wy=null;this.zH=!1;b||this.trigger("willchange");void 0!==a.dpi&&(this.Pc=a.dpi);void 0!==a.width&&this.na(a.width);void 0!==a.height&&this.ea(a.height);var p=!1,q=[],u=[];T.on("elementLoaded",d);T.on("elementLoadingError",d);u=u.concat(function(a){return a?
a.map(Hg).filter(Boolean):[]}(a.elements));u.forEach(function(a){a.appendTo(this)},this);var v=window.setTimeout(g,n);0<u.length?window.setTimeout(function(){e()},1):g();a.resizeContentBox?(this.Zn=Gm(a.resizeContentBox),this.ft=XO(this,this.Zn)):this.ft=this.Zn=null};function YO(a){if(a.Zn&&a.ft){var b=XO(a,a.Zn);if(Im(b,a.ft))return a.Zn;a.Zn=null;a.ft=null}return null}
function XO(a,b){var c=a.pa(),d=b.clone();a.ja().forEach(function(a){if(!(a.yh||a.Hb()||a.Eg())){var b=a.pa();if(!(a instanceof cC&&Qm(b,c))){a=Math.min(d.F(),b.F());var h=Math.min(d.w(),b.w()),k=Math.max(d.Ya(),b.Ya())-a,b=Math.max(d.ua(),b.ua())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}f.resize=function(a){var b=ZO({ap:YO(this),ee:a,page:this});this.Ih(a.Gg(),!0);cD(this);this.trigger("resize");this.ft=(this.Zn=b)&&XO(this,b)};f.eR=function(a){this.clear();this.Ih(a,!0);cD(this);this.trigger("resize")};
function WO(a,b){function c(a){T.trigger("elementLoaded",a);T.trigger("elementLoaded:group",a)}a.forEach(function(d,e){if(d.kb()){var g=b.elements[e].childRange;if(kq(g)){for(var h=g[0];h<=g[1];h++)if(!b.elements[h]||b.elements[h].groupIndex!==e){c(d);d.remove();return}for(h=g[0];h<=g[1];h++)e=yF(pC(d),pC(a[h])),d.addElement(a[h]),a[h].Xl(e.Da),a[h].setPosition(e.left,e.top),a[h].Wl(e.rotation),d.C().find(".elements").append(a[h].C()),d.$a();c(d)}else c(d),d.remove()}})}
f.Zi=function(){var a=new $o;this.elements.forEach(function(b){b.Zi().Cg().forEach(function(b){cp(a,b)})});return a};f.clone=function(){return new Op(null,this.serialize())};f.serialize=function(){return this.zH&&this.wy?this.wy:this.vD&&this.ka?this.ka.Gg():$O(this)};
function $O(a){function b(a){return a.elementIndex}var c=a.elements.filter(function(a){return!a.yh}).map(function(a){return a.serialize()}).filter(Boolean);c.forEach(function(a,b){var c=a.elementIndex-b;a.elementIndex=b;c&&a.elements&&a.elements.forEach(function(a){a.elementIndex-=c})});c.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){var d=a.elementIndex,e={Da:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},l=a.elements.map(b),
m=[];c.forEach(function(a){var b=l.indexOf(a.elementIndex);0<=b&&(l.splice(b,1),m.push(a.elementIndex),b=zF(e,{Da:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height}),a.transparency=b.Da,a.rotation=b.rotation,a.top=b.top,a.left=b.left,a.groupIndex=d)});if(0!==m.length&&0===l.length){var n=Math.min.apply(null,m),p=Math.max.apply(null,m);a.childRange=[n,p]}else a.childRange=[-1,-1];delete a.elements});var d={elements:c,width:a.width,height:a.height};a.Pc&&(d.dpi=
a.Pc);var e=a.ka&&a.ka.serialize();e&&(d.layout=e);(a=YO(a))&&(d.resizeContentBox=a.serialize());return d}f.clear=function(){var a;for(UO(this);this.ja().length;)(a=this.elements[0]||null)&&this.jj(a);this.elements=[];this.ft=this.Zn=null};f.ja=function(){return this.elements};f.Va=function(){return this.ja().filter(function(a){return a.Ef()})};function $p(a){return a.ja().filter(function(a){return a.Hb()})}function aP(a){return a.ja().filter(function(a){return a.Eg()})}
function bP(a,b){function c(a){return!a.Hb()}function d(a){return!(a instanceof dC)}var e=b instanceof Array?b:[b],e=e.filter(c).filter(d);return 0===e.length?e:a.ja().filter(function(a){return!uC(a)}).filter(c).filter(function(a){return!a.Eg()}).filter(d).filter(function(a){return-1===e.indexOf(a)}).filter(function(a){return e.some(function(b){return fh(b.pa(),a.pa())})})}
f.jj=function(a,b){b=b||{};for(var c=this.elements.indexOf(a),d=0;d<this.elements.length;d++)if(this.elements[d].kb()&&-1!==this.elements[d].elements.indexOf(a)){this.elements[d].jj(a);break}-1<c&&(this.elements.splice(c,1),a.remove(),b.g8&&0===this.elements.length&&(this.ka=void 0),b.XY||this.trigger("element:remove",this,a,c,!!b.Caa),(a.Hb()||a.Eg())&&this.trigger("change:background",this))};
function cP(a,b,c){var d=a.elements.indexOf(b);-1!==d&&b.elements&&0!==b.elements.length&&b.ja().forEach(function(e){d+=1;yC(a,e,d,!0);e.le=b.le;e.Tq(a);!c&&a.trigger("element:add",a,e,!1,!1);b.C().find(".elements").append(e.C())})}f.addElement=function(a,b,c){this.elements.push(a);a.Tq(this);cP(this,a);this.trigger("element:add",this,a,b,c);(a.Hb()||a.Eg())&&this.trigger("change:background",this,a)};
function dP(a){return a.elements.filter(function(a){return a.kb()}).map(function(b){var c=b.ja().map(function(b){return a.elements.indexOf(b)}).filter(function(a){return-1!==a});c.push(a.elements.indexOf(b));return[Math.min.apply(null,c),Math.max.apply(null,c)]})}function eP(a,b){for(var c=0;c!==a.elements.length;c++)if(a.elements[c].kb()&&-1!==a.elements[c].elements.indexOf(b))return a.elements[c]}
function yC(a,b,c,d){c=function(c){var d=c;0>d&&(d=a.elements.length);(c=eP(a,b))?(d=Math.max(d,a.elements.indexOf(c)),d=Math.min(d,a.elements.indexOf(c)+c.ja().length)):(d=Math.min(d,a.elements.length),dP(a).forEach(function(a){d>a[0]&&d<=a[1]&&(d=a[1]+1)}));return d}(c);var e=a.elements.indexOf(b);-1==e?(a.elements.splice(c,0,b),b.Tq(a),cP(a,b,d),!d&&a.trigger("element:add",a,b,!1,!1),(b.Hb()||b.Eg())&&a.trigger("change:background",a,b)):(a.elements.splice(c,0,a.elements.splice(e,1)[0]),a.trigger("element:move",
a,b))}f.F=function(){return 0};f.$b=Op.prototype.F;f.w=function(){return 0};f.jc=Op.prototype.w;f.j=function(){return this.width};f.kh=Op.prototype.j;f.o=function(){return this.height};f.jh=Op.prototype.o;f.Ya=function(){return this.F()+this.j()};f.Dd=Op.prototype.Ya;f.ua=function(){return this.w()+this.o()};f.gd=Op.prototype.ua;f.pa=function(){return new V(this.F(),this.w(),this.j(),this.o())};f.Sa=function(){return 0};f.setSize=function(){};f.na=function(a){this.ka&&this.ka.na(a);this.width=a};
f.ea=function(a){this.ka&&this.ka.ea(a);this.height=a};f.hb=function(){};f.cb=function(){};f.setPosition=function(){};function cq(a,b){a.Eb=b;cD(a)}f.Df=function(){var a=$p(this);return 0<a.length?(a=a[a.length-1],a.mc()&&a.hM()):!1};function FC(a){a=$p(a);return 0<a.length?a[a.length-1].mc():!0}
f.tk=function(a){var b;this.Eb&&this.selected!==a&&!this.yh&&(a||(this.selected=!1),b=this.Eb.Ba(),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};f.Ef=function(){return this.selected};f.remove=function(){this.elements.slice().forEach(function(a){fO(a);a.remove()});this.Eb&&dq(this.Eb,this);this.Eb=null};
function FO(a){a.elements.forEach(function(a){a.C().fadeOut()});return P.delay(400).then(function(){for(;0<a.elements.length;){var b=a.elements[0];fO(b);b.C().remove();a.jj(b)}a.elements=[]})}f.K=function(){return this.Eb?jp(this.Eb,this):-1};f.cu=function(){return Ym(this.serialize())};function cD(a){(function(){a.ja().slice(0).forEach(function(b){b instanceof dC&&a.jj(b)})})();(function(){var b=a.ib();b&&bv(b).forEach(function(b){(b=Hg(b))&&yC(a,b,0)})})()}f.isEmpty=function(){return 1>this.ja().filter(function(a){return!a.yh}).length};
f.ib=function(){var a=this.Eb;return a?a.ib():null};f.vv=function(){return this.jG};function co(a,b){this.hU=this.gU=this.fU=this.eU=this.Qx=this.kv=this.QP=this.SP=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.yI=this.FF=null;this.FZ=!!b;this.kR=gh(this);this.nR=gh(this);this.gI=new fP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.Mc=a;this.Oj=$("\x3cdiv\x3e").addClass("scrollThumb");this.Ak=$("\x3cdiv\x3e").addClass("scrollThumb");this.vq=this.vq.bind(this);this.NG=this.NG.bind(this);this.IG=this.IG.bind(this);
this.KG=this.KG.bind(this);this.GG=this.GG.bind(this);this.HG=this.HG.bind(this);this.TA=this.TA.bind(this);this.UA=this.UA.bind(this);this.EG=this.EG.bind(this);this.FG=this.FG.bind(this)}f=co.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;
f.render=function(){this.Mc.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Oj).insertAfter(this.Mc);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Ak).insertAfter(this.Mc);gP(this);this.Mc.on("scroll",this.NG);this.Mc.on("transitionend",this.vq);this.Mc.on("mouseenter",this.IG);this.Mc.on("mouseleave",this.KG);this.Oj.on("mousedown",this.GG);this.Ak.on("mousedown",this.HG);this.gI.on("attrModified",this.vq);this.gI.on("subtreeModified",
this.vq);this.gI.observe(this.Mc);$("\x3cspan\x3e").appendTo(this.Mc).remove();$(window).on("resize",this.vq);return this};f.remove=function(){hP(this.gI);this.Mc.off("scroll",this.NG);this.Mc.off("transitionend",this.vq);this.Mc.off("mouseenter",this.IG);this.Mc.off("mouseleave",this.KG);this.Oj.off("mousedown",this.GG);this.Ak.off("mousedown",this.HG);$(window).off("resize",this.vq);return this};
function gP(a){gh(a).read(function(a){var c=this.Mc.prop("clientWidth"),d=this.Mc.prop("offsetWidth"),e=this.Mc.prop("clientHeight"),g=this.Mc.prop("offsetHeight");a.write(function(){d>c&&this.Mc.css("margin-right",c-d);g>e&&this.Mc.css("margin-bottom",e-g);this.$a()})})}f.$a=function(){this.kR.read(this.NZ)};
f.NZ=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.kv,d=this.Qx;this.scrollWidth=this.Mc.prop("scrollWidth");this.scrollHeight=this.Mc.prop("scrollHeight");this.SP=this.Mc.prop("clientWidth");this.QP=this.Mc.prop("clientHeight");this.kv=this.Oj.parent().outerWidth();this.Qx=this.Ak.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.kv||d!==this.Qx)this.scrollTop=this.scrollLeft=-1,this.kR.write(this.l8),this.nR.read(this.QZ)};
f.l8=function(){var a=Math.round(this.Qx*this.QP/this.scrollHeight);this.Oj.css("width",Math.round(this.kv*this.SP/this.scrollWidth)+"px");this.Ak.css("height",a+"px");var a=this.SP<this.scrollWidth,b=this.QP<this.scrollHeight,c=a!==this.FF,d=b!==this.yI;c&&(this.FF=a,this.Oj.toggleClass("disabled",!a));d&&(this.yI=b,this.Ak.toggleClass("disabled",!b));this.FZ&&(c||d)&&this.trigger("change:scrollability",this.FF,this.yI)};
f.QZ=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.Mc.scrollLeft();this.scrollTop=this.Mc.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.nR.write(this.n8),this.FZ&&(this.FF||this.yI)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};f.n8=function(){var a=Math.round(this.Qx*this.scrollTop/this.scrollHeight);this.Oj.css("transform","translateX("+Math.round(this.kv*this.scrollLeft/this.scrollWidth)+"px)");this.Ak.css("transform","translateY("+a+"px)")};
f.vq=function(){this.kR.read(this.NZ)};f.NG=function(){this.nR.read(this.QZ)};f.IG=function(){this.Oj.addClass("ready");this.Ak.addClass("ready")};f.KG=function(){this.Oj.removeClass("ready");this.Ak.removeClass("ready")};f.GG=function(a){0===a.button&&(this.eU=a.screenX,this.gU=this.scrollLeft,this.Oj.addClass("active"),$(document).on("mousemove",this.TA).on("mouseup",this.EG),a.preventDefault(),a.stopPropagation())};
f.TA=function(a){this.Mc.scrollLeft(this.gU+Math.round((a.screenX-this.eU)*this.scrollWidth/this.kv))};f.EG=function(a){this.TA(a);this.Oj.removeClass("active");$(document).off("mousemove",this.TA).off("mouseup",this.EG)};f.HG=function(a){0===a.button&&(this.fU=a.screenY,this.hU=this.scrollTop,this.Ak.addClass("active"),$(document).on("mousemove",this.UA).on("mouseup",this.FG),a.preventDefault(),a.stopPropagation())};
f.UA=function(a){this.Mc.scrollTop(this.hU+Math.round((a.screenY-this.fU)*this.scrollHeight/this.Qx))};f.FG=function(a){this.UA(a);this.Ak.removeClass("active");$(document).off("mousemove",this.UA).off("mouseup",this.FG)};function iP(){this.query="";this.I2=[]}function jP(a,b){a.query=b;return a}iP.prototype.toString=function(){return(this.query?[this.query]:[]).concat(this.I2).map(function(a){return a.toString()}).join(" AND ")};var XM=null,rM=null,WL=!1,EM=null;function xM(a){Wb=!1;Sb=new KK(Gb,[new IK]);$("#search").on("keypress",function(b){return kP.call(this,b,a)});$("#search").on("keydown",lP);$("#search").on("keyup",lP)}
function kP(a,b){function c(){$("#objectPanel menu .elements a").click()}function d(a){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+a+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+a+"]").mousedown()},500);setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+a+"]").parent().position().top},R.Aa.Pq)},900)}a.stopPropagation();if(13==a.which){a=$("#search");if(!a.val().match(/^\s*$/)){var e=
$("#objectPanel").find("menu");switch(a.val().toLowerCase()){case "grid":case "grids":c();d("grids");break;case "chart":case "charts":case "graph":case "graphs":case "bar chart":case "bar graph":case "barchart":case "bargraph":case "pie chart":case "piechart":case "line chart":case "linechart":case "donut chart":case "donutchart":case "pie graph":case "piegraph":case "line graph":case "linegraph":case "donut graph":case "donutgraph":c();d("charts");break;case "layout":case "layouts":e.find(".layout a").click();
a.select();break;case "text":case "font":case "fonts":e.find(".text a").click();a.select();break;case "bkground":case "background":case "backgrounds":e.find(".backgrounds a").click();a.select();break;case "upload":case "uploads":e.find(".uploads a").click();a.select();break;default:XL(b)}}return!1}}
function XL(a,b,c){function d(){q.animate({scrollTop:E-R.iD},R.Aa.Pq,function(){I.remove();if(XM&&XM.isPending()){var a=RM(),a=$(".inner \x3e .searchGroup",a.find(".layer")).last();a.data("search")===EM&&SM(a)}c&&c()})}function e(){var a=$(".infoPanel",r);0<a.length&&(r.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).click(),a.data("infoPanelPointer").remove(),a.remove(),r.removeClass("doNotTransition"));var b=lN(p),c=-1;$("\x3e .gallery \x3e li",r).each(function(){var a=$(this);
x+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},R.Dc)},++c*R.Aa.Xv+R.Aa.QA))});setTimeout(function(){Wb=!1},c*R.Aa.Xv+R.Aa.QA)}var g=$("#search"),h=g.val().trim();if(""!==h){var k=EM?EM.query:"",l=EM?EM.Dp():[],m=EM?EM.fh:null,n=XM&&!XM.isRejected()&&EM&&!EM.Rb,p=$("#resultsSearch"),q=p.find(".layer").first(),u=$("\x3e .inner \x3e .searchGroup",q);b=Ib.H.get(Qf)&&
!1!==b;var v=rM||MK,z=WL,k=h===k,l=0===_.difference(l,v).length+_.difference(v,l).length,m=z===m;q.data("userPreparedSearch",!0);if(k&&l&&m&&n){var r=u.last();WM(r);if(!Wb){Wb=!0;var x=mN(r);a=x-R.iD;1<Math.abs(a-q.scrollTop())?q.animate({scrollTop:a},R.Aa.Pq,e):e()}}else{EM=new TM(h,v,null,null,null,null,b,null,UM(p,p.height()),null,!0,!0,VM.bind(null,a),z,null);EN?g.blur():g.select();r=$('\x3cdiv class\x3d"searchGroup hasContent" data-search-text\x3d"'+_.escape(h)+'"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cdiv class\x3d"searchSuggestion"\x3e\x3c/div\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');
$("h2",r).text(""+h+"");r.height(p.height());var I=$();0<$(".searchLoaderHolder.on",p).length&&(I=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),I.height($(".searchLoaderHolder",p).height()),q.addClass("doNotTransition"),I.insertAfter(u.last()),q.removeClass("doNotTransition"));WM(u.last());var E=JN(q),m=lN(p),g=E>m+R.iD,h=$(),n=$();if(g){var L=m+R.iD,G=$();u.each(function(){var a=$(this);0==G.length&&mN(a)+a.outerHeight()>L&&(G=a)});0==G.length&&(G=u.last());m=$(".gallery",G);n=L-mN(G);b=
0;0<m.length&&(b=n-(m.offset().top-G.offset().top));b=yN(m,b);h=h.add(b);n=G.nextAll(".searchGroup");0>=$("li",m).length-b.length&&(h=$(),n=n.add(G));n=n.filter(function(){return!$(this).hasClass("inlineFolderGroup")});0==h.length&&0==n.length?g=!1:(p.addClass("modifying"),b=n,0<h.find("a.infoOpen").length&&(b=b.add(G)),v=$(".infoPanel",b),0<v.length&&(b.addClass("doNotTransition"),v.addClass("doNotTransition"),$(".close",v).click(),v.data("infoPanelPointer").remove(),v.remove(),b.removeClass("doNotTransition")),
m=m.data("columnData")||null,KN(m,h),h.detach(),Qz(G,!0),G.hasClass("inlineFolderGroup")&&mP(q.data("view"),!1),p.removeClass("modifying"))}u=$("\x3e .inner \x3e .searchGroup",q);h=n.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,b){return a+b},0);h=JN(q)+r.height()-h;g&&h<lN(p)&&r.height(r.height()+(lN(p)-h));r.insertAfter(u.last());n.detach();var O=n.toArray(),u=u.filter(function(){return-1==O.indexOf(this)});g||0!=$(".gallery li",u.last()).length||(u.last().remove(),
u=u.filter(function(a){return a!=u.length-1}));r.data("search",EM);var E=0,Q=parseInt(r.css("padding-top"),10)+parseInt(r.css("padding-bottom"),10);u.last().addClass("doNotTransition");u.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=a.data("contentHeight"),b=b+wN(a);a.height(b);E+=b+Q}});u.last().removeClass("doNotTransition");g=$("#objectPanel").find("menu .search");g.hasClass("on")||g.find("a").click();VM(a);d()}}}
function VM(a){var b=RM(),c=EM;XM&&XM.cancel();XM=null;XM=Sb.lt({Uk:ub?ub.hc():null,query:EM.query,An:EM.Dp(),tl:EM.tl,fl:EM.fl,filters:EM.filters,Cx:EM.Cx,sort:EM.sort,elevation:EM.elevation,iz:!1,jg:EM.jg,from:EM.ml(),limit:EM.Cd(),zk:EM.zk,Kg:EM.Kg,fh:EM.fh,aspectRatio:EM.gh()}).then(function(b){nP(a,b)}).catch(function(d){var e=b.find(".layer \x3e .inner \x3e .searchGroup").last();if(!(d instanceof P.CancellationError&&RM().attr("id")===b.attr("id"))){if("resultsSearch"!==b.attr("id"))return WM(e),
P.reject();c.cancel();d=$('\x3cp class\x3d"noResults"\x3e').text(kc(a).format("objectPanelSearchFailed"));WM(e);e.find(".gallery").remove();e.append(d)}})}
function nP(a,b){var c=RM(),d=$(".layer \x3e .inner \x3e .searchGroup",c).last(),e=b.Pz(),g=$(".photoGallery, .backgroundGallery",d);EM.sq=e.length;WM(c.find(".layer"));if(0==e.length&&EM.sq>=EM.limit)EM.zY();else{var h=b.suggestion,k=EM,l=EM.query;0===k.ml()&&(k.Kg=b.u());if(Ib.H.get(Qf)&&h){b=$("h2",d);var m=$(".searchSuggestion",d);m.empty().addClass("hasSuggestion");window.setTimeout(function(){m.addClass("showSuggestion")},300);h.overridden?(EM=new TM($K(h),k.Dp(),k.tl,k.fl,k.filters,k.elevation,
!1,k.sort,k.Cd(),k.Kg,k.jg,k.zk,function(){VM(a)},k.fh,k.gh()),EM.sq=e.length,d.data("search",EM),b.text(""+$K(h)+""),0<h.originalHits?m.append("Search instead for ").append($("\x3ca/\x3e").data("query",h.originalQuery).append(h.originalQuery)):m.addClass("originalSearch").append("You typed ").append($("\x3cstrong/\x3e").append(h.originalQuery))):m.append("Did you mean: ").append($("\x3ca/\x3e").data("query",$K(h)).append(oP(h)))}else 0===k.ml()&&$(".searchSuggestion",d).empty().removeClass("showSuggestion").removeClass("hasSuggestion");
0<e.length||k.HH?(e=e.slice(0,k.Cd()),e.forEach(function(a){Yg(vb,a.u(),a.getVersion(),a.Hc())}),e.forEach(function(b){(new pP({model:b,query:l,J:kc(a),W:Ib})).$el.appendTo(g)}),Pz(g),setTimeout(function(){k.sq>=k.limit||!k.HH?HN(c):(EM=k.HH,VM(a))},e.length*R.Aa.Xv+R.Aa.QA)):0==k.ml()&&(e=k.QX,!e||0===e.ml()&&0===e.Lz())&&(g.remove(),$(".noResults",d).remove(),e=$('\x3cp class\x3d"noResults"\x3e').text(kc(a).format("objectPanelSearchNoResults")),d.append(e))}}
function SM(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}
function oP(a){var b=$("\x3cspan/\x3e");if(!a.tokenReplacements||0==a.tokenReplacements.length)return b.text($K(a)),b;var c=a.originalQuery;a=a.tokenReplacements;for(var d=0,e=0,g=0;d<c.length&&g<a.length;)d==a[g].start?(e<d&&b.append(c.substring(e,d)),b.append($("\x3cspan\x3e").addClass("replacedToken").text(a[g].replacement)),d=e=a[g].end,g++):d++;e<c.length&&b.append(c.substring(e,c.length));return b}
function WM(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function qP(){this.fo=[]}qP.prototype.trigger=Backbone.Events.trigger;qP.prototype.listenTo=Backbone.Events.listenTo;qP.prototype.stopListening=Backbone.Events.stopListening;_.extend(qP.prototype,Backbone.Events);qP.prototype.Ek=function(a){rP(this,a,this.fo.length)};function rP(a,b,c){-1===a.fo.indexOf(b)&&(c=Math.max(0,Math.min(c,a.fo.length)),a.fo.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
qP.prototype.GB=function(a){var b=this.fo.indexOf(a);-1<b&&(a.remove(),this.fo.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function sP(a){return a.fo[a.fo.length-1]}qP.prototype.getLength=function(){return this.fo.length};function jM(a,b,c){this.UP=a;this.title=b||"";this.Z7=c||"";this.EH=[];this.OA=!0}jM.prototype.trigger=Backbone.Events.trigger;_.extend(jM.prototype,Backbone.Events);f=jM.prototype;f.sb=function(){return this.title};f.remove=function(){this.UP.cancel()};
f.clear=function(){this.EH=[];this.OA=!0;this.UP.reset();this.trigger("results:clear",this)};f.Qh=function(a){var b=this;this.trigger("results:willFetch",b);this.UP.hv(a,function(c,d){b.OA=c.length>=a;0<c.length&&(b.EH=b.EH.concat(c));b.trigger("results:didFetch",b,c,d)})};f.Lz=function(){return this.EH.length};
function tP(a){var b=Gb,c=Bb,d=Ib;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new uP(a);if("uploads"===a)return new vP(c,!0);if("marketplace"===a)return new vP(c,!1);b=new KK(b,[new IK]);c=new TM(a,MK,null,null,null,null,!1,[],0,null,!1,!1,function(){},!1,null);return d.H.get(mg)&&-1<["chart","charts"].indexOf(a.toLowerCase())?new wP(b,c,Wm):new xP(b,c)}function yP(){}_.extend(yP.prototype,Backbone.Events);yP.prototype.hv=function(a,b){b&&b([],!0)};yP.prototype.cancel=function(){};
yP.prototype.reset=function(){};function xP(a,b,c){this.search=a;this.Zc=b;this.uM=c||Vm;this.Rb=!1;this.DH=this.Nc=null}_.extend(xP.prototype,Backbone.Events);f=xP.prototype;
f.hv=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.Nc?b&&b([],!0):this.wW(a,b,this.Rb)||(this.Zc.limit=a,this.DH=b,this.Nc=OK(this.search,{Uk:ub?ub.hc():null,query:this.Zc.query,An:this.Zc.Dp(),tl:this.Zc.tl,fl:this.Zc.fl,filters:this.Zc.filters,elevation:this.Zc.elevation,Cx:this.Zc.Cx,sort:this.Zc.sort,iz:!1,jg:this.Zc.jg,from:this.Zc.ml(),limit:this.Zc.Cd(),zk:this.Zc.zk,Kg:this.Zc.Kg,aspectRatio:this.Zc.gh()}).catch(c,function(){}).then(this.H8.bind(this)).catch(P.CancellationError,
function(){}))};f.wW=function(){return!1};f.cancel=function(){this.Rb=!0;this.Nc&&this.Nc.cancel();this.Nc=null};f.reset=function(){this.cancel();this.Rb=!1;this.Zc.reset()};f.H8=function(a){var b=[];!this.Rb&&a&&a.Pz()&&(b=a.Pz());this.zN(b,this.Zc.Cd());this.DH&&this.DH(b,this.Rb);this.Nc=this.DH=null;this.Rb||(0===this.Zc.ml()&&(this.Zc.Kg=a.u()),this.Zc.sq=b.length,a=this.Zc,a.from+=a.limit)};f.zN=function(){};
function uP(a){this.wx=0;this.Ee=[];this.query=a;this.Rb=!1;if("grid"===a||"grids"===a)this.query="grid",this.Ee=_.keys(Vm)}uP.prototype.cancel=function(){this.Rb=!0};uP.prototype.hv=function(a,b){if(this.wx>=this.Ee.length||this.Rb)b&&b([],this.Rb);else{var c=this.Ee.slice(this.wx,this.wx+a);this.wx+=a;b&&b(c,!1)}};uP.prototype.reset=function(){this.Rb=!1;this.wx=0;this.Ee=[]};function vP(a,b){this.ac=a;this.sY=b;this.Z=null;this.Rb=!1;this.Nc=null;this.aA=!1}
vP.prototype.hv=function(a,b){function c(a,c){function e(a){return(a=a.Ja().pc())&&0<Object.keys(a).length}function l(a){var b=a.Ja(),c=b.pc(),d;VE(a.Ja())&&(d=100*VE(a.Ja()).ONE_USE||0);return Rg({id:a.u(),version:b.getVersion(),files_:_.values(c),oneTimeUsePriceCents:d,status:b.zf(),type:a.jb()})}function m(a,b){a=a.u();b=b.u();return-(a<b?-1:a>b?1:0)}200===a&&c.media&&0!==c.media.length?(a=c.media.filter(e).sort(m).map(l),b&&b(a,d.Rb),d.Z=c.continuation,d.Nc=null,d.aA=!0):b&&b([],d.Rb)}var d=this,
e=[Ng,Pg];this.Nc?b&&b([],!0):null==this.Z&&this.aA?b&&b([],!1):(a=YE((new XE).Mt(this.sY).Kt(!1).Fo(),e).sg(a),null!=d.Z&&a.zi(d.Z),this.sY||(a=a.WC().Ux(!0)),this.Nc=xE(Bb,a,c))};vP.prototype.cancel=function(){this.Rb=!0;this.Nc&&(this.Nc.cancel(),this.Nc=null)};vP.prototype.reset=function(){this.cancel();this.Rb=!1;this.Z=null;this.aA=!1};
function kM(a){Ca(!((a.tc||a.query)&&a.Zc));var b=a.uM||Vm;if(null!=a.Zc)xP.call(this,a.VP,a.Zc,b);else if(null!=a.tc){var c=new iP,c=jP(c,a.query?a.query+" *":"*");xP.call(this,a.VP,new TM(c.toString(),LK,{designType:a.tc.u()},null,null,null,!1,[new fL({Qu:"score",direction:"DESC"}),new fL({Qu:"lastModified",direction:"DESC"}),new fL({Qu:"id",direction:"ASC"})],0,null,!1,!1,function(){},!1,null),b)}this.XE=!1;this.Vz=0}_.extend(kM.prototype,xP.prototype);
kM.prototype.reset=function(){xP.prototype.reset.call(this);this.XE=!1;this.Vz=0};kM.prototype.wW=function(a,b,c){var d=[];return this.XE?(zP(this,d,this.Vz,a),b&&b(d,c),!0):!1};kM.prototype.zN=function(a,b){(this.XE=0===a.length||a.length<b)&&zP(this,a,this.Vz,b-a.length)};function zP(a,b,c,d){c=_.rest(_.keys(a.uM),c);d=_.first(c,d);a.Vz+=d.length;d.forEach(function(c){b.push(AP(a,c))})}
function AP(a,b){b=a.uM[b];a=new vI;var c=Zg(J.ib().qb);b={width:c.j(),height:c.o(),elements:[{type:"grid",left:0,top:0,width:c.j(),height:c.o(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}function wP(a,b,c){xP.call(this,a,b,c);this.JJ=c;this.wL=!1;this.By=0}_.extend(wP.prototype,xP.prototype);wP.prototype.reset=function(){xP.prototype.reset.call(this);this.wL=!1;this.By=0};wP.prototype.zN=function(a){this.wL||(this.wL=BP(this,a,this.By,_.size(this.JJ)))};
function BP(a,b,c,d){c=_.rest(_.keys(a.JJ),c);d=_.first(c,d);a.By+=d.length;d.forEach(function(a,c){b.splice(c,0,a)});return a.By===_.size(a.JJ)}function hM(a){this.Rb=!1;this.Ra=a.Ra;this.gc=a.gc;this.la=a.la;this.ta=a.ta;this.Uu=a.Uu;this.Ur=a.Ur;this.AE=a.AE||null;this.WE=!1;this.gG=this.Z=this.Nc=null}_.extend(hM.prototype,xP.prototype);
hM.prototype.hv=function(a,b){function c(){function b(a){h.gG=a.Fb();h.WE=null==h.gG;a=a.yf().map(function(a){return a.u()});if(!a.length)return null;k.sl=a;return new Ht(k)}if(h.Uu){var c=(new tk).Bk(new Yj({id:h.Uu})).sg(a).zi(h.gG);return h.gc.HA(c).then(b).catch(g)}return new P(function(a){a(new Ht(k))})}function d(a){h.Nc=null!=a?xq(h.Ra,a):P.resolve(null);return h.Nc}function e(a){a?(h.Z=a.continuation,this.Uu||(h.WE=null==h.Z),b&&b(a.documents,h.Rb),h.Nc=null):b&&b([],h.Rb)}function g(a){b&&
b([],h.Rb);throw a;}var h=this,k={Ur:h.Ur,vL:!0,Z:h.Z,limit:a};this.AE&&(k.ka=this.AE);this.Uu||(k.sh=new Rs({user:h.la,D:h.ta}),k.jH=["OWNER"]);this.Nc?b&&b([],!0):this.WE?b&&b([],this.Rb):this.Nc=c().then(d).then(e).catch(g)};hM.prototype.cancel=function(){this.Rb=!0;this.Nc&&(this.Nc.cancel(),this.Nc=null)};hM.prototype.reset=function(){this.cancel();this.Rb=!1;this.gG=this.Z=null;this.WE=!1};
function CP(a){this.ta=a.ta||null;this.Rb=!1;this.HK=a.HK;this.Ra=a.Ra;this.qU=!1;this.Z=this.Nc=null;this.xi=a.xi}_.extend(CP.prototype,xP.prototype);
CP.prototype.hv=function(a,b){function c(a){var b=a.yf().map(h);k.qU=null==a.Fb();k.Z=a.Fb();return 0!==b.length?(a=new Ht({sl:b}),xq(k.Ra,a)):P.resolve({documents:[]})}function d(a){b(a.documents,k.Rb)}function e(){b([],k.Rb)}function g(){k.Nc=null}function h(a){return a.u()}var k=this;this.Nc?b&&b([],!0):this.qU?b&&b([],this.Rb):(a=yI((new xI).yi(this.ta).Bk("/designs/layouts"),this.HK).sg(a).zi(this.Z),this.Nc=tI(this.xi,a).then(c).then(d).catch(e).finally(g))};
CP.prototype.cancel=function(){this.Rb=!0;this.Nc=null};CP.prototype.reset=function(){this.cancel();this.Rb=!1;this.Z=null};function TM(a,b,c,d,e,g,h,k,l,m,n,p,q,u,v){this.query="";this.An=b;this.tl=c;this.fl=d;this.filters=e;this.elevation=g;this.Cx=h;this.sort=k;"string"===typeof a?this.query=a.trim():a instanceof RK&&(this.query="group:"+a.ia());this.from=0;this.limit=l;this.sq=0;this.Rb=!1;this.zY=q;this.Kg=m;this.jg=n;this.zk=p;this.fh=u;this.aspectRatio=v;this.HH=this.QX=null}
function ZL(a){var b={};a.tl.forEach(function(a,c){return b[c]=a});var c={};a.fl.forEach(function(a,b){return c[b]=a});return new TM(a.query,a.An,b,c,a.filters,null!=a.elevation?a.elevation:null,null!=a.UE?a.UE:!1,a.sort,a.limit,null!=a.Kg?a.Kg:null,null!=a.jg?a.jg:!1,null!=a.zk?a.zk:!1,function(){},null!=a.fh?a.fh:!1,void 0!==a.aspectRatio?a.aspectRatio:null)}f=TM.prototype;f.Dp=function(){return this.An};f.ml=function(){return this.from};f.Cd=function(){return this.limit};
f.cancel=function(){this.Rb=!0};f.gh=function(){return this.aspectRatio};f.Lz=function(){return this.sq};f.reset=function(){this.sq=this.from=0};function DP(a){if(void 0!==a&&!EP(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.Am=a?a.GV||"none":"none";this.si=a?a.si.slice(0):[]}DP.prototype.trigger=Backbone.Events.trigger;_.extend(DP.prototype,Backbone.Events);DP.prototype.Rz=function(){return this.Am};function FP(a){return a.si.map(function(a){return _.extend({},a)})}
function GP(a,b){var c=a.si.concat(b);if(!EP({GV:a.Am,si:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.si=a.si.concat(b)}DP.prototype.transition=function(a){var b=this.Am,c=HP(this,a);if(null!==c)this.Am=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.Am);};
function IP(a,b){var c=a.Am;if(-1===a.si.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.Am=b;a.trigger("state:enter",a,b,c)}DP.prototype.start=function(){this.transition("start")};DP.prototype.fail=function(){this.transition("fail")};
function HP(a,b){var c=a.si.filter(function(c){return c.name===b&&c.from===a.Am});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.Am+'"');return 1===c.length?c[0].to:null}function EP(a){var b=a.GV||"none",c;c=-1===JP(a.si).indexOf(b)?!1:!0;var d=KP(a.si);a=LP(a.si);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function JP(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function LP(a){return JP(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function KP(a){return JP(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function Rn(a,b,c,d){var e;a==c?e=b>d?1.5*Math.PI:.5*Math.PI:(e=Math.atan((d-b)/(c-a)),a<c?d<b&&(e=2*Math.PI+e):e=Math.PI+e,isNaN(e)&&(e=0));return Um(180*e/Math.PI)}function Um(a){a%=360;0>a&&(a+=360);return a}function Pn(a){return Math.PI/180*a}function SB(a,b){a-=b;return 0>a?360+a:a}function MP(a,b){a=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>a?360+a:a}
function NP(a){switch(a){case "TL":return 270;case "TR":return 0;case "BR":return 90;case "BL":return 180;default:throw Error("Quadrant does not exist");}}function Sn(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function OP(a,b){this.listener=void 0;this.wg=a;this.vd=b;this.lJ=this.visible=!1;this.gV=[]}f=OP.prototype;f.mh=function(){return!!this.visible};
function PP(a){a.wg.Gb().forEach(function(b){if(!(!b||0>b.K()||a.vd.Ka.length<=b.K())){b=eD(a.vd,b);if(0>=b.$el.find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');b.$el.prepend(c)}b.$el.find(".guides").css("display","block")}})}f.toggle=function(){this.mh()?(this.hide(),QP(this)):this.lJ?QP(this):this.show()};
function RP(a){return a.gV.filter(function(a){return a&&a.le&&a.R()})}f.add=function(a){this.gV.push(a)};f.hide=function(){var a=this;this.visible=!1;this.wg.Gb().forEach(function(b){eD(a.vd,b).$el.find(".guides").css("display","none")});RP(this).forEach(function(a){a.mE()});this.stopListening()};f.stopListening=function(){this.listener&&(this.listener.off("mousedown",".guides",this.CD),this.listener.off("touchstart",".guides",this.CD))};
f.show=function(){this.visible=!0;PP(this);RP(this).forEach(function(a){a.activate()});this.listener=new mp("#canvaDocument");this.CD=this.YK.bind(this);this.listener.on("mousedown",".guides",this.CD);this.listener.on("touchstart",".guides",this.CD)};
f.YK=function(a){function b(a){var p=a.clientX-l;a=a.clientY-m;p={align:"vertical",type:"guide",width:0,height:k.o(),left:p/W,top:0};e||(p.align="horizontal",p.width=k.j(),p.left=0,p.top=a/W,p.height=0);a=k;0<=p.left&&p.left<=a.j()&&0<=p.top&&p.top<=a.o()&&(a=new IH(p),a.appendTo(k),a.hb(p.left),a.cb(p.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;e?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,e=$(a.target).hasClass("vertical"),g=new mp($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=this.wg.Ba();a=eD(this.vd,k);var l=a.$el.find(".page__content").get(0).getBoundingClientRect().left,m=a.$el.find(".page__content").get(0).getBoundingClientRect().top;e?h.addClass("vertical"):h.addClass("horizontal");fN(a,h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function SP(){var a=Rb();return a.mh()?RP(a):[]}
function QP(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.lJ=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.lJ=!0,$(".page").addClass("showGuidelines"),$(".page__content").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),TP())}function TP(){if(J&&J.Gb&&J.Gb()[0]){var a=(J.Gb()[0].j()-140)/18*W-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*W)}}
function UP(a){var b=eD(K,a);if(!b.$el.hasClass("showGuidelines"))return delete tb.Wz,[];if(tb.Wz)return tb.Wz;tb.Wz=[];b.$el.find(".guidelines .gutter").each(function(a,d){function e(){return 0}function g(){return(d.getBoundingClientRect().right-k().left)/W}function h(){return(d.getBoundingClientRect().left-k().left)/W}function k(){return b.$el.find(".page__content").get(0).getBoundingClientRect()}tb.Wz.push({F:h,$b:h,Dd:g,w:e,jc:e,kh:function(){return g()-h()},jh:function(){return(k().bottom-k().top)/
W},gd:function(){return(k().bottom-k().top)/W},Sa:function(){return 0}})});return tb.Wz};var HB=Gn("#ffffff"),IB=Gn("#272c33"),JB=Gn("#7d8693");function VP(a){var b=goog.asserts.assertArray(a.data,"expected parameter 'data' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var c=a.index;soy.asserts.assertType(goog.isNumber(a.maxLength),"maxLength",a.maxLength,"number");var d=a.maxLength;soy.asserts.assertType(null==a.isEmpty||goog.isBoolean(a.isEmpty)||1===a.isEmpty||0===a.isEmpty,"isEmpty",a.isEmpty,"boolean|null|undefined");a=a.isEmpty;c='\x3ctr data-row\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" class\x3d"tableView__row tableView__row--data '+(a?"tableView__row--empty":"")+'"\x3e';a=b.length;for(var e=0;e<a;e++)var g=b[e],c=c+('\x3ctd class\x3d"tableView__cell"\x3e\x3cinput maxlength\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--data" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'" /\x3e\x3c/td\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/tr\x3e")}
function WP(a){var b='\x3ctr class\x3d"tableView__row tableView__row--header"\x3e';a=goog.asserts.assertArray(a.lh,"expected parameter 'header' of type list\x3cstring\x3e.");for(var c=a.length,d=0;d<c;d++)b+='\x3cth class\x3d"tableView__cell tableView__cell--header"\x3e'+soy.$$escapeHtml(a[d])+"\x3c/th\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/tr\x3e")}
function XP(a){soy.asserts.assertType(goog.isNumber(a.count),"count",a.count,"number");var b=a.count;soy.asserts.assertType(goog.isString(a.aG)||a.aG instanceof goog.soy.data.SanitizedContent,"itemMessage",a.aG,"string|goog.soy.data.SanitizedContent");var c=a.aG;soy.asserts.assertType(goog.isString(a.AI)||a.AI instanceof goog.soy.data.SanitizedContent,"valueMessage",a.AI,"string|goog.soy.data.SanitizedContent");a=a.AI;for(var d='\x3ctr class\x3d"tableView__row tableView__row--placeholder"\x3e',e=
0;e<b;e++)d+='\x3ctd class\x3d"tableView__cell tableView__cell--placeholder"\x3e\x3cinput tabindex\x3d"-1" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--placeholder" type\x3d"text" placeholder\x3d"'+(0==e?soy.$$escapeHtmlAttribute(c):soy.$$escapeHtmlAttribute(a))+'" /\x3e\x3c/td\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/tr\x3e")}
function YP(a){soy.asserts.assertType(goog.isString(a.dH)||a.dH instanceof goog.soy.data.SanitizedContent,"pasteMessage",a.dH,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tableView__spacer"\x3e\x3c/div\x3e\x3ctextarea placeholder\x3d"'+soy.$$escapeHtmlAttribute(a.dH)+'" class\x3d"tableView__pasteArea" cols\x3d"30" rows\x3d"10"\x3e\x3c/textarea\x3e')};function ZP(a){Backbone.View.call(this,{className:"tableView",tagName:"div"});this.i=a}t(ZP,Backbone.View);f=ZP.prototype;f.events=function(){return{"input .tableView__input":this.Gn,"keyup .tableView__input":this.N5,"keydown .tableView__input":this.hO,"focus .tableView__input--data":this.e5,"focus .tableView__input--placeholder":this.i6,"blur .tableView__input--data":this.Js,"paste .tableView__input":this.$W,"paste .tableView__pasteArea":this.$W}};
f.K=function(a){if(!a.length)return{Bb:-1,Ta:-1};var b=a.parents(".tableView__row").attr("data-row");a=$(a).attr("data-column");b=parseInt(void 0===b?-1:b,10);a=parseInt(void 0===a?-1:a,10);return{Bb:b,Ta:a}};function $P(a,b){return a.$el.find('[data-row\x3d"'+b.Bb+'"] [data-column\x3d"'+b.Ta+'"]')}f.qc=function(a){return""+a.val()};f.ii=function(a){$P(this,a).focus();return this};f.blur=function(a){$P(this,a).blur();return this};
function aQ(a,b,c){$P(a,b).toggleClass("tableView__input--empty",!!c)}f.uk=function(a,b,c){var d=$P(this,a);d.length&&d.val(b)&&!c&&this.trigger("input",a,b)};f.jQ=function(a){var b=this.$el.find(".tableView__row--header");a=WP({lh:a}).toString();b.length?b.replaceWith(a):this.$el.find(".tableView__row").first().before(a)};f.Gn=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.qc(b);this.trigger("input",a,b)};
f.N5=function(a){a.stopPropagation();bQ(a)?this.uL&&this.trigger("keyup",this.uL,function(){return a.preventDefault()}):a.preventDefault()};f.hO=function(a){a.stopPropagation();var b=$(a.currentTarget),c=this.K(b),b=this.qc(b);this.uL={index:c,value:b,keyCode:a.keyCode,shiftKey:a.shiftKey,altKey:a.altKey,selectionStart:a.currentTarget.selectionStart,selectionEnd:a.currentTarget.selectionEnd};bQ(a)?this.trigger("keydown",this.uL,function(){return a.preventDefault()}):a.preventDefault()};
function bQ(a){if(a.shiftKey)switch(a.which){case 188:case 190:return!1}return!0}f.$W=function(a){var b=!1,c=$(a.currentTarget),c=this.K(c),d=(a.originalEvent.clipboardData||window.clipboardData).getData("text"),e=-1!==d.indexOf("\x3c")||-1!==d.indexOf("\x3e"),g=-1!==d.indexOf("\t"),h=-1!==d.indexOf("\n")||-1!==d.indexOf("\r");if(g||h||e){if(-1===c.Ta||-1===c.Bb)b=!0,c.Bb=0,c.Ta=0;a.preventDefault();this.trigger("paste",c,d,b)}};
f.i6=function(a){a.preventDefault();a=parseInt($(a.target).attr("data-column"),10);this.trigger("append",a)};f.e5=function(a){a=$(a.currentTarget);this.trigger("focus",this.K(a));a.select()};f.Js=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.qc(b);this.trigger("blur",a,b)};
f.render=function(a,b,c,d){var e=this.el,g=goog.asserts.assertArray(a,"expected parameter 'data' of type list\x3clist\x3cstring\x3e\x3e.");soy.asserts.assertType(goog.isNumber(b),"maxLength",b,"number");for(var h='\x3ctable class\x3d"tableView__table"\x3e',k=g.length,l=0;l<k;l++)h+=VP({data:g[l],index:l,maxLength:b});b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/table\x3e");e.innerHTML=b;c&&this.$el.find(".tableView__row").first().before(WP({lh:c}).toString());d&&a[0]&&a[0].length&&this.$el.find(".tableView__row").last().after(XP({count:a[0].length,
aG:we(this.i,a.length+1),AI:this.i.format("editorToolbarTableValue")}).toString());this.$el.append(YP({dH:this.i.format("editorToolbarPasteSpreadsheet")}).toString())};f.insertRow=function(a,b,c,d){this.$el.find('.tableView__row--data[data-row\x3d"'+a+'"]').after(VP({data:d,index:a+1,maxLength:c,isEmpty:b}).toString());cQ(this)};function dQ(a,b){a.$el.find('.tableView__row--data[data-row\x3d"'+b+'"]').remove();cQ(a)}
function cQ(a){var b=0;a.$el.find(".tableView__row--data").each(function(a,d){$(d).attr("data-row",a);a>b&&(b=a)});a.$('.tableView__input--placeholder[data-column\x3d"0"]').attr("placeholder",we(a.i,b+2))}function eQ(a,b){a.$el.find(".tableView__input--placeholder").toggle(b)};function fQ(a,b,c,d,e,g){var h=this;this.view=a;this.i=b;this.$j=c;this.dj=d;this.maxLength=e||16;this.Fd=g||0;this.data=[];this.headers=[];this.yu={Ta:0,Bb:0};this.view.on("focus",function(a){h.yu=a});this.view.on("input",function(a,b){return h.uk(a,b)});this.view.on("keyup",function(a,b){return gQ(h,a,b)});this.view.on("keydown",function(a,b){return h.Gl(a,b)});this.view.on("blur",function(a,b){h.validate(a,b);h.trigger("commit",h.getData())});this.view.on("paste",function(a,b,c){return hQ(h,a,
b,c)});this.view.on("append",function(a){return iQ(h,a)})}function jQ(a,b,c){var d=new ZP(c);c=new fQ(d,c,b.$j,b.dj,b.maxLength,b.Fd);c.setData(a);d.render(a,c.maxLength,b.SJ,!0);return{Ab:c,view:d}}f=fQ.prototype;f.setData=function(a){this.data=a};f.jQ=function(a){this.headers=a;this.view.jQ(this.headers)};
f.uk=function(a,b){-1!==a.Bb&&-1!==a.Ta&&(b=this.sanitize(b),this.data[a.Bb]||(this.data[a.Bb]=kQ(this,a.Bb+1)),this.data[a.Bb][a.Ta]=b,this.validate(a,b),a=a.Ta!==this.Fd,this.trigger("change",this.getData(),a))};f.sanitize=function(a){return a.replace(/[<>]/g,"").substr(0,this.maxLength)};
f.validate=function(a,b){if(-1===a.Bb||-1===a.Ta)return!1;var c=a.Ta!==this.Fd,d=LG(b),d=!isNaN(d)||""===b;c&&$P(this.view,a).toggleClass("tableView__input--numerical",!!d).toggleClass("tableView__input--nonNumerical",!d);aQ(this.view,a,!b.length);b=this.data[a.Bb].reduce(function(a,b){return!a.length&&!b.length});this.view.$('.tableView__row[data-row\x3d"'+a.Bb+'"]').toggleClass("tableView__row--empty",!!b);return d};
function gQ(a,b,c){var d=b.index,e=b.value;switch(b.keyCode){case 13:c&&c();b.shiftKey?a.insertRow(d.Bb):b.altKey?lQ(a,d):mQ(a,d);break;case 38:c&&c();lQ(a,d);break;case 40:c&&c();mQ(a,d);break;case 37:0==b.selectionStart&&0==b.selectionEnd&&(c&&c(),nQ(a,d));break;case 39:b.selectionStart==e.length&&b.selectionEnd==e.length&&(c&&c(),oQ(a,d));break;case 8:0===e.length&&(b=0===a.data[d.Bb].reduce(function(a,b){return a.length+b.length}),0===d.Ta&&b?(c&&c(),a.deleteRow(d.Bb),pQ(a,d)):(c&&c(),nQ(a,d)))}}
f.Gl=function(a,b){var c=a.index;switch(a.keyCode){case 9:b&&b();a.shiftKey?pQ(this,c):(a=c.Ta===this.dj-1,c.Bb===this.data.length-1&&a&&iQ(this),c.Bb<=this.data.length-1&&(a&&(c.Bb=Math.min(c.Bb+1,this.$j)),c.Ta=(c.Ta+1)%this.dj,this.ii(c)));break;case 27:b&&b(),this.view.blur(this.yu)}};
function hQ(a,b,c,d){d&&qQ(a);d=-1!==c.indexOf("\n")?"\n":"\r";var e=[];c.split(d).forEach(function(a){return e.push(a.split("\t"))});c=function(a,b){return _.findIndex(a,function(a){a=a.slice(b+1);return _.any(a,function(a){return!isNaN(parseFloat(a))})})}(e,a.Fd);0<c&&a.jQ(e[c-1]);var g;for(c=Math.max(0,c);c<e.length&&c!==a.$j;c++,b.Bb++)for(b.Bb>=a.data.length&&a.insertRow(b.Bb-1,kQ(a,b.Bb+1),!0),d=0;d<Math.min(e[c].length,a.dj-b.Ta)&&d!==a.dj;d++){g=d+b.Ta;var h=a.sanitize(e[c][d]);g={Bb:b.Bb,
Ta:g};a.uk(g,h,!0);a.view.uk(g,h,!0);a.validate(g,h)}g&&(a.ii(g),a.trigger("change",a.getData(),!0))}f.ii=function(a,b){this.trigger("focus",a);!b&&this.view.ii(a)};function mQ(a,b){b.Bb+1<a.$j&&(b.Bb===a.data.length-1?iQ(a):(b.Bb++,a.ii(b)))}function lQ(a,b){0<=--b.Bb&&a.ii(b)}function oQ(a,b){b.Ta+1<a.dj&&(b.Ta++,a.ii(b))}function nQ(a,b){0<=--b.Ta&&a.ii(b)}function pQ(a,b){var c=0!==b.Bb;0!==b.Ta?(b.Ta--,a.ii(b)):c&&(b.Bb=Math.max(0,b.Bb-1),b.Ta=a.dj-1,a.ii(b))}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};
function kQ(a,b){for(var c=[],d=0;d<a.dj;d++)d===a.Fd?c.push(we(a.i,b)):c.push(a.i.format("editorToolbarTableValue"));return c}
f.insertRow=function(a,b,c){var d=a+1;b=b||kQ(this,d+1);var e=!0,g=0;this.data.forEach(function(a){a.reduce(function(a,b){return""===a&&""===b})&&g++});b.forEach(function(a){return e=e&&0==a.length});this.data.length<this.$j&&0===g?(this.data.splice(d,0,b),this.view.insertRow(a,e,this.maxLength,b)):this.data.length===this.$j&&eQ(this.view,!1);this.ii({Bb:d,Ta:this.yu.Ta},c);a=this.yu.Ta!==this.Fd;!c&&this.trigger("change",this.getData(),a)};
function iQ(a,b){a.insertRow(a.data.length-1);void 0!==b&&a.ii({Ta:b,Bb:a.data.length-1})}f.deleteRow=function(a){if(1===this.data.length)return{Ta:0,Bb:a};dQ(this.view,a);this.data.splice(a,1);this.data.length<this.$j&&eQ(this.view,!0);a=this.yu.Ta!==this.Fd;this.trigger("change",this.getData(),a)};
function qQ(a){a.data.length||(a.data=[kQ(a,1)]);for(var b=a.data.length-1;0<=b;b--)if(0===b)for(var c=0;c<a.dj;c++)a.uk({Ta:c,Bb:b},"",!0),a.view.uk({Ta:c,Bb:b},"",!0);else a.data.splice(b,1),dQ(a.view,b);b={Ta:0,Bb:0};a.yu=b;a.ii(b,!0);a.data.length<a.$j&&eQ(a.view,!0)}f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;function rQ(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.VM||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.VM=!1;this.MQ=_.debounce(this.MQ,500);this.Gl=this.Gl.bind(this);$(document).on("keydown",this.Gl)}t(rQ,Backbone.View);function sQ(a){var b=$(tQ({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.AY).toggleClass("toolbar__menuHeader",a.s3).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(na(a)));return new rQ({el:b[0]})}f=rQ.prototype;
f.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};f.PB=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};f.remove=function(){$(document).off("keydown",this.Gl);Backbone.View.prototype.remove.call(this)};f.MQ=function(){this.VM=!1};
f.Gl=function(a){if("visible"===this.$el.css("visibility")){this.VM=!0;this.MQ();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function uQ(a,b,c){this.element=a instanceof jQuery?a:$(a);this.AY=b;this.s3=c}var tQ=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function vQ(a){var b=this;this.index=a.index;this.ho=a.ho;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return wQ(b,!1)},keyDown:function(){return xQ(b,!1)},keyTab:function(){return xQ(b,!0)},keyShiftTab:function(){return wQ(b,!0)},keyEnter:function(a){null!==b.index&&b.trigger("select",b.index,b.ho[b.index||0],a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.ho[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function yQ(a){var b=sQ({elements:a.elements,className:a.className});"undefined"!==typeof a.Mr&&b.select(a.Mr);return new vQ({index:"undefined"===typeof a.Mr?null:a.Mr,ho:a.elements.filter(function(a){return a.AY}),view:b})}function wQ(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.ho.length-1:0);a.view.select(a.index);a.view.PB();a.trigger("activeChange",a.ho[a.index])}f=vQ.prototype;f.PB=function(a){this.view.PB(a)};
function xQ(a,b){a.index||(a.index=0);a.index++;a.index>=a.ho.length&&(a.index=b?0:a.ho.length-1);a.view.select(a.index);a.view.PB();a.trigger("activeChange",a.ho[a.index])}f.remove=function(){this.stopListening();this.view.remove()};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function zQ(){Backbone.View.call(this,{className:"sideDrawer",tagName:"section"});this.visible=!1;this.Ln=[];this.$el.hide().append('\x3cdiv class\x3d"sideDrawer__frame"\x3e\x3c/div\x3e')}t(zQ,Backbone.View);zQ.prototype.events=function(){return{click:this.preventDefault}};zQ.prototype.preventDefault=function(a){a.stopPropagation();a.preventDefault()};zQ.prototype.Wt=function(a){this.Ln.push(a);this.$el.find(".sideDrawer__frame").append(a.$el);return this};
function DC(a,b){b&&!a.visible?(a.visible=!0,a.$el.show(),a.$el.addClass("sideDrawer--showing"),a.$el.removeClass("sideDrawer--hiding")):!b&&a.visible&&AQ(a)}function AQ(a){a.visible=!1;a.$el.addClass("sideDrawer--hiding");a.$el.removeClass("sideDrawer--showing");P.delay(200*1.1).then(function(){return a.$el.hide()})}zQ.prototype.remove=function(){this.trigger("remove");this.Ln.forEach(function(a){a.stopListening();a.remove()});Backbone.View.prototype.remove.call(this)};function BQ(){}function CQ(){this.type="separator"}t(CQ,BQ);function DQ(a,b){CQ.call(this);this.id=a;this.label=b}t(DQ,CQ);
function EQ(a,b,c){c=void 0===c?{}:c;this.id=a;this.label="number"==typeof b?b.toFixed(1).toString().replace(".0",""):b;this.Ft=(c.Ft||b).toString();this.tf=!!c.tf;this.mn=c.mn;this.enabled=void 0===c.enabled?!0:c.enabled;this.hidden=!!c.hidden;this.icon=!!c.icon;this.Of=c.Of;this.qj=!!c.qj;this.Ve=c.Ve||"no";"string"==typeof c.Le?(a=c.Le,b=-1<navigator.platform.indexOf("Mac")?"":"Ctrl ",a=a.replace("^",b)):a=void 0;this.Le=a}t(EQ,BQ);
function FQ(a,b,c){this.id=a;this.label=b;this.placeholder=c;this.type="input"}t(FQ,BQ);function GQ(a,b,c){c=void 0===c?{}:c;this.id=a;this.label=b;this.type="slider";this.min=c.min||0;this.max=c.max||100;this.step=c.step||1}t(GQ,BQ);function HQ(a,b,c){this.color=a;this.label=b;this.index=c||0;this.type="color";this.target="any"}t(HQ,BQ);function IQ(a,b,c){HQ.call(this,a,b,c);this.target="fill"}t(IQ,HQ);function JQ(a,b,c){HQ.call(this,a,b,c);this.target="text"}t(JQ,HQ);function KQ(a,b){var c=!1,d=new CQ,e=[];a instanceof cC?(e.push(new IQ("",te(b))),c=!0):a.ab&&a.ab().length&&(e=e.concat(a.ab().map(function(a,c){if(a instanceof on)return new IQ(a.qa(),te(b),c);if("string"===typeof a)return new IQ(a,te(b),c);if(null===a)return new IQ("",te(b),c)})),c=!0);if(a instanceof hp||a.dg&&a.dg()&&(a.pV()||a.Op()))c&&e.push(d),e.push(new EQ("filter",b.format("editorToolbarImageFilter"),{enabled:a.Zp(),hidden:a instanceof hp&&!a.dg()}));if(a.ym||a instanceof hp)c&&-1===e.indexOf(d)&&
e.push(d),e.push(new EQ("crop",b.format("editorToolbarImageCrop"),{enabled:!(a.Up&&a.Up()),hidden:a instanceof hp&&!a.ym}));if(a.Vp()){c&&-1===e.indexOf(d)&&e.push(d);var g=[];g.push(new EQ("flipHorizontal",b.format("editorToolbarElementFlipHorizontally"),{icon:!0}));g.push(new EQ("flipVertical",b.format("editorToolbarElementFlipVertically"),{icon:!0}));e.push(new EQ("flip",b.format("editorToolbarElementFlip"),{Of:g,qj:!0}))}c&&a.bA()&&(-1===e.indexOf(d)&&e.push(d),e.push(new EQ("gridSpacing",b.format("editorToolbarGridSpacing"),
{Of:[new GQ("gridSpacing",b.format("editorToolbarGridSpacing"))]})));return e}
function LQ(a,b){var c=[],d={HorizontalAlignLeft:new EQ("HorizontalAlignLeft",le(b),{icon:!0,tf:!0}),HorizontalAlignCenter:new EQ("HorizontalAlignCenter",ne(b),{icon:!0,tf:!0}),HorizontalAlignRight:new EQ("HorizontalAlignRight",me(b),{icon:!0,tf:!0}),VerticalAlignTop:new EQ("VerticalAlignTop",oe(b),{icon:!0,tf:!0}),VerticalAlignCenter:new EQ("VerticalAlignCenter",qe(b),{icon:!0,tf:!0}),VerticalAlignBottom:new EQ("VerticalAlignBottom",pe(b),{icon:!0,tf:!0})},e={HorizontalDistribute:new EQ("HorizontalDistribute",
re(b),{icon:!0,tf:!0}),VerticalDistribute:new EQ("VerticalDistribute",se(b),{icon:!0,tf:!0})};c.push(new DQ("AlignTo",b.format("editorToolbarElementAlignTo")));a.forEach(function(a){d[a.id]&&c.push(d[a.id])});c.push(new DQ("SpaceEvenly",b.format("editorToolbarElementSpaceEvenly")));a.forEach(function(a){e[a.id]&&c.push(e[a.id])});return c}
function MQ(a,b,c){var d=[],e={group:new EQ("group",c.format("editorToolbarElementGroup"),{enabled:!1}),ungroup:new EQ("ungroup",c.format("editorToolbarElementUngroup"),{enabled:!0}),copy:new EQ("copy",c.format("editorToolbarElementCopy")),arrange:new EQ("arrange",c.format("editorToolbarElementArrange"),{qj:!0,Of:[new EQ("forward",c.format("editorToolbarElementForward"),{icon:!0,Le:"^]",tf:!0}),new EQ("back",c.format("editorToolbarElementBack"),{icon:!0,Le:"^[",tf:!0})]}),transparency:new EQ("transparency",
je(c),{icon:!0,Of:[new GQ("transparency",je(c))]}),link:new EQ("link",c.format("editorToolbarElementLink"),{icon:!0,Of:[new FQ("link",c.format("editorToolbarElementLinkApply"),c.format("editorToolbarElementLinkPlaceholder"))]}),"delete":new EQ("delete",ie(c),{icon:!0}),deletePlaceholderMenu:new EQ("deleteMenu",ie(c),{icon:!0,qj:!0,Of:[new EQ("imageDelete",c.format("editorToolbarDeleteMenuDeleteImage"),{icon:!1}),new EQ("delete",ue(c),{icon:!1})]}),deleteElementMenu:new EQ("deleteMenu",ie(c),{icon:!0,
qj:!0,Of:[new EQ("elementDelete",ue(c),{icon:!1}),new EQ("delete",c.format("editorToolbarDeleteMenuDeleteGroup"),{icon:!1})]})};0!==b.length&&LQ(b,c).forEach(function(a){e.arrange.Of.push(a)});d.push(new CQ);var g=["deletePlaceholder","deleteElement"];a.forEach(function(b){-1<g.indexOf(b)||("delete"===b?(d.push(new EQ("more",c.format("editorToolbarElementMore"),{Of:[],qj:!0,enabled:!1})),-1!==a.indexOf("deletePlaceholder")?d.push(e.deletePlaceholderMenu):-1!==a.indexOf("deleteElement")?d.push(e.deleteElementMenu):
d.push(e["delete"])):d.push(e[b]))});return d};function NQ(a,b){a=goog.asserts.assertArray(a.items,"expected parameter 'items' of type list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, index: float|int, label: string, placeholder: string, shortcut: string, submenu: list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: bool]\x3e, target: string, tooltip: string, type: string, vertical: bool]\x3e.");
var c='\x3cul class\x3d"toolbar__list"\x3e';if(a)for(var d=a.length,e=0;e<d;e++){var g=a[e];if("color"==g.type)g=OQ({color:g.color,label:g.label,index:g.index,target:g.target},b);else if("slider"==g.type){var h=g;soy.asserts.assertType(goog.isString(h.id)||h.id instanceof goog.soy.data.SanitizedContent,"id",h.id,"string|goog.soy.data.SanitizedContent");g=h.id;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
var k=h.label;soy.asserts.assertType(goog.isNumber(h.min),"min",h.min,"number");var l=h.min;soy.asserts.assertType(goog.isNumber(h.max),"max",h.max,"number");var m=h.max;soy.asserts.assertType(goog.isNumber(h.step),"step",h.step,"number");h=h.step;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--slider"\x3e\x3clabel class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/label\x3e\x3cdiv class\x3d"toolbar__sliderWrapper"\x3e\x3cdiv class\x3d"toolbar__sliderBackground"\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__slider toolbar__slider--'+
soy.$$escapeHtmlAttribute(g)+'" type\x3d"range" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" /\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__sliderValue toolbar__sliderValue--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"number" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" disabled\x3d"disabled" /\x3e\x3c/li\x3e')}else if("input"==g.type)l=
g,soy.asserts.assertType(goog.isString(l.id)||l.id instanceof goog.soy.data.SanitizedContent,"id",l.id,"string|goog.soy.data.SanitizedContent"),g=l.id,soy.asserts.assertType(goog.isString(l.label)||l.label instanceof goog.soy.data.SanitizedContent,"label",l.label,"string|goog.soy.data.SanitizedContent"),k=l.label,soy.asserts.assertType(goog.isString(l.placeholder)||l.placeholder instanceof goog.soy.data.SanitizedContent,"placeholder",l.placeholder,"string|goog.soy.data.SanitizedContent"),l=l.placeholder,
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--input"\x3e\x3cinput class\x3d"toolbar__input toolbar__input--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e\x3cbutton class\x3d"button buttonSmall toolbar__submit toolbar__submit--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/button\x3e\x3cdiv class\x3d"toolbar__inputLabel toolbar__inputLabel--'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/li\x3e');
else if("separator"==g.type)g='\x3cli class\x3d"toolbar__item toolbar__separator toolbar__subheading"\x3e'+(g.label?'\x3cspan class\x3d"toolbar__label"\x3e'+soy.$$escapeHtml(g.label)+"\x3c/span\x3e":"")+"\x3c/li\x3e";else{var n=g,g=b;soy.asserts.assertType(goog.isString(n.id)||n.id instanceof goog.soy.data.SanitizedContent,"id",n.id,"string|goog.soy.data.SanitizedContent");k=n.id;soy.asserts.assertType(goog.isString(n.label)||n.label instanceof goog.soy.data.SanitizedContent,"label",n.label,"string|goog.soy.data.SanitizedContent");
l=n.label;soy.asserts.assertType(goog.isString(n.Ft)||n.Ft instanceof goog.soy.data.SanitizedContent,"tooltip",n.Ft,"string|goog.soy.data.SanitizedContent");m=n.Ft;soy.asserts.assertType(null==n.tf||goog.isBoolean(n.tf)||1===n.tf||0===n.tf,"disableTooltip",n.tf,"boolean|null|undefined");h=n.tf;soy.asserts.assertType(null==n.icon||goog.isBoolean(n.icon)||1===n.icon||0===n.icon,"icon",n.icon,"boolean|null|undefined");var p=n.icon;soy.asserts.assertType(null==n.enabled||goog.isBoolean(n.enabled)||1===
n.enabled||0===n.enabled,"enabled",n.enabled,"boolean|null|undefined");var q=n.enabled;soy.asserts.assertType(null==n.hidden||goog.isBoolean(n.hidden)||1===n.hidden||0===n.hidden,"hidden",n.hidden,"boolean|null|undefined");var u=n.hidden;soy.asserts.assertType(null==n.qj||goog.isBoolean(n.qj)||1===n.qj||0===n.qj,"vertical",n.qj,"boolean|null|undefined");var v=n.qj;soy.asserts.assertType(null==n.Ve||n.Ve instanceof goog.soy.data.SanitizedContent||goog.isString(n.Ve),"editable",n.Ve,"null|string|undefined");
var z=n.Ve;soy.asserts.assertType(null==n.Le||n.Le instanceof goog.soy.data.SanitizedContent||goog.isString(n.Le),"shortcut",n.Le,"null|string|undefined");var r=n.Le;soy.asserts.assertType(null==n.Of||goog.isArray(n.Of),"submenu",n.Of,"?Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, index: number, label: string, placeholder: string, shortcut: string, submenu: !Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: boolean}\x3e, target: string, tooltip: string, type: string, vertical: boolean}\x3e|undefined");
n=n.Of;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--'+soy.$$escapeHtmlAttribute(k)+" "+(q?"enabled":"disabled")+" "+(u?"hidden":"")+" "+(n?"toolbar__item--submenu":"")+'"\x3e\x3cbutton data-item\x3d"'+soy.$$escapeHtmlAttribute(k)+'" class\x3d"toolbar__button toolbar__button--'+soy.$$escapeHtmlAttribute(k)+" "+(p?"toolbar__button--icon":"")+'"\x3e'+("number"==z?'\x3cinput class\x3d"toolbar__inputButton toolbar__inputButton--'+soy.$$escapeHtmlAttribute(k)+
'" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e':'\x3cspan class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(l)+'\x3c/span\x3e\x3cspan class\x3d"toolbar__spinner"\x3e\x3c/span\x3e'+(r&&h?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(r)+"\x3c/span\x3e":""))+"\x3c/button\x3e"+(h?"":'\x3cdiv class\x3d"toolbar__tooltip toolbar__tooltip--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+
soy.$$escapeHtml(m)+(r?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(r)+"\x3c/span\x3e":"")+"\x3c/div\x3e")+(n?'\x3cmenu class\x3d"toolbar toolbar--'+soy.$$escapeHtmlAttribute(k)+" "+(v?"toolbar--vertical":"")+'"\x3e'+NQ({items:n},g)+"\x3c/menu\x3e":"")+"\x3c/li\x3e")}c+=g}return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/ul\x3e")}
function OQ(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");var c=a.color;soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var d=a.index;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var e=a.label;soy.asserts.assertType(goog.isString(a.target)||a.target instanceof
goog.soy.data.SanitizedContent,"target",a.target,"string|goog.soy.data.SanitizedContent");a=a.target;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--color toolbar__item--color--'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cbutton data-colorindex\x3d"'+soy.$$escapeHtmlAttribute(d)+'" class\x3d"toolbar__button toolbar__button--color toolbar__button--icon toolbar__target--'+soy.$$escapeHtmlAttribute(a)+" "+(""==c?"noColor":"")+'" '+(""!=c?'style\x3d"'+(b.Yb?"/*"+
b.Yb+"*/":"")+"background-color: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(c))+'"':"")+'\x3e\x3c/button\x3e\x3cdiv class\x3d"toolbar__tooltip"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/li\x3e")}
function PQ(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");var c=a.width;soy.asserts.assertType(goog.isNumber(a.height),"height",a.height,"number");a=a.height;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" viewBox\x3d"0 0 '+
soy.$$escapeHtmlAttribute(c)+" "+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdefs\x3e\x3cfilter id\x3d"invert"\x3e\x3cfeColorMatrix in\x3d"SourceGraphic" type\x3d"matrix" values\x3d"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"/\x3e\x3c/filter\x3e\x3c/defs\x3e\x3cimage x\x3d"0" y\x3d"0" width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" xlink:href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(b))+'" filter\x3d"url(#invert)"/\x3e\x3c/svg\x3e')};function QQ(a){var b="toolbar ",b=a.name?b+" toolbar--"+a.name:b,b=a.OD?b+" "+a.OD:b,b=a.Di?b+" toolbar--"+a.Di:b;Backbone.View.call(this,{className:b,tagName:"menu"});this.G=a.G;this.name=a.name;this.Di=a.Di;this.element=a.element;this.RG=a.RG;this.EE=!1}t(QQ,Backbone.View);f=QQ.prototype;
f.events=function(){return{"mousedown \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.AZ,"mouseup .toolbar__item--submenu:not(.toolbar__item--more).enabled .toolbar .toolbar__item \x3e .toolbar__button":this.P9,"click \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.O9,"click .toolbar__item--more.enabled .toolbar .toolbar__button":this.AZ}};f.AZ=function(a){a=$(a.target);this.EE=!0;RQ(this,a.closest(".toolbar__item"),a)};
f.P9=function(a){a=$(a.target).closest(".toolbar__item");var b=a.find(".toolbar__button \x3e .toolbar__inputButton");!b.length&&this.EE&&a.parents(".toolbar__item--submenuExpanded").length?(SQ(this),this.EE=!1):b.length&&b.addClass("toolbar__inputButton--active").focus().select()};f.O9=function(){this.EE=!1};
function RQ(a,b,c){if(b.hasClass("toolbar__item--submenu")||b.hasClass("toolbar__item--color")){a.trigger("openSubmenu",b,c);var d=b.hasClass("toolbar__item--more"),e=b.parents(".toolbar__item--more").length,g=a.$el.find(".toolbar--more");if(e)g.after(b.find(".toolbar").clone()),g.addClass("hidden");else{c=c.hasClass("toolbar__inputButton--fontSize")&&b.hasClass("toolbar__item--submenuExpanded");d&&g.hasClass("hidden")||c||!a.RG||a.RG();b.hasClass("toolbar__item--submenuExpanded")||b.addClass("toolbar__item--submenuExpanded");
var h=b.find(".toolbar__button \x3e .toolbar__inputButton");a=b.find(".toolbar:first \x3e .toolbar__list \x3e .toolbar__item--input");d=b.find(".menuList").length;h.length?pl(function(){h.addClass("toolbar__inputButton--active").focus().select()}):d?b.find(".menuList__inner .active").focus():a.length&&a.focus();g.removeClass("hidden");g.next(".toolbar").remove()}}}
function SQ(a,b){b=void 0===b?0:b;var c=a.$el.find(".toolbar__item--submenuExpanded");if(c){var d=c.parents(".toolbar").data("element");a.trigger("closeSubmenu",d)}a.$el.find(".toolbar__inputButton--active").removeClass("toolbar__inputButton--active");return P.delay(b).then(function(){return c.addClass("toolbar__item--submenuCollapsing")}).delay(200).then(function(){return c.removeClass("toolbar__item--submenuExpanded toolbar__item--submenuCollapsing")})}f.C=function(){return this.element};
f.getName=function(){return this.name};f.Ju=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("disabled").addClass("enabled")})};f.AK=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("enabled").addClass("disabled")})};
f.NF=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).addClass("hidden")})};f.TY=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("hidden")})};f.Qf=function(a,b){b?this.Ju(a):this.AK(a)};
function TQ(a,b){a.$el.find(".toolbar__item--fontFamily .toolbar__spinner").toggleClass("toolbar__spinner--visible",b)}function UQ(a,b,c,d){c="number"==typeof c?c.toFixed(1).toString().replace(".0",""):c;a.$el.find(".toolbar__label--"+b).text(c);a.$el.find(".toolbar__inputButton--"+b).val(c);d&&a.$el.find(".toolbar__label--"+b).css("font-family",d)}function VQ(a,b,c){a.$el.find(".toolbar__item--"+b).toggleClass("toolbar__item--active",c)}
f.tS=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.addClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").addClass("toolbar__activeItem--"+a)});return this};
f.HT=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.removeClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").removeClass("toolbar__activeItem--"+a)});return this};f.nD=function(a,b){this.$el.find(".toolbar__item--"+a).append(b.$el).addClass("toolbar__item--submenu")};
f.py=function(a){"right"===this.Di?this.$el.appendTo(a):this.$el.prependTo(a)};f.setFillColor=function(a,b,c){this.setColor(a,b,c,"fill")};function WQ(a,b,c,d){a.setColor(b,c,d,"text")}
f.setColor=function(a,b,c,d){function e(a){var b="",c=100/a.length;a.forEach(function(d,e){var g=e*c+"%",q=(e+1)*c+"%";0==e?b+=d+" "+q+",":e==a.length-1?b+=d+" "+g:(b+=d+" "+g+",",b+=d+" "+q+",")});return{o$:"-webkit-linear-gradient(left, "+b+")",t9:"linear-gradient(to right, "+b+")"}}c=c||0;var g=this.$el.find(".toolbar__button--color");d&&(g=g.filter(".toolbar__target--"+d));g=g.filter('[data-colorindex\x3d"'+c+'"]');g.length||(g=this.$el.not(".toolbar--element").find(".toolbar__list"),"fill"===
d?g.append(OQ(new IQ("",b,c)).toString()):"text"===d?g.append(OQ(new JQ("",b,c)).toString()):g.append(OQ(new HQ("",b,c)).toString()),g=this.$el.find(".toolbar__button--color").filter('[data-colorindex\x3d"'+c+'"]'));0<a.length?(g.removeClass("noColor"),1==a.length?-1<a[0].indexOf("url")||a[0]===kB?g.css("background-color","").css("background-image","").addClass("noColor"):g.css("background-color",a[0]).css("background-image",""):(a=a.map(function(a){return a||"black"}),a=e(a),g.css("background-color",
"").css("background-image",a.o$).css("background-image",a.t9))):this.element.data("fill")?(a=uh(this.element.data("fill")),g.css("background-color",a.qa()).css("background-image","").removeClass("noColor")):g.css("background-color","").css("background-image","").addClass("noColor")};function XQ(a){a.$el.find(".toolbar__separator").removeClass("hidden");a=a.$el.find(".toolbar__item:not(.hidden)").last();a.hasClass("toolbar__separator")&&a.addClass("hidden")}f.addClass=function(a){this.$el.addClass(a)};
f.removeClass=function(a){this.$el.addClass(a)};f.render=function(a){this.el.innerHTML=NQ({items:a});return this};function YQ(a){this.view=a.view;this.items=a.items;this.element=a.element;this.cd=a.element.data("canvaElement");this.yo=[];this.bW=0}function ZQ(a){var b=new QQ({G:a.G,name:a.name,OD:a.OD,Di:a.Di,element:a.element,RG:function(){return a.Ie.trigger("hideContextualControlsRequested")}});return(new YQ({element:a.element,view:b,items:a.items})).render()}
function $Q(a){a.view.$el.css("visibility","hidden");a.view.$el.find(".toolbar__item").each(function(a,c){c=$(c);var d=c.outerWidth(!0);0===a&&(d+=c.position().left);c.attr("data-width",d)});a.view.$el.find(".toolbar__item--more").addClass("disabled").removeClass("enabled");a.view.$el.css("visibility","visible")}f=YQ.prototype;
f.hF=function(){var a=this,b=this.Se&&this.Se.width();if(b!==this.bW){this.bW=b;var c=function(){return a.view.$(".toolbar__item--collapsed").length},d=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--delete, .toolbar__item--more, .toolbar__item--deleteMenu"),e=this.view.$el.not(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item"),g=this.view.$(".toolbar__item--more"),h=g.data("width"),k=20;this.view.$("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--collapsed").not(".toolbar__item--more.disabled").each(function(a,
b){k+=$(b).data("width")});if(k>b)for(c=e.get().concat(d.get()).reverse(),d=0;d<c.length&&(e=$(c[d]),e.hasClass("toolbar__item--collapsed")||(e.addClass("toolbar__item--collapsed"),k-=parseInt(e.data("width"),10),g.hasClass("disabled")&&(k+=h,g.removeClass("disabled").addClass("enabled")),!(k<b)));d++);else if(c()&&k<b){h=e.filter(".toolbar__item--collapsed").get().concat(d.filter(".toolbar__item--collapsed").get());for(d=0;d<h.length;d++)if(e=$(h[d]),k+e.data("width")<b)k+=e.data("width"),e.removeClass("toolbar__item--collapsed");
else break;1>=c()&&(this.view.$(".toolbar__item--collapsed").removeClass("toolbar__item--collapsed"),g.removeClass("enabled").addClass("disabled"))}var b=this.view.$el.not(".toolbar--element").find(".toolbar__item--collapsed").get(),g=this.view.$el.filter(".toolbar--element").find(".toolbar__item--collapsed").get(),l=this.view.$(".toolbar--more ul");l.empty();b.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});g.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});
this.view.$(".toolbar").each(function(a,b){b.getBoundingClientRect().right>window.innerWidth&&$(b).addClass("toolbar--alignRight")});b=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item:last-child").find("\x3e .toolbar__button .toolbar__tooltip");b.length&&b.get(0).getBoundingClientRect().right>window.innerWidth&&b.addClass("toolbar__tooltip--alignRight")}};f.C=function(){return this.element};f.nD=function(a,b){this.view.nD(a,b.view);this.yo.push(b)};
function aR(a,b){a.view.$el=a.view.$el.add(b.view.$el);a.yo.push(b)}f.save=function(a){this.view.$el.data("element",this.element);this.view.$el.data("toolbar",this);this.element.data(a||"toolbar",this)};f.hide=function(){this.view.$el.hide()};f.show=function(){this.view.$el.show()};
f.py=function(a,b){this.Se=a;this.activate();this.Se.empty().append('\x3cdiv class\x3d"toolbar__wrapper"\x3e\x3c/div\x3e');this.view.py(this.Se.find(".toolbar__wrapper"));$Q(this);this.hF();this.JP=_.debounce(this.hF.bind(this),300);this.viewport=b;this.viewport.on("resize",this.JP)};f.activate=function(){this.Se&&this.Se.addClass("toolbarContainer--active")};f.mE=function(){this.Se&&this.Se.removeClass("toolbarContainer--active")};
function bR(a,b){a.Se&&a.Se.toggleClass("toolbarContainer--noAnimation",!b)}function cR(a,b,c){b.forEach(function(b,e){b instanceof on?a.view.setFillColor([b.qa()],c,e):"string"==typeof b&&a.view.setFillColor([b],c,e)});XQ(a.view)}function dR(a){function b(a){a.forEach(function(a){a instanceof vQ&&a.PB(!0);a.yo&&b(a.yo)})}a.yo&&b(a.yo)}f.addClass=function(a){this.view.$el.addClass(a)};f.removeClass=function(a){this.view.$el.addClass(a)};f.data=function(a){return"canvaElement"===a?this.cd:this.element};
f.Yn=function(a){this.yo.forEach(function(b){b.view.getName()===a&&b.remove(!0)})};f.remove=function(a){var b=this;this.JP&&this.viewport.off("resize",this.JP);a?(bR(this,!1),this.mE(),this.yo.forEach(function(a){a.remove(!0)}),this.view.remove()):(this.mE(),P.delay(400).then(function(){bR(b,!0);b.yo.forEach(function(a){a.remove(!0)});b.view.remove()}))};f.render=function(){this.view.render(this.items);return this};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function eR(a,b,c){a=a||"Glegoo";b=b===dE?c.yd():b;return[new EQ("fontFamily",a,{Ft:c.format("editorToolbarFontFamilyTooltip")}),new EQ("fontSize",b,{Ft:c.format("editorToolbarFontSizeTooltip"),Ve:"number"}),new CQ,new JQ("",te(c)),new CQ,new EQ("bold",c.format("editorToolbarTextBold"),{icon:!0,Le:"^B"}),new EQ("italic",c.format("editorToolbarTextItalic"),{icon:!0,Le:"^I"}),new EQ("textAlign",c.textAlign(),{icon:!0,Of:[new EQ("left",c.format("editorToolbarTextLeft"),{icon:!0,Le:"^ Shift L"}),new EQ("center",
c.format("editorToolbarTextCenter"),{icon:!0,Le:"^ Shift C"}),new EQ("right",c.format("editorToolbarTextRight"),{icon:!0,Le:"^ Shift R"})]}),new EQ("uppercase",c.format("editorToolbarTextUppercase"),{icon:!0,Le:"^ Shift K"}),new EQ("list",c.format("editorToolbarTextList"),{icon:!0}),new CQ,new EQ("textSpacing",c.format("editorToolbarTextSpacing"),{Of:[new GQ("letterSpacing",c.letterSpacing(),{min:-200,max:800,step:10}),new GQ("lineHeight",c.lineHeight(),{min:.5,max:2.5,step:.01}),new CQ,new EQ("textVerticalAlign",
c.format("editorToolbarResizeTextBox")),new EQ("textVerticalAlignTop",c.format("editorToolbarResizeTextBoxFromTop"),{icon:!0,Le:"^ Alt T"}),new EQ("textVerticalAlignMiddle",c.format("editorToolbarResizeTextBoxFromMiddle"),{icon:!0,Le:"^ Alt M"}),new EQ("textVerticalAlignBottom",c.format("editorToolbarResizeTextBoxFromBottom"),{icon:!0,Le:"^ Alt B"})]})]}
function fR(a){function b(b,d){var e=d.name||d.family,g=d.displayName||e,k=c(d.displayNameThumbnail),e=$('\x3cbutton href\x3d"#"\n          data-name\x3d"'+e+'"\n          data-display-name\x3d"'+g+'"\n          data-family\x3d"'+d.family+'"\n          data-image-src\x3d"'+k.url+'"\n          title\x3d"'+g+'"\n          class\x3d"toolbar__button toolbar__button--font"\x3e\x3c/button\x3e');E||g!==I&&d.family!==I||(e.addClass("toolbar__button--selected"),E=!0);a.UZ&&b?g=$('\x3cdiv class\x3d"toolbar__thumbnailSVG"\x3e\x3c/div\x3e').append(PQ(k).toString()):
(g=$('\x3cimg class\x3d"toolbar__thumbnail" src\x3d"'+k.url+'" width\x3d"'+k.width+'" height\x3d"'+k.height+'" alt\x3d"'+g+'" /\x3e'),b&&g.addClass("toolbar__thumbnail--inverted"));e.append(g);if(g=d.sampleTextThumbnail)g=!!d.sampleTextThumbnail&&!(qJ.has(h.locale)&&(!h.locale||!d.locales||-1!==d.locales.indexOf(h.locale)));g&&(d=c(d.sampleTextThumbnail),a.UZ&&b?(b=$('\x3cdiv class\x3d"toolbar__fontSampleTextSVG"\x3e\x3c/div\x3e').append(PQ(d).toString()),e.append(b)):e.append($('\x3cimg class\x3d"toolbar__fontSampleText" src\x3d"'+
d.url+'" width\x3d"'+d.width+'" height\x3d"'+d.height+'" /\x3e')));return new uQ(e,!0,!1)}function c(a){return{url:a.url,width:a.width/a.height*30,height:30}}function d(a){a=$('\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuListSeparator"\x3e'+a+'\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e');return new uQ(a,!1,!0)}function e(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadUpgradePrompt");
var d=k.nN();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"prompt",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"buttonLabel",d,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontCta"\x3e\x3cdiv class\x3d"toolbar__fontCtaLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cbutton class\x3d"button buttonSmall toolbar__fontCtaButton"\x3e'+
soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}function g(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadCtaTitle");var d=k.format("editorToolbarFontUploadCtaLabel"),e=!(0<h.PC.length);soy.asserts.assertType(goog.isString("/brand"),"url","/brand","null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"title",c,"null|string|undefined");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"label",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"buttonEnabled",e,"boolean");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontUploadFeatureCta"\x3e'+(e?'\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':
"")+' target\x3d"_blank"\x3e\x3cbutton class\x3d"button toolbar__fontUploadFeatureCtaButton"\x3e'+yp({ya:"toolbar__fontUploadFeatureCtaButtonIcon"})+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/a\x3e":'\x3cdiv class\x3d"toolbar__fontUploadFeatureCtaLink"\x3e\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+'"'+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/div\x3e")+
"\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}var h=a.M2,k=a.uf,l=uJ(h),m=_.uniq(h.fP,!1,function(a){return a.family+a.displayName}),n=rJ(h),p=a.W1.map(function(a){return yA(h,a)}).filter(function(a){return!!a}).sort(h.TJ),q=new Set(l.filter(function(a){return!h.locale||!a.locales||-1!==a.locales.indexOf(h.locale)})),l=l.filter(function(a){return!q.has(a)}),u=n.length||m.length,v=0<q.size,z=2<=p.length||0<p.length&&u,r=0<l.length,x=v?k.format("editorToolbarOtherFontFamily"):k.format("editorToolbarAllFontFamily"),
I=a.Cz;I||(I=p[0]?p[0].displayName||p[0].name||p[0].family:m[0]?m[0].displayName||m[0].name||m[0].family:"Glegoo");var E=!1,u=[],u=z?u.concat(d(k.format("editorToolbarDocumentFontFamily"))).concat(p.map(b.bind(null,!1))):u,u=m.length?u.concat(d(k.format("editorToolbarBrandFontFamily"))).concat(m.map(b.bind(null,!1))):u,u=n.length?u.concat(d(k.format("editorToolbarUploadedFontFamily"))).concat(n.map(b.bind(null,!0))):u,u=v?u.concat(d(k.format("editorToolbarLocaleFontFamily"))).concat([].concat(na(q)).map(b.bind(null,
!1))):u,u=r?u.concat(d(x)).concat(l.map(b.bind(null,!1))):u,m=_.findIndex(u.filter(function(a){return a.element&&a.element.data("name")}),function(a){return a.element.data("name")===I}),m=yQ({elements:u,Mr:m});a.N2?e(m.view.$el):a.O2&&g(m.view.$el);m.view.$el.find(".toolbar__button--selected").parent().addClass("active");return m}
function gR(a,b){var c=Kb,d=b.map(function(b){var d=b===a?"toolbar__button--selected":"",e=b===dE?yc(c).yd():b;b=$('\x3cbutton class\x3d"toolbar__button '+d+'"\x3e').attr("data-text",b).text(e)[0];return new uQ(b,!0,!1)}),e=b.indexOf(a);if(-1===e)for(var g=Math.ceil(a),h=0;h!==b.length;h++)g>b[h]&&(e=h);b=yQ({elements:d,Mr:e});b.view.$el.find(".toolbar__button--selected").parent().addClass("active");return b}var dE=Number.POSITIVE_INFINITY;function Ez(a){Backbone.View.call(this,{className:"toolbarContainer",tagName:"menu"});this.i=a.i}var hR,iR,jR,kR;t(Ez,Backbone.View);
Ez.prototype.init=function(a){var b=this.i;lR(b);$("#content").on("click",".toolbar__button",!1);mR.forEach(function(b){var c=this;(nR[b]||[]).forEach(function(g){c.$el.on("click",g,{cancel:!0},oR(b,a))})}.bind(this));$("#content").on("click",function(a){$(a.target).closest(".toolbar--fx,.toolbar--flip,.toolbar__item--submenu,.colorPalette,.colorPicker").length||T.trigger("hideContextualControlsRequested")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--back",{cancel:!0},function(){pR(this)});
this.$el.on("mouseup",".enabled \x3e .toolbar__button--forward",{cancel:!0},function(){qR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--copy",{cancel:!0},rR);this.$el.on("click",".enabled \x3e .toolbar__button--delete",{cancel:!0},function(){sR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--imageDelete",{cancel:!0},function(){T.trigger("hideContextualControlsRequested");var a=$(this).parents(".toolbar").last().data("element").data("canvaElement");if(a){var b=a.Gc(),c=
a.pl(b),b={elementIndex:a.K(),pageIndex:a.R().K(),placeholderIndex:b,"new":{},old:c};a.jY();M.register(new Y(XN,b));a.$a()}});this.$el.on("click",".enabled \x3e .toolbar__button--elementDelete",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");a&&(a=a.cd)&&a instanceof gC&&tR(a)});this.$el.on("click",".enabled \x3e .toolbar__button--group",{cancel:!0},uR);this.$el.on("click",".enabled \x3e .toolbar__button--ungroup",{cancel:!0},vR);this.$el.on("click",".enabled \x3e .toolbar__button--crop",
{cancel:!0},wR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipHorizontal",{cancel:!0},function(){var a=xR(this);if(a instanceof cC){var b=a.Gc(),c=a.Fp(b),h=c.za,k=h^1;c.pt(k);a={pageIndex:jp(J,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else yR.call(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipVertical",{cancel:!0},function(){var a=xR(this);if(a instanceof cC){var b=a.Gc(),c=a.Fp(b),h=c.za,
k=h^2;c.pt(k);a={pageIndex:jp(J,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else zR.call(this)});this.$el.on("click",".toolbar__fontCtaButton",{cancel:!0},function(){var a=Lb;a.l.wa(pm("toolbar_fonts_menu","bottom","fonts"));Oo(a,AR)});this.$el.on("click",".toolbar__fontUploadFeatureCtaTarget",{cancel:!0},function(){Sl(BR(),"upload_your_own_fonts","editor","toolbar","font_dropdown")});this.$el.on("mouseleave",".enabled.toolbar__item--submenu .menuList",
{cancel:!0},CR);this.$el.on("keyup",".enabled \x3e .toolbar__button \x3e .toolbar__inputButton--fontSize",{cancel:!0},DR);this.$el.on("click",".enabled \x3e .toolbar__button--bold",{cancel:!0},function(){ER(this)});this.$el.on("click",".enabled \x3e .toolbar__button--uppercase",{cancel:!0},function(){FR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--italic",{cancel:!0},function(){GR(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--left",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");
HR(a,"left")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--center",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");HR(a,"center")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--right",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");HR(a,"right")});this.$el.on("click",".enabled \x3e .toolbar__button--list",{cancel:!0},function(){IR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--transparency",{cancel:!0},
hR);this.$el.on("click",".enabled \x3e .toolbar__button--gridSpacing",{cancel:!0},iR);this.$el.on("click",".enabled \x3e .toolbar__button--textSpacing",{cancel:!0},jR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignLeft",{cancel:!0},function(){var a=JR(this);a&&KR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignRight",{cancel:!0},function(){var a=JR(this);a&&LR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignCenter",{cancel:!0},
function(){var a=JR(this);a&&MR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignTop",{cancel:!0},function(){var a=JR(this);a&&NR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignBottom",{cancel:!0},function(){var a=JR(this);a&&OR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignCenter",{cancel:!0},function(){var a=JR(this);a&&PR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalDistribute",{cancel:!0},function(){var a=
JR(this);a&&QR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalDistribute",{cancel:!0},function(){var a=JR(this);a&&RR(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignTop",{cancel:!0},function(){SR("top",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignMiddle",{cancel:!0},function(){SR("middle",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignBottom",{cancel:!0},function(){SR("bottom",
this)});this.$el.on("click",".enabled \x3e .toolbar__button--link",{cancel:!0},function(){TR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--filter",{cancel:!0},function(){UR(this,b)});Ib.H.get(mg)&&(this.$el.on("click",".enabled \x3e .toolbar__button--chartData",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");if(a){a=a.cd;a.Hu=!a.Hu;var c=VR(a,b);c&&DC(c,a.RM())}}),this.$el.on("click",".enabled \x3e .toolbar__button--chartStyle",{cancel:!0},function(){var a;
$("#objectPanel menu .elements a").click();(function(b){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+b+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+b+"]").mousedown()},500);a||(a=setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+b+"]").parent().position().top},R.Aa.Pq);a=void 0},900))})("charts")}));$(window).resize(WR);$(document).on("keyup",function(a){return 27===
a.which&&WR()});var c=this.$el;T.on("hideContextualControlsRequested",function(){if(c.find(".toolbar").length){var a=$(".toolbar").data("element");(a=a&&a.data("toolbar"))&&SQ(a.view)}else c.removeClass("toolbarContainer--active toolbarContainer--noAnimation")})};Ez.prototype.render=function(){this.$el.html('\x3cdiv class\x3d"toolbarContainer__inner"\x3e\x3c/div\x3e');return this.$el};
function lR(a){function b(a){return 100-a}function c(){return this.Af()?this.hs(this.yb()):0}function d(){return this.Af()?this.ol(this.yb()):0}hR=XR([{name:"transparency",displayName:a.Da(),method:Z.prototype.BF,Ay:YR(Z.prototype.Xl,"transparency",b),Gy:ZR(Z.prototype.BF,"transparency","transparency",!1),yN:b}]);iR=XR([{name:"gridSpacing",displayName:"Spacing",method:cC.prototype.he,Ay:YR(cC.prototype.Wq,"gridSpacing"),Gy:ZR(cC.prototype.he,"gridSpacing","spacing",!1)}]);jR=XR([{name:"letterSpacing",
displayName:a.letterSpacing(),method:c,Ay:YR(function(a){return this.Af()&&this.Ww(this.yb(),a)},"letterSpacing"),Gy:ZR(c,"letterSpacing","letterSpacing",!0)},{name:"lineHeight",displayName:a.lineHeight(),method:d,Ay:YR(function(a){return this.Af()&&this.Xw(this.yb(),a)},"lineHeight",function(a){return 100*a}),Gy:ZR(d,"lineHeight","lineHeight",!0),yN:function(a){return.01*a}}])}function WR(){T.trigger("hideContextualControlsRequested")}function BR(){kR||(kR=U||nm());return kR}
function $R(a,b,c,d,e){var g=(new UAParser).getResult().browser.name,g="IE"===g||"Edge"===g,h=c/K.lp;c=yA(Jb,b);J.zB();e=fR({Cz:b,N2:Ib.H.get(bg),O2:!!Ib.H.get(rg),M2:Jb,UZ:g,uf:e,W1:J.fonts.slice()});d=gR(h,d);a.nD("fontFamily",e);a.nD("fontSize",d);c?UQ(a.view,"fontFamily",b,c.family):UQ(a.view,"fontFamily","");e.on("select",function(b,c,d){c&&-1!==b&&(aS(c),b=function(){var b=a.cd;a.remove();bS(b,yc(Kb))},d.shiftKey||SQ(a.view,100).then(b))});d.on("select",function(b,c,d){c&&-1!==b&&("keydown"===
d.type?DR(d):cS(c),d.shiftKey||SQ(a.view,100))});d.on("activeChange",function(b){UQ(a.view,"fontSize",b.element.data("text"))});a.view.on("openSubmenu",function(a,b){a&&a.hasClass("toolbar__item--fontSize")&&(a=b.parents(".toolbar").data("element"),(a&&a.data("canvaElement"))instanceof Rp&&dS.hZ(a))});a.view.on("closeSubmenu",function(a){(a&&a.data("canvaElement"))instanceof Rp&&dS.eZ(a)})}
function qR(a){lp();var b=$(a).closest(".toolbar__item"),c=J.Ba();a=c.Va();var c=bP(c,a),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<c.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==a.length)){var b=a[0],
g=b.K(),c=c.filter(function(a){return a.K()>g});if(a=c[0])a.kb()&&(a=RF(a)),b.insertAfter(a),b.Za(),b={oldElementIndex:g,elementIndex:b.K(),pageIndex:jp(J,b.R())},M.register(new Y(4,b));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:R.Aa.cq/2,al:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:R.Aa.cq/2,al:"linear",queue:!1,complete:function(){k.before(h);h.css("left","").css("top",
"");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:R.Aa.cq,queue:!1}),k.animate({top:c},R.Aa.cq));a=window.setTimeout(function(){d.animate({opacity:0},R.Aa.fW,function(){$(this).remove()})},R.Aa.gW);d.data("fadeTimer",a)}}
function pR(a){lp();var b=$(a).closest(".toolbar__item");a=J.Ba();var c=a.Va();a=bP(a,c);var d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<a.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=
c[0],g=e.K(),b=a.filter(function(a){return a.K()<g}).reverse();if(c=b[0])e.insertBefore(c),e.Za(),e={oldElementIndex:g,elementIndex:e.K(),pageIndex:jp(J,e.R())},M.register(new Y(4,e));var e=$("li",d),h=e.eq(a.length-b.length),k=h.next();a=e.first().outerHeight(!0);h.addClass("selected");c&&(d.data("locked",!0),h.animate({left:-a/2},{duration:R.Aa.cq/2,al:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:R.Aa.cq/2,al:"linear",queue:!1,complete:function(){k.after(h);h.css("left",
"").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:a},{duration:R.Aa.cq,queue:!1}),k.animate({top:-a},R.Aa.cq));a=setTimeout(function(){d.animate({opacity:0},R.Aa.fW,function(){$(this).remove()})},R.Aa.gW);d.data("fadeTimer",a)}}
function rR(){T.trigger("hideContextualControlsRequested");lp();T.trigger("hideContextualControlsRequested");var a=[];J.Va().forEach(function(b){var c=b.clone(),d=b.R()||J.Ba();b.vA&&!1===b.vA()&&c.gR&&c.gR();nC(c,R.bD);oC(c,R.bD);c.appendTo(d);c.nc();a.push(c)});gK();a.forEach(Jg);ph();hK();setTimeout(function(){FK(a)},R.Dc)}
function sR(a){(a=$(a).parents(".toolbar").last().data("toolbar"))&&a.remove(!0);T.trigger("hideContextualControlsRequested");gK();J.Va().forEach(function(a){a.Af()&&a.Bx();cN(a);a instanceof cH&&em(BR(),"delete_chart");a.remove()});hK();$(".multipleSelectionBox").remove()}function uR(){EK()}function vR(){DK()}function wR(){T.trigger("hideContextualControlsRequested");J.Va().forEach(function(a){eS(a)})}function xR(a){return $(a).parents(".toolbar").last().data("element").data("canvaElement")}
function aS(a){function b(a){e.cd&&(a?g.is(".focused")||(gK(),k.forEach(c),hK()):alert("Sorry, there was a problem trying to apply the font "+h+". Please let us know about it."))}function c(a){var b=a.index,c=l.Vb(b);a={elementIndex:l.K(),pageIndex:jp(J,l.R()),textIndex:b,"new":c,old:a};M.register(new aO(1,a))}var d=a.element.parents(".toolbar"),e=d.data("toolbar");if(e){var g=e.C();d.find(".toolbar__button--fontFamily");var h=a.element.data("name");a.element.data("family");a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");
a.element.addClass("toolbar__button--selected");var k=[];if(g){var l=e.cd;a=l.yb();if(-1!==a)k=[l.Vb(a)],l.sk(a,h,b);else if(l.kb()&&l.ke())k=HF(l),l.MH(h,b);else return;LD(e);fS(e,l)}}}
function cS(a){var b=a.element.parents(".toolbar").last().data("element"),c=b.data("toolbar");if(c){var d=parseFloat(a.element.data("text"));UQ(c.view,"fontSize",parseFloat(d));a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");a.element.addClass("toolbar__button--selected");if(b){var e=b.data("canvaElement"),d=parseFloat(d*K.lp);!e.kb()||e.Af()||e.lV()||d===dE?gS(e,function(){d===dE?e.nL():(e.uE(),e.XB(d))}):(a=d/KF(e),hS(e,a))}}}
function CR(a){a=$(a.currentTarget);a.find(".active").removeClass("active");a.find(".toolbar__button--selected").parents(".selectable").addClass("active")}
function DR(a){a.preventDefault();a.stopPropagation();var b=$(a.target),c=b.parents(".toolbar").last();if(c&&(c=c.data("element"))){var d=c.data("canvaElement");if(13===a.which){if(a=c.data("toolbar")){var c=b.closest(".toolbar__item").find(".menuList"),e=Math.min(Math.max(1,parseFloat(b.val())),400);""===b.val()||isNaN(e)?b.val(d.Sc(0)):(b.val()!==e.toString()&&b.val(e.toString()),UQ(a.view,"fontSize",e.toString()),c.find(".toolbar__button--selected").removeClass("toolbar__button--selected"),c.find('[data-text\x3d"'+
e+'"]').addClass("toolbar__button--selected"),SQ(a.view),e=parseFloat(e*K.lp),d.kb()&&!d.Af()?(b=e/KF(d),hS(d,b)):gS(d,function(){d.XB(e)}))}}else 27===a.which&&b.val(d.Sc(0))}}
function UR(a,b){var c=$(a).parents(".toolbar").last(),d=c.data("element").data("canvaElement");d.UF();var e=!!c.data("isFxPanelVisible");T.trigger("hideContextualControlsRequested");if(!e){T.once("hideContextualControlsRequested",function(){c.removeData("isFxPanelVisible")});c.data("isFxPanelVisible",!0);var g=new iS({model:d.Ad(),UO:HI,uf:b});jS(g,a.getBoundingClientRect());a.parentElement.classList.add("toolbar__item--submenuExpanded");g.$el.removeClass("appeared").addClass("appearing");g.$el.appendTo("#content");
$(".fxPanel").show();window.setTimeout(function(){g.$el.removeClass("appearing").addClass("appeared")},R.Aa.M1)}}
function TR(a){function b(a){k.removeClass("valid invalid");a?(u.text(yc(Kb).format("editorToolbarElementLinkDescription")),k.addClass("valid")):(u.text(yc(Kb).format("editorToolbarElementLinkInvalid")),k.addClass("invalid"))}function c(){var a=k.find(".toolbar__list");a.addClass("toolbar__list--linkShakeInvalid");P.delay(300).then(function(){a.removeClass("toolbar__list--linkShakeInvalid")})}function d(a){""===a||iC.Pt.test(a)||null!==a.match(/^(http)/)||(a="http://"+a);q.val(a);jC(n,a);a=q.get(0);
var b=$(a).data("element"),c=$(a).data("lastLinkState");c!=b.Xm()&&(c={elementIndex:b.K(),pageIndex:jp(J,b.R()),"new":{link:b.Xm()},old:{link:c||""}},M.register(new Y(10,c)),$(a).data("lastLinkState",b.Xm()));h.toggleClass("hasLink",!!n.Xm());SQ(m.view)}function e(){var a=q.val().trim(),e=iC.URL.test(a)||iC.Pt.test(a),e=""===a||e;b(e);e?d(a):c()}function g(a){var e=$(a.target).val().trim(),g=iC.URL.test(e)||iC.Pt.test(e),g=""===e||g;b(g);13===a.which&&(g?d(e):c())}a=$(a);var h=a.parents(".toolbar").last(),
k=h.find(".toolbar--link"),l=h.data("element"),m=l.data("toolbar"),n=l.data("canvaElement"),p=n.Xm();a.parents(".toolbar--more").length&&(h=a.parents(".toolbar--more").next(".toolbar"));var q=h.find(".toolbar__input--link"),u=h.find(".toolbar__inputLabel--link"),v=h.find(".toolbar__submit--link");(function(a){a.val(p).data("element",n).data("lastLinkState",p).focus().select();var c=iC.URL.test(p)||iC.Pt.test(p);b(""===p||c);a.data("linkKeyup")||(a.data("linkKeyup",g).on("keyup",g),v.on("click",e))})(q)}
function yR(){gK();J.Va().forEach(function(a){if(a.Vp()){var b=a.za,c=b^1;a.pt(c);a={pageIndex:jp(J,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(kp,a))}});hK()}function zR(){gK();J.Va().forEach(function(a){if(a.Vp()){var b=a.za,c=b^2;a.pt(c);a={pageIndex:jp(J,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(kp,a))}});hK()}
function XR(a){return function(){function b(a,b){var c=a.get(0),d;a.on("input",function(){d!==a.val()&&(b.call(c),d=a.val())});b.call(c)}function c(a,b){var c=a.get(0);a.off("change input");b.call(c)}if(!$(this).hasClass("disabled")){var d=$(this).parents(".toolbar").first();d.hasClass("toolbar--more")&&(d=d.next(".toolbar"));var e=$(this).parents(".toolbar").last().data("element").data("canvaElement"),g=d;a.forEach(function(a){function k(){m.off("blur",k);c(l,a.Gy)}var l=$(".toolbar__slider--"+a.name,
d),m=$(".toolbar__sliderValue--"+a.name,d),n=a.method.call(e)||0,n=("function"==typeof a.yN?a.yN(n):n).toFixed(1).toString().replace(".0","");g.addClass(a.name+"SliderPresent");l.val(n);m.val(n);l.addClass(a.name+"SliderInput");l.data("element",e);l.data(kS(a.name),a.method.call(e));var p=!1;l.on("mousedown",function(){if(!p){p=!0;b(l,a.Ay);var d=function(){$(document).off("mouseup",d);c(l,a.Gy);p=!1};$(document).on("mouseup",d)}});m.on("change",function(){var c=m.val();l.val()!==c&&""!==c&&(l.val(m.val().toString()),
b(l,a.Ay))});m.on("blur",k)})}}}function YR(a,b,c){return function(){var d=parseFloat($(this).val()),e="function"==typeof c?c(d):d,g=$(this).data("element");$(".toolbar__sliderValue--"+b).val(d.toString());g&&void 0!==e&&a.call(g,e)}}function kS(a){return"last"+a.charAt(0).toUpperCase()+a.slice(1)+"State"}
function ZR(a,b,c,d){return function(){var e=kS(b),g=$(this).data("element");if(g){var h=$(this).data(e),k=a.call(g);if(h!=k){var l={elementIndex:g.K(),pageIndex:jp(J,g.R()),"new":{},old:{}};d&&g instanceof Rp?(l.textIndex=0,l["new"]=g.Vb(0),l.old=g.Vb(0),l["new"][c]=k,l.old[c]=h,M.register(new aO(1,l))):(l["new"][c]=k,l.old[c]=h,M.register(new Y(kp,l)));$(this).data(e,k)}}}}
function HR(a,b){var c=a.data("toolbar"),d=a.data("canvaElement"),e=d.yb(),g=["left","right","center"];g.splice(g.indexOf(b),1);gS(d,function(){d.ji(e,b);c.view.tS(b).HT.apply(c.view,g)})}function ER(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.yb(),e=c.Ae();0===e.length&&c.kb()&&c.ke()&&(e=PF(c));var g=!!e.data("bold");lS(c,function(){c.io(d,!g);tA(e,!0);g=!!e.data("bold");b.toggleClass("toolbar__item--active",g)})}
function FR(a){a=$(a).parents("li");var b=J.Va()[0],c=b.yb(),d=b.tF(c);gS(b,function(){b.Xq(c,d?void 0:"uppercase");tA(b.bb(c),!0)});a.toggleClass("toolbar__item--active",d)}function GR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element"),d=c.data("canvaElement"),e=d.yb(),g=d.Ae();0===g.length&&d.kb()&&d.ke()&&(g=PF(d));var h=!!g.data("italic");lS(d,function(){d.ko(e,!h);tA(c,!0);h=!!g.data("italic");b.toggleClass("toolbar__item--active",h)})}
function IR(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.yb(),e=c.Ae(),g=!!e.data("list");lS(c,function(){c.Yw(d,!g);g=!!e.data("list");b.toggleClass("toolbar__item--active",g)})}function lS(a,b){var c=a.Ae(),d=c.is(".focused"),c="true"===c.find(".inner").attr("contenteditable");d&&c?b():mS(a,b)}function gS(a,b){mS(a,b)}
function AC(a,b){if(a&&b){a.view.Qf("crop",!(b.Up&&b.Up()));a.view.Qf("filter",!(!b.Zp||!b.Zp()));var c=ve();if(!(!b.ab||!b.ab().length||a.element&&a.element.hasClass("multiSelected")||b instanceof cC||b instanceof gC||b instanceof hp&&b.Ae().length))cR(a,b.ab(),c);else if(b instanceof gC){var d=b.Xc;d instanceof Rp?WQ(a.view,aE(d),c,0):d?d&&d.Bd()&&cR(a,d.ab(),c):WQ(a.view,OF(b),c,0)}b.wA&&!b.pb?(a.view.$el.find(".toolbar__item").removeClass("enabled").addClass("disabled"),a.view.Ju("delete")):nS(a,
b);b.iy()&&(c=b.C().data("sideDrawer"))&&DC(c,b.RM());b instanceof gC&&!(b instanceof cH)&&(c=b.Xc,a.view.Qf("elementDelete",!!c),!b.kb()||!c||c instanceof Rp||a.view.NF("color--text","fontFamily","fontSize","bold","italic","textAlign","uppercase","list","textSpacing"))}}
function nS(a,b){var c=bP(b.R(),b),d=b.K(),e=c.filter(function(a){return a.K()>d}),c=c.filter(function(a){return a.K()<d});b=b.YF()||0!==e.length||0!==c.length;a.view.Qf("forward",0!==e.length);a.view.Qf("back",0!==c.length);a.view.Qf("arrange",b)}
function LD(a){if(!a.element||!a.element.hasClass("multiSelected")){var b=a.cd;if(b.ke()){var c=b.Ae();if(b instanceof hp){if(0===c.length){a.Yn("font");return}a.view.Qf("textSpacing",!1)}if(b.kb()&&!b.ke())a.Yn("font");else{if(1===c.length){var d=vA(c);0===d.Xe.length&&(d=jA(c))}else b.kb()&&b.ke()&&(d=MF(b),c=PF(b));var e=function(a){return d.Xe.reduce(function(b,c){return b&&a(c)},!0)},g=e(function(a){return(a=yA(Jb,a))&&!0===a.variants.bold}),h=e(function(a){return(a=yA(Jb,a))&&!0===a.variants.italic}),
e=e(function(a){return(a=yA(Jb,a))&&!0===a.variants.boldItalic}),k=function(a){var b;if(!(b=!!c.data(a)))try{b=document.queryCommandState(a)}catch(d){b=!1}return b};a.hF();a.view.Qf("bold",!!c.data("italic")&&h&&e||!(c.data("italic")&&h)&&g);VQ(a.view,"bold",k("bold"));a.view.Qf("italic",!!c.data("bold")&&g&&e||!(c.data("bold")&&g)&&h);VQ(a.view,"italic",k("italic"));a.view.Qf("uppercase",!0);VQ(a.view,"uppercase","uppercase"===c.data("textTransform"));g=c.data("justification")||"left";a.view.HT("left",
"center","right");a.view.tS(g);VQ(a.view,"list",!!c.data("list"));g=b.yb();g=b.Sc(g);b.kb()&&!b.Af()&&(QF(b)?g=0:0!==IF(b)||(g=KF(b)));g/=K.lp;b.uA()?UQ(a.view,"fontSize",yc(Kb).yd()):0!==g?UQ(a.view,"fontSize",g):UQ(a.view,"fontSize","");oS(a,b);WQ(a.view,d.vf,yc(Kb).format("editorToolbarTextPickAColor"));c.data("fontFamily")?(g=c.data("fontName")||d.Xe[0],h=d.Xe.filter(function(a){return null!==yA(Jb,a)}),g=(1<h.length?"":h[0])||g,(h=yA(Jb,g))&&h.displayName&&(g=h.displayName),h?UQ(a.view,"fontFamily",
g,h.family):UQ(a.view,"fontFamily","")):1===d.Xe.length?(g=d.Xe[0],(h=yA(Jb,g))&&h.displayName&&(g=h.displayName),h?UQ(a.view,"fontFamily",g,h.family):UQ(a.view,"fontFamily","")):1<d.Xe.length&&UQ(a.view,"fontFamily",yc(Kb).format("editorToolbarTextMultipleFonts"),"Open Sans");b.ke()&&!b.Af()&&a.view.NF("textAlign","uppercase","list","textSpacing");b=c.children(".inner");1===b.length&&(b=!0===b.get(0).isContentEditable,a.view.Qf("list",b))}}}}
function fS(a,b){var c=b.av(),d=c.map(function(a){a=yA(Jb,a);return a.name||a.family}).filter(function(a){return!xH(Jb,a)});0<d.length?(TQ(a.view,!0),yJ(Jb,d,function(){var d=new Set(b.av()),g;a:if(g=new Set(c),d.size!==g.size)g=!1;else{for(var d=ma(d),h=d.next();!h.done;h=d.next())if(!g.has(h.value)){g=!1;break a}g=!0}g&&TQ(a.view,!1)})):TQ(a.view,!1)}function JR(a){if((a=$(a).parents(".toolbar").last().data("element"))&&a.data("canvaElement")instanceof gC)return a.data("canvaElement")}
function SR(a,b){$(b);var c=$(b).parents(".toolbar").last().data("element");b=c.data("toolbar");if(c=c.data("canvaElement")){switch(a){case "top":wK(c);break;case "middle":xK(c);break;case "bottom":yK(c)}b&&oS(b,c)}}function zC(a){var b=a.view.$el,c=b.data("element");c&&c.data("canvaElement")&&(a.hF(),clearTimeout(pS),pS=setTimeout(function(){var a=b.data("fxPanelView");a&&jS(a,b.get(0).getBoundingClientRect())},R.Dc+100))}
function qS(a,b){var c=$(".toolbarContainer");b=[new EQ("group",b.format("editorToolbarElementGroup"),{enabled:!0}),new EQ("copy",b.format("editorToolbarElementCopy")),new EQ("arrange",b.format("editorToolbarElementArrange"),{enabled:!1}),new EQ("transparency",je(b),{icon:!0,Of:[new GQ("transparency",je(b))],enabled:!1}),new EQ("link",b.format("editorToolbarElementLink"),{icon:!0,enabled:!1}),new EQ("delete",ie(b),{icon:!0})];b=ZQ({G:ol,Di:"right",name:"element",items:b,element:a,Ie:T});a.is(".background, .group")&&
b.view.Qf("group",!1);b.py(c,$(window));b.save()}
function KO(a,b){var c=a.data("canvaElement"),d=$(".toolbarContainer");if(1===a.length&&c&&c.Xo()){var e=a.data("toolbar");e&&e.remove();a=ZQ({G:ol,Di:"right",name:"element",items:MQ(c.ds(),c.YF()?c.PU():[],b),element:a,Ie:T});if(c.lD())aR(a,ZQ({G:ol,name:"image",element:c.C(),items:KQ(c,b),Ie:T}));else if(c.vS()){var g="group",h=[],e=c.bv();c instanceof cH&&(g="chart",h=[new EQ("chartData",b.format("editorToolbarElementData"),{enabled:!0}),new CQ,new IQ(c.ab()[0].qa(),te(b))],h.push(new EQ("chartStyle",
b.format("editorToolbarElementStyle"),{enabled:!0})));var k=!1;if(c.Af()){var k=c.Ae(),l=k.data("fontName"),m=k.data("fontFamily"),l=l||m,m=c.Sc(c.yb());c.uA()&&(m=dE);(k=k.data("canvaElement"))&&(e=k.bv());h=h.concat(eR(l,m,b));k=!0}else!c.mv()&&c.ke()&&(m=c.Gz(),l=m.fontName,m=m.fontFamily,l=l||m,LF(c)?m=dE:QF(c)?m=0:(m=IF(c),0===m&&(m=KF(c))),h=h.concat(eR(l,m,b)),k=!0);g=ZQ({G:ol,name:g,element:c.C(),items:h,Ie:T});k&&($R(g,l,m,e,b),LD(g),fS(g,c));aR(a,g)}else c.qr()?aR(a,ZQ({G:ol,name:"image",
element:c.C(),items:KQ(c,b),Ie:T})):c.Vt()?(e=c.Ae(),g=e.data("fontName"),l=e.data("fontFamily"),g=g||l||"Glegoo",l=c.Sc(c.yb()),m=c.bv(),h=eR(g,l,b),e=ZQ({G:ol,name:"font",element:e,items:h,Ie:T}),c.uA()&&(l=dE),$R(e,g,l,m,b),LD(e),fS(e,c),aR(a,e)):c.wS()&&aR(a,ZQ({G:ol,name:"shape",element:c.C(),items:[new IQ("",te(b))],Ie:T}));c.iy()&&VR(c,b);a.py(d,$(window));a.save();dR(a);c.Za()}}
function PC(a){var b=$(".toolbarContainer"),c=a.data("confirmationToolbar");c||(c=ZQ({G:ol,name:"crop",OD:"elementToolbar",element:a,items:[new EQ("ok","Ok",{icon:!0,Le:" Enter"}),new EQ("cancel","Cancel",{icon:!0})]}),c.py(b,$(window)),c.save("confirmationToolbar"))}
function VR(a,b){if(a.iy()){var c=a.C(),d=c.data("sideDrawer");if(!d){var e=[b.format("editorToolbarElementDataLabelColumnHeader"),b.format("editorToolbarElementDataValueColumnHeader")];b=jQ(a.getData(),a.dV(e),b);b.Ab.on("change",function(b,c){a.Fs(b);a.I1({fN:c})});var g=a.getData();b.Ab.on("commit",function(b){var c={pageIndex:jp(J,a.R()),elementIndex:a.K(),"new":{data:b},old:{data:g}};M.register(new Y(15,c));g=b});d=new zQ;d.Wt(b.view);DC(d,!1);$("#objectPanel section.content").after(d.$el);c.data("sideDrawer",
d);var h=function(){a.Hu=!1;DC(d,!1)};T.on("objectPanel:tabClicked",h);d.on("remove",function(){return T.off("objectPanel:tabClicked",h)})}return d}}
function oS(a,b){if(b=b.Ae().data("canvaElement"))switch(VQ(a.view,"textVerticalAlignTop",!1),VQ(a.view,"textVerticalAlignMiddle",!1),VQ(a.view,"textVerticalAlignBottom",!1),b.ue||"top"){case "top":VQ(a.view,"textVerticalAlignTop",!0);break;case "middle":VQ(a.view,"textVerticalAlignMiddle",!0);break;case "bottom":VQ(a.view,"textVerticalAlignBottom",!0)}}
function hS(a,b){var c=a.pa(),d=HF(a);a.uE();a.setSize(a.j()*b,a.o()*b,!0);a.Er();b=a.pa();Im(c,b)||(gK(),d.forEach(function(b){var c=b.index,d=a.Vb(c);d.fontSize=b.fontSize;b={elementIndex:a.K(),pageIndex:jp(J,a.R()),textIndex:c,"new":d,old:b};M.register(new aO(1,b))}),c=c.serialize(),d=b.serialize(),c={elementIndex:a.K(),pageIndex:jp(J,a.R()),old:c,"new":d,proportionalSetSize:!0},M.register(new Y(kp,c)),hK())}var pS=0;function oR(a,b){var c=rS[a];return function(a){return c&&c.call(this,a,b)}}var mR=Object.keys({SR:"CLICK_FILL_COLOR",UR:"CLICK_TEXT_COLOR"}),nR={SR:[".toolbar__button--color.toolbar__target--fill"],UR:[".toolbar__button--color.toolbar__target--text"]};
function sS(a,b){function c(a){var c=a.index===b.index,d=a.type===b.type;return!(a.element===b.element&&c&&d)}if(!a)return[];var d=[];a instanceof on&&(d=Qp(a).filter(c));d.forEach(function(a){"FILL"===a.type&&(a.initial=tS(a.element,a.index));"TEXT"===a.type&&(a.initial=a.element.Vb(a.index))});return d}
function uS(a){a.forEach(function(a){if("FILL"===a.type){var c=tS(a.element,a.index);M.register(new Y(dN,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),old:a.initial,"new":c}));a.initial=c}"TEXT"===a.type&&(c=a.element.Vb(a.index),M.register(new aO(1,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),textIndex:a.index,old:a.initial,"new":c})),a.initial=c)})}
function vS(a,b){a.forEach(function(a){"TEXT"===a.type&&a.element.setColor(a.index,b);"FILL"===a.type&&a.element.Yd(a.index,b)})}function wS(a,b){return a instanceof cC?a.Fp(b).hh():a.Bd()>b?(a=a.ab()[b],a===kB?null:a):null}function tS(a,b){if(a instanceof cC)return{index:b,placementData:a.pl(b)};var c=a instanceof hp?kB:"";a=wS(a,b);return{index:b,color:a?a.qa():c}}
var rS={SR:function(a,b){function c(a){var b=a?wS(l,m):n;(u=a)&&q.forEach(function(a){a.element.Kq()});b&&(vS(q,b),gK(),uS(q),hK());a||q.forEach(function(a){a.element.mk()})}function d(a,b){k.removeClass("noColor");k.css("background-color",a.qa());b&&vS(q,a);l.Yd(m,a)}function e(a){var b=tS(l,m),c=l.R();c&&b!==p&&(gK(),a&&uS(q),M.register(new Y(dN,{elementIndex:l.K(),pageIndex:c.K(),old:p,"new":b})),hK(),p=b)}function g(){h.removeData("colorPalette");h.removeData("activeColorPaletteToolbarButton");
v.remove();e(u);l.mk();q.forEach(function(a){a.element.mk()})}var h=$(this).closest(".toolbar"),k=$(this),l=h.data("element").data("canvaElement");if(l){l.kb()&&l.Xc&&(l=l.Xc);var m=1===l.Bd()?0:l instanceof hp||l instanceof aC||l instanceof bC||l instanceof gC&&l.Xc?k.data("colorindex"):l instanceof cC?l.Gc():-1;if(-1!==m){var n=wS(l,m),p=tS(l,m);a=h.data("activeColorPaletteToolbarButton");var q=sS(n,{element:l,index:m,type:"FILL"});T.trigger("hideContextualControlsRequested");if(a!==this){l.Kq();
a=1<=q.length;var u=!1,v=new Xn({Fy:xS,ku:b.Ii&&b.Ii.Ey||[],yl:uc(b.i),Oi:qc(b.i),Kl:l.R().Eb,QB:!0,rD:!0,Pb:wS(l,m),Mg:a,my:n,l:b.l,W:Ib});v.on("preview",d);v.on("confirm",e);v.on("changeApplyAll",c);v.listenTo(M,"beforeOperationStackPop",g);v.listenTo(T,"hideContextualControlsRequested",g);v.render();v.$el.addClass("toolbar--overlay");yS.em(v.$el,$(this));v.mC();h.data("colorPalette",v);h.data("activeColorPaletteToolbarButton",this)}}}},UR:function(a,b){function c(a){var b=a?uh(p.Vb(u).color):v;
(O=a)&&z.forEach(function(a){a.element.Kq()});b&&(vS(z,b),gK(),uS(z),hK());a||z.forEach(function(a){a.element.mk()})}function d(a,b){L=a;n.removeClass("noColor");n.css("background-color",a.qa());b&&vS(z,a);p.setColor(u,a)}function e(a){!(q=p.R())||E===L||E&&E.equals(L)||(E=L,gK(),a&&uS(z),uS(r),x=[],I.forEach(g),hK(),I=x)}function g(a){var b=a.index,c=p.Vb(b);a={elementIndex:p.K(),pageIndex:jp(J,q),textIndex:b,old:a,"new":c};x.push(c);M.register(new aO(1,a))}function h(){m.removeData("colorPalette");
m.removeData("activeColorPaletteToolbarButton");Q.remove();e(O);z.forEach(function(a){a.element.mk()})}function k(a){return 0<a.Bd()}function l(a,b){return a.concat(b.ab().map(function(a,c){return{element:b,index:c,type:"FILL",initial:tS(b,c)}}))}var m=$(this).parents(".toolbar"),n=$(this);a=m.data("element");var p=a.data("canvaElement");p.kb()&&p.Xc&&(p=p.Xc);var q=p.R(),u=p.kb()?p.Xc?p.elements.indexOf(p.Xc):-1:p.yb(),v=uh(a.data("fill")),z=sS(v,{element:p,index:u,type:"TEXT"}),r=[],x=[];if(-1!==
u)var I=[p.Vb(u)];else if(p.kb())I=HF(p),r=p.ja().filter(k).reduce(l,[]);else return;a=m.data("activeColorPaletteToolbarButton");T.trigger("hideContextualControlsRequested");if(a!==this){var E=null,L=null;a=b.Ii&&b.Ii.Ey||[];var G=1<=z.length,O=!1,Q=new Xn({Fy:xS,yl:uc(b.i),Oi:qc(b.i),Kl:p.R().Eb,ku:a,QB:!0,rD:!0,Pb:v,Mg:G,my:v,l:b.l,W:Ib});Q.on("preview",d);Q.on("confirm",e);Q.on("changeApplyAll",c);Q.listenTo(M,"beforeOperationStackPop",h);Q.listenTo(T,"hideContextualControlsRequested",h);Q.render();
Q.$el.addClass("toolbar--overlay");yS.em(Q.$el,n);Q.mC();m.data("colorPalette",Q);m.data("activeColorPaletteToolbarButton",this)}}};function zS(a){a.appendTo("#overlays")}function AS(){return $("#canvaDocument")}var yS=new Wy({jy:zS,Uz:AS,margin:R.mS,sC:Vy}),xS=new Wy({jy:zS,Uz:AS,margin:R.VR,sC:Vy});function BS(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var c=a.disabled;soy.asserts.assertType(a.Qq instanceof soydata.SanitizedHtml||a.Qq instanceof soydata.UnsanitizedText||goog.isString(a.Qq),"selectContent",a.Qq,"soydata.SanitizedHtml");
var d=a.Qq;goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox'+(c?" listbox--disabled":"")+" "+soy.$$escapeHtmlAttribute(b)+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"listbox__select"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"listbox__options"\x3e'+CS(a)+"\x3c/div\x3e\x3c/div\x3e")}
function CS(a){var b="";a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");for(var c=a.length,d=0;d<c;d++)b+=soy.$$escapeHtml(a[d]);return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function DS(a,b,c){var d=this;gc.call(this,a);this.Gh=c.Gh;this.$C=b;this.QW=this.x4.bind(this);a.on("keydown",function(a){return d.Gl(a)});b.on("click",this.QW);a.on("click",function(a){$(a.target).closest("a")[0]||(d.$el.toggleClass("listbox--open"),d.trigger(ES,d.$el.hasClass("listbox--open")))});a.on("click",".listbox__option",function(a){$(a.target).closest("a")[0]||(a=d.Gh($(a.target).closest(".listbox__option")),d.trigger(GS,a))});a.on("mousemove",".listbox__option",function(a){return d.lO(a)});
a.on("mouseout",".listbox__option",function(a){d.trigger(HS,d.Gh($(a.target).closest(".listbox__option")))})}t(DS,gc);function IS(a,b){return new DS(a,$(document),b)}f=DS.prototype;f.remove=function(){gc.prototype.remove.call(this);this.$C.off("click",this.QW)};f.nu=function(){this.$el.removeClass("listbox--open");this.$el.blur()};f.x4=function(a){this.$el[0]!==$(a.target).closest(".listbox")[0]&&this.trigger(JS)};function KS(a,b){a.$el.find(".listbox__select").empty().append(b.toString())}
f.mg=function(a){this.$el.toggleClass("listbox--disabled",!a)};f.$B=function(a){a=$(CS({options:a.map(function(a){return LS(a)})}).toString());this.$el.find(".listbox__options").empty().append(a)};f.Ij=function(){var a=this;return this.$el.find(".listbox__option").toArray().map(function(b){return a.Gh($(b))})};f.length=function(){return this.Ij().length};function MS(a){return a.Ij().findIndex(function(a){return a.$el.hasClass("listbox__option--hover")})}
function NS(a){return a.Gh(a.$el.find(".listbox__option--hover"))}f.Gl=function(a){27===a.keyCode?(a.preventDefault(),this.trigger(OS)):38===a.keyCode?(a.preventDefault(),this.trigger(PS)):40===a.keyCode?(a.preventDefault(),this.trigger(QS)):13===a.keyCode&&(a.preventDefault(),this.trigger(RS))};f.lO=function(a){this.trigger(SS,this.Gh($(a.target).closest(".listbox__option")))};var ES="CLICK",GS="OPTION_SELECT",JS="BLUR",SS="HOVER",HS="UNHOVER",PS="PRESS_UP",QS="PRESS_DOWN",RS="PRESS_ENTER",OS="PRESS_ESC";
function TS(a){fc.apply(this,arguments)}t(TS,fc);TS.prototype.qc=function(){var a=this.$el.attr("data-value");return w(a&&a.toString(),"value must be present on the option")};TS.prototype.tk=function(a){this.$el.toggleClass("listbox__option--selected",a)};function US(a,b){a.$el.toggleClass("listbox__option--hover",b)}TS.prototype.Ef=function(){return this.$el.hasClass("listbox__option--selected")};function LS(a){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a.$el.prop("outerHTML"))};function VS(a){var b=this;this.view=a;this.MG=null;this.view.on(ES,function(a){return b.Gf(a)});this.view.on(GS,function(a){return WS(b,a)});this.view.on(JS,function(){return b.nu()});this.view.on(SS,function(a){return b.lO(a)});this.view.on(HS,function(a){return US(a,!1)});this.view.on(PS,function(){var a=MS(b.view);US(NS(b.view),!1);0>=a?(a=b.view.length()-1,a=b.view.Ij()[a],US(a,!0)):US(b.view.Ij()[a-1],!0)});this.view.on(QS,function(){var a=MS(b.view);US(NS(b.view),!1);a===b.view.length()-1?US(b.view.Ij()[0],
!0):US(b.view.Ij()[a+1],!0)});this.view.on(OS,function(){return b.nu()});this.view.on(RS,function(){WS(b,NS(b.view));b.nu()})}function XS(a){Fa(0<a.length,"Need at least one option to render the listbox");a=a.filter(function(a){return a.Ef()});Fa(1===a.length,'Expected one option to be selected but found "{}"',a.length);return a[0].Uh()}f=VS.prototype;f.$B=function(a){KS(this.view,XS(a));this.view.$B(a)};function YS(a,b){Fa(!a.MG,"onOptionChanged listener already registered");a.MG=b}
f.Gf=function(a){a||this.nu()};f.nu=function(){this.view.nu();US(NS(this.view),!1)};f.lO=function(a){US(NS(this.view),!1);US(a,!0)};function WS(a,b){a.Ij().filter(function(a){return a.Ef()}).forEach(function(a){return a.tk(!1)});b.tk(!0);KS(a.view,b.Uh());null!=a.MG&&a.MG(b)}function ZS(a){return a.Ij().find(function(a){return a.Ef()})}f.Ij=function(){return this.view.Ij()};f.qc=function(){return w(ZS(this),"At least one option must have been selected").qc()};f.mg=function(a){this.view.mg(a)};
f.destroy=function(){this.view.remove()};function $S(a){this.w1=a}function aT(){return new $S(function(){return new FormData})}
function VL(a){var b=aT();return new P(function(c,d){var e=b.w1();Object.keys(a.QL).forEach(function(b){e.append(b,a.QL[b])});e.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=Lk(g.status),e=b&&(a.vV||g.getResponseHeader("x-amz-version-id"));b&&e?c(e):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(e)})};function Cl(a){return Math.max.apply(Math,a)}function Bl(a){return Math.min.apply(Math,a)}function bT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0>c(a[e],b)?(d=++e,g-=h+1):g=h;return d}function cT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0<=c(b,a[e])?(d=++e,g-=h+1):g=h;return d};function mh(a){var b,c,d,e,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;e=document.createElement("canvas");e.width=b;e.height=c;e=e.getContext("2d");e.drawImage(a,0,0);a=e.getImageData(0,0,b,c).data;for(h=e=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&e++;return e/d}function AN(a,b){a=a.get(0).getBoundingClientRect();b=b.get(0).getBoundingClientRect();return ih(a,b)}
function ih(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}function KC(a,b){a=a instanceof V?a:Gm(a);return{transform:gp({ti:a.F(),vi:a.w(),Hw:b||0}),left:"",top:"",width:a.j(),height:a.o()}}
function OC(a,b,c){var d={ht:0,Gw:0,Hw:0};null!=b&&(d.ti=b.F(),d.vi=b.w(),a.css("width",b.j()+"px"),a.css("height",b.o()+"px"));a.each(function(){var a=$(this);d.ht=a.data("FlipTransformation_rotateX")||0;d.Gw=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.ht%360)&&(d.ht+=180,a.data("FlipTransformation_rotateX",d.ht));!!(c&1)!=(0!=d.Gw%360)&&(d.Gw+=0==d.ht%360?180:-180,a.data("FlipTransformation_rotateY",d.Gw));a.css("transform",gp(d))})}
function NC(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var e=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=e?parseFloat(e[1]):a.width();a=g?parseFloat(g[1]):a.height();return new V(d,c,b,a)}function KB(a){a=a.get(0).getAttribute("viewBox").split(" ");return new V(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function gp(a){var b=void 0===a.eo?1:a.eo,c=void 0===a.Oq?1:a.Oq,d=a.ht||0,e=a.Gw||0,g=a.Hw||0;a=""+("translate("+(a.ti||0)+"px,"+(a.vi||0)+"px)");if(1!=b||1!=c)a+=" scale("+b+","+c+") ";0!=d&&(a+=" rotateX("+d+"deg)");0!=e&&(a+=" rotateY("+e+"deg)");0!=g&&(a+=" rotateZ("+g+"deg)");return a}function dT(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function Dl(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(dT(a))){a=a[1].split(",");if(6==a.length)return{eo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),Oq:parseFloat(a[3]),ti:parseFloat(a[4]),vi:parseFloat(a[5])};if(16==a.length)return{eo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),Oq:parseFloat(a[5]),ti:parseFloat(a[12]),vi:parseFloat(a[13])}}return{eo:0,skewX:0,skewY:0,Oq:0,ti:0,vi:0}}
function hh(a,b,c){var d=Dl(a),e;for(e in b)b.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(d[e]=c?d[e]+b[e]:b[e]);b=[d.eo,d.skewX,d.skewY,d.Oq,d.ti,d.vi];$(a).css("transform","matrix("+b.join(",")+")")}function ID(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}
function eT(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function CC(a,b){b=Math.round(Um(b)/45);8>b||(b=0);if(a){for(var c=0;8!==c;c++)a.removeClass("octant"+c);a.addClass("octant"+b)}}
function fJ(a,b,c,d){function e(a,b){var c=a*a,d=1-a,e=d*d;return b[0]*e*d+3*b[1]*e*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=e(k,[a.x,b.x,c.x,d.x]),h=e(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,p=null;l.forEach(function(a){null!==p&&a.x>n&&(m.push(p),n+=.05);p=a});m.push({x:d.x,y:d.y});return m}
function fT(){var a=$("#canvaDocument"),b,c,d,e;Mz||$("body").hasClass("fullscreenMode")?(e=c=0,d=$(window).width(),a=$(window).height()):(e=R.y_,d=R.x_,b=R.v_,c=R.w_,d=a.width()-c-d,a=a.height()-e-b);return new V(c,e,d,a)}function gT(){var a=R.jD;return Nm(fT().translate(a,a),-2*a,-2*a)}function hT(){var a=R.mS;return Nm(fT().translate(a,a),-2*a,-2*a)};var Nz=!1,Mz=!1;function iT(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=FP(a.Ch.ng).filter(d).map(e(a.name));c=c.concat(a)});return new DP({si:c})}function d(a){return"start"!==a.name}function e(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.fp=null;this.hI=(b||[]).slice(0);this.ng=new DP;this.qp=null;var g=this,h;0<this.hI.length?(h=c(),GP(this.ng,h.si),this.hI.forEach(function(a){g.listenTo(a.Ch,"change:state",g.E6)})):a&&GP(this.ng,a);this.listenTo(this.ng,"state:enter",
this.D6)}iT.prototype.trigger=Backbone.Events.trigger;iT.prototype.listenTo=Backbone.Events.listenTo;iT.prototype.on=Backbone.Events.on;iT.prototype.off=Backbone.Events.off;_.extend(iT.prototype,Backbone.Events);iT.prototype.start=function(){this.ng.start()};iT.prototype.cancel=function(){this.fp&&this.fp.cancel?(this.fp.cancel(),this.fp=null):this.fp&&this.fp.abort&&(this.fp.abort(),this.fp=null);this.hI.forEach(function(a){a.Ch.cancel()})};
iT.prototype.E6=function(a,b,c,d){var e=this.hI.filter(function(b){return b.Ch===a})[0].name+":"+b;this.ng.Rz()!==e&&IP(this.ng,e);var g=Array.prototype.slice.call(arguments,2),e=["change:state",this,e].concat(g);this.trigger.apply(this,e)};iT.prototype.D6=function(a,b){this.trigger("change:state",this,b)};function lP(a){a.stopPropagation()}function jT(a){a.preventDefault()}function kT(){return!1}var EN="createTouch"in document,CN=!1;function mp(a){this.el=$(a);this.II={};this.CT=""}function ZM(a){return 0<=a.CT.indexOf("touch")}mp.prototype.selected=function(a){var b=this,c=null;return function(d){var e=d.type;b.CT=e;null===c&&(c=e);return e!==c?!0:a.call(this,d)}};function lT(a){return a.split("|").filter(function(a){return""!==a})}
function mT(a){return a.split(/[|+]/).filter(function(a){return""!==a})}function nT(a,b,c,d){if(a.II[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.II[b+"_"+c]=d}mp.prototype.on=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";if(0<=a.indexOf("|")){var g=this.selected(b);b.l_=g;nT(this,a,e,g);lT(a).forEach(function(a){if(e)d.el.on(a,e,g);else d.el.on(a,g)})}else if(nT(this,a,e,b),e)this.el.on(a,e,b);else this.el.on(a,b);return this};
mp.prototype.off=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";var g=this.II[a+"_"+e];if(g){if(g!==(b.l_||b))throw Error('The given handler is not listening to event "'+a+'"');b.l_=null;mT(a).forEach(function(a){e?d.el.off(a,e,g):d.el.off(a,g)});delete this.II[a+"_"+e]}return this};function uj(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}uj.prototype=Object.create(Error.prototype);uj.prototype.constructor=uj;
function tj(a){switch(a){case "card_declined":return new oT;case "expired_card":return new pT;case "incorrect_cvc":return new qT;case "incorrect_number":return new rT;case "invalid_cvc":return new sT;case "invalid_expiry_month":return new tT;case "invalid_expiry_year":return new uT;case "invalid_number":return new vT;case "missing":return new wT;case "processing_error":return new xT;default:return new yT(a)}}function oT(){uj.call(this,"credit card declined")}oT.prototype=Object.create(uj.prototype);
oT.prototype.constructor=oT;function pT(){uj.call(this,"credit card expired")}pT.prototype=Object.create(uj.prototype);pT.prototype.constructor=pT;function qT(){uj.call(this,"credit card cvc incorrect")}qT.prototype=Object.create(uj.prototype);qT.prototype.constructor=qT;function rT(){uj.call(this,"credit card number incorrect")}rT.prototype=Object.create(uj.prototype);rT.prototype.constructor=rT;function sT(){uj.call(this,"credit card cvc invalid")}sT.prototype=Object.create(uj.prototype);
sT.prototype.constructor=sT;function tT(){uj.call(this,"credit card expiry month invalid")}tT.prototype=Object.create(uj.prototype);tT.prototype.constructor=tT;function uT(){uj.call(this,"credit card expiry year invalid")}uT.prototype=Object.create(uj.prototype);uT.prototype.constructor=uT;function vT(){uj.call(this,"credit card number invalid")}vT.prototype=Object.create(uj.prototype);vT.prototype.constructor=vT;function zT(){uj.call(this,"credit card country invalid")}zT.prototype=Object.create(uj.prototype);
zT.prototype.constructor=zT;function AT(){uj.call(this,"credit card region invalid")}AT.prototype=Object.create(uj.prototype);AT.prototype.constructor=AT;function BT(){uj.call(this,"credit card zipcode invalid")}BT.prototype=Object.create(uj.prototype);BT.prototype.constructor=BT;function wT(){uj.call(this,"credit card missing but required")}wT.prototype=Object.create(uj.prototype);wT.prototype.constructor=wT;function xT(){uj.call(this,"credit card processing error")}xT.prototype=Object.create(uj.prototype);
xT.prototype.constructor=xT;function yT(a){uj.call(this,"unknown credit card processing error "+a);this.errorCode=a}yT.prototype=Object.create(uj.prototype);yT.prototype.constructor=yT;function CT(){uj.call(this,"no credit card entered")}CT.prototype=Object.create(uj.prototype);CT.prototype.constructor=CT;function DT(a,b){if(b instanceof oT)return a.format("creditCardDeclined");if(b instanceof pT)return a.format("creditCardExpired");if(b instanceof qT)return a.format("creditCardCvcIncorrect");if(b instanceof rT)return a.format("creditCardNumberIncorrect");if(b instanceof sT)return a.format("creditCardCvcIncorrect");if(b instanceof tT)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof uT)return a.format("creditCardExpiryYearIncorrect");if(b instanceof vT)return a.format("creditCardNumberIncorrect");
if(b instanceof wT)return a.format("creditCardMissingButRequired");if(b instanceof xT)return a.format("creditCardProcessingError");if(b instanceof yT)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof CT)return a.format("creditCardNoCardEntered");if(b instanceof zT)return a.format("creditCardNoCountryEntered");if(b instanceof AT)return a.format("creditCardNoRegionEntered");if(b instanceof BT)return a.format("creditCardNoZipcodeEntered");if(b instanceof uj&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function ET(){var a=window.stripeConfig;switch(a.impl){case "local":return new FT;case "stripe":return new GT(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function FT(){}FT.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.xL,expYear:a.yL,last4:a.ph.slice(-4)})});function GT(a,b){(this.gf=b)&&this.gf.setPublishableKey(a)}
GT.prototype.createToken=function(a){return new P(function(b,c){if(!this.gf)throw Error("Stripe API is unavailable");a={cvc:a.Dm,exp_month:a.xL,exp_year:a.yL,number:a.ph};this.gf.createToken(a,function(a,e){if(e.error){var g;try{g=e.error.code||""}catch(h){g=""}c(tj(g))}else b(e.id)})}.bind(this))};function fP(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.Zv=null;this.Zz={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.Zk=new c(function(a){a.forEach(function(a){b.handle(a)})})}fP.prototype.normalize=function(a){return a.toLowerCase()};fP.prototype.on=function(a,b){a=this.normalize(a);this.Zz.hasOwnProperty(a)||(this.Zz[a]=[]);this.Zz[a].push(b);return this};
fP.prototype.handle=function(a){function b(b){var e=c.normalize(b),g=new jQuery.Event(b);c.Zv&&(g.target=a.target,g.currentTarget=c.Zv.get(0),c.Zz.hasOwnProperty(e)&&c.Zz[e].forEach(function(a){a.call(c.Zv,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
fP.prototype.observe=function(a){var b=$(a).get(0);if(this.Zv)throw Error("Already observing an element");b&&(this.Zk.observe(b,this.config),this.Zv=$(a))};function hP(a){a.Zk.disconnect();a.Zv=null};function Mp(a,b,c){this.text=b||null;b=mc(a);this.text&&this.text.toLocaleLowerCase()===b.format("documentUntitledDesign").toLocaleLowerCase()&&(this.text=null);this.Bu=c||null;this.i=a}Mp.prototype.on=Backbone.Events.on;Mp.prototype.off=Backbone.Events.off;Mp.prototype.trigger=Backbone.Events.trigger;function HT(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function IT(a){return null===a.text||""===a.text}Mp.prototype.bn=function(){return this.text};
function JT(a,b){var c;if(c=b){b=b.trim().replace(/\s+/g," ");c=R.Jo;var d="";b=b.trim();if(b.length<=c)c=b;else{void 0===d&&(d="");var e=b.substr(0,c-d.length),g=b.substr(c-d.length).match(/^\S+/),h=e.match(/\S+$/);h&&g&&(e=e.substr(0,e.length-h[0].length));e=e.trim();""===e&&(e=b.substr(0,c-d.length));c=e=e.trim()+d}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function KT(a,b){var c=kc(a.i);a=mc(a.i);return-1!=[a.Jf(),a.format("documentSvgPlaceholderText"),Ud(c),Vd(c),c.format("objectPanelTextPanelAddBody")].indexOf(b)}function PO(a,b){var c=a.text||mc(a.i).format("documentUntitledDesign");b=b&&!!b.j3;a.Bu&&(IT(a)||b)&&(c=a.Bu+"  "+c);return c};function LT(a){this.media=a.media;this.Wg=a.Wg;this.yc=a.yc;this.Hv=a.Hv;this.$e=a.$e;this.UB=null;this.NU=a.fm&&this.media.xv()}f=LT.prototype;f.init=function(){var a=MT(this);0<a.length&&!this.uv()&&!this.jn()&&(this.UB=a[0].Xj);return this};f.jn=function(){var a=this;return this.yc.some(function(b){return 0<=a.$e.indexOf(b.type)})};function NT(a){return a.jn()?a.yc[0].type:null}f.ZF=function(){return"DESIGN"==this.media.jb()};
f.uv=function(){var a=VE(this.media.Ja());return!a||OT(this)?!0:Object.keys(a).every(function(b){return 0==a[b]})};function OT(a){return a.NU&&a.$e.some(function(a){return"ONE_USE"===a})}f.cn=function(){var a=this.media.Ja().pc()[YC];return a?a.ma():null};function PT(a){if(a.NU)return Infinity;var b=a.yc.map(function(b){return(b.AL||b.pz||Infinity)-a.Hv});return Math.min.apply(Math,[].concat(na(b)))}f.cN=function(){return!/\.png$/.test(this.cn())};f.sn=function(a){return 0<=this.$e.indexOf(a)};
function MT(a){var b=VE(a.media.Ja());if(!b||a.uv())return[];var c=Object.keys(b).filter(function(b){return 0<=a.$e.indexOf(b)&&0>QT(a).indexOf(b)}).map(function(c){return{Xj:c,fa:b[c],Ef:a.UB==c}});return _.sortBy(c,function(a){return a.fa})}function QT(a){return a.yc.map(function(a){return a.type})}f.sb=function(){return this.media.Ja().sb()};f.js=function(){return this.media.u()};f.ks=function(){return this.media.Ja().getVersion()};
function RT(a){if(a.jn())return 0;a=MT(a).filter(function(a){return a.Ef}).map(function(a){return a.fa});return 0<a.length?a[0]:0}function ST(a,b){function c(a){return a.ZF()?0:a.uv()?a.jn()?2:1:a.jn()?(a=QT(a),0<=a.indexOf("ONE_USE")?5:0<=a.indexOf("ROYALTY_FREE")?4:3):6}return c(b)-c(a)}function TT(){this.ei=[]}function UT(a,b){VT(a,b.items.map(function(a){return new LT({media:a.media,Wg:a.Wg,yc:a.yc,$e:b.$e,Hv:b.Hv,fm:b.fm})}))}
function VT(a,b){a.ei=b;a.ei.forEach(function(a){return a.init()});a.ei.sort(ST)}TT.prototype.sn=function(a){return this.ei.some(function(b){return b.sn(a)})};TT.prototype.ZU=function(){return this.ei};function WT(a){return a.ei.filter(function(a){return!a.jn()})}function XT(a){return a.ei.reduce(function(a,c){return a+RT(c)},0)}function ZT(a){return Math.min.apply(Math,[].concat(na(a.ei.map(function(a){return PT(a)}))))}
function $T(a,b,c,d){var e=[];d&&e.push(new Wh({D:b,items:[new li({nK:Eh(d)})],currency:"USD"}));e.push(new Wh({D:b,items:aU(a,c),currency:"USD"}));return e}function aU(a,b){return WT(a).map(function(a){return new li({gq:new di({media:a.js(),version:a.ks(),document:b,Xj:a.UB||"ONE_USE"})})})};function bU(a){this.$el=a}t(bU,fc);function cU(a,b,c,d,e){this.ta=a.ta;this.ub=a.ub;this.ac=a.ac;this.X=a.X;this.Tb=e;this.view=b;this.Db=c;this.zX=d;this.open=!1}function dU(a,b){return new P(function(c){a.zX.once("paymentComplete",c);eU(a,b).then(function(){return a.show()})})}cU.prototype.close=function(){this.Db.remove();this.open=!1};cU.prototype.show=function(){Fa(!this.open,"the watermark remove dialog is already open");this.open=!0;this.zX.refresh();this.Db.show()};
function eU(a,b){var c=["ROYALTY_FREE","EXTENDED"],d,e,g,h=new sE({types:c,status:["ACTIVATED"],D:a.ta,media:b});b=(new bF).LR(b).Fo().WC();return P.all([EE(a.ac,b),a.ub.fF(h)]).then(function(b){var c=ma(b);b=c.next().value;c=c.next().value;d=b;e=c.yc;g=c.Ql;return P.all(d.media.map(function(b){return a.X.ia(b.ia())}))}).then(function(b){var h=d.media.map(function(a){return new LT({media:a,Wg:b.find(function(b){return b.id===a.ia()}).displayName,yc:e.filter(function(b){return b.media===a.u()}),Jba:g,
$e:c,fm:!1})});VT(a.Tb,h)})};function fU(a,b,c,d,e,g,h,k){var l=FN;void 0===k&&(k=!0);var m=Math.max(R.jS,R.jS/d());k=gU(a,c,m,b,h);if(void 0!==h&&null!=k.ut&&null!=k.vt){var n=Math.abs(a.$b()-k.ut),p=Math.abs(a.jc()-k.vt);n>p?k.vt=null:k.ut=null}null!=k.ut&&(!a.Sa()&&1===k.zo.length&&!k.zo[0].Sa()&&Math.abs(k.zo[0].F()-a.F())<m?!h&&a.hb(k.zo[0].F()):!h&&a.hb(k.ut));null!=k.vt&&(!a.Sa()&&1===k.zo.length&&!k.zo[0].Sa()&&Math.abs(k.zo[0].w()-a.w())<m?!h&&a.cb(k.zo[0].w()):!h&&a.cb(k.vt));!h||null==k.ut&&null==k.vt||(k=gU(a,c,1,
b,h));l();b=[].concat([a],na(k.zo));if(null!=k.ut){c=Math.max.apply(Math,[].concat(na(b.map(function(a){return a.gd()}))));h=Math.min.apply(Math,[].concat(na(b.map(function(a){return a.jc()}))));var q=Math.abs(c-h)*d(),u=Math.min.apply(Math,[].concat(na(b.map(function(a){return g(a)})))),v=[];k.Yt.vl&&v.push(e(a)-1);k.Yt.r&&v.push(e(a)+a.kh()*d());k.Yt.cy&&v.push(e(a)+a.kh()/2*d());gh().write(function(){v.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(u)).css("left",
Math.round(a)).css("height",Math.round(q))})})}if(null!=k.vt){c=Math.max.apply(Math,[].concat(na(b.map(function(a){return a.Dd()}))));h=Math.min.apply(Math,[].concat(na(b.map(function(a){return a.$b()}))));var z=Math.abs(c-h)*d(),r=Math.min.apply(Math,[].concat(na(b.map(function(a){return e(a)})))),x=[];k.Yt.t&&x.push(g(a)-1);k.Yt.b&&x.push(g(a)+a.jh()*d());k.Yt.cx&&x.push(g(a)+a.jh()/2*d());gh().write(function(){x.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",
Math.round(a)).css("left",Math.round(r)).css("width",Math.round(z))})})}}
function gU(a,b,c,d,e){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];Q.slice(0).sort(b).forEach(function(e){c&&0==b(c.Ee[0],e)?(c.Ee.push(e),c.zl=Math.min(c.zl,e.zl),c.Al=Math.min(c.Al,e.Al),c.yn=Math.max(c.yn,e.yn),c.zn=Math.max(c.zn,e.zn)):d.push(c={Ee:[e],pos:a(e),zl:e.zl,Al:e.Al,yn:e.yn,zn:e.zn,GK:NaN})});return d}function h(a,b){return a.pos-b.pos}function k(a,b){return a.GK<b.GK?a:b}function l(a,b,d){var e=bT(b,{pos:d-c},h),g=cT(b,{pos:d+c},h);b=b.slice(e,g);b.forEach(function(a){a.GK=
Math.abs(d-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],q={vl:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},u=a.kh(),v=a.jh(),z,r,x,I,E,L,G,O;z=a.$b();r=a.jc();x=a.Dd();I=a.gd();E=a.kh();L=a.jh();G=z+E/2;O=r+L/2;var Q=b.map(function(a){var b=a.$b(),c=a.Dd(),d=(b+c)/2,e=a.jc(),g=a.gd();return{object:a,zl:b,Al:e,tG:d,uG:(e+g)/2,yn:c,zn:g}});d.Tp||(d.Tp=!0,d.am={zl:g(function(a){return a.zl}),tG:g(function(a){return a.tG}),yn:g(function(a){return a.yn}),Al:g(function(a){return a.Al}),uG:g(function(a){return a.uG}),
zn:g(function(a){return a.zn})});b=0;var N=null;b=[];if(void 0===e||e.vl)if(N=null,b=[],l(b,d.am.zl,z),l(b,d.am.yn,z),N=b.length&&b.reduce(k))for(m=N.pos,q.vl=!0,b=0;b<N.Ee.length;++b)p.push(N.Ee[b].object);if(void 0===e||e.r)if(N=null,b=[],l(b,d.am.zl,x),l(b,d.am.yn,x),N=b.length&&b.reduce(k))for(m=N.pos-E,q.r=!0,b=0;b<N.Ee.length;++b)p.push(N.Ee[b].object);if(void 0===e||e.d)if(N=null,b=[],l(b,d.am.Al,r),l(b,d.am.zn,r),N=b.length&&b.reduce(k))for(n=N.pos,q.t=!0,b=0;b<N.Ee.length;++b)p.push(N.Ee[b].object);
if(void 0===e||e.W9)if(N=null,b=[],l(b,d.am.Al,I),l(b,d.am.zn,I),N=b.length&&b.reduce(k))for(n=N.pos-L,q.b=!0,b=0;b<N.Ee.length;++b)p.push(N.Ee[b].object);(function(){var b;b=[];l(b,d.am.tG,G);if(b=b.length&&b.reduce(k)){m=b.pos-E/2;q.cy=!0;for(var c=0;c<b.Ee.length;++c)p.push(b.Ee[c].object);var g=(c=e&&e.zl)?a.Dd():a.$b();u=2*Math.abs(b.tG-g);c&&(m-=(u-E)/2)}})();(function(){var a;a=[];l(a,d.am.uG,O);if(a=a.length&&a.reduce(k)){n=a.pos-L/2;q.cx=!0;for(var b=0;b<a.Ee.length;++b)p.push(a.Ee[b].object);
b=e&&e.Al;v=2*Math.abs(a.uG-(b?I:r));b&&(n-=(v-L)/2)}})();z=a.F()-a.$b();x=a.w()-a.jc();null!==m&&m>a.F()?m+=z:null!==m&&m<a.F()&&(m+=z);null!==n&&n>a.w()?n+=x:null!==n&&n<a.w()&&(n+=x);null!==m&&0===Math.round(10*m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{ut:m,vt:n,laa:u,kaa:v,zo:p,Yt:q}};var $B="screen";function GO(a,b,c){var d=xb,e=Gb;a=new bu(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},Oq(b.extensions),null!=b.conversionLoss?Ks("conversionLoss",b.conversionLoss):null);c=new Vt(d,e,a,new xl,c);c.Xp=!0;ub=c;Ib.H.get(Pf)&&ub.start();ub.nQ(hU);Xb=0;return ub}
function Dz(a){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",jT);$("#canvaDocument").on("mouseup",FN);$("#canvaDocument").on("click",".hasWatermark .removeWatermark",iU(a));if(Ib.H.get(Bg))$("#canvaDocument").on("mouseenter",".element.grid .content",jU());$("#content").on("keydown",".element.text.focused",kU);$("#content").on("keydown",".element.text.focused",lU);$("#content").on("input",".element.text.focused",mU);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",
nU);if(!EN)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);$("#content").on("dblclick",".selectionBox:not(.multipleSelectionBox)",oU);(new mp("#canvaDocument")).on("mousedown",".selectionBox, .element",Yb).on("touchstart",".selectionBox, .element",Yb);(new mp("#canvaDocument")).on("click",".element.focused",lP).on("mousedown",".element.focused",lP).on("touchstart",".element.focused",lP).on("mousedown",".element:not(.focused, .multiSelected)",pU).on("touchstart",".element:not(.focused, .multiSelected)",
pU);(new mp("#content")).on("click",".selectionBox.multipleSelectionBox",kT).on("click",".element.multiSelected",kT).on("mousedown",".selectionBox.multipleSelectionBox",qU).on("touchstart",".selectionBox.multipleSelectionBox",qU).on("mousedown",".element.multiSelected",qU).on("touchstart",".element.multiSelected",qU);(new mp("#content")).on("click",".selectionBox",kT).on("mousedown",".selectionBox",rU).on("touchstart",".selectionBox",rU);(new mp("#content")).on("click",".selectionBox .handle",kT).on("mousedown",
".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",sU).on("touchstart",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",sU);(new mp("#content")).on("click",".selectionBox .handle",kT).on("mousedown",".selectionBox.text.freeResize .handle.br",tU).on("touchstart",".selectionBox.text.freeResize .handle.br",tU);(new mp("#content")).on("mousedown",".multipleSelectionBox .handle",uU).on("touchstart",".multipleSelectionBox .handle",uU);(new mp("#content")).on("click",
".cropControls",kT).on("mousedown",".cropControls",vU).on("touchstart",".cropControls",vU);(new mp("#content")).on("click",".cropControls .handle",kT).on("mousedown",".cropControls .handle",wU).on("touchstart",".cropControls .handle",wU);(new mp("#content")).on("click",".viewPort .frameHandle",kT).on("mousedown",".viewPort .frameHandle",xU).on("touchstart",".viewPort .frameHandle",xU);(new mp("#content")).on("click",".selectionBox .rotate",kT).on("mousedown",".selectionBox .rotate",fp).on("touchstart",
".selectionBox .rotate",fp);(new mp("#objectPanel")).on("mousedown",yU).on("touchstart",yU).on("mousedown",".gallery a",yU).on("touchstart",".gallery a",yU);$("#canvaDocument").on("mouseenter",".unapproved, .failed",zU);if(EN)$("#content").on("click",AU);$("#null").keydown(function(){$(this).blur()})}function BU(){var a=J;function b(a){a.SC(vb)}Mz||fq(a).forEach(b)}
function CU(a,b,c,d,e,g){function h(){return new DU({rm:(new UAParser).getBrowser().name,document:a,W:b,oa:ub,ys:Date.now(),Ui:new qu(Gb),LK:new ju,Pk:d,i:g})}function k(a){document.title=a}if(Mz)K=new EU({i:g,model:a,G:ol});else{Tb=new MO({model:a,W:b,oa:ub,kc:$b,Vi:c,sI:k,fJ:e,eK:h,Ag:d.Ag,i:g,Pk:d,l:w(U)});c=c.qh()?FU:void 0;K=new EU({i:g,model:a,G:ol,OI:c});Zb=new GU({model:a,Vk:K,i:g});var l=new OP(a,K);Rb=function(){return l}}}
function Cz(a,b,c,d,e,g){function h(a){-1===l.indexOf(a)&&(l.push(a),m())}J&&(ph(),J.off(),K.remove(),Mz||(Tb.remove(),Zb.remove()));var k=_.flatten(_.pluck(a.pages,"elements")).length,l=[],m=_.after(k+1,function(){if(J&&J.ja){var a=10*J.ja().length;T.off("elementLoaded",h);T.off("elementLoadingError",h);window.setTimeout(function(){J.MM=!0;T.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);g&&(g.wa("rendered"),g.done());J.on("change",J.sH);J.listenTo(T,
"elementLoaded:graphic",J.sH);J.listenTo(T,"elementLoaded:svg",J.sH);J.sH();J.on("change",J.zB);J.listenTo(T,"elementLoaded:text",J.zB);J.listenTo(T,"elementLoaded:svg",J.zB);J.zB()},100+a)}});T.on("elementLoaded",h);T.on("elementLoadingError",h);T.on("pageTimeoutWaitingForElements",function(){SN()});J=new Kp(a,b,d);J.on("change",Vb);CU(J,Ib,c,Lb,e?e():[],d);J.Gb().forEach(function(a){a.ja().forEach(function(b){a.trigger("element:add",a,b)})});m();M=new UN;BU()}
function Jg(a){var b=a.R();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=cO(a.serialize());a.pageIndex=jp(J,b);M.register(new Y(YN,a))}function HU(a){var b=[];a.elements.forEach(function(a){a=a.elementIndex;-1!==a&&b.push(a)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}
function IU(a){var b=a.R();if(null==b)throw Error("cannot register element group operation - group has no page");a=a.serialize();var c=cO(a);c.pageIndex=jp(J,b);c.childRange=HU(a);M.register(new Y(13,c))}function JU(a){var b=a.R();if(null==b)throw Error("cannot register element ungroup operation - group has no page");a=a.serialize();var c=cO(a);c.pageIndex=jp(J,b);c.childRange=HU(a);M.register(new Y(14,c))}
function cN(a){var b=a.R();if(null!=b){var c=cO(a.serialize());c.pageIndex=jp(J,b);uC(a)&&(b=vC(a))&&(c.groupElementIndex=b.K(),c.groupIndex=b.ja().indexOf(a));M.register(new Y(ZN,c))}}
function KU(a){if(a.FJ()){var b=a.R(),c=jp(J,b),d=b.pa();Qm(a.pa(),d)?(gK(),b.ja().forEach(function(b){b!==a&&b.Hb()&&(cN(b),b.remove())}),a.Hb()||(b=a.K(),aq(a),M.register(new Y(iN,{backgroundColor:a.hh(),elementIndex:a.K(),oldElementIndex:b,pageIndex:c})),ph(),Kg(a)),hK()):a.Hb()&&(b=a.K(),d=a.hh(),fD(a),M.register(new Y(hN,{backgroundColor:d,elementIndex:a.K(),oldElementIndex:b,pageIndex:c})))}}
(function(){var a=0,b=!1;Vb=function(){if(ub&&ub.Xp){var c=J.serialize();LL(c);if(jq(c).result)Xb=ub.post(Xb,c),null==Xb&&QN(),a=0;else if(J.MM)if(lq())T.once("pageLayoutLoaded",Vb);else 3<=a&&(SN(),ub.close()),a+=1;else b||(b=!0,T.once("documentRendered",Vb))}else SN()}})();var LU=0;
function hU(a){window.clearTimeout(LU);ub&&ub.Xp?(1==a?LU=window.setTimeout(function(){SN()},R.by):2==a?(1===Xb&&2===ub.Xd()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload(),RN()):3==a&&(QN(),ub.close()),T.trigger("session:sync",a)):SN()}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Yb=function(c){var d=void 0!==c.clientX?c.clientX:c.originalEvent.touches[0].clientX,e=void 0!==c.clientY?c.clientY:c.originalEvent.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h=null;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<e&&a.bottom>e?(a=$(this).data("canvaElement"),g.push(a),-1===b.indexOf(a)&&(a.Ef()?(fO(a),b.unshift(a)):b.push(a))):
h=$(this).data("canvaElement")});b.forEach(function(a,c){-1===g.indexOf(a)&&b.splice(c,1)});h&&-1!==b.indexOf(h)&&b.unshift(h);var k=b.pop();if(k)return ph(),Kg(k),b.unshift(k),c.stopPropagation(),c.preventDefault(),!1}return!0}})();function MU(){return J.Gb().map(function(a){return{rect:eh(eD(K,a)),page:a}})}
function jU(){var a=Ac(Kb).format("editorSelectionBoxGridHint"),b=$('\x3cdiv class\x3d"gridHint"\x3e'+a+"\x3c/div\x3e"),c=null;return function(a){function e(){h.removeClass("showGridHint");b.remove()}function g(a,c){a=a.parents(".element.grid").position().top;c=c?5:15;0>a?b.css({top:c+-1*a+"px"}):b.css({top:c+"px"})}var h=$(a.currentTarget);c&&(c.removeClass("showGridHint"),c.off("mouseleave",e),c=null);80<h.width()&&30<h.height()&&(a=160>h.width()||50>h.height(),b.toggleClass("gridHint--tiny",a),
h.addClass("showGridHint"),g(h,a),h.append(b),h.on("mouseleave",e),c=h)}}
function iU(a){return function(b){var c=Nx(a.Ia).ia(),c={l:U,la:Ox(a.Ia).u(),ta:c.u(),aa:yb,ac:Bb,X:Cb,ub:a.ub,fb:a.fb,i:Kb,Ze:c.Vh(),ha:a.ha},d=c.i;d.IR||(d.IR=new df(d.config));var e=d.IR,d=new TT,g={l:c.l,aa:c.aa,X:c.X,fb:c.fb,ub:c.ub,i:c.i,la:c.la,ta:c.ta,ef:!1,Mf:e.Mf(),Tb:d,Ze:c.Ze,ha:c.ha},h=NU({D:g.ta,uj:g.aa,Ve:!1,gf:g.fb,Xa:bd(g.i),l:g.l}),h=new OU({qd:h.Ab,Ri:h.view}),g=(new PU({view:h,l:g.l,la:g.la,ta:g.ta,aa:g.aa,X:g.X,ub:g.ub,Xb:g.Xb,i:g.i,ef:g.ef,Mf:g.Mf,Tb:g.Tb,nb:g.nb,Ze:g.Ze,ha:g.ha})).init(),
k=e.title(),e=$;soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"title",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"watermarkRemovalDialog__content"\x3e\x3cheader class\x3d"watermarkRemovalDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(k)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"watermarkRemovalDialog__body"\x3e\x3cdiv class\x3d"watermarkRemovalDialog__paymentPage"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e');
e=e(k.toString());e.find(".watermarkRemovalDialog__paymentPage").append(h.$el);h=new bU(e);e=new rp({content:h.$el,G:ol,df:!0,className:"watermarkRemovalDialog"});c=new cU(c,h,e,g,d);b=$(b.target).parent(".selectionBox");d=b.data("element");if(d.data("canvaElement"))return d=d.data("canvaElement"),QU(c,d,b)}}
function QU(a,b,c){var d=J;function e(a,b){if(b.wv()){var c=b.Kz();if(0<c.length&&c.map(function(a){return a.Nb()}).some(h.bind(null,a)))return!0}return b.Tj()?h(a,b.Nb()):!1}function g(a){return a.Aw?a.Aw():P.resolve()}function h(a,b){return a.some(function(a){return null!=a&&null!=b&&a.id===b.id&&a.version===b.version})}var k=[];if(b.wv()){var l=b.Kz();0<l.length&&(k=l.map(function(a){return a.Nb()}).filter(RU))}b.Tj()&&RU(b.Nb())&&k.push(b.Nb());b=k.filter(function(a){return null!=a}).map(function(a){return a.id});
dU(a,b).then(function(a){a=d.ja().filter(e.bind(null,a)).map(g);return P.all(a)}.bind(null,k)).then(function(){a.close();c.removeClass("hasWatermark")})}function SU(a){if(a.wv()){var b=a.Kz();if(0<b.length&&b.some(function(a){return RU(a.Nb())}))return!0}return a.Tj()?RU(a.Nb()):!1}function RU(a){var b;a&&(b=(a=Fb.Hc(a.id,a.version))&&a[Tg]);return b&&b.watermarked||!1}function lp(){$("#overlays .element.text.focused").each(function(){cB($(this))})}
function pU(a){function b(a){Tl=!!a.shiftKey;Ab=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Hb=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;rc=r.C().get(0).getBoundingClientRect();ke.read(c);return!1}function c(){var a=!1;if(r.Tj()){var b=r.Nb();b&&!hq(vb,b)&&(a=!0)}if(!r.wA||r.pb||a){a=Ab-E;b=Hb-L;sa&&r.kb()&&r.Mi();if(sa){var c=ch(K,dh(rc));(c=TU(c,h))&&c.page?(ff&&(ff=!1,r.C().removeClass("outsidePage")),r.xy()&&!r.Bv(r.R())?(Qb&&c.page!=Qb&&Qb.$el.removeClass("hotspotHover"),
Qb=eD(K,c.page),Qb.$el.addClass("hotspotHover")):Qb&&Qb.$el.removeClass("hotspotHover")):(r.C().addClass("outsidePage"),ff=!0)}if(sa||Math.abs(a)>R.Ec||Math.abs(b)>R.Ec){sa=!0;r.setPosition(ea+a/W,da+b/W);Tl||Da.hasClass("placing")?FN():lh(r,Oa,ia);b=$(".page.selected.on");c=$("#overlays");if(1===b.length&&1===c.length&&1===G.length){var a=G.get(0).getBoundingClientRect(),b=b.get(0).getBoundingClientRect(),d=c.get(0).getBoundingClientRect(),c=a.left-d.left,d=a.top-d.top,g=Math.round((a.left-b.left)/
W),a=Math.round((a.top-b.top)/W);e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform","translate("+c+"px,"+d+"px)").text(g+", "+a)}r.Za()}sa&&!ja&&(a=Da.find("img"),a.attr("data-screen-width",r.j()).attr("data-screen-height",r.o()),r.wA&&a.attr("data-media-approved",r.pb),Da.addClass("clone"),!r.KD()&&r instanceof ZB&&Da.addClass("cutout"),b=Rg({id:r.ba,version:r.ca,origin:r.origin?r.origin.jb():"CANVA",files_:[{quality:"THUMBNAIL",page:0,url:a.attr("src")},{quality:"SCREEN",
page:0,url:a.attr("src")}]}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),Da.data("li",c),r.KD()||r.Rd())&&(qh(Da,null,ZM(sc)),ja=!0)}}function d(a){sc.off("mousemove|touchmove",b).off("mouseup|touchend",d);Dd.read(function(){var b=r.C().get(0).getBoundingClientRect();Dd.write(function(){var c;e.remove();G.remove();r.qg=!1;$("#hotspots").remove();Qb&&Qb.$el.removeClass("hotspotHover");$("#overlays .align").removeClass("on");if(sa){if(r.R())if(r.Bv(r.R()))gK(),KU(r),c={elementIndex:r.K(),
pageIndex:jp(J,r.R()),"new":{left:r.F(),top:r.w()},old:{left:ea,top:da}},c=new Y(kp,c),M.register(c),hK();else{r.Af()&&cB(r.Ae());c=ch(K,dh(b));var d=TU(c,h);d&&r.xy()?(gK(),c=UU(r,c,d,ea,da),KU(c),hK(),I&&VU([c])):(c=cO(r.serialize()),c.pageIndex=jp(J,r.R()),c.left=ea,c.top=da,c=new Y(ZN,c),gK(),M.register(c),r.remove(),hK())}}else if(!p||q&&!m||n)c=!1,u&&(d=k.closest(".text"),x?cB(d):a.shiftKey||(r instanceof hp?(pK(d,!0),KO(v,yc(g)),c=!0):r instanceof cH||(r instanceof gC?(r.Mi(),d.is(".element")&&
pK(d,!1),r.Yn(),KO(v,yc(g)),c=!0):pK(d)))),!(r instanceof cH)&&r instanceof gC&&z&&(FF(r,z),(d=r.C().data("toolbar"))&&AC(d,r)),Kg(r,c);Da.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");Da.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")})})}if(a.which==R.Eh||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var e=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(e);var g=Kb,h=MU(),k=
$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".chart"),p=k.is(".group .elements"),q=k.is(".chart .elements"),u=k.is(".text")||0<k.parents(".text").length,v=u?k.closest(".element"):$(this),z;l&&(z=v.data("canvaElement"),v=k.parents(".group").first());if(v.data("canvaElement")){var r=v.data("canvaElement");if(l=r.R()){if(!r.JD())return a.preventDefault(),a.stopImmediatePropagation(),!1;T.trigger("hideContextualControlsRequested");a.altKey&&(lp(),r=r.clone(),r.appendTo(l),r.nc(),
v=r.C());var x=v.hasClass("focused"),I=r.Ef(),E=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,L=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if($(document.elementFromPoint(E,L)).is(".handle.on"))return!0;if(a.shiftKey&&0===J.Va().length||r.Hb()&&!I||r.Eg()&&!I)return Zb.PA(a,!0);var G=$("\x3cdiv\x3e\x3c/div\x3e"),l=Um(r.Sa());45<l&&135>=l?G.css({position:"absolute",bottom:0,left:0}):135<l&&225>=l?G.css({position:"absolute",bottom:0,right:0}):225<l&&315>=l?G.css({position:"absolute",
top:0,right:0}):G.css({position:"absolute",top:0,left:0});r.C().append(G);l=!(1===J.Va().length&&J.Va()[0]===r);a.shiftKey||I||!l||ph();if(r instanceof hp)l=$("#overlays .svg.text.focused"),0<l.length&&(cB(l),r.vP(),KO(v,yc(g))),l=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&this.getAttribute("xlink:href")!=R.Ko}),k.is("image.placeholder")&&k.attr("xlink:href")!=R.Ko?r.nt(k):k.is(".outline")&&1===l.length&&r.nt(l);else if(r instanceof cC)k.is(".placeholder")&&
r.Bg()!==k&&r.nt(k);else if(r instanceof gC){a=z===r;var O=z instanceof Rp,Q=!O&&r.Xc instanceof Rp,N=O&&z!==r.Xc;if(Q||N||O&&l||a)(N||Q||a)&&r.Xc instanceof Rp&&cB(r.Xc.C()),r.Mi(),r.vP(),a||!m&&!p||KO(v,yc(g))}var ea=r.F(),da=r.w(),sa=!1,Oa={},ia=kh(r),ja=!1,Da=r.C();Da.data("startLeft",ea).data("startTop",da);var Ab=0,Hb=0,rc=v.get(0).getBoundingClientRect(),ke=gh(),Dd=gh(),ff=!1,Qb,Tl=!1;r.qg=!0;var sc=new mp($(document));sc.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}}
function UU(a,b,c,d,e){var g=(b.F()-c.rect.F())/W;b=(b.w()-c.rect.w())/W;var h=cO(a.serialize());h.pageIndex=jp(J,a.R());h.left=d;h.top=e;d=new Y(ZN,h);gK();M.register(d);d=a.clone();a.remove();d.Hb()&&fD(d);d.appendTo(c.page);d.setPosition(g,b);Jg(d);hK();return d}function TU(a,b){for(var c=0;c!=b.length;c++)if(fh(a,b[c].rect))return b[c];return null}
function WU(a,b){return J.Va().filter(function(c){c=c.C().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.K()-b.K()})}function XU(a){var b=Kb;2>J.Va().length||(fO(a),a=J.Va(),1<a.length?(a.forEach(function(a){a.C().removeData("toolbar")}),iK(yc(b),Ac(b))):1===a.length&&($(".multipleSelectionBox").remove(),ph(),a[0].C().removeClass("multiSelected"),DN(a[0]),a[0].Za()))}
function YU(a){function b(a,b){return a.K()-b.K()}if(2>a.length)return null;for(var c=a[0].R(),d=c.K(),e=1;e!==a.length;e++)if(!c||!a[e].R()||a[e].R()!==c)return null;var g=CF(new gC,a);gK();(function(a){a.sort(b);for(var c=a[0],e=1;e!==a.length;e++){var g=a[e].K();a[e].insertAfter(c);var c=a[e],n=a[e].K();g!==n&&M.register(new Y(4,{oldElementIndex:g,elementIndex:n,pageIndex:d}))}return a})(a);g.insertBefore(a[0]);a.forEach(function(a){g.addElement(a);var b=(new gn).translate(-1*g.F(),-1*g.w());a.transform(b);
g.C().find(".elements").append(a.C())});IU(g);hK();return g}function EK(){function a(a){return a.elements&&0!==a.elements.length}function b(a){return a.Hb()}function c(a){return uC(a)}var d=J.Va();if(!(1>=d.length||0<d.filter(a).length||0<d.filter(b).length||0<d.filter(c).length)){for(var e=d[0].R(),g=1;g!==d.length;g++)if(!e||!d[g].R()||d[g].R()!==e)return;ph();(d=YU(d))&&Kg(d)}}
function mS(a,b){var c=a.C().data("toolbar"),d=a.yb();if(-1!==d)d=[a.Vb(d)];else if(a.kb()&&a.ke())d=HF(a),c&&LD(c);else return;b();gK();d.forEach(function(b){var c=b.index,d=a.Vb(c);b={elementIndex:a.K(),pageIndex:jp(J,a.R()),textIndex:c,"new":d,old:b};M.register(new aO(1,b))});hK();c&&LD(c)}
function rK(a){function b(a){if(0===a.Sa()){var b=a.pa();a.hb(0);a.na(c);var h=a.pa();Im(b,h)||M.register(new Y(kp,{elementIndex:a.K(),pageIndex:d,old:b.serialize(),"new":h.serialize(),proportionalSetSize:!1}))}}if(a.kb()){var c=a.j(),d=jp(J,a.R());gK();EF(a).forEach(b);hK()}}function sK(a){a.kb()&&(gK(),EF(a).forEach(function(b){mS(b,function(){a.Xq(0,"uppercase");tA(a.bb(0),!1)})}),hK())}
function tK(a){a.kb()&&(gK(),EF(a).forEach(function(a){mS(a,function(){a.ji(0,"left");tA(a.bb(0),!1)})}),hK())}function uK(a){a.kb()&&(gK(),EF(a).forEach(function(a){mS(a,function(){a.ji(0,"right");tA(a.bb(0),!1)})}),hK())}function vK(a){a.kb()&&(gK(),EF(a).forEach(function(a){mS(a,function(){a.ji(0,"center");tA(a.bb(0),!1)})}),hK())}
function ZU(a,b,c){var d=a.ja().slice(),e=b(a),g=a.Xc;g&&(e=b(g));gK();b=a.Ae();1===b.length&&cB(b);JU(a);dO(a);d.forEach(function(a){var b=a.F(),d=a.w();c(a,e);M.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:d}}))});(a=YU(d))&&DN(a);hK()}function KR(a){ZU(a,function(a){return a.$b()},function(a,c){lC(a,a.$b()-c)})}function LR(a){ZU(a,function(a){return a.Dd()},function(a,c){nC(a,c-a.Dd())})}
function MR(a){ZU(a,function(a){return a.$b()+a.kh()/2},function(a,c){var d=a.$b()+a.kh()/2;lC(a,d-c)})}function NR(a){ZU(a,function(a){return a.jc()},function(a,c){mC(a,a.jc()-c)})}function OR(a){ZU(a,function(a){return a.gd()},function(a,c){oC(a,c-a.gd())})}function PR(a){ZU(a,function(a){return a.jc()+a.jh()/2},function(a,c){var d=a.jc()+a.jh()/2;mC(a,d-c)})}
function RR(a){var b=a.ja().slice();gK();JU(a);dO(a);a=b.slice().sort(function(a,b){return a.$b()>b.$b()});var c=a.shift().Dd(),d=a.pop().$b(),e=a.reduce(function(a,b){return b.kh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();lC(a,a.$b()-h-g);h=a.Dd();M.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=YU(b))&&DN(b);hK()}
function QR(a){var b=a.ja().slice();gK();JU(a);dO(a);a=b.slice().sort(function(a,b){return a.jc()>b.jc()});var c=a.shift().gd(),d=a.pop().jc(),e=a.reduce(function(a,b){return b.jh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();mC(a,a.jc()-h-g);h=a.gd();M.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=YU(b))&&DN(b);hK()}
function dO(a){var b=[].concat(a.ja()).reverse(),c=pC(a);a.Mi();b.forEach(function(b){a.jj(b);var e=zF(c,pC(b),!0);b.insertAfter(a);b.C().insertAfter(a.C());b.Xl(e.Da);b.setPosition(e.left,e.top);b.Wl(e.rotation)});a.remove();ph();FK(b)}function DK(){var a=J.Va(),b;if(b=1===a.length)b=-1!==a[0].ds().indexOf("ungroup");b&&(ph(),gK(),a=a[0],JU(a),dO(a),hK())}
function qU(a){function b(a){r=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;E.read(c);return!1}function c(){var a=r-k,b=x-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=ch(K,dh(c)),c=TU(c,I);if(z||Math.abs(a)>R.Ec||Math.abs(b)>R.Ec)z=!0,h.setPosition(n+a/W,p+b/W),lh(h,u,v),c&&c.page&&c.page!==h.R()&&!h.Bv(h.R())?eD(K,c.page).$el.addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),iK(yc(e),
Ac(e))}function d(){G.off("mousemove|touchmove",b).off("mouseup|touchend",d);L.read(function(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect(),b=ch(K,dh(a));L.write(function(){var a=TU(b,I);$(".page").removeClass("hotspotHover");$("#overlays .align").removeClass("on");$U(g,!1);if(z){gK();if(h.Bv(h.R()))g.forEach(function(a,b){a={elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{left:a.F(),top:a.w()},old:{left:q[b].left,top:q[b].top}};M.register(new Y(kp,a))});else if(a){for(var c=[],
d=g.length-1;0<=d;d--){var e=g[d];if(e.xy()){var k=e.C().get(0).getBoundingClientRect(),k=ch(K,dh(k)),e=UU(e,k,a,q[d].left,q[d].top);c.push(e)}}ph();FK(c)}else g.forEach(function(a,b){var c=cO(a.serialize());c.left=q[b].left;c.top=q[b].top;c.pageIndex=jp(J,a.R());M.register(new Y(ZN,c));a.remove()}),$(".multipleSelectionBox").remove();hK()}})})}var e=Kb;if(a.which==R.Eh||a.ctrlKey)return!0;var g=J.Va().sort(function(a,b){return b.K()-a.K()}),h=new Al(g),k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
l=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=WU(k,l)[0];if(a.shiftKey&&m)return XU(m),!1;$U(g,!0);var n=h.F(),p=h.w(),q=g.map(function(a){return{left:a.F(),top:a.w()}}),u={},v=kh(g),z=!1,r=0,x=0,I=MU(),E=gh(),L=gh(),G=new mp($(document));G.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){ac=new fP;ac.on("nodeInserted",aV).on("nodeInserted",bV).on("nodeRemoved",bV).on("characterDataModified",bV)});
function kK(){if(1===J.Va().length){var a=J.Va()[0];if(a.kb()){var b=a.yb(),c;a:{for(c=a.yb()+1;c!=a.elements.length;c++)if(GF(a,c))break a;b:{for(c=0;c!=a.elements.length;c++)if(GF(a,c))break b;c=-1}}-1!==c&&c!==b&&(b=a.bb(c),c=b.data("canvaElement"))&&(cB(a.Ae()),a.Mi(),pK(b),FF(a,c),a.Za())}}}
function pK(a,b){if(!a.hasClass("focused")){var c=a.data("canvaElement");if(c&&c.Xo()){var d=a.parents(".page").hasClass("dark");d&&a.addClass("dark");Tb&&(cV(Tb),dV(Tb));var e=!!a.parents(".page").length;if(a.is(".svg .text"))d=a.parents(".element").first(),e&&a.data("precedingElement",d.prevAll(".element").first()),a.addClass("focused svg element"),d.appendTo("#overlays"),c.setPosition(),ip(c);else if(a.is(".group .text")){var g=a.parents(".group").first();e&&(e=g.prevAll(".element").first(),a.data("precedingElement",
e),g.data("precedingElement",e));a.addClass("focused");d&&g.find(".text").addClass("dark");g.appendTo("#overlays");g.data("canvaElement").setPosition()}else e&&a.data("precedingElement",a.prevAll(".element").first()),a.appendTo("#overlays").addClass("focused"),c.setPosition();d=c.yb();a.removeClass("focused");c=c.Vb(d);a.data("oldTextData",c);a.addClass("focused");uA(a);c=a.children(".inner");c.attr("contentEditable","true");c.focus();c.off("paste").on("paste",eV);hP(ac);ac.observe(a);dS.eZ(a);d=
mc(Kb);a=a.data("placeholderText")||d.Jf();a=c.text()==a;(b||a)&&NA(c)}}}function NA(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function eV(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function aV(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var fV=!1;
function bV(a){var b=$(this),c=b.data("textChangeCount")||0;b.data("textChangeCount",++c);if(fV)fV=!1;else{var c=b.data("designObject")||null,d=b.data("Canva.textElementUpdated:lastCalledAt")||0;5<a.timeStamp-d&&(b.data("Canva.textElementUpdated:lastCalledAt",a.timeStamp),c&&b.is(".svg")&&wD(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(fV=!0,b.html(c.replace(a,"")))}}
var dS=function(){function a(a){a.get(0)===e&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(e).off("keydown mousemove",b),e=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else if(e){if(100<a-h){var b=jQuery.data(e,"toolbar");b&&LD(b);h=a}d=window.requestAnimationFrame(c)}}var d=0,e=null,g=0,h=0;return{eZ:function(c){c=c.get(0);c!==e&&(null!==e&&a($(e)),e=c,b(),$(e).on("keydown mousemove",b))},hZ:a}}();
function cB(a){var b=a.data("canvaElement");if(b&&a.is(".focused")){a.data("textChangeCount",0);var c=a.data("precedingElement"),d=a.children(".inner"),e=b.R()||J.Ba(),g=eD(K,e),h=b.yb(),k=!1,l=!a.parents(".page").length;dS.hZ(a);Tb&&gV(Tb);a.removeClass("dark");if(a.is(".svg.text"))k=a.parents(".element").first(),l&&(c&&0<c.length?k.insertAfter(c):hV(g,k)),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),ip(b),dA(b,h),k=!0,(c=b.C().data("toolbar"))&&
c.Yn("font");else if(a.is(".group .text")){var m=a.parents(".group").first();m.find(".text").removeClass("dark");var n=m.data("canvaElement"),c=m.data("precedingElement");l&&(c&&1===c.length&&0>=m.has(c[0]).length?m.insertAfter(c):hV(g,m));m.removeData("precedingElement");a.removeData("precedingElement");a.text().match(/^\s*$/)&&n?((c=a.data("oldTextData"))&&b.nj(h,c),tR(n)):(dA(b,h),k=!0);n.Mi();d.attr("contentEditable","false");n.nc();(c=n.C().data("toolbar"))&&c.Yn("font")}else 0<a.length&&(l&&
(c&&0<c.length?a.insertAfter(c):hV(g,a)),a.removeClass("focused"),d.attr("contentEditable","false"),a.text().match(/^\s*$/)?((c=a.data("oldTextData"))&&b.nj(h,c),gK(),cN(b),b.remove(),hK()):(dA(b,h),k=!0));d.off("paste",eV);hP(ac);b.nc();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(k){if(d=a.data("oldTextData"))k=b.Vb(h),e={elementIndex:b.K(),pageIndex:jp(J,e),textIndex:h,"new":k,old:d},e=new aO(1,e),gK(),M.register(e),b.xI=!0,hK();b=J.sb();e=a.text();IT(b)&&JT(b,KT(b,
e)?"":e)}a.removeData("oldTextData")}}
function rU(a){var b;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){var c=$(this).data("element");if(!c)return;b=c.get(0);if(b&&(c=c.data("canvaElement")))if(c instanceof Rp)a.target=b;else{$(this).css("visibility","hidden");var c=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),d=$(c).closest(".element").get(0);d?(a.target=c,b=d):a.target=b;$(this).css("visibility","")}else return;
pU.call(b,a)}return!1}function oU(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(!c||a.metaKey)return!1;b.hasClass("text")?pK(b):c.ym?eS(c):c.iy()&&(c.Hu=!c.Hu,c.Za());return!1}var iV=!1;
function Kg(a,b){function c(a){var b=a.C();a.uh();b.is(".text.focused")&&cB(b);b.addClass("multiSelected")}iV=!1;var d=Kb,e=a.C(),g=J.Va();if(a.Xo()){var h=!1;g.forEach(function(b){b.R()===a.R()&&(h=!0)});if(!(0<g.length)||h){if(uC(a))if(e=e.parents(".group"),1===e.length&&e.data("canvaElement"))a=e.data("canvaElement"),DF(a),a.Mi(),a.Yn();else return;a.Ef()?a.kb()&&!b&&bS(a,yc(d)):(a.tk(!0),0===g.length?(jV(e),!b&&bS(a,yc(d))):uC(a)||(g.forEach(c),e.addClass("multiSelected"),iK(yc(d),Ac(d))))}}}
function bS(a,b){KO(a.C(),b)}function DN(a){var b=J.Va();if(1!=b.length||-1==b.indexOf(a))ph(),Kg(a)}function HK(a){var b=J.Va(),c=J.Ba(),d=c.ja().length-1;if(0!==a&&1===b.length&&(b=c.elements.indexOf(b[0]),-1!==b)){b+=a;0>b&&(b=d);b>d&&(b=0);var e=c.elements[b]||null;e&&(e.Hb()&&(0<a?(b+=1,b>d&&(b=0)):(--b,0>b&&(b=d))),(a=c.elements[b]||null)&&DN(a))}}var kV=_.template('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"removeWatermark" href\x3d"#"\x3e\x3c%- removeWatermark %\x3e\x3c/a\x3e\x3c/div\x3e');
function jV(a){function b(){e.removeClass("initialHover");e.off("mousemove",b)}var c=Kb,d=$("#overlays"),e=a.data("selectionBox"),g=a.data("canvaElement")||null;a.addClass("selected");e||(e=$(kV({resize:Ac(c).resize(),stretch:Ac(c).stretch(),rotate:Ac(c).rotate(),removeWatermark:Ac(c).i8()})),e.data("element",a).appendTo(d),a.hasClass("text")&&e.addClass("text"),a.hasClass("svg")&&e.addClass("svg"),a.hasClass("graphic")&&e.addClass("graphic"),a.hasClass("unapproved")&&e.addClass("unapproved"),a.hasClass("group")&&
e.addClass("group"),a.data("selectionBox",e));g&&(Ib.H.get(hg)&&(SU(g)?(e.addClass("hasWatermark"),e.addClass("initialHover"),e.on("mousemove",b)):e.removeClass("hasWatermark")),g.Za())}function fO(a){var b=a.C(),c=b.find(".text.focused");a.tk(!1);a.uh();b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?cB(b):a instanceof gC?1===c.length&&cB(c):a instanceof hp&&1===c.length&&cB(c);a.Mi();(b=a.R())&&!a.Bv(b)&&(cN(a),a.remove())}function lV(a){fO(a);Kg(a)}
function FK(a){for(var b=0;b!==a.length;b++)if(!a[b].Xo())return;if(1===a.length)Kg(a[0]);else for(b=0;b!==a.length;b++)Kg(a[b],!0)}
function VU(a){function b(a){!1===iV?c():(a=d.indexOf(a),-1!==a&&d.splice(a,1),0===d.length&&(c(),FK(e)))}function c(){T.off("elementLoaded",b);T.off("elementLoadingError",b)}var d=a.filter(function(a){return a.vv()}),e=a.filter(function(b){return 0===a.filter(function(a){return a.kb()&&-1!==a.elements.indexOf(b)}).length});0<d.length?(iV=!0,T.on("elementLoaded",b),T.on("elementLoadingError",b)):FK(e)}
function ph(){T.trigger("hideContextualControlsRequested");J.Va().forEach(fO);$(".multipleSelectionBox").remove();$(document.activeElement).is("input, textarea")||window.getSelection().removeAllRanges()}
function lK(a){var b=ro(),c=b.elements[0],d=-1;b.lm&&0===b.lm.elementIndex&&(d=b.lm.filterableIndex);var e=-1;b.nm&&0===b.nm.elementIndex&&(e=b.nm.textIndex);var g=jp(J,a.R()),h=a.K();if(b&&c&&b.zv){gK();M.register(new Y(kp,{elementIndex:h,pageIndex:g,"new":{transparency:c.Da},old:{transparency:a.Da}}));a.Xl(c.Da);c.xM()&&a.xM()&&(M.register(new Y(kp,{elementIndex:h,pageIndex:g,"new":{border:c.Th()},old:{border:a.Th()}})),cE(a,c.Th()));c.AM()&&a.AM()&&(M.register(new Y(kp,{elementIndex:h,pageIndex:g,
"new":{padding:c.padding},old:{padding:a.padding}})),a.aC(c.padding));c.bA()&&a.bA()&&(M.register(new Y(kp,{elementIndex:h,pageIndex:g,"new":{spacing:c.he()},old:{spacing:a.he()}})),a.Wq(c.he()));if(c.Op()&&a.Op()){var b=a.Fz(),k=c.zp(d),d=a.Ad();if(k&&d){var k=dD(k),l=dD(d),h=new Y(11,{elementIndex:h,pageIndex:g,placeholderIndex:b,"new":{filter:k},old:{filter:l}});SI(d,k);M.register(h)}}h=c.Bd();b=a.Bd();0!==h&&h===b&&c.ab().forEach(function(b,c){if(null!==b){var d={index:c},e={index:c};a instanceof
cC?d.placementData=a.pl(c):d.color=a.ab()[c];a.Yd(c,b);a instanceof cC?e.placementData=a.pl(c):e.color=a.ab()[c];b=new Y(dN,{elementIndex:a.K(),pageIndex:g,old:d,"new":e});M.register(b)}});c.ke()&&a.ke()&&(h=a.yb(),-1!==e&&-1!==h&&(b=a.Vb(h),(c=c.Vb(e))&&b&&(a.io(h,c.bold),a.sk(h,c.fontFamily),c.fontMedia&&a.Sq(h,fn(c.fontMedia)),a.pe(h,c.fontSize),a.ko(h,c.italic),a.ji(h,c.justification),a.Ww(h,c.letterSpacing),a.Xw(h,c.lineHeight),a.Xq(h,c.textTransform),a.setColor(h,uh(c.color))),c=a.Vb(h),c=new aO(1,
{elementIndex:a.K(),pageIndex:g,textIndex:h,"new":c,old:b}),M.register(c)));hK();a.Za()}}function BK(a){void 0===a&&(a=J.Va());if(0<a.length){var b=a.map(function(a){return a.clone()});qo(b,a[a.length-1])}}
function CK(){function a(a){if(a.Tj()){var b=a.Nb();b&&!hq(vb,b)&&CE(Bb,b.id,(new gD).Ck(b.version)).then(function(b){Yg(vb,b.u(),b.Ja().getVersion(),b.Ja().pc());a.Aw()}).catch($.noop)}}function b(b){b.kb()?b.ja().forEach(a):a(b);e?(nC(b,R.bD),oC(b,R.bD),b.insertAfter(e),e=b):b.appendTo(d);h++;h===g.length&&(gK(),g.forEach(Jg),ph(),hK(),VU(g),BK(g))}var c=ro();if(c&&!c.zv){var d=J.Ba(),e=c.lw;!e||-1<d.elements.indexOf(e)||(e=null);e&&e.kb()&&(e=RF(e));var g=c.elements.filter(function(a){return!!a}),
h=0;g.forEach(b)}}
function vU(a){function b(a){p=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;n.write(c);return!1}function c(){var a=Pn(e.Sa()),b=(p-g)*Math.cos(a)-(h-q)*Math.sin(a)+g-g,a=-1*(h-q)*Math.cos(a)-(p-g)*Math.sin(a)+h-h;if(m||Math.abs(b)>R.Ec||Math.abs(a)>R.Ec)m=!0,b/=W,a/=W,e.aQ(k+b,l+a),e.Za()}function d(){u.off("mousemove|touchmove",b).off("mouseup|touchend",d);e.qg=!1}if(a.which==R.Eh||a.ctrlKey||$(a.target).is(".handle"))return!0;var e=
$(this).data("canvaElement");if(!e)return!0;var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;a=e.ag();var k=a.F(),l=a.w(),m=!1,n=gh(),p=0,q=0;e.qg=!0;var u=new mp($(document));u.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function wU(a){function b(a){ea=a.shiftKey?!1:!0;Q=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;da.read(c);return!1}function c(){u=Km(dh($(".cropControls").get(0).getBoundingClientRect()));da.write(function(){var a,b,c=0,d=0;b=a=0;var k=MP({x:Q,y:N},q),u=Sn(n,p,Q,N),da=Math.cos(Pn(k-v))*u;ea&&(k=v,u=da);da=SB(k,g.Sa());switch(eT(e.get(0))){case 2:c=da-NP("TR");b=u*Math.cos(Pn(c));a=u*Math.sin(Pn(c));ea&&(b=a/m);c=
z;d=r-b;a=x+a;b=I+b;break;case 7:c=da-NP("BR");b=u*Math.sin(Pn(c));a=u*Math.cos(Pn(c));ea&&(b=a/m);c=z;d=r;a=x+a;b=I+b;break;case 5:c=da-NP("BL");b=u*Math.cos(Pn(c));a=u*Math.sin(Pn(c));ea&&(b=a/m);c=z-a;d=r;a=x+a;b=I+b;break;case 0:c=da-NP("TL"),b=u*Math.sin(Pn(c)),a=u*Math.cos(Pn(c)),ea&&(b=a/m),c=z-a,d=r-b,a=x+a,b=I+b}var u=l.F()+l.j(),da=l.w()+l.o(),k=Math.floor(d)>l.w(),sa=Math.floor(c)>l.F(),Oa=Math.ceil(c+a)<u,Qb=Math.ceil(d+b)<da;k&&(l.w(),G===l.w()?(d=G,b=O,ea&&(c=E,a=L)):(d=l.w(),b=O+(G-
d),ea&&(a=b*m,c=E,Math.ceil(c+a)<u&&(a=u,b=a/m))));sa&&(l.F(),E===l.F()?(c=E,a=L,ea&&(b=O,d=G)):(c=l.F(),a=L+(E-c),ea&&(b=a/m,d=G,Math.ceil(d+b)<da&&(b=da,a=b*m))));Oa&&(E+L===u?(a=L,c=E,ea&&(d=G,b=O)):(a=u-c,ea&&(b=a/m,d=G)));Qb&&(G+O===da?(b=O,d=G,ea&&(c=E,a=L)):(b=da-d,ea&&(a=b*m,c=E)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<da&&(d=G,c=E,b=da,ea&&(a=b*m)),a<u&&(c=E,d=G,a=u,ea&&(b=a/m)),k=Math.floor(d)>l.w(),sa=Math.floor(c)>l.F(),Oa=Math.ceil(c+a)<u,Qb=Math.ceil(d+b)<da,k||sa||Oa||
Qb||(h.hb(c/W).cb(d/W).na(a/W).ea(b/W),g.Ul(h),g.Za(),E=c,G=d,L=a,O=b))})}function d(){Oa.off("mousemove|touchmove",b).off("mouseup|touchend",d);sa.write(function(){e.removeClass("on");g.qg=!1})}var e=$(this),g=J.Va()[0],h=g.ag(),k=g.ag().scale(W),l=g.ed().scale(W);l.hb(0).cb(0);var m=k.gh(),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q={x:n,y:p};a=Km(dh(e.get(0).getBoundingClientRect()));var u=Km(dh($(".cropControls").get(0).getBoundingClientRect())),
v=MP(a,u),z=k.F(),r=k.w(),x=k.j(),I=k.o(),E=k.F(),L=k.j(),G=k.w(),O=k.o(),Q=0,N=0,ea=!0,da=gh(),sa=gh();g.qg=!0;var Oa=new mp($(document));Oa.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function xU(a){function b(a){I=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;E=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;L.read(c);return!1}function c(){var a,b,c,d,G=0,O=0,ia=h.clone(),ja=Sn(l,m,I,E),G=SB(MP({x:I,y:E},n),e.Sa()),Da=0;switch(eT(g.get(0))){case 2:Da=G-NP("TR");O=ja*Math.cos(Pn(Da));G=ja*Math.sin(Pn(Da));a=h.F();c=h.w()-O;b=h.j()+G;d=h.o()+O;break;case 7:Da=G-NP("BR");O=ja*Math.sin(Pn(Da));G=ja*Math.cos(Pn(Da));a=h.F();c=h.w();b=h.j()+G;d=h.o()+
O;break;case 5:Da=G-NP("BL");G=ja*Math.sin(Pn(Da));O=ja*Math.cos(Pn(Da));a=h.F()-G;c=h.w();b=h.j()+G;d=h.o()+O;break;case 0:Da=G-NP("TL"),O=ja*Math.sin(Pn(Da)),G=ja*Math.cos(Pn(Da)),a=h.F()-G,c=h.w()-O,b=h.j()+G,d=h.o()+O}ja=k.w();c<ja&&(r===ja?(c=r,d=x):(c=ja,d=x+(r-c)));ja=k.F();a<ja&&(v===ja?(a=v,b=z):(a=ja,b=z+(v-a)));ja=k.o()+k.w();c+d>ja&&(r+x===ja?(d=x,c=r):d=ja-c);ja=k.j()+k.F();a+b>ja&&(v+z===ja?(b=z,a=v):b=ja-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(ia.hb(a).cb(c).na(b).ea(d),
v=a,r=c,z=b,x=d,L.write(function(){zl(e,ia.scale(1/W));u&&lh(u,p,q);e.Za()}))}function d(){O.off("mousemove|touchmove",b).off("mouseup|touchend",d);G.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on");e.qg=!1})}var e=J.Va()[0],g=$(this);e.Za();var h=e.ed();h.scale(W);var k=e.ag();k.scale(W).translate(h.F(),h.w());var l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n={x:l,y:m},p={},q=kh(e),
u=e instanceof ZB?new yl(e):null,v=h.F(),z=h.j(),r=h.w(),x=h.o(),I=0,E=0,L=gh(),G=gh();e.qg=!0;var O=new mp($(document));O.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function uU(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-n;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-p;var d=Math.sqrt(Math.pow(q+b,2)+Math.pow(u+a,2));G=e(I);10>q+b||10>u+a||(E=d/v,c(),x.css("-webkit-transform","scale("+E+")").css("transform","scale("+E+")"))}function c(){var a=$("#overlays").offset();L.css("top",G.top-a.top+"px").css("left",G.left-a.left+"px").css("width",G.width+"px").css("height",G.height+"px")}function d(){N.off("mousemove|touchmove",
b).off("mouseup|touchend",d);$U(z,!1);k();x.remove();h();L.remove()}function e(a){var b=Infinity,c=Infinity,d=0,e=0;a.each(function(a,g){a=g.getBoundingClientRect();a.top<b&&(b=a.top);a.left<c&&(c=a.left);a.bottom>e&&(e=a.bottom);a.right>d&&(d=a.right)});return{top:b,left:c,right:d,bottom:e,width:d-c,height:e-b}}function g(){I=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();I.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});
I.removeClass(".multiSelected");x=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");I.appendTo(x);var a=J.Va()[0].C().parent(".elements");x.appendTo(a);m.hasClass("br")?x.addClass("fixTopLeft"):m.hasClass("bl")?x.addClass("fixTopRight"):m.hasClass("tr")?x.addClass("fixBottomLeft"):m.hasClass("tl")&&x.addClass("fixBottomRight")}function h(){$(".multipleSelectionBox").css("visibility","visible");$(".multiSelected").each(function(){var a=
$(this).data("canvaElement");$(this).css("opacity",1-a.Da/100)})}function k(){var a=x.get(0).getBoundingClientRect(),b=a.left,c=a.top;gK();I.each(function(){function a(){0==v&&h.setPosition(r/W,u/W)}function d(){var a=h.pa();if(!Im(n,a)){var b=n.serialize(),a=a.serialize();h.cA()&&(b.transformDependentData=p,a.transformDependentData=h.Sz());b={elementIndex:h.K(),pageIndex:q,old:b,"new":a};M.register(new Y(kp,b))}}var e=$(this).data("multi-id"),g=$(".multiSelected").filter(function(){return $(this).data("multi-id")==
e}).first(),h=g.data("canvaElement"),k=g.get(0).getBoundingClientRect(),m=$(this).get(0).getBoundingClientRect(),n=h.pa(),p=h.cA()?h.Sz():null,q=jp(J,h.R()),g=(m.right-m.left)/(k.right-k.left),k=(m.bottom-m.top)/(k.bottom-k.top),r=m.left-b+Q,u=m.top-c+O,v=h.Sa();$(this).remove();if(h instanceof Rp){var m=h.Sc(0),m=parseFloat(parseFloat(m*E)),z=h.j()*g,k=h.Vb(0),g=h.yd;h.yd=!1;h.pe(0,m);h.na(z);h.ea();h.$a();a();m=h.Vb(0);m={elementIndex:h.K(),pageIndex:q,textIndex:0,"new":m,old:k};M.register(new aO(1,
m));d();g&&bE(h)}else h.setSize(h.j()*g,h.o()*k),a(),d();h.$a();iK(yc(l),Ac(l))});hK()}var l=Kb,m=$(this),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=$(".multipleSelectionBox").width(),u=$(".multipleSelectionBox").height(),v=Math.sqrt(Math.pow(q,2)+Math.pow(u,2)),z=J.Va();if(!(0>=z.length)){a=z[0].R();for(var r=0;r!==z.length;r++)if(z[r].R()!==a)return;m.addClass("on");T.trigger("hideContextualControlsRequested");
$U(z,!0);var x,I,E=1,L=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');g();var G=e(I),r=eD(K,w(a));a=r.$el.offset().top;var r=r.$el.offset().left,O=G.top-a,Q=G.left-r;x.css("left",Q+"px").css("top",O+"px");I.each(function(a,b){hh(b,{ti:-Q,vi:-O},!0)});$("#overlays").append(L);
c();var N=new mp($(document));N.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function tU(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2))-h;0<b?e.aC(b/W):e.aC();e.Za();a.preventDefault();a.stopPropagation();return!1}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);e.Yj&&e.Yj();e.qg=!1;var a={elementIndex:e.K(),pageIndex:jp(J,e.R()),"new":{padding:e.padding},old:{padding:g}};M.register(new Y(kp,a))}var d=$(this);
d.addClass("on");var e=d.parents(".selectionBox").data("element").data("canvaElement");if(e){var g=e.padding,h=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2));e.qg=!0;var k=new mp($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}
function sU(a){function b(a){er=k instanceof hp||k instanceof aC?E:k.kb()?E:a.shiftKey?!E:E;vm=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;wm=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;iO.read(c);return!1}function c(){Gq=np(k);var a=MP({x:vm,y:wm},I),b=Sn(r,x,vm,wm),c=Math.cos(Pn(a-$L))*b,d=0,g=0,l=0;er&&(a=$L,b=c);if(!(cM&&3>Math.abs(bM-vm)||dM&&3>Math.abs(aM-wm))){cM=dM=!1;var m=eT(e.get(0)),n,E,qf=!1,a=SB(a,k.Sa());switch(m){case 4:d=c;n=rc;E=ja;break;case 3:d=
c;n=ja;E=rc;break;case 1:g=c;n=Ab;E=Oa;break;case 6:g=c;n=Oa;E=Ab;break;case 2:qf=!0;n=Hb;E=ia;l=a-NP("TR");d=b*Math.sin(Pn(l));g=b*Math.cos(Pn(l));break;case 7:qf=!0;n=sa;E=Da;l=a-NP("BR");g=b*Math.sin(Pn(l));d=b*Math.cos(Pn(l));break;case 5:qf=!0;n=ia;E=Hb;l=a-NP("BL");d=b*Math.sin(Pn(l));g=b*Math.cos(Pn(l));break;case 0:qf=!0,n=Da,E=sa,l=a-NP("TL"),g=b*Math.sin(Pn(l)),d=b*Math.cos(Pn(l))}k instanceof Rp&&(3===m?(n=ia,E=rc,QB(k)&&(n=Dd),RB(k)&&(n=Da)):4===m&&(n=sa,E=ja,QB(k)&&(n=ke),RB(k)&&(n=Hb)));
var xm=n.get(0).getBoundingClientRect(),jO=Q.scrollLeft,kO=Q.scrollTop;er&&qf&&(0===d?d=g*z:g=d/z);var qz;qz=0===d?k.j():qf?Math.max(u+d,G)/W:Math.max(u+d,L*W,ff)/W;var rz;rz=0===g?k.o():qf?Math.max(v+g,O)/W:Math.max(v+g,L*W,Qb)/W;k.elements&&0!==k.elements.length||lh(k,A6,B6,{d:!0,vl:!0,r:!0,W9:!0},er);c=$("#overlays").get(0).getBoundingClientRect();E=E.get(0).getBoundingClientRect();a=E.left-c.left;c=E.top-c.top;E.left<Gq.x&&da.addClass("positionIndicatorScalingFromLeft");E.top>Gq.y&&da.addClass("positionIndicatorScalingFromBottom");
da.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform","translate("+a+"px,"+c+"px)").html(qz.toFixed(0)+"  "+rz.toFixed(0));iO.write(function(){sz=qf;k.setSize(qz,rz,sz);var a=n.get(0).getBoundingClientRect(),b=kO-ea,c=jO-N;ea=kO;N=jO;Tl+=xm.top-a.top-b;sc+=xm.left-a.left-c;a=k;b=(q+Tl)/W;kC(a,(p+sc)/W);sC(a,b);k instanceof Rp&&0!==k.Sa()?(k.na(),k.nc()):k.$a();mV(k);(a=h.data("toolbar"))&&k.kb()&&k.ke()&&LD(a)});bM=vm;aM=wm}}function d(){xm.off("mousemove|touchmove",
b).off("mouseup|touchend",d);$8.write(function(){da.remove();$("#overlays .align").removeClass("on");e.removeClass("on");k instanceof Rp?window.setTimeout(function(){k.Yj();tA(h,!0);k.qg=!1},0):k.qg=!1;var a=k.pa();if(!Im(l,a)){gK();KU(k);var b=l.serialize(),a=a.serialize();k.cA()&&(b.transformDependentData=m,a.transformDependentData=k.Sz());b={elementIndex:k.K(),pageIndex:jp(J,k.R()),old:b,"new":a,proportionalSetSize:sz};M.register(new Y(kp,b));n&&(b={elementIndex:k.K(),pageIndex:jp(J,k.R()),old:n,
"new":k.Vb(k.yb()),textIndex:k.yb()},M.register(new aO(1,b)));hK()}sa.remove();Oa.remove();ia.remove();ja.remove();Da.remove();Ab.remove();Hb.remove();rc.remove();ke.remove();Dd.remove()})}var e=$(this),g=Kb,h=e.parents(".selectionBox").data("element"),k=h.data("canvaElement");if(k){e.addClass("on");var l=k.pa(),m=k.cA()?k.Sz():null,n=k instanceof Rp&&k.yd?k.Vb(k.yb()):null,p=Math.round(k.left*W),q=Math.round(k.top*W),u=tC(k),v=op(k),z=u/v,r=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,I={x:r,y:x},E=!(k instanceof Rp||k instanceof cC),L=R.$I;k instanceof gC&&(L=R.$x);k instanceof cH&&(L=R.J_);a=(new V(0,0,L,L)).scale(W);a=Pm(new V(0,0,z,1),a);var G=a.j(),O=a.o(),Q=$("#canvaDocument").get(0),N=Q.scrollLeft,ea=Q.scrollTop,da=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(da);T.trigger("hideContextualControlsRequested");lp();k.kb()&&k.ke()&&(k.Yn(),KO(h,yc(g)));var sa=$("\x3cdiv\x3e\x3c/div\x3e");
sa.css({position:"absolute",top:0,left:0});k.C().append(sa);var Oa=$("\x3cdiv\x3e\x3c/div\x3e");Oa.css({position:"absolute",top:0,left:"50%"});k.C().append(Oa);var ia=$("\x3cdiv\x3e\x3c/div\x3e");ia.css({position:"absolute",top:0,right:0});k.C().append(ia);var ja=$("\x3cdiv\x3e\x3c/div\x3e");ja.css({position:"absolute",top:"50%",right:0});k.C().append(ja);var Da=$("\x3cdiv\x3e\x3c/div\x3e");Da.css({position:"absolute",bottom:0,right:0});k.C().append(Da);var Ab=$("\x3cdiv\x3e\x3c/div\x3e");Ab.css({position:"absolute",
bottom:0,left:"50%"});k.C().append(Ab);var Hb=$("\x3cdiv\x3e\x3c/div\x3e");Hb.css({position:"absolute",bottom:0,left:0});k.C().append(Hb);var rc=$("\x3cdiv\x3e\x3c/div\x3e");rc.css({position:"absolute",top:"50%",left:0});k.C().append(rc);var ke=$("\x3cdiv\x3e\x3c/div\x3e");ke.css({position:"absolute",top:"50%",left:0});k.C().append(ke);var Dd=$("\x3cdiv\x3e\x3c/div\x3e");Dd.css({position:"absolute",top:"50%",right:0});k.C().append(Dd);var ff=0,Qb=0;k instanceof hp&&(g=k.vb?$.extend(!0,{},k.vb):null)&&
(ff=(g.left+g.right)*HD(k).scale*W,Qb=(g.top+g.bottom)*HD(k).scale*W);var Tl=0,sc=0,Gq=np(k),g=Km(dh(e.get(0).getBoundingClientRect())),$L=MP(g,Gq),aM=x,bM=r,cM=!1,dM=!1,A6={},B6=kh(k),vm=0,wm=0,er=E,sz=!1,iO=gh(),$8=gh();k.qg=!0;var xm=new mp($(document));xm.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function mV(a){if(a instanceof Rp&&a.yd){for(var b=a.Sc(0),c=a.C().children(".inner"),d=c.parent().outerHeight()/W,e=c.parent().outerWidth()/W;c.outerHeight()<=d&&Number(c.prop("scrollWidth"))<=e&&b<R.H_;)b++,a.pe(0,b,!0);for(;(c.outerHeight()>d||.95*Number(c.prop("scrollWidth"))>e)&&b>R.ZI;)b--,a.pe(0,b,!0);b===R.ZI&&c.outerHeight()>d&&a.ea(c.outerHeight());a.C().removeData("cachedLineLengths")}}var nV=_.template('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e');
function iK(a,b){if(J&&J.Va){var c=J.Va();if(!(2>c.length)){var d=$("#overlays"),e=$(".selectionBox.multipleSelectionBox");0==e.length&&(e=$(nV({resize:b.resize(),rotate:b.rotate()})),e.appendTo(d));0===c.filter(function(a){return 0!==a.Sa()}).length&&e.addClass("cornerHandles");b=oV(c);e.css("left",b.F()).css("top",b.w()).css("width",b.j()).css("height",b.o());var g=$();c.map(function(a){g.push(a.C().get(0))});qS(g,a)}}}
function oV(a){function b(a,b){return rC(K.Ka[a?a.K():0])+b*W}function c(a,b){return wC(K.Ka[a?a.K():0])+b*W}var d=a.map(function(a){return b(a.R(),a.$b())}),e=a.map(function(a){return c(a.R(),a.jc())}),d=Bl(d),e=Bl(e),g=Cl(a.map(function(a){return b(a.R(),a.Dd())}));a=Cl(a.map(function(a){return c(a.R(),a.gd())}));return new V(d,e,g-d,a-e)}
function pV(){var a=$(this),b=a.data("canvaElement");if(b&&b.Xo()&&!(0<a.parents(".group").length)){var c=J.Va(),d=J.Gb().filter(function(a){a=eD(K,a);return AN(a.$el,$("#marquee"))}),e=AN(a,$("#marquee")),d=-1!==d.indexOf(b.R()),g=0===c.length;c.forEach(function(a){b.R()===a.R()&&(g=!0)});e&&d&&g?b.Hb()||b.Eg()?(c=a.get(0).getBoundingClientRect(),e=$("#marquee").get(0).getBoundingClientRect(),e.top+10<c.top&&e.left+10<c.left?(b.tk(!0),a.addClass("multiSelected")):(b.tk(!1),a.removeClass("multiSelected"))):
(b.tk(!0),a.addClass("multiSelected")):(b.tk(!1),a.removeClass("multiSelected"))}}function nU(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function kU(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function lU(){if(qV)$("#content").off("keydown",".element.text.focused",lU);else{var a=$(this);rV(a)}}function mU(){qV=!0;var a=$(this);rV(a)}var qV=!1;function rV(a){function b(){a.data("handleTextElementInputTimerId",0);sV(a);tA(a,!0)}if(!tV(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=qV?requestAnimationFrame(b):window.setTimeout(b,R.Dc),a.data("handleTextElementInputTimerId",c))}}
function sV(a){var b=a.data("canvaElement");if(b){var c=b.yb();0<Object.keys(b.es(c)).length&&uV(function(){b.Ro(c)})}}function tV(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function uV(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode(""));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function tA(a,b){function c(){h.$a();k&&(m.sP(h,L),m.$a())}function d(a,b){return a.$b()+b>a.R().Dd()}function e(a){return a.$b()<=a.R().$b()}var g=!!b;if(!tV(a)){var h=a.data("canvaElement");if(h&&(h.vv()&&(g=!1),b=a.children(".inner"),0!==b.length)){var k=0<a.parents(".element.group").length,l=0;if(k){var m=a.parents(".group").first().data("canvaElement"),l=m.Sa();h.Yj()}100<b.text().length&&h.dt(h.yb());var n=g&&!h.vA();n&&(b.css("width","0"),b.addClass("explicitLineBreaksLayoutMode"));var p=b.prop("scrollWidth"),
q=Dl(b[0]).eo;q&&1<q&&(p/=q);var q=a.data("justification"),u=h.j(),v=h.F();if(n){var z=u;a.data("ephemeralStartWidth")?z=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",h.j());a=Math.max(z,p+2);h.R()&&(q&&"left"!==q?"right"===q?(h.hb(v+u-a),e(h)&&(a=u,h.hb(0),h.Yj())):"center"===q&&(h.hb(v+(u-a)/2),e(h)||d(h,a))&&(h.hb(v),a=u,h.Yj()):d(h,a)&&(a=h.R().Dd()-h.$b(),h.Yj()))}else a=Math.max(u,p);q=p=0;if(g=(0!==Um(l)-Um(h.Sa())||!(!h.ue||"top"===h.ue))&&g){var r=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');
h.C().find(".shim").remove();h.C().prepend(r);r.css("position","absolute").css("left",0);h.ue&&"top"!==h.ue?RB(h)?r.css("top","100%"):QB(h)&&r.css("top","50%"):r.css("top",0);var x=r.get(0).getBoundingClientRect(),I=h.w(),E=h.F()}n&&b.removeClass("explicitLineBreaksLayoutMode");h.na(a);var L=h.pa();b=h.o();h.$a();g&&b!==h.o()?(b=r.get(0).getBoundingClientRect(),r.remove(),p=b.top-x.top,q=b.left-x.left,uC(h)&&(r=jn(hn([q,p]).rotate(m.Sa())),q=r[0],p=r[1]),0==p&&0==q||h.setPosition(E-q/W,I-p/W),window.setTimeout(c,
0)):(c(),r&&r.remove());mV(h)}}}
function GK(){var a=J.Va(),b,c,d=R.cS*R.dD,e,g;(c=J.Ba())&&1===a.length&&(b=a[0],fO(b),a=b.pa(),b instanceof cC?(e=c.pa(),e.cb(e.w()-d),e.na(e.j()+2*d),e.ea(e.o()+2*d),e.hb(e.F()-d)):e=nh(a.clone(),c.pa()),b instanceof Rp?(gK(),d=b.Vb(0),g=b.Sc(0)*(e.o()/a.o()),b.pe(0,g),window.setTimeout(function(){b.na(e.j());b.ea();b.$a()},0),b.setPosition(e.F(),e.w()),g=b.Vb(0),d={elementIndex:b.K(),pageIndex:jp(J,c),textIndex:0,"new":g,old:d},d=new aO(1,d),M.register(d)):(b.md(e),b.$a()),c={elementIndex:b.K(),
pageIndex:jp(J,c),"new":e.serialize(),old:a.serialize()},c=new Y(kp,c),M.register(c),b instanceof Rp&&hK(),Kg(b))}function tz(){var a=$(".toolbarContainer .toolbar__button--cancel");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}function yU(){tz()}
function zU(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(v);$("#overlays").addClass("shakeOverlays");v=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=u,a.vz=!1,a.C().toggleClass("failed",a.vz),a.Sq(0),a.YB(0),a.sk(0,"Glegoo"),a.bt=!0,uA(a.C(),!0),a.$a(),Kg(u),pK(u.C(),!0),u.Za(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",e).addClass("disappear")}function e(){$(this).remove()}function g(){var a=q.get(0)===n;if(a=q.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=dh(a.get(0).getBoundingClientRect()),b=dh(n.getBoundingClientRect()),a=fh(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=mc(Kb);h=n.classList.contains("unapproved");k=a.format("documentMediaLoadFailedError");var p=n.classList.contains("failed"),
q=$("#cutoutMessage"),u=$(n).data("canvaElement");if(u){0>=q.length&&(q=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));p&&(l=240,m=100,k=a.format("documentFontLoadFailedError"));q.data("canvaElement",u).html(k).toggleClass("unapproved",h).toggleClass("failed",p).off("transitionend").removeClass("disappear");$(n).on("mousedown",b);g()&&(a=dh(n.getBoundingClientRect()),h=dh($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=hT().translate(k.left,k.top).translate(-h.F(),
-h.w()),l=new V(0,0,l,m),Rm(Om(l,a).translate(-h.F(),-h.w()),k),q.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var v}}function AU(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page .page__elements")&&($(a.target).is("input")||$(document.activeElement).blur(),ph())}
function qh(a,b,c){function d(a){CN=!0;window.clearTimeout(Q);Q=window.setTimeout(function(){CN=!1},1E3);var b=document.elementFromPoint(a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY);N.forEach(function(a){a!=b&&l.call(a)});var c=$(b),d=0<=N.indexOf(b);!d&&0<c.parents("#hotspots").length&&c.is(".element.hotspot")?(O=b,g.call(b,a),N=[b]):N=d?[b]:[]}function e(a){$(document).off("touchmove",d).off("touchend",e);var b=$(O);0<b.parents("#hotspots").length&&b.is(".element.hotspot")&&
m.call(O,a);window.setTimeout(function(){CN=!1},300)}function g(b){if(b&&b.shiftKey)z=!1;else if(a.hasClass("svg")||a.hasClass("cutout")){r=z=!1;var c=$("#cutoutMessage");0>=c.length&&(c=$('\x3cdiv id\x3d"cutoutMessage"\x3e').text(p.format("documentCutoutInFrameWarning")),c.appendTo("#content"));c.off("transitionend").removeClass("disappear")}else if(u&&null===u.Nb())r=z=!1;else{var d=q.clone(!0);d.css("width","").css("height","");b=$(this).data("canvaElement");var e=$(this).data("placeholderIndex");
a.data("placedInElement",b).addClass("placing").addClass("draggedMediaOverHotspot");var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.u(),h=h.getVersion(),l=b.an(e),d=new V(0,0,u?tC(u):parseInt(d.data("screenWidth"),10),u?op(u):parseInt(d.data("screenHeight"),10));Pm(d,l).translate(-l.F(),-l.w());d={type:"image",index:e,mediaId:g,mediaVersion:h,origin:u?u.Qd():null,imageBox:d.serialize(),flipOrientation:u?u.za:0,mediaApproved:void 0===k?!0:k};L=b.pl(e);G=dD(b.zp(e));
g===L.mediaId?z=!1:(b.Vq(e,d),u&&((g=u.C().data("selectionBox"))&&g.hide(),u.Op()&&u.Ad()&&(c=dD(u.Ad()))),b=b.zp(e),b.remove(),SI(b,c||dD(b)))}}function h(){E.read(k)}function k(){var b=a.offset();E.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.zp(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
$("#cutoutMessage").on("transitionend",n).addClass("disappear");z&&(b.Vq(c,L),d.remove(),SI(d,G),u&&(b=u.C().data("selectionBox"))&&b.show())}function m(b){if(a.data("li")&&(!b||!b.shiftKey)&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),r)){b=a.data("li").data("result");var c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),e=c.Oz(d);DN(c);var g={elementIndex:c.K(),pageIndex:jp(J,c.R()),placeholderIndex:d,"new":c.pl(d),old:L},h={elementIndex:c.K(),pageIndex:jp(J,
c.R()),placeholderIndex:d,"new":{filter:dD(c.zp(d))},old:{filter:G}},g=new Y(XN,g),h=new Y(11,h);gK();M.register(g);M.register(h);c.xI=!0;c.nt(e);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");x.remove();e.removeData("oldPlacement");u&&(u.hb(a.data("startLeft")),u.cb(a.data("startTop")),cN(u),u.remove(),u instanceof ZB&&c instanceof hp&&0!=u.za&&setTimeout(function(){function a(c){c.target!=l.get(0)&&(clearTimeout(v),c.target==l.find("a")[0]?
($(document).on("mouseout mouseup",b),c.preventDefault()):k())}function b(){$(document).off("mouseout mouseup",b);k()}function e(){$(document).off("mousemove",e);u=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(v)}function h(){clearTimeout(v);v=setTimeout(k,1E3)}function k(){clearTimeout(u);$(document).off("mousedown",a).off("mousemove",e);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",n).addClass("disappear")}var l=$("#cutoutMessage");
0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));var m=eD(K,w(c.R()));l.off("transitionend").addClass("closeable").removeClass("disappear").text(p.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e');vV(m,l);var q=c.pa(),r=c.an(d),m=q.w()+r.w()+r.o()/2,m=m*W,m=m-l.outerHeight()/2,q=q.F()+r.F()+r.j()/2,q=q*W,q=q-l.outerWidth()/2;l.css("top",m).css("left",q);$(document).on("mousedown",a).on("mousemove",e);var u=0,v=setTimeout(k,
1E4)},200));hK();b&&(e=b.Qd(),e!==Sg&&"GOOGLE"!==e||Lg(Fb,b,c.Fp(d)),PK(cL(b,v)))}}function n(){$(this).remove()}b=b||J.Ba();var p=mc(Kb),q=$("img",a),u=a.data("canvaElement"),v=!!a.data("isOrganicSearchResult"),z=!0,r=!0,x=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),I=iE(K,b);x.css(I.serialize());var E=gh();b.ja().forEach(function(a){if((a instanceof hp||a instanceof cC)&&!uC(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.pa();b.css(d.scale(W).round().serialize()).css("transform",
"rotate("+a.Sa().toString()+"deg)");for(var d=a.dg(),e=0;e<d;e++){var k=a.an(e);k.scale(W).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",e).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(x)}});x.appendTo("#content");b=eD(K,b).$el;x.css("left",b.offset().left).css("top",b.offset().top);var L=null,G=null,O=null,Q=null;if(!0===c){var N=[];$(document).on("touchmove",d).on("touchend",
e)}}
function YM(a,b){function c(a){a={left:a.originalEvent.touches[0].clientX,top:a.originalEvent.touches[0].clientY,width:0,height:0};for(var b={left:q,top:u,width:0,height:0},c=0;c<p.length;c++){var d=p[c];ih(a,d)&&!ih(b,d)?e.call(d.element):ih(b,d)&&!ih(a,d)&&g.call(d.element)}q=a.left;u=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var e={left:b.originalEvent.changedTouches[0].clientX,top:b.originalEvent.changedTouches[0].clientY,width:0,height:0},g=0;g<p.length;g++){var l=p[g];
if(ih(e,l)){var m=$(".page",k).index(l.element);$(l.element).data("page",$("#canvaDocument \x3e .inner \x3e .page").eq(m));h.call(l.element,b,a)}}}function e(){var b=$(this).data("page");b&&(b.addClass("hotspotHover"),$(this).addClass("hover"),a.addClass("placing"))}function g(){var b=$(this).data("page");b&&b.removeClass("hotspotHover");$(this).removeClass("hover");a.removeClass("placing")}function h(b,c){function d(a){function b(){h.off("unpacked",b);ZO({ap:YO(h),ee:J.ib(),page:h});c(h.serialize())}
function c(b){n&&(e=new cn({type:hB,id:n.id,version:n.version}),wV(a,e));var d={};a.layout&&(d.id=a.layout.id,d.version=a.layout.version);p&&(d.id=p.id,d.version=p.version);b=Zm(new Xm(d),b);var d={"new":b,old:Oa,pageIndex:sa.K()},g=jq(b.Gg()),h=U,k=b.serialize();!g&&h&&k&&$l(h,k.id);gO(sa,b,l,e);M.register(new eO(4,d))}var e;l&&(sa.clear(),TO(sa,l));if(a.width!==sa.j()||a.height!==sa.o()){var g=Zm(new Xm,a),h=new Op(J,{});gO(h,g,null,null,!0);h.on("unpacked",b)}else c(a)}function e(a){return a.getDocument().Be().content.pages[q.pageIndex]}
ph();2==arguments.length&&(a=c);var g=a.data("li"),h=$(this).data("page");if(g&&h){h=$("#canvaDocument \x3e .inner \x3e .page").index(h);Pp(J,h);var l,m=!!a.data("isOrganicSearchResult"),n=g.find("a").data("documentProperties"),p=g.find("a").data("layoutProperties"),q=g.find("a").data("pageTemplateRequest"),u=g.find("a").data("pageTemplateRequest"),da=g.find("a").data("pageTemplate"),sa=J.Ba(),Oa=sa.cu();n&&n.previewUrl&&(l=n.previewUrl);p&&p.previewUrl&&(l=p.previewUrl);if(q||u||da)eM.Iy(sa,Kb).then(function(a){a&&
(q?(sa.clear(),TO(sa,n.previewUrl),xb.getDocument(new qt({wg:n.id,mA:!0})).then(e).then(d)):u?(sa.clear(),$.getJSON(u.url,function(a){(a=a.content.pages[0])&&d(a)})):da&&d(da))});else if(0<g.parents(".backgroundGallery").length)eN(a.data("li")),(h=g.data("result"))&&PK(cL(h,m));else if(0<g.parents(".templateGallery").length){var ia=g.data("layoutItem"),m=g.data("designItem"),h=g.data("searchResult"),ja=g.parents(".results").data("view"),Da=g.find("a");xV(ja,Da,!0);m?(g=g.data("usablePreview"),yV(ja,
m,g)):ia?zV(ja,ia):h&&IO(ja,h)}}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e'),l=parseInt($("#canvaDocument").offset().left,10),m=parseInt($("#canvaDocument").offset().top,10),n=$("#canvaDocument").get(0).scrollTop;k.css("left",l).css("top",m-n).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){var a=$(this);a.clone().css("width",a.outerWidth()).css("height",
a.outerHeight()).data("page",a).empty().appendTo(k)});if(b){var p=[],q=0,u=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();p.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",k).mouseover(e).mouseout(g).mouseup(h)}
function eS(a){function b(){h.data("selectionBox")?($("#overlays \x3e .mask").addClass("on"),h.addClass("cropping"),a.Za(),$(".cropControls img.uncropped").css("opacity",.5),$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0.5)"),CC($(".cropControls"),a.Sa())):e()}function c(a){13===a.which?d():27===a.which&&e()}function d(){var b=a.F(),c=a.w();a.Ir();b={elementIndex:a.K(),pageIndex:jp(J,a.R()),placeholderIndex:a.Gc(),"new":{placeholderBox:a.ed().serialize(),imageBox:a.ag().serialize(),
cropped:!0,left:a.F(),top:a.w()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:m||a instanceof ZB,left:b,top:c}};M.register(new Y(6,b));$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.$a();KO(h,yc(Kb));g();U&&am("crop_confirm")}function e(){a instanceof ZB?(l&&zl(a,l),a.Ul(k),a.qI=!1,h.removeClass("cropping")):(a.Ul(k),a.Ir());var b=h.data("toolbar");a.Ef()&&b&&b.show();$("#overlays \x3e .mask").removeClass("on");
$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.$a();a.Ef()&&KO(h,yc(Kb));g();am("crop_cancel")}function g(){$("#content").off("click",".toolbar--crop .toolbar__button--ok",d).off("click",".toolbar--crop .toolbar__button--cancel",e);$(document).off("keydown",c)}if(a.ym&&a.BM()){var h=a.C(),k=a.ag(),l=a.ed(),m=!!a.Ok;$("#content").on("click",".toolbar--crop .toolbar__button--ok",d).on("click",".toolbar--crop .toolbar__button--cancel",e);$(document).on("keydown",c);a.qH(a.Gc(),
b)}}function FN(){gh().write(function(){$("#overlays .align").removeClass("on")})}function lh(a,b,c,d,e){function g(a){var b=null;if(a instanceof Z||a instanceof Al)b=a.R();return b?eD(K,b):oh(K)}fU(a,b,c,function(){return W},function(a){return rC(g(a))+Math.round(a.$b()*W)},function(a){return wC(g(a))+Math.round(a.jc()*W)},d,e)}
function kh(a){var b=[];void 0!==a&&(a instanceof Z?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?J.Ba():b[0].R();if(!c)return[];a=c.ja();a=a.filter(function(a){return-1===b.indexOf(a)&&!a.Hb()&&!uC(a)});a.push(c);var d=[];Rb&&Rb()&&(d=SP());c=UP(c)||[];return a.concat(d).concat(c)}function PN(){Tb&&TN();$("body").addClass("blockDocument");ph();$("#search").blur()}
function NN(){if(Tb){var a=Tb;a.BD=!1;a.$el.removeClass("blockEditorControls");AV(a,a.Du)}$("body").removeClass("blockDocument")}function nK(a,b){var c=a.Th();c&&cE(a,c+105*b/2);a={elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{borderWidth:a.Th()},old:{borderWidth:c}};M.register(new Y(kp,a))}function oK(a,b){var c=a.he();b=c+5*b;0<=b&&50>=b&&(a.Wq(b),a={elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{spacing:a.he()},old:{spacing:c}},M.register(new Y(kp,a)))}
function mK(a){var b=a.Th();b?cE(a,0):cE(a,105);a={elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{borderWidth:a.Th()},old:{borderWidth:b}};M.register(new Y(kp,a))}function BV(a,b){M.register(new Y(kp,{elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{verticalAlignment:a.ue||"top"},old:{verticalAlignment:b}}))}function wK(a){var b=a.ue||"top";a.$Q();BV(a,b)}function xK(a){var b=a.ue||"top";a.HN();BV(a,b)}function yK(a){var b=a.ue||"top";a.xJ();BV(a,b)}
function qK(a,b){function c(){a.IT&&a.IT()}function d(){a.BV&&a.BV()}function e(){a.LY&&a.LY(0)}var g=a.bb(a.yb());0===Zz(g)&&(1===b?uV(d):-1===b?uV(c):0===b&&uV(e),tA(g,!0))}
function tR(a){var b=a.Xc,c=_.sortBy(a.ja(),function(a){return a.w()}),d=c.filter(function(a){return a!==b});if(b){a.Af()&&a.Bx();gK();var e=[],g;if(b instanceof Rp){var h=b.pa(),k=c.indexOf(b)-1,l=c.indexOf(b)+1;g=b.ue||"top";var m=a.w(),n=h.clone(),p;c.length>l&&c[l]instanceof Rp?(p=h.ua()-c[l].w(),n.ea(p)):1<c.length&&c[k]instanceof Rp?(p=c[k].ua()-h.w(),n.ea(p)):n.ea(0);d.forEach(function(a){var b={pageIndex:jp(J,a.R())};b.old=a.pa();e.push(b)});Object.freeze(d);Object.freeze(e);a.sP(b,h,n);if(0===
a.Sa()){c=m;switch(g){case "middle":c=m-p/2;break;case "bottom":c=m-p}g={elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{top:c},old:{top:m}};g=new Y(kp,g);M.register(g);a.cb(c)}}cN(b);a.jj(b);b.remove();g=a.Er(d[0]);g.proportionalSetSize=!1;g=new Y(kp,g);M.register(g);d.forEach(function(a,b){e[b]&&(e[b].elementIndex=a.K(),e[b]["new"]=a.pa(),e[b].proportionalSetSize=!1)});e.forEach(function(a){M.register(new Y(kp,a))});1===a.ja().length&&(fO(a),JU(a),dO(a));hK()}}
function $U(a,b){a.forEach(function(a){a.qg=b})}function AK(){var a=$(".element [contenteditable\x3dtrue]");if(1===a.length){var b=a.data("textChangeCount")||0;if(0<b&&document.execCommand("undo",!1,null)){a.data("textChangeCount",--b);return}lp()}a=M;if(0!=a.jd.length){a.trigger("beforeOperationStackPop");a.fR=!0;if(0<a.hn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.jd.pop(),c=b.invert();c.Sn();a.yw.push(b);ph();VU($N(c));a.fR=!1;J.trigger("change")}}
function zK(){if(1===$(".element [contenteditable\x3dtrue]").length){if(document.execCommand("redo",!1,null))return;lp()}var a=M;if(0!=a.yw.length){a.trigger("beforeOperationStackPop");a.rP=!0;if(0<a.hn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.yw.pop();b.Sn();a.jd.push(b);ph();VU($N(b));a.rP=!1;J.trigger("change")}}
function CV(a){var b=new lO(1,{"new":{docType:Eu(a.doctype),doctypeSpec:a.Wk?Tp(a.Wk):null},old:{docType:Eu(a.Eb.ib()),doctypeSpec:a.Eb.Wk?Tp(a.Eb.Wk):null,model:a.Eb.serialize()}}),c=w(a.doctype.getName()),d=a.Eb.sb();d.Bu=c;d.trigger("change");ph();a.jd.register(b);b.Sn()};function DV(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function EV(a,b){return DV(a,"view",b)}function FV(a,b,c,d){return EV(a,b)+"?"+GV(a,c,d)}function GV(a,b,c){return["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent(c),"utm_source\x3d"+encodeURIComponent(b)].join("\x26")};function HV(){}HV=Backbone.View.extend({className:"switch"});f=HV.prototype;f.events=function(){return{"blur input":this.Js,"change input":this.m4,dragstart:this.Ks,"focus input":this.uq,mousedown:this.Ls}};f.initialize=function(a){a=_.defaults({},a,{Fl:null,on:!1,bk:null});this.Fl=a.Fl;this.fu=void 0===a.fu||!!a.fu;this.CG=this.CG.bind(this);this.DG=this.DG.bind(this);this.bk=a.bk;this.kO=a.on};function IV(a){return!!a.input.prop("checked")}f.Js=function(){this.$el.removeClass("switchFocused")};
f.m4=function(){var a=IV(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};f.CG=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=IV(this)&&a.pageX<b;a=!IV(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),JV(this),this.toggle()};f.DG=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.fu&&this.toggle());this.handle.removeClass("switchHandlePressed");JV(this)};f.Ks=function(a){a.preventDefault()};f.uq=function(){this.$el.addClass("switchFocused")};
f.Ls=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.CG),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.DG)};f.remove=function(){Backbone.View.prototype.remove.call(this);JV(this)};function JV(a){$(document).off({mousemove:a.CG,mouseup:a.DG})}
f.render=function(){var a;this.kO?(a=this.kO,delete this.kO):a=!(!this.input||!this.input.prop("checked"));var b,c={Fl:this.Fl,bk:this.bk},d,c=c||{};soy.asserts.assertType(null==c.bk||c.bk instanceof goog.soy.data.SanitizedContent||goog.isString(c.bk),"onLabel",c.bk,"null|string|undefined");b=c.bk;soy.asserts.assertType(null==c.Fl||c.Fl instanceof goog.soy.data.SanitizedContent||goog.isString(c.Fl),"offLabel",c.Fl,"null|string|undefined");c=c.Fl;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e'+
soy.$$escapeHtml(null==(d=b)?"":d)+'\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e'+soy.$$escapeHtml(null==(d=c)?"":d)+"\x3c/div\x3e"+(c?'\x3cdiv class\x3d"switchLabelOffSpacer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+"\x3c/div\x3e");this.$el.html(b.toString());this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};
f.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function ZO(a){function b(a){a.translate(-g.F(),-g.w());Lm(a,q,u,p);a.translate(r,x)}var c=a.page,d=c.pa(),e=function(a){a=Zg(a.qb);return new V(0,0,a.j(),a.o())}(a.ee),g=a.ap||d;a=g.j();var h=g.o(),k=e.j(),l=e.o(),m=k/a,n=l/h,p=Math.min(m,n),q=a/2,u=h/2,v=k/2,z=l/2,r=v-q,x=z-u;c.ja().forEach(function(a){if(!a.yh&&!uC(a)){var c;if(a instanceof cC&&1===a.dg()){var g=a.he();c=a.pa();g=bn(d.j(),d.o(),g,!1);c=Qm(c,g)}else c=a instanceof ZB?a.$p()&&a.Hb():!1;if(c)a instanceof cC?(a.md(bn(k,l,a.he(),!1)),
a.$a()):a.md(e.clone());else if(a.Hb()){c=a.pa();g=1;b(c);if(m<n)var g=c.w(),h=l-c.ua(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.F(),h=k-c.Ya(),g=k/(k-2*Math.max(0,g,h)));1<g&&Lm(c,v,z,g);a.md(c)}else c=a.pa(),a instanceof Rp&&(g=p*a.Sc(0),a.vA()?a.pe(0,g):(a.Yj(),a.pe(0,g),a.gR())),b(c),a.md(c),a instanceof cC&&a.$a()}});c.na(k);c.ea(l);return nh(g.clone(),e)};function KV(){}KV=Backbone.View.extend({className:"tileListBusyIndicator"});f=KV.prototype;f.initialize=function(){this.transitionDelay=-1;this.nI=0};f.hide=function(){LV(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};f.render=function(){this.$el.html(this.template());return this};function LV(a,b){0!=a.nI&&(window.clearTimeout(a.nI),a.nI=0);0<=a.transitionDelay?a.nI=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}f.show=function(){LV(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
f.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function MV(a,b){this.$el=a;this.um=b.um||"";this.Vg=b.Vg}function NV(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new MV(b,a)}f=MV.prototype;f.add=function(a,b){var c=this;this.ra||OV(this,this.ll());var d=PV(this);this.ra.eq(0).append(a);var e=a.get().map(this.o,this);a.each(function(a,h){var k=QV(c,d);d[k]+=e[a];b?c.ra.eq(k).prepend(h):c.ra.eq(k).append(h)})};
function RV(a,b){var c=a.ll();if(void 0!==b.ra){if(b.ra.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.ra||OV(a,c);a.ra.each(function(a,c){b.ra.eq(a).children().appendTo(c)})}}f.contains=function(a){return!(!this.ra||!this.ra.children().filter(a).length)};function OV(a,b){var c="masonryLayoutColumn "+a.um;a.ra=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.ra.appendTo(a.$el)}
f.tL=function(a){var b=this.$el.width()/this.ll();return Math.floor(a/b)*this.ll()+this.ll()};f.ll=function(){var a;"function"===typeof this.Vg?(a=this.$el.width(),a=this.Vg(a)):a=this.Vg;return Math.max(a,1)};function PV(a){return a.ra.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}
function QV(a,b){b||(b=PV(a));return _.min(_.range(b.length),function(a){return b[a]})}f.o=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};f.yf=function(){var a=this.ra&&this.ra.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
f.dv=function(a){function b(a){return a.offsetHeight+a.offsetTop}if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var c=b(a[0]);return $(this.ra.children().get().filter(function(a){return b(a)>c}))};f.ql=function(){if(this.ra){var a=QV(this),a=this.ra.get(a);return $(a)}return null};f.isEmpty=function(){return!(this.ra&&this.ra.children().length)};f.push=function(a){this.add(a)};
f.$a=function(){var a=this.ll(),a=this.ra&&a!==this.ra.length;this.ra&&a&&(a=this.yf().detach(),this.ra&&this.ra.remove(),this.ra=void 0,this.push(a),this.trigger("redraw"))};f.remove=function(a){this.ra&&this.ra.children().filter(a).remove()};f.removeAll=function(){this.ra&&this.ra.children().remove()};
f.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=this.dv(a);if(0===b.length)return null;var c=NV({um:this.um,Vg:this.Vg});OV(c,this.ra.length);this.ra.each(function(a,e){e=$(e).children().filter(b);c.ra.eq(a).append(e)});return c};f.unshift=function(a){this.add(a,!0)};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function SV(a){this.children=[];this.um=a.um;this.Vg=a.Vg;this.$el=$("\x3cdiv\x3e")}f=SV.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function TV(a){return NV({um:a.um,Vg:a.Vg})}f.tL=function(a){var b=this.$el.width()/this.ll();return Math.ceil(a/b)*this.ll()+this.ll()};f.ll=function(){var a;"function"===typeof this.Vg?(a=this.$el.width(),a=this.Vg(a)):a=this.Vg;return Math.max(a,1)};
f.yf=function(){var a=[];this.children.forEach(function(b){b instanceof MV?a=a.concat(b.yf().get()):a.push(b)});return $(a)};function UV(a,b){return a.vF().filter(function(a){return a.contains(b)})[0]||null}f.vF=function(){return this.children.filter(function(a){return a instanceof MV})};f.ql=function(){var a=this.vF().slice(-1)[0];return a&&a.ql()||null};
function VV(a,b,c){var d,e;d=UV(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);e=a.children.indexOf(d);a.children.splice(e+1,0,c[0]);d.dv(b).length&&(a.trigger("beforeSplit",d.ra),b=d.split(b),b.$el.insertAfter(c),a.children.splice(e+2,0,b),a.trigger("afterSplit",d.ra,b.ra))}f.push=function(a){if(!(this.children.slice(-1)[0]instanceof MV)){var b;b=TV(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};
f.$a=function(){function a(){b=!0}var b=!1;this.vF().forEach(function(b){b.on("redraw",a);b.$a();b.off("redraw",a)});b&&this.trigger("redraw")};f.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof MV?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function WV(a,b){var c=a.children.indexOf(b[0]),d,e;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];e=a.children[c-1];d instanceof MV&&e instanceof MV&&(a.trigger("beforeMerge",e.ra,d.ra),RV(e,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}f.unshift=function(a){if(!(this.children[0]instanceof MV)){var b;b=TV(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function XV(a){this.rp=a;this.t2=$.isWindow(this.rp[0]);this.jV=_.throttle(this.dispatchEvent.bind(this),200)}f=XV.prototype;f.iG=function(){this.stopListening();this.rp.on("scroll",this.jV)};f.stopListening=function(){this.rp.off("scroll",this.jV)};
function YV(a,b,c){c=_.defaults({},c,{KM:!1});var d=b.offset().top;c=c.KM?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.t2?a.rp.scrollTop():a.rp.offset().top+parseInt(a.rp.css("border-top-width"),10);a=a.rp.innerHeight();return d-(b+a)}f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.dispatchEvent=function(){this.trigger("scroll",this)};function ZV(a){soy.asserts.assertType(null==a.wl||a.wl instanceof goog.soy.data.SanitizedContent||goog.isString(a.wl),"licensePrice",a.wl,"null|string|undefined");var b=a.wl;soy.asserts.assertType(null==a.hq||goog.isBoolean(a.hq)||1===a.hq||0===a.hq,"licenseFree",a.hq,"boolean|null|undefined");var c=a.hq;soy.asserts.assertType(goog.isString(a.Gv)||a.Gv instanceof goog.soy.data.SanitizedContent,"licenseWithMarkup",a.Gv,"string|goog.soy.data.SanitizedContent");var d=a.Gv;soy.asserts.assertType(goog.isString(a.Fv)||
a.Fv instanceof goog.soy.data.SanitizedContent,"licenseDescription",a.Fv,"string|goog.soy.data.SanitizedContent");var e=a.Fv;soy.asserts.assertType(goog.isString(a.zd)||a.zd instanceof goog.soy.data.SanitizedContent,"free",a.zd,"string|goog.soy.data.SanitizedContent");a=a.zd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli\x3e\x3cdiv class\x3d"license"\x3e\x3cdiv class\x3d"license__name"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"license__price"\x3e'+(null!=c&&c?soy.$$escapeHtml(a):
soy.$$escapeHtml(b))+'\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(e)+"\x3c/p\x3e\x3c/li\x3e")}
function $V(a){soy.asserts.assertType(goog.isBoolean(a.MB)||1===a.MB||0===a.MB,"royaltyFreeEnabled",a.MB,"boolean");var b=!!a.MB;soy.asserts.assertType(goog.isBoolean(a.rz)||1===a.rz||0===a.rz,"extendedEnabled",a.rz,"boolean");var c=!!a.rz;soy.asserts.assertType(null==a.dB||a.dB instanceof goog.soy.data.SanitizedContent||goog.isString(a.dB),"oneUsePrice",a.dB,"null|string|undefined");var d=a.dB;soy.asserts.assertType(null==a.NB||a.NB instanceof goog.soy.data.SanitizedContent||goog.isString(a.NB),
"royaltyFreePrice",a.NB,"null|string|undefined");var e=a.NB;soy.asserts.assertType(null==a.sz||a.sz instanceof goog.soy.data.SanitizedContent||goog.isString(a.sz),"extendedPrice",a.sz,"null|string|undefined");var g=a.sz;soy.asserts.assertType(goog.isString(a.zd)||a.zd instanceof goog.soy.data.SanitizedContent,"free",a.zd,"string|goog.soy.data.SanitizedContent");var h=a.zd;soy.asserts.assertType(goog.isString(a.mF)||a.mF instanceof goog.soy.data.SanitizedContent,"freeDescription",a.mF,"string|goog.soy.data.SanitizedContent");
var k=a.mF;soy.asserts.assertType(a.cB instanceof soydata.SanitizedHtml||a.cB instanceof soydata.UnsanitizedText||goog.isString(a.cB),"oneTimeUseWithMarkup",a.cB,"soydata.SanitizedHtml");var l=a.cB;soy.asserts.assertType(goog.isString(a.Jc)||a.Jc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Jc,"string|goog.soy.data.SanitizedContent");var m=a.Jc;soy.asserts.assertType(goog.isString(a.GD)||a.GD instanceof goog.soy.data.SanitizedContent,"c4wFreeMediaTitle",a.GD,"string|goog.soy.data.SanitizedContent");
var n=a.GD;soy.asserts.assertType(a.OB instanceof soydata.SanitizedHtml||a.OB instanceof soydata.UnsanitizedText||goog.isString(a.OB),"royaltyFreeWithMarkup",a.OB,"soydata.SanitizedHtml");var p=a.OB;soy.asserts.assertType(goog.isString(a.Lc)||a.Lc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Lc,"string|goog.soy.data.SanitizedContent");var q=a.Lc;soy.asserts.assertType(a.uz instanceof soydata.SanitizedHtml||a.uz instanceof soydata.UnsanitizedText||goog.isString(a.uz),"extendedWithMarkup",
a.uz,"soydata.SanitizedHtml");var u=a.uz;soy.asserts.assertType(goog.isString(a.Od)||a.Od instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Od,"string|goog.soy.data.SanitizedContent");var v=a.Od;soy.asserts.assertType(null==a.cw||goog.isBoolean(a.cw)||1===a.cw||0===a.cw,"oneUseFree",a.cw,"boolean|null|undefined");var z=a.cw;soy.asserts.assertType(null==a.Iw||goog.isBoolean(a.Iw)||1===a.Iw||0===a.Iw,"royaltyFreeFree",a.Iw,"boolean|null|undefined");var r=a.Iw;soy.asserts.assertType(null==
a.Pu||goog.isBoolean(a.Pu)||1===a.Pu||0===a.Pu,"extendedFree",a.Pu,"boolean|null|undefined");var x=a.Pu;soy.asserts.assertType(goog.isBoolean(a.sA)||1===a.sA||0===a.sA,"isC4wFreeMedia",a.sA,"boolean");a=!!a.sA;b=""+(null!=d&&!z||b&&null!=e&&!r||c&&null!=g&&!x?"\x3cul\x3e"+(null!=d?(a?"\x3cli\x3e\x3cp\x3e"+soy.$$escapeHtml(n)+"\x3c/p\x3e\x3c/li\x3e":"")+ZV({wl:d,hq:z,Gv:l,Fv:m,zd:h}):"")+(b&&null!=e?ZV({wl:e,hq:r,Gv:p,Fv:q,zd:h}):"")+(c&&null!=g?ZV({wl:g,hq:x,Gv:u,Fv:v,zd:h}):"")+"\x3c/ul\x3e":"\x3cp\x3e"+
soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function xN(){}
xN=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),L8:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- purchase %\x3e\x3c/div\x3e\x3cdiv class\x3d"prices"\x3e\x3c/div\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- includedAssets %\x3e\x3c/div\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- details %\x3e\x3c/div\x3e\x3cdiv class\x3d"details"\x3e\x3cp class\x3d"id"\x3e\x3c%- idTag %\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (hasKeywords) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- keywords %\x3e\x3c/div\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),K1:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
Z3:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),
j$:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
VJ:_.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),x3:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',{variable:"keyword"})});
f=xN.prototype;f.initialize=function(a){this.i=a.i;this.W=a.W;this.J=kc(a.i);this.title=a.title||this.model.sb&&this.model.sb()||Od(this.J);this.document=null;this.Ra=a.Ra;this.eN=a.eN;this.Uj=a.Uj;this.bN=a.bN;this.QM=a.QM;this.dN=a.dN;this.oO=a.oO;this.Qb=a.Qb;this.As=a.As;this.Yo=new Map;this.aI=a.aI};
f.events=function(){return{"mousedown .componentLayouts .componentItem a":this.Z1,"click .componentLayouts .componentItem a":this.HS,"click .brandInfo a":this.G8,"click .mediaKeyword":this.J8,"click .removeUpload":this.h8,"click .close":this.close}};
f.render=function(){this.$el.html(this.template({title:this.title,close:Md(this.J)}));if(this.eN)this.$el.html(this.j$({title:this.title||Od(this.J),id:this.model.u(),version:this.model.getVersion(),isUnapproved:this.dN,close:Md(this.J),closeThisInfoPanel:Nd(this.J),uploadError:this.J.format("objectPanelInfoUploadError"),imageRequirementsTitle:this.J.format("objectPanelInfoImageRequirementsTitle"),imageRequirementsSize:this.J.format("objectPanelInfoImageRequirementsSize"),imageRequirementsExt:this.J.format("objectPanelInfoImageRequirementsExt"),
imageRequirementsRgb:this.J.format("objectPanelInfoImageRequirementsRgb"),deleteMsg:this.J.format("objectPanelInfoDelete")}));else if(this.QM)this.$el.html(this.K1({title:this.title,count:Pd(this.J,Number(this.model.Be().pageCount)),hasComponentDesignPages:this.nV(),close:Md(this.J),closeThisInfoPanel:Nd(this.J)})),this.nV()&&aW(this);else if(this.Uj)this.$el.html(this.Z3({title:this.title,count:Pd(this.J,Number(this.model.ic())),close:Md(this.J),closeThisInfoPanel:Nd(this.J)})),VK(this.model)&&0<
this.model.ic()&&bW(this);else if(this.bN){this.$el.html(this.L8({title:this.title,id:this.model.u(),url:"/media/"+encodeURIComponent(this.model.u()),hasComponentMedia:this.yM(),hasKeywords:this.oV(),close:Md(this.J),purchase:this.J.format("objectPanelInfoPurchase"),includedAssets:this.J.format("objectPanelInfoIncludedAssets"),details:this.J.format("objectPanelInfoDetails"),keywords:this.J.format("objectPanelInfoKeywords"),idTag:this.J.format("objectPanelInfoIDTag")}));if(this.oV()){var a=this.model.nl().map(this.x3).join(", ");
this.$(".keywords").html(a)}this.yM()&&cW(this);this.model.ia&&this.model.ia()&&dW(this);var b,c,d=0;this.yM()?(d=this.model.wF()/100,a=0===d?0:100):a=SK(this.model);b=10*a;c=100*a;this.$(".prices").html($V({MB:!1,rz:!1,dB:eW(this,a,d),NB:eW(this,b,d),sz:eW(this,c,d),zd:this.J.format("objectPanelInfoFree"),mF:this.J.format("objectPanelInfoFreeDescription"),cB:this.J.format("objectPanelInfoOneUse"),Jc:this.J.format("objectPanelInfoOneUsePriceDescription"),GD:this.J.format("objectPanelInfoC4WFreeMedia"),
OB:this.J.Cc(),Lc:this.J.format("objectPanelInfoRoyaltyFreePriceDescription"),uz:this.J.xd(),Od:this.J.format("objectPanelInfoExtendedPriceDescription"),cw:0===a,Iw:0===b,Pu:0===c,sA:this.model.xv()}).toString())}return this};
function cW(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;u.removeClass("fetchingComponentItem");u.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&fW(c)}if(200===a){a=0;var e=b.Ja().pc(),e=e.THUMBNAIL_LARGE||e[YC],g=VE(b.Ja());g&&(a=100*VE(b.Ja()).ONE_USE||0);var u=$(c.VJ({url:"/media/"+b.u(),id:b.u(),hasPrice:g,price:gW(c,a)}));c.$(".componentMedia").append(u);$("\x3cimg/\x3e").attr("src",e.ma()).one("load",d)}}var c=a,d=a.model.aM(),e=Math.ceil(d.length/
3),g=.21*$(".infoPanelGallery").width()+20;a=a.$(".componentMedia");var h=d.length,k=0;hW(c);a.css("height",e*g+"px");d.forEach(function(a){Bb.Mb(a.id,(new gD).Ck(a.version),b)})}function iW(a,b){function c(){return null}var d=Cb.ia(a.model.ia()).catch(c);a="DESIGN"==TK(a.model)&&a.model.va&&a.model.va()?Cb.va(a.model.va()).then(function(a){return a.rb()||a.eg()}).catch(c):a.model.QU();P.all([d,a]).spread(b)}
function dW(a){iW(a,function(b,c){var d="DESIGN"==TK(a.model)?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var e=b.rb()||b.$L(),g=a.J.format("objectPanelInfoBrand")+" "+b.u();c?b.Vh()&&!e?d.text(a.J.format("objectPanelInfoByUser",c)):d.text(a.J.format("objectPanelInfoByUserFromBrand",c,e||g)):d.text(a.J.format("objectPanelInfoByBrand",e||g))}else d.text(a.J.format("objectPanelInfoByUnknownBrand"));a.$(".brandInfo .brand").append(d).addClass("on");a.$(".brandInfo .infoPanelLayoutsCount").addClass("on");
a.$(".brandInfo .spinner").removeClass("on").addClass("off")})}
function bW(a){function b(a){var b=d.model.getFile("THUMBNAIL_LARGE",a)||d.model.getFile(YC,a),c="https://static.canva.com/static/images/default_thumbnail.gif",e=$(d.VJ({url:"#",id:a,hasPrice:!1})).css("padding-top",d.aI*l*100+"%");b&&(c=b.url);g.append(e);$("\x3cimg/\x3e").attr("src",c).one("load",function(){var a=$(this).attr("src");$(this).remove();h++;e.removeClass("fetchingComponentItem");e.find(".componentItemLink").css("background-image","url("+a+")");h>=k&&fW(d)})}function c(a,b){var c=[];Array.isArray(b.media)&&
(c=b.media.map(La).map(fn));0<c.length&&(b=cF(new bF,c).WC(),DE(Bb,b,function(b,c){var e=0;200===b&&(e=c.media.reduce(function(a,b){return a+(VE(b.Ja()).ONE_USE||0)},0));0!==e&&d.$(".componentLayouts .componentItem"+a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')}))}var d=a,e=a.model.ic(),g=a.$(".componentLayouts"),h=0,k=e,e=$(".infoPanelGallery").width(),l=(e-10)/e/2;hW(a);dW(a);UK(a.model).sort(function(a,b){return a-b}).forEach(function(a){b(a);jW(d,a,function(b){c(a,
b)})})}
function aW(a){function b(a){var b=!1,d="https://static.canva.com/static/images/default_thumbnail.gif";e[a]&&(b=!0,d=e[a].url);var m=$(c.VJ({url:"#",id:a,hasPrice:!1})).css("padding-top",c.aI*n*100+"%");m.toggleClass("componentItemThumbnailUpdating",!b||g);h.append(m);$("\x3cimg/\x3e").attr("src",d).one("load",function(){var a=$(this).attr("src");$(this).remove();k++;m.removeClass("fetchingComponentItem");m.find(".componentItemLink").css("background-image","url("+a+")");k>=l&&fW(c)})}var c=a,d=a.model.Be().imageSets.thumbnail,e=
d.images,g=a.model.getVersion()>d.version,d=a.model.Be().pageCount,h=a.$(".componentLayouts"),k=0,l=d,m=$(".infoPanelGallery").width(),n=(m-10)/m/2;hW(a);for(a=0;a<d;a++)b(a)}function hW(a){a.$el.addClass("infoPanelLoading")}function fW(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},R.Aa.m3)}f.oV=function(){return this.model.nl&&0<(this.model.nl()||[]).length};f.nV=function(){return this.model.Be&&1<this.model.Be().pageCount};
f.yM=function(){return this.model.aM&&0<(this.model.aM()||[]).length};function eW(a,b,c){return null===b?null:0===b?a.J.format("objectPanelInfoFree"):null!=c&&0<c?a.J.format("objectPanelInfoComponentsPrice",c,(b/100).toFixed(0)):a.J.format("objectPanelInfoPrice",(b/100).toFixed(0))}function gW(a,b){b=eW(a,b);null===b&&(b=a.J.format("objectPanelInfoPriceUnavailable"));return b}f.close=function(){zN.call(this.$(".close").get(0))};f.G8=function(){$("#search").val("brand:"+this.model.ia());EM=null;XL(this.i)};
f.J8=function(a){$("#search").val(a.currentTarget.textContent);EM=null;XL(this.i)};f.h8=function(a){this.close(a);a=(new HE).Go(this.model.u()).Ck(this.model.getVersion()).Kt(!0);FE(Bb,a,this.oO)};
f.mM=function(a){var b;if(!(this.model instanceof qr))throw Error("attempted to get a page from a non-design");try{b=this.model.Be().content.pages[a]}catch(c){}if(!b&&this.document)try{b=this.document.Be().content.pages[a]}catch(c){}b?this.Qb&&this.As&&(a={},a[this.As.Sb()]="#"+this.Qb,b=kW(null,b,a)):b=null;return b};function jW(a,b,c){var d=a.model.getFile("ORIGINAL",b).ma();$.getJSON(d,function(d){a.Yo.set(b,d);c&&c(d)})}function lW(a,b){if(a=a.Yo.get(b))return a.content.pages[0]}
function mW(a){return a.Ra.getDocument(new qt({wg:a.model.u(),mA:!0})).then(function(a){return this.document=a.getDocument()}.bind(a))}
f.HS=function(a,b){function c(a){function b(){ZO({ap:YO(v),ee:J.ib(),page:v});c(v.serialize())}function c(b){var g={};a.layout&&(g.id=a.layout.id,g.version=a.layout.version);d.model instanceof RK&&(g.id=d.model.u(),g.version=d.model.getVersion());b=Zm(new Xm(g),b);var g={"new":b,old:l,pageIndex:h.K()},n=jq(b.Gg()),p=U,u=b.serialize();!n&&p&&u&&$l(p,u.id);gO(h,b,k,e);M.register(new eO(4,g))}if(d.model instanceof qr){var e=new cn({type:hB,id:d.model.u(),version:d.model.getVersion()});wV(a,e)}if(a.width!==
h.j()||a.height!==h.o()){var g=Zm(new Xm,a),v=new Op(J,{});gO(v,g,null,null,!0);d.listenToOnce(v,"unpacked",b)}else c(a)}var d=this,e=parseInt(a.currentTarget.textContent,10),g=this.Uj?lW(this,e):this.mM(e),h=J.Ba();if(b){var k=this.model instanceof qr?rr(this.model,e):this.model.getFile(YC,e).ma(),l=h.cu();h.clear();k&&TO(h,k);g?c(g):this.Uj?jW(this,e,function(a){return c(a)}):mW(this).then(this.mM.bind(this,e)).then(c.bind(this))}else eM.Iy(h,this.i).then(function(b){b&&this.HS(a,!0)}.bind(this))};
f.Z1=function(a){var b,c,d,e=parseInt($(a.currentTarget).text(),10),g={url:"https://static.canva.com/static/images/default_thumbnail.gif"};this.Uj?(b=lW(this,e),c=this.model.getFile("THUMBNAIL_LARGE",e)||this.model.getFile(YC,e),d={url:c.ma()},c={draft:{content:{pages:[]},imageSets:{thumbnail:{images:[d||g]}}}}):(b=this.mM(e),c=$.extend(!0,{},this.model),d=c.draft.imageSets.thumbnail.images[e],c.draft.imageSets.thumbnail.images[0]=d||g);b?(c.draft.content.pages=[],c.draft.content.pages[0]=$.extend(!0,{},b),b={pageTemplate:b}):
b=this.Uj?{cdfRequest:{url:this.model.getFile("ORIGINAL",e).ma()}}:{pageTemplateRequest:{pageIndex:e}};this.model instanceof qr?b.documentProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:rr(this.model,e)}:this.model instanceof RK&&(b.layoutProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:this.model.getFile(YC,e).ma()});e=nW(zq(c),kc(this.i));e.$el.children("a").data(b).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));
$(a.currentTarget).parents("li").data("view",e);return zM.call(a.currentTarget,a)};function nW(a,b,c){if(a instanceof RK)return"DESIGN"===TK(a)&&oW(function(){a.Jj()}),new pP({model:a,query:c||void 0,J:b,W:Ib});if(a instanceof vI)return new pW({model:a});if(a instanceof qr)return new qW({model:a});if("string"===typeof a&&-1<_.keys(Vm).indexOf(a))return new rW({model:a});if("string"===typeof a&&-1<_.keys(Wm).indexOf(a))return new sW({model:a,J:b});throw new TypeError("Unknown galleryObject type: "+typeof a);}
var oW=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function tW(){}tW=Backbone.View.extend({});tW.Gaa=function(){};tW.prototype.jc=function(){return Math.round(this.$el.offset().top)};tW.prototype.gd=function(){return Math.round(this.$el.offset().top+this.$el.height())};function uW(a){return Math.round(parseInt(a.$el.css("left"),10)+a.$el.width()/2)}tW.prototype.Sg=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};
function vW(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
tW.prototype.Oy=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),e=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),a=a.children().first().clone();a.hasClass("multiPageLayoutItem")&&(a=a.find("img"));a.css("width",c).css("height",d).appendTo(e);e.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return e};function rW(){}rW=tW.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});rW.prototype.initialize=function(a){this.fV=this.model;this.R2=Vm[this.fV];!a.el&&this.render();this.$el.data("view",this)};rW.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.fV);this.$("a").append(fE(this.R2.items));return this};function sW(){}sW=tW.extend({tagName:"li",className:"newSearch chart",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});sW.prototype.initialize=function(a){this.J=a.J;this.lT=this.model;this.y0=JSON.parse(JSON.stringify(Wm[this.lT]));!a.el&&this.render();this.$el.data("view",this)};
sW.prototype.render=function(){this.$el.html(this.template()).attr("data-chart-name",this.lT);var a=gH(this.y0);a.setAttribute("style","max-height: 72px");this.$("a").append(a);this.$("a").append('\x3cspan class\x3d"edit"\x3e'+this.J.format("objectPanelInfoEdit")+"\x3c/span\x3e");return this};function pW(){}pW=tW.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),S2:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});pW.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
pW.prototype.render=function(){var a=this,b=this.model.getContent();wI(this.model)?(this.$el.addClass("grid").html(this.S2(this.model)),this.$("a").append(fE(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
pW.prototype.Oy=function(){var a=tW.prototype.Oy.call(this),b=a.children().first();a.addClass("template");wI(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function qW(){}qW=pW.extend({className:"designGalleryItem newSearch loading",tagName:"li"});qW.prototype.initialize=function(){this.render()};
qW.prototype.render=function(){var a=this,b=this.model.draft,c=wW(this);this.$el.data({designItem:this.model,usablePreview:c,view:this});this.$el.html(this.template({pageCount:b.pageCount,name:b.content.title,thumbnail:$q(a.model.draft.imageSets.thumbnail)}));this.$el.toggleClass("designItemThumbnailUpdating",c);this.$("img").on("load",function(){a.$el.removeClass("loading")});return this};
function wW(a){var b;try{b=a.model.Be().imageSets.thumbnail.version}catch(c){b=-1}return a.model.getVersion()>b}qW.prototype.Oy=function(){var a,b,c;a=tW.prototype.Oy.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};qW.prototype.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function pP(){}pP=tW.extend();pP.prototype.initialize=function(a){this.Vi=new rh(window.viewConfig);this.query=a.query;this.J=a.J;this.W=a.W;this.render()};pP.prototype.render=function(){this.$el=this.createElement();this.$el.data("view",this);this.$el.data("searchResult",this.model);this.$el.data("result",this.model);return this};pP.prototype.Uj=function(){return VK(this.model)};
pP.prototype.createElement=function(){function a(){var a;if(c.query&&/^\w+$/.test(c.query)){var b=c.query.toLowerCase();a=c.model.rM();var e=!1;if(a)for(var g=0;g<a.length;g++)if(a[g].toLowerCase()==b){e=!0;break}a='\x3cspan class\x3d"superKeyword '+(e?"superHit":"superMiss")+'" title\x3d"'+(e?"Remove superKeyword ":"Add superKeyword ")+"'"+b+"'\" \x3eS\x3c/span\x3e ";d.data("superKeywordAdd",!e);d.data("query",b);d.find(".searchResultItem__info").append($(a))}}function b(){var a=$('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
b=$('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'),e=c.model.getFile("THUMBNAIL_LARGE",0)||c.model.getFile(YC,0);a.css("background-image","url("+e.ma()+")");b.text(String(c.model.ic()));d.find("a \x3e *").wrapAll(a);d.find(".multiPageLayoutItem").append(b)}var c=this,d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),e=this.model.getFile("THUMBNAIL_LARGE")||this.model.getFile(YC),g=this.model.getFile(Tg),h=this.J.format("objectPanelSearchResultItemViewShowMoreInfo");
switch(TK(this.model)){case "ELEMENT_GROUP":pP.H9(function(){c.model.Jj()});d.addClass("elementGroupSearchResult");break;case Pg:d.addClass("vectorSearchResult");break;case Ng:d.addClass("rasterSearchResult")}(function(){var a=$("img",d);LC(MC,a,e.ma()).then(function(){d.removeClass("loading")}).catch(function(){var a=c;a.$el.addClass("failed");a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");a.$el.find(".multiPageLayoutItemPageCount").remove();a.$el.find(".price").remove();a.$el.find(".info").remove()});
a.data("screen-url",g.ma()).data("screen-width",g.j()).data("screen-height",g.o()).attr("width",e.j()).attr("height",e.o());TK(c.model)===Pg&&(c.model.ps()?a.addClass("graphic"):a.addClass("svg"))})();(function(){var a=SK(c.model),b=(a/100).toFixed(0),e=c.model.wF(),g=!!c.W.H.get(tg)&&c.model.xv(),a=(e=!!e)&&"$"||(0===a||g)&&Zd(c.J)||xW(c)&&c.J.format("objectPanelMediaItemCostPro")||null!==a&&"$"+b+" USD"||null;$("a",d).append(yW({tt:h,Rf:e,sf:zW(c)||xW(c)||g,fa:a}).toString())})();c.Uj()&&(b(),$(".info",
d).remove());"CANVA"!==c.model.Qd()&&$(".info",d).remove();c.model.restricted||c.model.status==JE||($(".info",d).remove(),$(".price",d).remove(),$("img",d).addClass("inMarketplaceReview"));this.Vi.rg.get("quickKeywordEditEnabled",void 0)&&a();return d};
function zW(a){if(0!==SK(a.model)||["text","lines","shapes","frames","Canva"].some(function(b){return b===a.query}))return!1;switch(TK(a.model)){case "DESIGN":return a.W.H.get(qg);case Ng:return a.W.H.get(ug);case Pg:return a.W.H.get(ug);default:return!1}}function xW(a){var b=SK(a.model);if(!a.model.xv()||0===b||null==b)return!1;switch(TK(a.model)){case Ng:return a.W.H.get(xg);case Pg:return a.W.H.get(xg);default:return!1}}
pP.H9=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function AW(){}AW=Backbone.View.extend({className:"searchGroup"});f=AW.prototype;f.initialize=function(a){this.Xu=a.Xu;this.OU=[];this.Kw=a.model;this.listenTo(this.Kw,{"results:willFetch":this.UC,"results:didFetch":this.Pr,"results:clear":this.D0});this.i=a.i;this.xP=!1;a.el||this.render();this.$el.data("view",this)};f.render=function(){this.$el.html(this.template({title:this.Kw.sb()}));this.$(".gallery").addClass(this.Xu);""===this.Kw.sb()&&this.$("h2").remove();return this};f.UC=function(){};
f.Pr=function(a,b,c){function d(b){return nW(b,p,a.Z7)}function e(a){a.$el.appendTo(n)}function g(a){return a instanceof RK&&"DESIGN"===TK(a)}function h(a){return a instanceof rW}function k(a){return a instanceof sW}function l(a){return a instanceof pW}function m(){n.addClass("templateGallery").removeClass("photoGallery")}var n,p=kc(this.i);c||(n=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(c=b.map(d),c.forEach(e),c.some(k)&&n.addClass("chartGallery").removeClass("photoGallery"),
c.some(h)&&n.addClass("gridGallery").removeClass("photoGallery"),c.some(l)&&m(),b.some(g)&&m(),this.OU=this.OU.concat(c),this.ka(),this.trigger("results:render")):0===this.Kw.Lz()&&(n.remove(),this.$(".noResults,.layoutsTab__noResults").remove(),this.$el.append(this.kL())))};f.D0=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};f.ka=function(){Pz(this.$(".gallery"),!1)};f.compact=function(){Qz(this.$el,!0)};
f.ea=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};function BW(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}f.dv=function(a){var b=a.gd();return a.$el.nextAll().toArray().filter(function(a){a=a.getBoundingClientRect();return(a.top+a.bottom)/2>b}).map(function(a){return $(a).data("view")})};
function CW(a,b){b=a.dv(b);if(0===b.length)return 0;a=b.slice(0).sort(function(a,b){return a.jc()-b.jc()});b=b.slice(0).sort(function(a,b){return b.gd()-a.gd()});a=a[0];return b[0].gd()-a.jc()}function DW(a){return a.$el.outerHeight(!0)-a.$el.height()}f.lz=function(){};f.qT=function(){};f.kL=function(){return $("\x3cp\x3e").addClass("noResults").text(kc(this.i).format("objectPanelSearchNoResults"))};f.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function EW(){}EW=AW.extend();EW.prototype.initialize=function(a){this.i=a.i;this.tA=a.tA;AW.prototype.initialize.call(this,a)};EW.prototype.kL=function(){var a=$("\x3cp\x3e");this.tA?a.addClass("layoutsTab__noResults layoutsTab__noResults--folder").text(kc(this.i).format("objectPanelFolderNoResults")):a.addClass("layoutsTab__noResults layoutsTab__noResults--yourDesigns").text(kc(this.i).format("objectPanelYourDesignsNoResults"));return a};function FW(){}FW=AW.extend();FW.prototype.initialize=function(a){this.i=a.i;AW.prototype.initialize.call(this,a)};FW.prototype.kL=function(){return $("\x3cp\x3e").addClass("layoutsTab__noResults layoutsTab__noResults--templates").html(kc(this.i).format("objectPanelTemplateNoResults"))};function GW(){}GW=AW.extend({});GW.prototype.initialize=function(a){this.tx=null;this.rU=0;AW.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new tW({el:this});$(this).data("view",a)})};
GW.prototype.lz=function(a,b){var c=a.$el,d=this.dv(a),e=c.height(),e=c.data("originalTop")+e,g=HW(this,e);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){vW(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){vW(a,b,!1)})},R.Aa.Dz);this.ea(e,!0);this.rU=b;null===this.tx&&(a=CW(this,a),c=this.$el.next(),this.tx=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.tx.css("height",a).insertAfter(c))};
GW.prototype.qT=function(a){var b=this.dv(a),c=this.rU-HW(this);0<c&&b.forEach(function(a){a.Sg(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){vW(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.tx&&d.tx.remove();d.tx=null},R.Aa.Dz*R.Xx)};function HW(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0);a=a.$el.position().top;return c-(a+b)};function IW(){}IW=AW.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});IW.Zx=150;f=IW.prototype;f.initialize=function(a){this.model=a.model;this.lh=null;AW.prototype.initialize.apply(this,arguments);this.render();this.ea(0,!1)};
f.remove=function(){function a(){AW.prototype.remove.apply(b,arguments);b.xP=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,e=this.$el.parent();this.xP=!0;d&&c.trigger("click");if(this.lh)this.lh.css("opacity",0).one("transitionend",function(){$(this).remove();b.lh=null});if(0<e.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=e.offset().top+e.outerHeight(),c=c-d;if(0<c){BW(this,-c);var h=e.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};f.UC=function(){0===this.Kw.Lz()&&SM(this.$el);AW.prototype.UC.apply(this,arguments)};f.Pr=function(a,b,c){WM(this.$el);AW.prototype.Pr.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},R.Aa.w8)};f.compact=function(){if(0!==this.model.Lz()){var a=this;AW.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<IW.Zx&&a.ea(IW.Zx,!0)},R.Aa.Dz)}};
function JW(a){if(null===a.lh){var b=a.$el.parents(".layer");a.lh=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.Kw.sb())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.lh.css("opacity",0).insertAfter(b);P.delay(R.Dc).then(function(){a.lh.css("opacity","")});a.lh.find("a.close").one("click",function(){a.trigger("headerClose:click",a)})}}
function KW(a){if(null!==a.lh){var b=a.lh;a.lh=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function LW(){}LW=Backbone.View.extend({tagName:"section",className:"layer"});LW.Nk=function(a,b){return new AW({model:a,Xu:"infoPanelGallery photoGallery",i:b})};f=LW.prototype;f.events=function(){return{scroll:_.throttle(this.scroll,200)}};
f.initialize=function(a){this.i=a.i;this.RB=this.model=a.model;this.Vd=[];this.FH=[];this.Nk=a.Nk||LW.Nk;this.NM=!1;this.listenTo(this.RB,"searchGroup:add",this.Ek);this.listenTo(this.RB,"searchGroup:remove",this.GB);this.listenTo(this.RB,"results:willFetch",this.UC);this.listenTo(this.RB,"results:didFetch",this.Pr);this.$el.data("view",this)};
f.render=function(){this.$el.empty();this.Vd.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};f.scroll=function(){0<this.Vd.filter(function(a){return a.xP}).length||this.TF()};
f.TF=function(){var a=this.$el.parent(),b=this.Vd[this.Vd.length-1],c=sP(this.RB);if(0!==a.length&&b&&c&&!this.NM){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};gh(this).read(function(){if(c.OA&&d()<=a.outerHeight()*R.bS){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;b>R.hD&&gh(this).write(function(){IN(this.$el,b-R.hD)});this.NM=!0;c.Qh(MW(this))}c.OA||gh(this).write(function(){this.$el.data("userPreparedSearch",!0)})})}};
f.Ek=function(a,b,c){(a=this.Vd[c-1])&&a.compact();b=this.Nk(b,this.i);this.Vd.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};f.GB=function(a,b,c){a=this.Vd[c];this.Vd.splice(c,1);a.remove()};f.UC=function(a){this.FH.push(a);SM(this.$el)};f.Pr=function(a,b){var c=this.FH.indexOf(a);-1<c&&this.FH.splice(c,1);0===this.FH.length&&WM(this.$el);this.NM=!1;if(a.OA){var d=this;setTimeout(function(){a===sP(d.model)&&d.TF()},b.length*R.Aa.Xv+R.Aa.QA)}};
function MW(a){a=a.$el.parent();return UM(a,a.height())};function NW(){}NW=LW.extend({});f=NW.prototype;f.events=function(){var a=LW.prototype.events.apply(this,arguments);a["mousedown .albumGallery a"]=this.H0;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["click .inlineFolderGroup \x3e .header a.close"]=this.oT;a.mousedown=this.R0;return a};f.initialize=function(a){LW.prototype.initialize.call(this,a);this.RD=!1;this.ZE=0;this.nA=$();this.listenTo(T,"infoPanelToggle",this.n3)};
function OW(a){a=a.Vd.filter(function(a){return a instanceof IW});return 0<a.length?a[0]:null}f.scroll=function(a){LW.prototype.scroll.apply(this,arguments);var b=OW(this);b&&gh().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),e=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<e;a.write(function(){h||k?KW(b):JW(b)})})};f.TF=function(){this.$el.data("userPreparedSearch")?IM.call(this.el):LW.prototype.TF.apply(this,arguments)};
f.R0=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.Vd[0].$("li.folderExpanded").data("view"))&&PW(this,a),!1};f.H0=function(a){var b=this.Vd[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?PW(this,a):c?(b=b.$("li.folderExpanded").data("view"),PW(this,b)):this.RD||QW(this,a);return!1};
f.oT=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.RD&&PW(this,a)};
function QW(a,b){var c=a.Vd[0],d=a.model,e=b.$el.children("a"),g=e.attr("title"),e=e.data("query"),h=tP(e),k=new jM(h,g,e);rP(d,k,1);a.trigger("folder:expand",e);d=a.Vd[1];d.$el.attr("data-query",e);RW(a,IW.Zx);c.lz(b,a.ZE);0===CW(c,b)&&d.$el.addClass("end");a.listenTo(d,"headerClose:click",function(){a.oT()});a.nA.remove();a.nA=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.nA.css("left",uW(b)+parseInt(a.$el.css("padding-left"),10)).insertBefore(d.$el);SM(d.$el);setTimeout(function(){k.Qh(MW(a))},
R.Aa.Dz*R.Xx);a.$el.removeData("userPreparedSearch")}function PW(a,b){var c=a.Vd[0],d=a.model;if(1<d.getLength()){a.RD=!0;var e=sP(d),g=OW(a);a.stopListening(g);d.GB(e);a.nA&&setTimeout(function(){a.nA.remove();a.RD=!1},R.Aa.Dz)}c.qT(b);RW(a,0);a.$el.data("userPreparedSearch",!0)}f.Ek=function(a,b,c){(a=this.Vd[c-1])&&a.compact();var d=new IW({model:b,Xu:"infoPanelGallery photoGallery",i:this.i});this.Vd.splice(c,0,d);d.$el.insertAfter(a.$el);P.delay(R.Dc).then(function(){d.ea(IW.Zx-72,!0)})};
f.Pr=function(a,b,c){LW.prototype.Pr.apply(this,arguments);mP(this,!0)};function mP(a,b){var c=a.Vd[0],d=OW(a),e=c.$("li.folderExpanded").data("view");if(e){var g=DW(d),h=d.$el.data("contentHeight")||0,g=g+h,k=wN(d.$el),l=Math.max(g,IW.Zx),m=c.$el.find("li");b?c.lz(e,l+k):(m.addClass("doNotTransition"),P.delay(R.Dc).then(function(){c.lz(e,l+k);P.delay(R.Dc).then(function(){m.removeClass("doNotTransition")})}));RW(a,l)}}
f.n3=function(a,b){var c=OW(this);c&&c.el===a.get(0)&&(a=this.Vd[0],c=a.$("li.folderExpanded").data("view"),a.lz(c,this.ZE+b))};function RW(a,b){var c=b-a.ZE;a.ZE=b;var d=a.Vd[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer");d.one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop");P.delay(R.Dc).then(function(){d.css("top","+\x3d"+c)})};function YL(){}YL=Backbone.View.extend({className:"textControls"});YL.S_=1.02;f=YL.prototype;f.events=function(){return{"mousedown a.add":this.P3,"click a.add":this.F0}};f.initialize=function(a){this.Ii=a.Ii;this.i=a.i;this.LD=!1;this.listenTo(this.model,"change:defaultFont",this.f$);this.render()};f.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
f.C3=_.template('\x3cli style\x3d"color: \x3c%- color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%- style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%- fontFamily %\x3e\'; font-size: \x3c%- fontSizePercentage %\x3e%; font-style: \x3c%- italic ? "italic" : "normal"%\x3e; font-weight: \x3c%- bold ? "bold" : "normal"%\x3e;"\x3e\x3c%- placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
f.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=kc(b.i);return{hasBrandKit:!!b.Ii,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in dc)a.append(SW(this,dc[c]));TW(this,this.r8.bind(this));return this};
f.r8=function(){var a;this.$(".add").each(function(){a=a||Math.min(1,this.parentElement.offsetWidth/this.offsetWidth);this.style.fontSize=parseFloat(this.style.fontSize)*a+"%"})};function TW(a,b){function c(){d++;3===d&&b&&b()}var d=0;Object.keys(dc).forEach(function(a){a=this.cs(dc[a]).fontFamily;xJ(a,c)},a)}function SW(a,b){b=a.cs(b);return $(a.C3(b))}
f.cs=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.wI[a]),d=$.extend(!0,{},this.model.xr[a]),e=UW(this,a),g=kc(this.i);switch(a){case "title":g=Ud(g);break;case "subtitle":g=Vd(g);break;case "body":g=g.format("objectPanelTextPanelAddBody");break;default:throw Error("Unknown TextElementStyle "+a);}g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:g,style:a};c=_.extend({},g,d,c,e);(e=yA(Jb,c.fontFamily))?c.fontFamily=e.family:c=_.extend({},g,d);
void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*R.Ci;return c};function UW(a,b){var c;try{c=a.Ii.DC[0].EC||[]}catch(d){c=[]}return c.filter(function(a){return!!a.font&&a.getName()===b}).map(function(a){a=a.font;return{bold:a.bold,italic:a.italic,fontFamily:a.family,fontSize:a.Kp()}})[0]}f.f$=function(a,b,c){var d=this.$el.find("[data-style\x3d"+b+"]").parent(),e=SW(this,b);xJ(c.fontFamily,function(){d.replaceWith(e)})};
f.F0=function(a){function b(a){a.$k(d);Jg(a)}var c=this.model;a=$(a.currentTarget).data("style");var d=c.Ba();this.fE(a).then(b,b);this.LD=!0;return!1};
f.fE=function(a){var b=this.$(".add[data-style\x3d"+a+"]"),c=this.cs(a);c.fontSize*=K.lp;var d=VW(this,b);d.find("a").css("font-size",c.fontSize*R.Ci+"%");d.css("font-size","100%").css("opacity",0).appendTo("#content");var e=d.width();d.remove();var g=_.defaults({style:a,lockedWidth:!1,width:e*YL.S_,html:b.text(),placeholderText:b.text()},c);return new P(function(a,b){new Rp(g,function(c,d){d?a(c):b(c)})})};
function VW(a,b){var c=a.model.Ba().Df(),d=a.cs(b.data("style")),e=b.clone();a=WW(a);var g=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";e.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",a*g*100+"%");b=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');b.css("font-size",100*W+"%").css("color",c?"white":"black").append(e);return b}
f.P3=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(d.LD)return E.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("pickedUp"),d.LD=!1;if(null==l)if(ZM(E)){var m=Rn(r,x,h,a);if(300<m||60>m)l=VW(d,e),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(Math.abs(h-r)>R.Ec||Math.abs(a-x)>R.Ec)l=VW(d,e),$("#content").append(l),g.addClass("pickedUp");
null!=l&&(m=k.top+a-x,l.css("left",k.left+h-r).css("top",m),m=Math.min(1,Math.sqrt(Math.pow(h-r,2)+Math.pow(a-x,2))/I),l.css("font-size",100*(1+(u-1)*m)+"%").css("color",In(Q,N,m).qa()),(h<n.left||h>n.left+p||a<n.top||a>n.top+q)&&AN(v.$el,l)?(null==L&&(L=new jh(l,z)),lh(L,O,G)):$("#overlays .align").removeClass("on"));return!1}function c(a){function h(){l.remove();g.removeClass("pickedUp");l.hasClass("returning")||k()}function k(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).addClass("reappearing")}
function m(a){a.setPosition(L.F(),L.w());a.appendTo(d.model.Ba());Jg(a);Kg(a);pK(a.C())}E.off("mousemove|touchmove",b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");ph();var u=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;if(null==l&&Math.abs(u-r)<R.Ec&&Math.abs(a-x)<R.Ec)return!1;null!=l&&((u<n.left||u>n.left+p||a<n.top||a>n.top+q)&&AN(v.$el,l)?
(u=e.data("style"),d.fE(u).then(m).finally(h)):(u=e.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",u.left).css("top",u.top).css("font-size","100%").css("color",Q.qa())))}if(a.which!==R.Eh){var d=this,e=$(a.currentTarget),g=e.parent("li"),h=$(a.currentTarget).data("style"),k=e.offset(),l=null,m=$("#objectPanel"),n=m.offset(),p=m.outerWidth(),q=m.outerHeight(),h=this.cs(h);h.fontSize*=K.lp;var u=1/(parseFloat(e.get(0).style.fontSize)/R.Ci*WW(this)/h.fontSize)*W,v=oh(K),z=v.$el.find(".page__content").get(0).getBoundingClientRect(),
r=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,I=Math.abs(r-(n.left+p)),E=new mp($(document));E.on("mousemove|touchmove",b).on("mouseup|touchend",c);var L=null,G=kh(),O={};a=this.model.Ba().Df();var Q=qn(new on,255,255,255),N=new on;h.color&&"auto"!==h.color?N=uh(h.color)||N:a?qn(N,255,255,255):qn(N,0,0,0);this.LD=!1;return EN}};
function WW(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function lM(){}lM=LW.extend();lM.prototype.initialize=function(a){this.limit=0;this.J=kc(a.i);a.model=new qP;a.Nk=lM.Nk;LW.prototype.initialize.call(this,a);this.model.Ek(XW())};lM.Nk=function(a,b){return new FW({model:a,Xu:"infoPanelGallery photoGallery",i:b})};function XW(){var a=Nx(Kx()).ia(),b=w(J.ib().u());return new jM(new CP({ta:a.u(),Ra:xb,HK:b,xi:new rI(Gb)}))}lM.prototype.Qh=function(a){this.limit=a;sP(this.model).Qh(a)};
lM.prototype.reset=function(){for(var a=this.model;sP(a);)a.GB(sP(a));this.model.Ek(XW())};function gM(){}gM=LW.extend();gM.Nk=function(a,b,c){return new EW({model:b,tA:a,Xu:"infoPanelGallery photoGallery",i:c})};gM.prototype.initialize=function(a){a.model=new qP;a.Nk=gM.Nk.bind(null,a.tA);LW.prototype.initialize.call(this,a);this.model.Ek(new jM(a.L1))};gM.prototype.Qh=function(a){sP(this.model).Qh(a)};function iM(){}iM=LW.extend();iM.prototype.initialize=function(a){this.eE=a.eE;a.model=new qP;LW.prototype.initialize.call(this,a);this.model.Ek(this.eE())};iM.prototype.Qh=function(a){sP(this.model).Qh(a)};iM.prototype.reset=function(){this.model.GB(sP(this.model));this.model.Ek(this.eE())};function eM(){}eM=Backbone.View.extend();f=eM.prototype;f.initialize=function(a){this.Qb=a.Qb;this.rK=a.rK;this.Lr=$M;this.bE=a.bE;this.hK=a.hK;this.dK=a.dK;this.iK=a.iK;this.Ra=a.Ra;this.gc=a.gc;this.Rc=null;this.LU=!1;this.wQ=a.wQ;this.yQ=a.yQ;this.DA=this.fq=this.pi=null;this.As=a.G3.reduce(function(a,c){a[c.template]=uN(c);return a},{});this.GH=null;this.i=a.i;this.J=kc(this.i);this.render();YW(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.qY)};
f.events=function(){return{"click .templateGallery .info .moreInfo":this.V0,"click .templateGallery a":this.b1,"click .tabDropdown":this.a1}};f.remove=function(){this.DA&&this.DA.remove();Backbone.View.prototype.remove.call(this)};f.i7=_.template('\x3csection class\x3d"layoutTabPanel"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');f.template=_.template('\x3c% if (showTabMenu) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3cdiv class\x3d"select tabDropdown"\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsContainer layoutsContainer"\x3e\x3c/section\x3e');
function YW(a){var b=zk((new yk).Nt(a.rK),[dk]).OR().sg(100);a.gc.IU(b).then(function(b){a.Rc=b.Ap().filter(function(a){var b;if(b="undefined"!==typeof a.Um())b=["OWNER","ADMIN","EDITOR","VIEWER"],b=b.indexOf(a.Um())<=b.indexOf("EDITOR");return b}).sort(ZW);a.pi&&a.Rc&&$W(a.pi,a.Rc)}).catch(function(){a.LU=!0;a.pi&&aX(a.pi)})}f.Qh=function(a){this.GH&&this.GH.Qh(a)};
f.b1=function(a){ph();if($(a.target).is(".moreInfo"))return!1;a=$(a.currentTarget);var b=a.parents("li").data("view"),c=b.model;this.$(".gallery li.on").removeClass("on");if(xV(this,a))return!1;c.getContent?(zV(this,c),b.$el.addClass("on")):c.pc?(IO(this,c),b.$el.addClass("on")):c.Be&&1===c.Be().pageCount&&(yV(this,c),b.$el.addClass("on"));return!1};
function xV(a,b,c){var d=b.parents("li").data("view"),e=d.model;return d.Uj&&d.Uj()||e.Be&&e.Be()&&1<e.Be().pageCount?(d=!1!==c&&!b.hasClass("infoOpen"),!0!==c&&b.hasClass("infoOpen")?Oz():d&&(c=document.createElement("span"),$(c).css("visibility","hidden").css("width",0).css("height",0),b.append(c),CM.call(c,a.i)),!0):!1}f.V0=function(a){return CM.call(a.currentTarget,this.i)};
eM.Iy=function(a,b){if((new rh(window.viewConfig)).qh())b=P.resolve(!0);else{b.fL||(b.fL=new ee(b.config));b=b.fL;a=VO(a);var c=Cb,d=new bX({G:ol,GR:b.GR(),T1:b.Ik(),b4:b.xG(),o8:b.$o(),FR:b.FR()});b=(new cX({i:b,zO:a,X:c},d)).confirm()}return b};
function yV(a,b,c,d){function e(a){return a.getDocument()}function g(a){function d(){ZO({ap:YO(g),ee:J.ib(),page:g});dX(J.Ba(),Ym(g.serialize()),p,rr(a,0),m)}n.clear();q&&c&&TO(n,q);l=a.Be().content.pages[0];m=new cn({type:hB,id:a.u(),version:a.getVersion()});wV(l,m);null!==k.Qb&&k.As.hasOwnProperty(b.u())&&kW(null,l,h());if(l.width!==n.j()||l.height!==n.o()){var e=Zm(new Xm,l),g=new Op(J,{});gO(g,e,null,null,!0);k.listenToOnce(g,"unpacked",d)}else dX(J.Ba(),Ym(l),p,rr(a,0),m)}function h(){var a=
{};a[k.As[b.u()].Sb()]="#"+k.Qb;return a}var k=a,l,m,n=J.Ba(),p=n.cu(),q=rr(b,0);if(d){var u;try{u=b.Be().content.pages[0]}catch(v){}u?g(b):(n.clear(),q&&c&&TO(n,q),a.Ra.getDocument(new qt({wg:b.u(),mA:!0})).then(e).then(g))}else eM.Iy(n,a.i).then(function(a){a&&yV(this,b,c,!0)}.bind(a))}function zV(a,b,c){var d=J.Ba();c?(a=b.getContent(),a=Zm(new Xm,a),wI(b)&&an(a,d.j(),d.o()),dX(d,a)):eM.Iy(d,a.i).then(function(a){a&&zV(this,b,!0)}.bind(a))}
function IO(a,b,c){function d(a){function c(){ZO({ap:YO(n),ee:J.ib(),page:n});dX(g,Ym(n.serialize()),null,b.cn())}if(a&&a.content&&a.content.pages){var d={id:b.u(),version:b.getVersion(),price:SK(b),title:b.sb(),keywords:b.nl()},d=$m(new Xm(d),a),m=J.Ba();a=a.content.pages[0];if(a.width!==m.j()||a.height!==m.o()){var n=new Op(J,{});gO(n,d,null,null,!0);e.listenToOnce(n,"unpacked",c)}else dX(g,d,null,b.cn())}}var e=a,g=J.Ba();c?(b.Jj(d),PK(cL(b))):eM.Iy(g,a.i).then(function(a){a&&IO(this,b,!0)}.bind(a))}
function dX(a,b,c,d,e){c={"new":b,old:c||a.cu(),pageIndex:a.K()};var g=jq(b.Gg()),h=U,k=b.serialize();!g&&h&&k&&$l(h,k.id);gO(a,b,d,e);M.register(new eO(4,c))}eM.prototype.render=function(){this.$el.html(this.template({layoutsLabelText:this.J.format("objectPanelLayoutsPanelLayoutsTabLabel"),yourDesignsLabelText:Wd(this.J),showTabMenu:this.yQ}));eX(this);return this};eM.prototype.qY=function(){this.fq.reset&&this.fq.reset();this.GH===this.fq&&this.Qh(UM(this.$el,this.$el.height()))};
eM.prototype.a1=function(){var a=this;this.pi=this.iK(this.Lr);this.pi.on("select",function(b){a.Lr!==b&&(a.Lr=b,eX(a))});this.pi.on("hide",function(){a.$el.removeClass("resultsLayout--fadeResults")});this.pi.on("remove",function(){a.pi.off();a.pi=null});this.pi.li(this.$(".tabDropdown"));this.$el.addClass("resultsLayout--fadeResults");this.LU?aX(this.pi):this.Rc&&$W(this.pi,this.Rc);YW(this)};
function eX(a){var b=a.$(".tabDropdown"),c=$(a.i7()),d=c.find(".layer");a.$(".layoutsContainer").empty().append(c);a.DA&&a.DA.remove();a.DA=(new co(c.find(".scrollPane"))).render();switch(a.Lr){case $M:a.fq=a.hK(d);b.text(Xd(a.J));break;case aN:a.fq=a.dK(d);b.text(Yd(a.J));break;case bN:a.fq=a.bE(d,null);b.text(Wd(a.J));break;default:a.fq=a.bE(d,a.Lr),b.text(a.Rc.filter(function(b){return b.u()===a.Lr})[0].getName()||"")}a.wQ&&(c=$(document.createElement("span")).addClass("newFeatureLabel").text(rd(a.i).Dn()),
b.append(c));b.attr("data-selected",a.Lr);a.GH=a.fq;a.Qh(UM(a.$el,a.$el.height()))};var $M="CANVA_LAYOUTS",aN="TEAM_TEMPLATES",bN="YOUR_DESIGNS";function fM(){}fM=Zy.extend({className:"layoutsTabMenu"});f=fM.prototype;f.initialize=function(a){this.J=a.J;this.zu=a.zu;this.Vc=a.Vc;this.hx=a.hx;this.Rl=null;Zy.prototype.initialize.call(this,{content:this.zP(),jx:!1,dw:!0,ro:!1,position:Ep})};
f.events=function(){function a(a,d){b.trigger("select",a);b.$(".layoutsTabMenu__item--selected").removeClass("layoutsTabMenu__item--selected");$(d.currentTarget).addClass("layoutsTabMenu__item--selected layoutsTabMenu__item--activated");b.G.setTimeout(function(){return b.remove()},100)}var b=this;return{"click .layoutsTabMenu__item--canvaLayouts":function(b){return a($M,b)},"click .layoutsTabMenu__item--teamTemplates":function(b){return a(aN,b)},"click .layoutsTabMenu__item--yourDesigns":function(b){return a(bN,
b)},"click .layoutsTabMenu__item--folder":function(b){return a($(b.currentTarget).attr("data-id"),b)},"click .layoutsTabMenu__upgrade":function(){var a=b.Vc;a.l.wa(pm("object_panel_layouts","folders_dropdown","design_templates"));var d;a.W.H.get(kg)?(window.open("https://about.canva.com/pricing","_blank"),d=!0):d=!1;d||Oo(a,fX);b.remove()}}};f.Ep=function(){return gX};f.remove=function(){this.Rl&&this.Rl.remove();Zy.prototype.remove.call(this)};
f.render=function(){Zy.prototype.render.call(this);this.Rl||(this.Rl=(new co(this.$(".selectMenu"))).render());return this};
f.zP=function(){var a=$,b;b=this.J.format("objectPanelLayoutsPanelFoldersLoading");var c=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.J.format("objectPanelLayoutsPanelUpgradeCta"));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"loadingMsg",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"upgradeHtml",c,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu layoutsTabMenu"\x3e\x3cdiv class\x3d"layoutsTabMenu__loading"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"layoutsTabMenu__upgradeCta"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e");a=a(b.toString());b=a.find(".layoutsTabMenu__loading");b.before(hX({Gs:"canvaLayouts",selected:this.zu===$M,label:Xd(this.J),locked:!1}).toString());b.before(hX({Gs:"teamTemplates",selected:this.zu===aN,label:Yd(this.J),locked:this.hx}).toString());b.before(hX({Gs:"yourDesigns",selected:this.zu===bN,label:Wd(this.J),locked:this.hx}).toString());a.toggleClass("layoutsTabMenu--demoMode",
this.hx);return a};function $W(a,b){b.length?a.$(".layoutsTabMenu__loading").remove():a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersEmpty"));a.$(".layoutsTabMenu__item--folder").remove();b.forEach(function(b){a.$(".layoutsTabMenu__upgradeCta").before(hX({Gs:"folder",selected:a.zu===b.u(),label:b.getName()||"",bx:b.shared,vx:b.Np()&&b.Np().starred,Az:b.u(),locked:a.hx}).toString())})}
function aX(a){a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersError"))};function hX(a){soy.asserts.assertType(goog.isString(a.Gs)||a.Gs instanceof goog.soy.data.SanitizedContent,"modifierName",a.Gs,"string|goog.soy.data.SanitizedContent");var b=a.Gs;soy.asserts.assertType(goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean");var c=!!a.selected;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var d=a.label;soy.asserts.assertType(goog.isBoolean(a.locked)||
1===a.locked||0===a.locked,"locked",a.locked,"boolean");var e=!!a.locked;soy.asserts.assertType(null==a.bx||goog.isBoolean(a.bx)||1===a.bx||0===a.bx,"sharedFolder",a.bx,"boolean|null|undefined");var g=a.bx;soy.asserts.assertType(null==a.vx||goog.isBoolean(a.vx)||1===a.vx||0===a.vx,"starredFolder",a.vx,"boolean|null|undefined");var h=a.vx;soy.asserts.assertType(null==a.Az||a.Az instanceof goog.soy.data.SanitizedContent||goog.isString(a.Az),"folderId",a.Az,"null|string|undefined");a=a.Az;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item layoutsTabMenu__item layoutsTabMenu__item--'+
soy.$$escapeHtmlAttribute(b)+(c?" layoutsTabMenu__item--selected":"")+(e?" layoutsTabMenu__item--locked":"")+'"'+(a?' data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+"\x3e"+(a?g?iX({ya:"layoutsTabMenu__icon",Ai:h}):jX({ya:"layoutsTabMenu__icon",Ai:h}):"")+soy.$$escapeHtml(d)+"\x3c/div\x3e")};function uM(a){this.aO=this.aO.bind(this);this.En=this.En.bind(this);this.element=a;this.element.on({dragover:this.aO,drop:this.En});this.iN=null;this.hW=-1}_.extend(uM.prototype,Backbone.Events);uM.prototype.trigger=Backbone.Events.trigger;
uM.prototype.aO=function(a){var b=this;a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="copy",a.preventDefault(),clearTimeout(this.hW),this.iN||(this.iN=Date.now(),1===$("#objectPanel \x3e menu \x3e .uploads.on").length?this.trigger("dragenter"):($("#objectPanel \x3e menu \x3e .uploads \x3e a").click(),setTimeout(function(){b.trigger("dragenter")},300))),this.hW=setTimeout(function(){b.trigger("dragleave");b.iN=null},500))};
uM.prototype.En=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function kX(){}kX=Backbone.View.extend({className:"uploadsFolderItem"});f=kX.prototype;f.events=function(){return{click:this.Gf,dragstart:this.Ks,mousedown:this.Ls}};f.initialize=function(a){this.Na=a.Na;this.model=a.model;this.root=a.root};f.Gf=function(){this.Na.xS(this.model)};f.Ks=function(a){a.preventDefault();return!1};f.Ls=function(a){return a.which===R.Eh||this.KQ(a)};f.jO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.Gf(),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.IB();return this};f.IB=function(){var a,b,c=this;a=this.model.je().o()/this.model.je().j();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});LC(MC,a,this.model.je().ma())};
f.KQ=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,e=this.$el.clone().off(),c=new V(c,d,c,d),b=dh(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.Na,g=this.model;bh(d,Mg(g),b,e,c,d.xS.bind(d,g));this.ER(a)}return!1};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
f.ER=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.jO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function lX(a){this.Na=a.Na;this.gl=a.gl;this.Rh=!1;this.zM=!0;this.ka=new mX;this.offset=0;this.Ff=a.Ff;this.view=new nX({J:a.J});this.view.on({retry:this.fetch,signIn:this.authorize},this)}f=lX.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.authorize=function(){lI(this.gl).then(this.view.zZ.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
f.z0=function(){return mI(this.gl).catch(function(){throw new oX;})};f.fetch=function(){function a(){b.Rh=!1}var b=this;this.Ff?!b.Rh&&b.zM&&(this.Rh=!0,this.view.Pg(!0),this.view.Dt(!1),this.n$().bind(this).then(this.z0).then(this.G2).finally(a).then(this.g6).catch(oX,this.d6).catch(qX,this.s6).catch(this.h6)):pX(this.view)};f.wz=function(){this.fetch()};f.G2=function(){return pI(this.offset,25)};f.getElement=function(){return this.view.$el};f.ql=function(){return this.ka.ql()};f.rs=function(){return this.zM};
f.d6=function(){this.view.Pg(!1);this.view.zZ(!0)};f.g6=function(a){var b,c=this;b=$(a.map(function(a){return(new kX({Na:c.Na,model:a,root:$(window)})).render()}).map(function(a){return a.el}));Vg(this.Na,a);this.zM=0<a.length;rX("uploadsItemAppearing",b,2200);this.ka.push(b);this.offset+=a.length;this.view.Pg(!1);this.view.Ct(1>this.ka.yf().length&&1>a.length);this.trigger("fetch")};f.h6=function(){this.view.Pg(!1);this.view.Dt(!0)};f.s6=function(){this.view.Pg(!1);this.view.Dt(!0)};f.remove=function(){this.stopListening()};
f.render=function(){this.view.render();this.view.$el.prepend(this.ka.$el);return this};f.n$=P.method(function(){function a(){return P.try(function(){return iI()||P.delay(500).then(a).cancellable()})}return a().timeout(2500).catch(P.TimeoutError,function(){throw new qX;})});function oX(){}oX.prototype=Object.create(Error.prototype);function qX(){}qX.prototype=Object.create(Error.prototype);function nX(){}nX=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});f=nX.prototype;f.n2=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.VE=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');f.events=function(){return{"click .buttonFacebook":this.q5,"click .facebookPhotosRetry":this.n6}};
f.initialize=function(a){this.Ji=new KV;this.J=a.J};f.q5=function(){this.trigger("signIn")};f.n6=function(){this.trigger("retry")};f.render=function(){this.$el.append(this.Ji.render().$el);return this};f.j9=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');f.L3=_.template('\x3cp class\x3d"facebookUploadDisabled feedback feedback--error"\x3e\x3c%\x3d label %\x3e\x3c/p\x3e');
f.Pg=function(a){a?this.Ji.show():this.Ji.hide()};f.Ct=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.n2({message:this.J.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})):b.remove()};
f.Dt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.VE({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),message:this.J.format("objectPanelUploadsPanelFacebookFolderErrorMessage")})):b.remove()};
f.zZ=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.j9({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),message:this.J.format("objectPanelUploadsPanelFacebookFolderSignInMessage")})):b.remove()};function pX(a){a.$(".facebookUploadDisabled");var b=$(a.L3({label:Qd(a.J)}));a.$el.prepend(b)};function rX(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function sX(){}sX=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});f=sX.prototype;f.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};f.initialize=function(a){this.Ua=a.Ua;this.i=a.i;this.la=a.la;this.Ff=a.Ff};f.render=function(){this.$el.html(this.template(this.hi()));return this};
f.hi=function(){var a=kc(this.i),b=new AI(this.Ua,a),c=this.Ua.va()===this.la,d=this.Ua.shared,b=b.rb(),b=a.format("objectPanelUploadsPanelFolderInfoHeader",b);return{isOwner:c,isShared:d,headerMessage:b,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.Ua.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel"),
mediaWritesEnabled:this.Ff}};f.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner \x26\x26 mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function tX(){}tX=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});f=tX.prototype;f.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.T9}};f.initialize=function(a){this.VK=a.VK;this.QN=a.QN;this.Ua=a.Ua;this.jr=a.jr||[];this.item=a.item;this.J=a.J;this.Ff=a.Ff;this.title=a.title||this.item.getName();this.item.Mb()&&(this.title=this.item.Mb().importFilename)};
function uX(a){var b=a.$("select").val();return a.jr.filter(function(a){return a.u()===b})[0]}f.render=function(){this.$el.html(this.template(this.hi()));this.$("select").val(this.Ua.u());return this};
f.hi=function(){var a=this;return{title:this.title,downloadLink:this.VK,moveOptions:this.QN,downloadOriginalTitle:this.J.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),options:this.jr.map(function(b){return _.extend({},b,{name:(new AI(b,a.J)).rb()})}).map(this.R6),trashLabel:this.J.format("objectPanelUploadsPanelItemInfoTrash"),mediaWritesEnabled:this.Ff}};f.T9=function(){this.trigger("move",uX(this))};f.R6=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');
f.template=_.template('\x3c% if (title) { %\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3c% if (mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (moveOptions) { %\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% } %\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function vX(){var a={ya:"printOrderError__headerIcon"},a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 95.8"\x3e\x3cpath d\x3d"M.4 90.2L46.6 2C48-.7 51.9-.7 53.3 2l46.2 88.2c1.3 2.5-.5 5.5-3.4 5.5H3.8c-2.9.1-4.7-3-3.4-5.5z"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M45.1 73.7c0-1.6.4-2.8 1.3-3.7.9-.8 2.1-1.2 3.8-1.2 1.6 0 2.8.4 3.7 1.3.9.8 1.3 2.1 1.3 3.6s-.4 2.7-1.3 3.6c-.9.9-2.1 1.3-3.7 1.3s-2.9-.4-3.8-1.3c-.9-.9-1.3-2.1-1.3-3.6zm8.6-9.9h-7l-1.5-28.2h10l-1.5 28.2z"/\x3e\x3c/svg\x3e')}
function wX(a){a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e')}
function xX(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18px" height\x3d"18px" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M2.5 9c0 3.588 2.912 6.5 6.5 6.5s6.5-2.912 6.5-6.5S12.588 2.5 9 2.5A6.503 6.503 0 0 0 2.5 9zm14 0c0 4.14-3.36 7.5-7.5 7.5-4.14 0-7.5-3.36-7.5-7.5 0-4.14 3.36-7.5 7.5-7.5 4.14 0 7.5 3.36 7.5 7.5z"/\x3e\x3cpath d\x3d"M9.75 6.75h-1.5v-1.5h1.5v1.5zm0 6h-1.5v-4.5h1.5v4.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')}
function yX(a){var b;b={};soy.asserts.assertType(goog.isString(a.We)||a.We instanceof goog.soy.data.SanitizedContent,"fileType",a.We,"string|goog.soy.data.SanitizedContent");var c=a.We;soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"32" height\x3d"40" viewBox\x3d"0 0 32 40" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M-8-4h48v48H-8z"/\x3e\x3cpath d\x3d"M4 0C1.8 0 .02 1.8.02 4L0 36c0 2.2 1.78 4 3.98 4H28c2.2 0 4-1.8 4-4V12L20 0H4z" fill\x3d"'+
soy.$$escapeHtmlAttribute(a.color)+'"/\x3e\x3cpath d\x3d"M20 0l12 12h-8.004A4 4 0 0 1 20 8.004V0z" fill-opacity\x3d".5" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'mix-blend-mode:lighten"/\x3e\x3ctext width\x3d"32" height\x3d"12" x\x3d"16" y\x3d"35" text-anchor\x3d"middle" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"font-size: 10px; font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\"\x3e"+soy.$$escapeHtml(c)+"\x3c/text\x3e\x3c/g\x3e\x3c/svg\x3e")}
function jX(a){a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");var b=a.ya;soy.asserts.assertType(null==a.Ai||goog.isBoolean(a.Ai)||1===a.Ai||0===a.Ai,"withStar",a.Ai,"boolean|null|undefined");a=a.Ai;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function iX(a){a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");var b=a.ya;soy.asserts.assertType(null==a.Ai||goog.isBoolean(a.Ai)||1===a.Ai||0===a.Ai,"withStar",a.Ai,"boolean|null|undefined");a=a.Ai;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function zX(){var a={ya:"addressDetailsAddress__expandAddressButtonIcon"},a=a||{};soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e')}
function yp(a){a=a||{};soy.asserts.assertType(null==a.color||a.color instanceof goog.soy.data.SanitizedContent||goog.isString(a.color),"color",a.color,"null|string|undefined");var b=a.color;soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");a=a.ya;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'" ':"")+'fill\x3d"'+soy.$$escapeHtmlAttribute(null==b?"#FFF":
b)+'" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"-505 380 12 10"\x3e\x3cpath d\x3d"M-503 388h8v1h-8zM-494 382.2c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3l-2.3.7-1.5-2.2c.3-.2.5-.5.5-.8 0-.6-.4-1-1-1s-1 .4-1 1c0 .3.2.6.5.8l-1.5 2.2-2.3-.8c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8s-.8.4-.8.8.3.8.8.8h.2l.8 3.3h8l.8-3.3h.2c.4 0 .8-.3.8-.8 0-.4-.4-.7-.8-.7z"/\x3e\x3c/svg\x3e')};function ZW(a,b){var c=a.Np()&&a.Np().starred,d=b.Np()&&b.Np().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function AX(){}AX=Backbone.View.extend({className:"uploadsFolderItem"});f=AX.prototype;f.initialize=function(a){this.Na=a.Na;this.disabled=!1;this.model=a.model;this.Sv=a.Sv;this.mi=a.mi;this.J=a.J;this.lk=void 0;this.root=a.root;(this.te=a.te)&&this.listenTo(this.te,{complete:this.L6,fail:this.M6,update:this.gr})};f.events=function(){return{click:this.Gf,dragstart:this.Ks,mousedown:this.Ls}};
f.Gf=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.Mb();a.target&&$(a.target).is("img")?b=mh(a.target)>R.YI:1===$(a.target).find("img").length&&(b=mh($(a.target).find("img").get(0))>R.YI);c?this.Na.yS(c,void 0,void 0,b):this.te&&this.te.Mb()&&this.Na.zS(this.te,void 0,void 0,b)}};f.L6=function(){this.lk.remove();this.lk=void 0;this.stopListening(this.te)};
f.M6=function(){this.yk(!0);this.lk.$el.addClass("uploadProgressBarFail");this.stopListening(this.te);setTimeout(this.RY.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};f.Ks=function(a){a.preventDefault();return!1};f.Ls=function(a){tz();var b=a.target.classList.contains("uploadsInfoButton"),c=a.which==R.Eh;return this.disabled||c||b||a.ctrlKey||this.KQ(a)};
f.jO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,e=this.el.getBoundingClientRect();b?(ah(this.Na,dh(e)),setTimeout(c,600)):(this.Gf(a),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");var a=this.model.YU(),b=this.el,a=a&&a.type,c=this.J.gq(this.J.format("objectPanelLicenseExtended")),d=this.J.gq(this.J.format("objectPanelLicenseRoyaltyFree")),e=this.mi;soy.asserts.assertType(null==a||a instanceof goog.soy.data.SanitizedContent||goog.isString(a),"licenseType",a,"null|string|undefined");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"licenseTitleExtended",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"licenseTitleRoyaltyFree",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"showControls",e,"boolean");var e=!!e,g='\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e';if(null!=a){g+='\x3cdiv class\x3d"uploadsFolderItemLicense"';switch(goog.isObject(a)?a.toString():a){case "ROYALTY_FREE":g+='title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#9F72D7" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M6 6h12v12H6z"/\x3e\x3cpath d\x3d"M15.3 9c-.72 0-1.4.295-1.885.806L12 11.128l-.76.705h.005L9.9 13.092a1.64 1.64 0 0 1-1.2.521c-.935 0-1.695-.795-1.695-1.78 0-.984.76-1.78 1.695-1.78.455 0 .88.185 1.22.543l.565.526.755-.705-.63-.585A2.618 2.618 0 0 0 8.7 9C7.21 9 6 10.274 6 11.833c0 1.56 1.21 2.834 2.7 2.834.72 0 1.4-.295 1.885-.806L12 12.544l.005.006.755-.717h-.005l1.345-1.258a1.64 1.64 0 0 1 1.2-.522c.935 0 1.695.796 1.695 1.78 0 .985-.76 1.78-1.695 1.78-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.49 0 2.7-1.269 2.7-2.833C18 10.264 16.79 9 15.3 9z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;case "EXTENDED":g+='title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#399BE6" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M5 6h14v12H5z"/\x3e\x3cpath d\x3d"M14 10.762a1.7 1.7 0 0 0-.4.313l-1.34 1.258-.76.711-1.415 1.317a2.597 2.597 0 0 1-1.885.806c-1.49 0-2.7-1.275-2.7-2.834C5.5 10.774 6.71 9.5 8.2 9.5c.72 0 1.4.295 1.91.832l.63.585-.755.705-.565-.526a1.658 1.658 0 0 0-1.22-.543c-.935 0-1.695.796-1.695 1.78 0 .985.76 1.78 1.695 1.78.455 0 .88-.184 1.2-.521l1.34-1.259.76-.705 1.415-1.322c.3-.316.673-.549 1.085-.681v1.137zM16.372 13c-.251.653-.86 1.113-1.572 1.113-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.27 0 2.336-.92 2.624-2.161h-1.052zM19 9.5h-1.5V8h-1v1.5H15v1h1.5V12h1v-1.5H19v-1z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;default:g+="\x3e"}g+="\x3c/div\x3e"}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(g+(e?'\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e':""));b.innerHTML=a;this.$el.toggleClass("uploadsFolderItemMovable",this.Sv);this.IB();this.te&&!this.te.Wf&&(b=this.$(".uploadsControls"),this.lk||(this.lk=new BX),this.lk.render().$el.insertBefore(b));if(b=this.te)b=this.te,b=b.Wf&&!b.media;b&&this.RY();return this};
f.IB=function(){function a(){d.off("load",a);e.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,e=this;b=this.model.je().o()/this.model.je().j();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.je().ma();LC(MC,d,b)};f.show=function(){this.lk&&this.gr()};
f.KQ=function(a){var b,c,d=this.model.Mb();b=a.clientX;c=a.clientY;var e=this.$el.clone().off();e.find(".uploadProgressBar").remove();e.find(".uploadsFolderItemLicense").remove();e.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,e.find("img"));if(this.root){b=new V(b,c,b,c);c=dh(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");var g=!1;if(d){var g=this.Na,h;h=d.Ja().pc()[Tg];h=Rg({id:d.u(),version:d.Ja().getVersion(),files_:[{page:0,quality:"THUMBNAIL",
url:e.find("img").attr("src")},{page:0,quality:"SCREEN",url:h.ma(),width:h.j(),height:h.o()}]});bh(g,h,c,e,b,g.yS.bind(g,d));g=!0}else if(this.te){d=this.Na;g=this.te;h=e.find("img").attr("src");var k=g.Mb();k?(h=Rg({id:k.u(),version:1,files_:[{page:0,quality:"THUMBNAIL",url:h},{page:0,quality:"SCREEN",url:h,width:g.qb.width,height:g.qb.height}]}),bh(d,h,c,e,b,d.zS.bind(d,g)),g=!0):g=!1}g&&this.ER(a)}return!0};f.yk=function(a){this.disabled=a};
function CX(a,b){a.Sv=b;a.$el.toggleClass("uploadsFolderItemMovable",a.Sv)}f.RY=function(){this.lk&&this.lk.remove();this.lk=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title",this.J.format("objectPanelUploadsPanelUploadFailed"));CX(this,!1);this.yk(!0)};
f.Hx=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(R.Dc).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});f.gr=function(){DX(this.lk,this.te.Rn)};
f.ER=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.jO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function EX(a){this.Na=a.Na;this.ac=a.ac;this.Z=null;this.nq=!0}EX.prototype.fetch=function(a){function b(a){return sk({id:a.u(),media:a,thumbnail:a.Ja().pc()[YC],type:"MEDIA"})}var c=this;a=YE((new XE).Mt(!0).Kt(!1).Fo(),[Ng,Pg]).sg(a);null!=c.Z&&a.zi(c.Z);return AE(this.ac,a).then(function(a){0!==a.media.length&&Xg(c.Na,a.media);c.Z=a.Z;c.nq=null!=c.Z;return P.resolve(a.media.map(b))})};EX.prototype.rs=function(){return this.nq};function FX(a){this.Na=a.Na;this.xi=a.xi;this.DR=a.DR;this.Z=null;this.nq=!0}FX.prototype.fetch=function(a){function b(a){return sk(a)}var c=this;a=(new xI).Bk(this.DR).sg(a).zi(this.Z);return uI(this.xi,a).tap(function(a){c.Z=a.Fb();c.nq=!!c.Z}).tap(function(a){a=(a.yf()||[]).map(function(a){return a.Mb()}).filter(Boolean);Xg(c.Na,a)}).then(function(a){return(a.yf()||[]).map(b)})};FX.prototype.rs=function(){return this.nq};function GX(a){this.Na=a.Na;this.gc=a.gc;this.Ua=a.Ua;this.Z=null;this.nq=!0}GX.prototype.fetch=function(a){function b(a){return a.yf()||[]}var c=this;a=uk((new tk).zi(this.Z).Bk($g(this.Ua))).sg(a);return this.gc.HA(a).tap(function(a){c.Z=a.Fb();c.nq=!!c.Z}).tap(function(a){a=b(a).map(function(a){return a.Mb()});Xg(c.Na,a)}).then(b)};GX.prototype.rs=function(){return this.nq};function HX(a){this.Kn=this.D=void 0;this.yv=a.la===a.Ua.va();this.Na=a.Na;this.W=a.W;this.FU=this.Rh=!1;this.Ua=a.Ua;this.jr=a.jr;this.gc=a.gc;this.lA=!1;this.Wh=[];this.ka=new mX;this.ac=a.ac;this.J=a.J;this.X=a.X;this.Ht=a.Ht;this.Sf=a.Sf;this.listenTo(this.Sf,"create",this.a$);this.la=a.la;this.Kh=a.Kh;this.iF=a.iF;this.Po=a.Po;this.mi=a.mi;this.view=new IX({disabled:a.disabled,model:this.Ua,J:this.J,Po:a.Po,cl:a.cl,Ff:this.W.H.get(ng)});this.listenTo(this.view,{upload:this.vI,share:this.Y8})}
f=HX.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Mh=function(){this.DV=void 0;this.hg&&(WV(this.ka,this.hg.$el),this.hg=void 0)};f.fetch=function(a){a=a||25;this.Rh||this.lA||!this.rs()||(this.Rh=!0,this.view.Pg(!0),this.iF.fetch(a).bind(this).then(this.G5).catch(this.I5))};f.wz=function(a){a=this.ka.tL(a);isFinite(a)?this.fetch(a):this.fetch()};f.getElement=function(){return this.view.$el};
function JX(a,b){for(var c=0;c<a.Wh.length;c++){var d=a.Wh[c];if(d.model===b||d.te===b)return d}return null}f.ql=function(){return this.ka.ql()};function KX(a){return a.Sf.xF(a.Ua.u()).filter(function(b){return!JX(a,b)}).filter(function(b){return b.Wf&&!b.media?!1:b.Wf&&b.Mb()?-1===a.Ht.indexOf(b.Mb().u()):!0})}f.rs=function(){return this.iF.rs()};
f.moveItem=function(a,b,c){var d=JX(this,a);d&&(this.Mh(),this.view.Ct(1===this.Wh.length),b=Vj(Wj(new Uj,$g(this.Ua)).h_([a.u()]),$g(b)),P.settle([this.gc.S3(b),d.Hx(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):LX(this,a)}.bind(this)))};
f.XW=function(a){var b;if(a===this.DV)this.Mh();else{var c;c=(new tX({VK:this.W.H.get(Zf),QN:this.Ua!==ik,Ua:this.Ua,jr:this.jr,item:a,title:a.getName()||"",J:this.J,Ff:this.W.H.get(ng)})).render();c.on({move:this.moveItem.bind(this,a),trash:this.S9.bind(this,a),download:this.Y1.bind(this,a)});b=JX(this,a);this.Mh();c=(new MX({Ei:!1,zr:!0,content:c.$el,J:this.J,target:b.$el})).render();c.on("close",this.Mh,this);this.hg=c;VV(this.ka,b.$el,this.hg.$el);this.hg.show();this.DV=a;this.Kh&&this.Kh(this.hg.getContent(),
!0)}};
f.G5=function(a){this.FU=!0;this.Rh=!1;NX(this,KX(this).map(this.mY,this));NX(this,a.filter(this.u3,this).map(this.k8,this));this.view.Pg(!1);this.view.Ct(1>this.Wh.length);a=this.view;var b=a.$(".uploadsFolderContentUploadButton");if(!a.Ff)b.remove(),b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Qd(a.J)),soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"label",b,"soydata.SanitizedHtml"),b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"feedback feedback--error"\x3e'+soy.$$escapeHtml(b)+
"\x3c/p\x3e").toString(),a.$el.prepend(b);else if(a.Po&&1>b.length){var b=a.J.format("objectPanelUploadsPanelUploadButtonLabel"),c=!!a.disabled;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"label",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"disabled",c,"boolean");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton" '+(c?"disabled":"")+"\x3e"+
soy.$$escapeHtml(b)+"\x3c/button\x3e").toString();a.$el.prepend(b)}this.trigger("fetch")};f.u3=function(a){function b(a){var b="MEDIA"===a.jb(),c=a.Mb();a="FONT"!==a.Mb().jb();return b&&(!c||a)}var c=this;return function(a){return c.Wh.every(function(b){return b.te&&b.te.Mb()?b.te.Mb().u()!==a.u():!0})}(a)&&-1===c.Ht.indexOf(a.u())&&b(a)};
function OX(a){function b(){if(!e.yv)return e.X.va(e.Ua.va())}function c(){PX(e.view,!1)}function d(a,b){a&&(e.yv||b)&&(e.Kn=b?b:void 0,e.D=a,PX(e.view,!0),QX(e.view,!1,RX(e)))}var e=a,g;g=(new wk).Bk($g(a.Ua));a.gc.uc(g).then(function(a){a=a.uc();var g=a.Um();a&&(e.Ua=a);a="ADMIN"===g;var g="OWNER"===g,l=e.Ua.ie(),m=e.Ua===hk;!a&&!g||l||m?c():P.all([e.X.ia(e.Ua.ia()),b()]).spread(d).catch(c)}).catch(c)}f.I5=function(){this.Rh=!1;this.lA=!0;this.view.Pg(!1);this.view.Dt(!0)};
f.JG=function(a){this.removeItem(a);this.trigger("trash",a.u())};f.N6=function(a){var b=JX(this,a);b&&(b.model=b.model.Dy({id:a.Mb().u()}),b.yk(!1),CX(b,!0))};function NX(a,b){var c=$(b.map(function(a){return a.el}));a.Wh=a.Wh.concat(b);rX("uploadsItemAppearing",c,2200);a.ka.push(c);b.forEach(function(a){a.show()})}f.remove=function(){this.Wh.forEach(function(a){a.remove()});this.Yq&&this.Yq.remove();this.stopListening()};
f.removeItem=function(a){a=JX(this,a);a.remove();this.Wh.splice(this.Wh.indexOf(a),1);this.view.Ct(1>this.Wh.length)};f.render=function(){this.view.render();this.view.$el.prepend(this.ka.$el);this.view.Pg(!0);return this};f.k8=function(a){a=(new AX({Na:this.Na,model:a,Sv:!0,mi:this.mi,J:this.J,root:$(window)})).render();this.listenTo(a,{infoClick:this.XW,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
f.mY=function(a){var b=(new AX({Na:this.Na,model:sk({id:"",thumbnail:{height:a.qb.height,url:a.cn(),width:a.qb.width},type:"MEDIA"}),Sv:!1,mi:!0,J:this.J,root:$(window),te:a})).render();this.listenTo(b,{infoClick:this.XW,pickedUp:this.trigger.bind(this,"pickedUp")});this.listenTo(a,"start",this.N6);return b};function LX(a,b){if(b=JX(a,b))b.Hx(!1),a.view.Ct(!1)}f.a$=function(){function a(a){a.yk(!0)}var b=KX(this);!this.aA()||1>b.length||(b=b.map(this.mY,this),b.forEach(a),SX(this,b),this.view.Ct(!1))};
f.aA=function(){return this.FU};function SX(a,b){var c=$(b.map(function(a){return a.el}));a.Wh=b.concat(a.Wh);rX("uploadsItemUploading",c,600);a.ka.unshift(c);b.forEach(function(a){a.show()})}f.vI=function(a){var b=this.Ua===ik;this.Po&&(b?0<a.length&&this.Na.Py(this.Ua,"button").upload(a):this.Na.vI(this.Ua,a,"button"))};
f.Y8=function(a,b){function c(a,b){"UNSHARED"===a?RX(d)&&(d.yv||window.confirm(d.J.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation")))&&(TX(d,d.D.u(),!1),d.view.yk(!d.yv),d.trigger("disabled",!d.yv)):(TX(d,a,b),d.view.yk(!1),d.trigger("disabled",!1))}var d=this,e;this.D&&(e=d.yv?this.J.format("objectPanelUploadsPanelSharePopOverPrivateLabel"):Sd(this.J,this.Kn.rb()||this.Kn.eg()),e=[{id:"UNSHARED",XQ:!RX(this),title:e},{id:this.D.u(),XQ:RX(this),title:this.D.rb()||this.J.format("objectPanelUploadsPanelSharePopOverPublicLabel")}],
this.Yq&&(d.stopListening(this.Yq),this.Yq.remove()),this.Yq=new UX({title:this.J.format("objectPanelUploadsPanelSharePopOverTitle")}),VX(this.Yq,e),this.Yq.gx(a,b),this.listenTo(this.Yq,"change",c))};function TX(a,b,c){function d(){QX(e.view,!1,RX(e))}var e=a;c=c?"EDITOR":void 0;QX(e.view,!0);b=pk(a.Ua,b,c);a.gc.jR(b).then(function(a){a&&a.uc()&&a.uc().u()===e.Ua.u()?(e.Ua=a.uc(),QX(e.view,!1,RX(e))):d()}).catch(d)}
function RX(a){return 0<(a.Ua.$f()&&a.Ua.$f().getEntries()||[]).filter(function(b){return a.D&&b.ia()===a.D.u()&&"EDITOR"===b.Um()}).length}f.S9=function(a){function b(){return c().then(function(a){return IE(g.ac,a.u(),a.Ja().getVersion())})}function c(){return P.try(function(){return a.Mb()||CE(g.ac,a.u(),aF(new gD))})}function d(b){b.isFulfilled()?g.JG(a):LX(g,a)}var e=JX(this,a),g=this;e&&(this.Mh(),P.settle([b(),e.Hx(!0)]).get(0).then(d))};
f.Y1=function(a){var b=this;(function(){var c=a.u(),d=new gD;d.includeImportFileUrl=!0;d=aF(d);return CE(b.ac,c,d)})().then(function(a){a=a.Ja().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function IX(){}IX=Backbone.View.extend({className:"uploadsFolderContent"});f=IX.prototype;f.events=function(){return{"change .uploadsFolderContentFileInput":this.r5,"click .uploadsFolderContentUploadButton":this.K6,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.t6}};
f.initialize=function(a){this.Z_="image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf";this.Ji=new KV;this.Po=a.Po;this.disabled=a.disabled;this.J=a.J;this.cl=a.cl||this.J.format("objectPanelUploadsPanelDragIn");this.model=a.model;this.Ff=a.Ff};
f.render=function(){var a=this;this.Ff&&this.$el.html(WX({accept:this.Z_}).toString());this.$el.toggleClass("uploadsFolderContentChristmas",function(){var b=a.model.getName()?a.model.getName().toLowerCase():"";return-1<["christmas","xmas","x-mas"].indexOf(b)}());this.$el.append(this.Ji.render().$el);this.yk(this.disabled);return this};f.r5=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};
f.t6=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};f.K6=function(){this.$(".uploadsFolderContentFileInput").click()};f.Pg=function(a){a?this.Ji.show():this.Ji.hide()};f.yk=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};
f.Ct=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a&&this.Ff?1>b.length&&this.$el.append(XX({cl:this.cl}).toString()):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};f.Dt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(YX({message:this.J.format("objectPanelUploadsPanelFolderContentLoadingError")}).toString()):b.remove()};
function PX(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e').toString()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function QX(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)};function WX(a){soy.asserts.assertType(goog.isString(a.accept)||a.accept instanceof goog.soy.data.SanitizedContent,"accept",a.accept,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"'+soy.$$escapeHtmlAttribute(a.accept)+'" multiple\x3e\x3cdiv class\x3d"uploadsFolderContentDropOverlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderDropIcon"\x3e\x3c/div\x3e')}
function YX(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e'+soy.$$escapeHtml(a.message)+"\x3c/p\x3e")}
function XX(a){soy.asserts.assertType(goog.isString(a.cl)||a.cl instanceof goog.soy.data.SanitizedContent,"emptyPrompt",a.cl,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e'+soy.$$escapeHtml(a.cl)+"\x3c/p\x3e")};function ZX(){}ZX=Backbone.View.extend({className:"uploadsFolder"});f=ZX.prototype;f.close=function(){this.$el.removeClass("uploadsFolderOpen")};
f.events=function(){return{"blur .uploadsFolderName \x3e input":this.Y5,"click .uploadsFolderName \x3e span":this.X5,"click .uploadsFolderThumbnail":this.cX,dragenter:this.i5,dragleave:this.j5,dragstart:this.Ks,drop:this.En,"mouseover .uploadsFolderThumbnail":this.J6,"mouseout .uploadsFolderThumbnail":this.I6,"focus .uploadsFolderName \x3e input":this.Z5,"keypress .uploadsFolderName \x3e input":this.a6}};
f.initialize=function(a){this.Ei=a.Ei;this.ky=a.ky;this.Qb=a.Qb;this.disabled=!1;this.model=a.model;this.Uv=!1;this.J=a.J;this.SG=-1;this.kY=!1;this.mi=a.mi;this.G=a.G};function $X(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function aY(a){function b(){return k.model.u().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.u(),e=!!a.model.je(),g=!!a.model.ie(),h="LOGOS"===a.model.ie(),k=a;return e?"":h&&a.Qb?"#"+a.Qb:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function bY(a,b,c){return a.Ei&&$X(a,b,c)&&!a.Xp()}f.Xp=function(){return this.$el.hasClass("uploadsFolderOpen")};f.i5=function(a){this.Ei&&(this.$el.addClass("uploadsFolderDropping"),this.Xp()||(this.G.clearTimeout(this.SG),this.SG=this.G.setTimeout(this.cX.bind(this,a),1E3)))};f.j5=function(a){$X(this,a.originalEvent.clientX,a.originalEvent.clientY)||(this.G.clearTimeout(this.SG),this.SG=-1,this.$el.removeClass("uploadsFolderDropping"))};f.Ks=function(a){a.preventDefault();return!1};
f.En=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.Ei&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};f.X5=function(){this.disabled||(this.ky?cY(this,!0):this.trigger("click",this.model))};f.Y5=function(){this.Uv&&(this.Uv=!1,dY(this))};f.Z5=function(){this.Uv=!0};f.a6=function(a){13===a.which&&dY(this)};
f.cX=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};f.J6=function(){this.$el.addClass("uploadsFolderHover")};f.I6=function(){this.$el.removeClass("uploadsFolderHover")};f.open=function(){this.$el.addClass("uploadsFolderOpen")};
f.render=function(){var a=!this.ky||this.disabled,b=new AI(this.model,this.J),c=this.model.ie();this.Uv=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.Ei);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",b.rb());c?this.$el.attr("data-system-folder",c):this.$el.removeAttr("data-system-folder");this.$el.html(this.template(this.hi()));this.IB();cY(this,this.kY);return this};
f.IB=function(){function a(){c.off("load",a);e.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,e=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=e.model.je();return a&&a.o()>a.j()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",aY(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.je());d="LOGOS"===this.model.ie();c=b.children("img");c.on("load",a);LC(MC,c,function(){var a=e.model.je();return a?a.ma():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};f.hi=function(){return _.extend({},this.model,{name:(new AI(this.model,this.J)).rb(),shared:this.model.shared,showControls:this.mi})};f.show=function(){this.$el.addClass("uploadsFolderLoading")};f.ES=function(){var a=this;this.$el.addClass("uploadsFolderZoomIn");this.G.setTimeout(function(){a.$el.removeClass("uploadsFolderTransparent");a.$el.removeClass("uploadsFolderZoomIn")},500)};f.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
f.yk=function(a){this.disabled=a};f.Hx=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(R.Dc).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function cY(a,b){a.Uv=!1;a.kY=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(b=a.$(".uploadsFolderName \x3e input"),b.val(a.model.getName()),b.select(),a.Uv=!0)}function eY(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");a.G.setTimeout(function(){b.css("background-color",aY(a))},R.Dc)}function dY(a){var b=Rd(a.J),b=a.$(".uploadsFolderName \x3e input").val().trim()||b;a.trigger("rename",a.model,b)};function fY(a){this.Qb=a.Qb;this.Na=a.Na;this.Z=null;this.ZK=this.HE=void 0;this.gl=a.gl;this.kz=a.kz;this.dl=a.dl;this.W=a.W;this.Rh=!1;this.gc=a.gc;this.xi=a.xi;this.Wi=[];this.lA=!1;this.ka=new mX;this.listenTo(this.ka,"redraw",this.O5);this.ac=a.ac;this.i=a.i;this.ON=!0;this.PG=this.PG.bind(this);this.X=a.X;this.Ht=[];this.Sf=a.Sf;this.la=a.la;this.wE=[];this.G=a.G;this.Kh=a.Kh;this.Vc=a.Vc;this.view=new gY({J:kc(this.i),so:this.W.H.get(bg)&&!this.dl,root:a.root});this.listenTo(this.view,{close:this.$v,
drop:this.En,drag:this.h5,dragScroll:this.k5,folderUpgradeCta:this.y5});this.dl&&(a=new hY({i:this.i}),this.listenTo(a,"click",this.c6),this.qq=a)}function iY(a,b,c){return a.Wi.filter(function(a){return!jY(this,a.model)&&bY(a,b,c)}.bind(a))[0]}f=fY.prototype;f.y5=function(){var a=this.Vc;a.l.wa(pm("object_panel_uploads","top","photo_folders"));Oo(a,kY)};f.$v=function(){this.Mh()};
f.h5=function(a,b){function c(){e&&d.view.Qr.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d=this;lY(this,a,b);var e=iY(this,a,b);e!==this.HE&&(this.HE&&this.view.Qr.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.HE=e,this.ZK&&clearTimeout(this.ZK),this.ZK=setTimeout(c,300))};f.k5=function(a){this.IO&&this.trigger("dragScroll",a)};
f.En=function(a,b){function c(){mY(e.view,"uploadsFolderItemCloneDropping");d.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){d.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,e=this,g=this.IO,h=this.CX,k=this.BX;lY(this,-1,-1);this.IO=this.BX=this.CX=this.HE=void 0;a=(d=iY(this,a,b))&&d.model;g&&a&&a!==k&&!jY(e,a)?(c(),h.moveItem(g,a,!0)):e.wq||mY(this.view,"uploadsFolderItemCloneHidden")};f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Mh=function(){var a;this.CV=void 0;this.hg&&(WV(this.ka,this.hg.$el),this.p3=this.hg.Ml,this.hg=void 0,nY(this)||this.sx());this.wq&&(a=this.uc(this.wq),this.Tu.remove(),this.Tu=void 0,oY(this,a).close(),this.wq=void 0,pY(this.view,!1))};
f.zT=function(a){var b=ZX,c=a.va()===this.la,d=!!a.ie();a=new b({Ei:!0,ky:c&&!d,Qb:this.Qb,model:a,J:kc(this.i),mi:!a.ie(),G:this.G});this.listenTo(a,{click:this.eO,drop:this.pR,infoClick:this.v5,rename:this.j8});a.render().show();return a};f.fK=function(a){var b;b=a.getName();b=(new Bk).Lt(b);b.type="MEDIA";b=b.Nt(this.la);this.gc.fK(b).then(this.t5.bind(this,a)).catch(this.u5.bind(this,a))};
f.gK=function(a){function b(b,d,h,k){return new HX({Na:c.Na,W:c.W,Ua:a,jr:c.Ap().filter(function(a){return qY(c,a)}),gc:c.gc,ac:c.ac,J:kc(c.i),X:c.X,Ht:c.Ht,Sf:c.Sf,la:c.la,disabled:jY(c,a),Kh:c.Kh,iF:b,Po:d,mi:h,cl:k})}var c=this,d;switch(a){case hk:d=new lX({Na:c.Na,gl:c.gl,J:kc(c.i),Ff:c.W.H.get(ng)});break;case ik:d=b(new EX({Na:this.Na,ac:this.ac}),!0,!0);this.listenTo(d,{trash:c.JG,pickedUp:c.YW.bind(c,d,a),disabled:c.UW.bind(c,a)});break;case jk:d=b(new FX({Na:this.Na,xi:this.xi,DR:"/media/unlimited_use_purchases"}),
!1,!1,kc(this.i).format("objectPanelUploadsPanelPurchasedUnlimitedUseFolderEmpty"));break;default:d=b(new GX({Na:this.Na,gc:this.gc,Ua:a}),!0,!0),this.listenTo(d,{trash:c.JG,pickedUp:c.YW.bind(c,d,a),disabled:c.UW.bind(c,a)}),c.kz&&OX(d)}d.fetch();d.render();return d};
f.fetch=function(a){if(!this.Rh&&!this.lA&&this.ON)if(this.dl){var b=zk((new yk).zi(this.Z),["MEDIA"]);b.includeSystemFolders=!0;b.includeThumbnails=!0;a=b.Nt(this.la).sg(a||25);this.Rh=!0;this.view.Pg(!0);this.gc.IU(a).bind(this).then(this.A5).catch(this.B5)}else this.uc(ik.u())||rY(this,ik),this.uc(jk.u())||rY(this,jk),this.uc(hk.u())||rY(this,hk),this.ON=!1,this.view.Pg(!1),this.trigger("fetch")};f.wz=function(a){a=this.ka.tL(a);isFinite(a)?this.fetch(a):this.fetch(25)};
f.uc=function(a){return this.Ap().filter(function(b){return b.u()===a})[0]};f.Ap=function(){return this.Wi.map(function(a){return a.model})};f.ql=function(){return this.ka.ql()};f.ie=function(a){return this.Ap().filter(function(b){return(b=b.ie())&&b===a})[0]};
function nY(a){function b(){var a=oY(h,hk);return!a||g.eq(2).is(a.$el)||g.eq(3).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=h.ie("UNFOLDERED"),a=a&&oY(h,a);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function e(){var a=h.ie("LOGOS"),a=a&&oY(h,a);return!a||g.eq(1).is(a.$el)}var g=a.ka.yf(),h=a;return function(){var a=h.ka.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&
b()&&(!h.qq||g.first().is(h.qq.$el))&&d()&&e()}f.getElement=function(){return this.view.$el};function oY(a,b){return a.Wi.filter(function(a){return a.model===b})[0]}function sY(a){return a.wq?a.uc(a.wq):void 0}function jY(a,b){return _.contains(a.wE,b.u())}function qY(a,b){var c=-1!==_.values(kk).map(function(a){return a.u()}).indexOf(b.u());return!jY(a,b)&&!c}
f.eO=function(a){a.u()===this.wq?this.Mh():(this.Mh(),oY(this,a).open(),pY(this.view,!0),this.Tu=this.gK(a),this.wq=a.u(),tY(this,{zr:!1,content:this.Tu.getElement(),Ua:a}),this.trigger("open"),this.Kh(oY(this,a).$el))};f.t5=function(a,b){b=b.uc();a=oY(this,a);a.model=b;a.yk(!1);a.render();eY(a)};f.u5=function(a,b){a=w(oY(this,a));window.alert(this.WU(b));this.stopListening(a);this.Wi.splice(this.Wi.indexOf(a),1);this.ka.remove(a.$el);this.sx()};
f.WU=function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error?kc(this.i).format("objectPanelUploadsPanelCreateFolderQuotaExceededError"):kc(this.i).format("objectPanelUploadsPanelCreateFolderError")};f.v5=function(a){var b=a.u()===this.CV;this.Mh();b||(this.CV=a.u(),b=(new sX({Ua:a,i:this.i,la:this.la,Ff:this.W.H.get(ng)})).render(),b.on("trash",this.R9.bind(this,a)),tY(this,{zr:!0,content:b.$el,Ua:a}),this.Kh(this.hg.getContent(),!0))};
f.x5=function(a){var b;b=this.uc(a.u());b=oY(this,b);b.model=a;b.render()};f.A5=function(a){var b=a.Ap();b.length&&uY(this,b);this.uc(hk.u())||rY(this,hk);this.uc(jk.u())||rY(this,jk);this.dl&&this.qq&&this.ka.push(this.qq.$el);this.Z=a.Fb();this.Rh=!1;this.ON=!!this.Z;this.sx();this.view.Pg(!1);this.trigger("fetch")};f.B5=function(){this.Rh=!1;this.lA=!0;this.view.Pg(!1);this.view.Dt(!0)};f.UW=function(a,b){b?this.wE.push(a.u()):this.wE=_.without(this.wE,a.u())};f.JG=function(a){this.Ht.push(a)};
f.YW=function(a,b,c,d){this.CX=a;this.BX=b;this.IO=c;this.view.Qr=d};f.O5=function(){this.Mh();this.sx()};f.c6=function(){var a=this,b;b=function(){var b;b=bk({name:Rd(kc(a.i)),user:a.la});b=a.zT(b);b.$el.addClass("uploadsFolderTransparent");a.Wi.push(b);a.ka.push(b.$el);b.yk(!0);cY(b,!0);return b}();this.Kh(b.$el).then(function(){b.ES()});U&&U.track("new_upload_folder")};f.PG=function(){this.ka.$a()};f.gX=function(){var a,b;b=(a=this.dl?this.ie("UNFOLDERED"):ik)&&a.u()===this.wq;a&&!b&&this.eO(a)};
function rY(a,b){b=new ZX({Ei:!1,ky:!1,Qb:a.Qb,model:b,J:kc(a.i),mi:!1,G:a.G});a.listenTo(b,"click",a.eO);b.render().show();a.Wi.push(b);a.ka.push(b.$el)}function uY(a,b){b=b.map(a.zT,a);a.Wi=a.Wi.concat(b);b=$(b.map(function(a){return a.el}));a.ka.push(b)}f.remove=function(){$(window).off("resize",this.PG);this.stopListening();this.view.remove()};
f.j8=function(a,b){var c,d;c=a.Dy({name:b});d=oY(this,a);d.model=c;d.render();cY(d,!1);a.u()?(b=(new mk).Bk($g(a)).Lt(b),this.gc.jR(b).catch(this.x5.bind(this,a))):this.fK(c)};f.render=function(){this.qq&&this.qq.render();this.view.render();this.view.$el.prepend(this.ka.$el);var a=this.view;a.so&&a.$el.prepend(a.i$({folderUpgradePrompt:a.J.format("objectPanelUploadsPanelFolderUpgradePrompt"),learnMoreButtonLabel:a.J.format("objectPanelUploadsPanelLearnMoreButtonLabel")}));return this};
function lY(a,b,c){a.Wi.forEach(function(a){jY(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",bY(a,b,c))}.bind(a))}f.show=function(){$(window).on("resize",this.PG)};function tY(a,b){var c=b.Ua===hk,d=oY(a,b.Ua).$el;a.hg=(new MX({Ei:!c,zr:b.zr,content:b.content,J:kc(a.i),Ml:a.p3,target:d})).render();a.hg.on({close:a.Mh,drop:a.pR.bind(a,b.Ua)},a);VV(a.ka,d,a.hg.$el);a.hg.show()}
f.sx=function(){function a(){var a=e.ie("LOGOS");if(a=a&&oY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}function b(){var a=oY(e,hk);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function c(){var a=oY(e,jk);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function d(){var a=e.ie("UNFOLDERED");if(a=a&&oY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}var e=this;if(this.dl&&!this.hg){var g=this.ka.yf().detach().toArray();b();c();d();a();g.splice(g.indexOf(e.qq.el),1);g.unshift(e.qq.el);this.ka.push($(g))}};
f.R9=function(a){function b(){var b=a.itemCount,d=kc(c.i);return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation",b))}var c=this,d;0<a.itemCount&&!b()||(this.Mh(),d=ok((new mk).Bk($g(a))),P.settle([this.gc.jR(d),oY(c,a).Hx(!0).bind(c).then(c.sx)]).then(function(b){b[0].isFulfilled()?(b=oY(this,a),b.remove(),this.stopListening(b),this.Wi.splice(this.Wi.indexOf(b),1)):(oY(this,a).Hx(!1),this.sx())}.bind(this)))};
f.pR=function(a,b,c){this.W.H.get(ng)&&(qY(this,a)?this.Na.vI(a,b,c||"drop"):jY(this,a)||0<b.length&&this.Na.Py(a,c||"drop").upload(b))};function gY(){}gY=Backbone.View.extend({className:"uploadsFolders"});gY.prototype.initialize=function(a){this.Ji=new KV;this.Qr=$();this.J=a.J;this.root=a.root||$(window);this.so=a.so};gY.prototype.events=function(){return{mousedown:this.Ls,"click .folderUpgradeCta .buttonLearnMore":this.M4}};gY.prototype.M4=function(){this.trigger("folderUpgradeCta")};gY.E_=50;gY.T_=100;gY.U_=5;f=gY.prototype;
f.Ls=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<gY.E_?(e||d.trigger("close"),e=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>gY.U_?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c;c=gY.T_;
b=new V(a,b,0,0);a=d.$el.parent(".scrollPane").get(0).getBoundingClientRect();var e=dh(a);a=b.w()-(e.w()+c);c=b.ua()-(e.ua()-c);return 0>a?Math.max(Math.floor(a/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,e=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return a.which==R.Eh||!(c||b)}()||b()};f.render=function(){this.Ji.render();this.$el.append(this.Ji.$el);return this};
function mY(a,b){var c;c=a.Qr.clone();c.removeClass().addClass(b);b=a.Qr.get(0).getBoundingClientRect();c.css("top",b.top+"px").css("left",b.left+"px").css("width",b.width+"px").css("height",b.height+"px");$("body").append(c);a.Qr.remove();a.Qr=$();setTimeout(function(){c.remove()},500)}f.Pg=function(a){a?this.Ji.show():this.Ji.hide()};f.Dt=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.VE({message:this.J.format("objectPanelUploadsPanelFoldersFetchError")})):b.remove()};
function pY(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}f.VE=_.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.i$=_.template('\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');function MX(){}MX=Backbone.View.extend({className:"inlineContent"});MX.N_=14.14;f=MX.prototype;f.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.En}};f.initialize=function(a){this.Ei=a.Ei;this.GS=!1;this.zr=!!a.zr;this.content=a.content;this.J=a.J;this.Ml=a.Ml;this.target=a.target};f.getContent=function(){return this.content};
f.En=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.Ei&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function vY(a){function b(){var a=MX.N_/2,b=d.target.offset().left+d.target.outerWidth()/2,e=d.$el.offset().left;c(b-e-a)}function c(a){d.Ml=a;e.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,e;e=a.$(".inlineContentPointer");e.addClass("doNotTransition");void 0!==a.Ml?c(a.Ml):b();window.setTimeout(function(){e.removeClass("doNotTransition");b()},R.Dc)}
f.render=function(){this.$el.html(this.template(this.hi()));this.$el.toggleClass("inlineContentAppearing",!this.GS);this.$(".inlineContentContent").append(this.content);return this};f.hi=function(){return{closeButton:this.zr,closeTitle:this.J.format("objectPanelUploadsPanelInlineContentCloseTitle")}};f.show=function(){this.GS=!0;vY(this);wY(this)};
function wY(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(R.Dc).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(R.Dc).then(function(){a.$el.removeClass("doNotTransition")})}f.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function mX(){SV.call(this,{Vg:function(a){return Math.floor(a/90)},um:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.j0,beforeMerge:this.p0,beforeSplit:this.q0})}mX.prototype=Object.create(SV.prototype);mX.prototype.j0=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",xY(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},R.Dc)};
mX.prototype.q0=function(a){yY(a.children())};function xY(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function yY(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
mX.prototype.p0=function(a,b){var c;c=b.children();c.addClass("doNotTransition");yY(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-xY(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},R.Dc)};function hY(){}hY=Backbone.View.extend({className:"newUploadsFolder"});f=hY.prototype;f.events=function(){return{click:this.trigger.bind(this,"click")}};f.initialize=function(a){this.i=a.i};f.ES=function(){this.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(this),450)};f.render=function(){var a=kc(this.i);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};f.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');function tM(a){this.Na=a.Na;this.Eu=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Vc=a.Vc;this.Rc=new fY({Qb:a.Qb,Na:a.Na,kz:a.kz,dl:a.dl,gl:a.gl,W:a.W,gc:a.gc,xi:a.xi,ac:a.ac,i:a.i,X:a.X,Sf:a.Sf,la:a.la,G:a.G,Kh:this.Kh.bind(this),Vc:this.Vc,gK:a.gK});this.Rc.on({fetch:this.KJ,open:this.w5,dragScroll:this.z5},this);this.Rc.once("fetch",this.Rc.gX,this.Rc);this.dW=-1;a.W.H.get(ng)&&this.listenTo(a.c2,{dragenter:this.l5,dragleave:this.m5,drop:this.n5})}f=tM.prototype;
f.listenTo=Backbone.Events.listenTo;f.z5=function(a){a!==this.Eu?(this.Eu=a,this.CH&&clearInterval(this.CH),0!==this.Eu&&(this.CH=setInterval(this.v7.bind(this),10))):0===a&&this.CH&&clearInterval(this.CH)};
f.Kh=function(a,b){var c=this.element.height(),d=YV(this.jt,a,{KM:!0}),e=c+d-a.outerHeight(!0);a=c/3;var g=null;this.element.find(".closing-transition").each(function(a,b){a=parseInt(b.style.marginTop,10)-10;if(YV(this.jt,$(b),{KM:!0})<d&&0<a)return e-=a,d-=a,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&e>a||0>e)g=this.element.scrollTop()+e-a;return new P(function(a){null!==g?this.element.animate({scrollTop:g},200,"linear",a):a()}.bind(this))};
f.KJ=function(){var a=this.Rc.Tu,b=a&&a.ql();a&&a.rs()&&b&&800>YV(this.jt,b)&&0===this.Eu?this.Rc.Tu.wz(800):(a=this.Rc.ql())&&800>YV(this.jt,a)&&this.Rc.wz(800)};f.getElement=function(){return this.element};f.l5=function(){var a=sY(this.Rc);a&&a!==hk&&a!==jk||this.Rc.gX();this.element.addClass("uploadsPanelDropTarget")};f.m5=function(){zY(this)};function zY(a){a.element.removeClass("uploadsPanelDropTarget")}f.w5=function(){this.Rc.Tu.on("fetch",this.KJ,this)};
f.q6=function(){var a=this.jt.rp.scrollTop();a>this.dW&&this.KJ();this.dW=a};f.v7=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.Eu})()||this.element.scrollTop(a+this.Eu)};f.render=function(){this.Rc.getElement().appendTo(this.element);this.Rc.render();return this};
f.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new XV(a),c.iG(),a.data("CANVA_SCROLL_TARGET",c));this.jt=c;this.jt.on("scroll",this.q6,this);this.jt.iG();this.Rc.show();this.Rc.wz(b)};f.n5=function(a){zY(this);var b=this.Rc,c=sY(b);c&&b.pR(c,a,"drop")};function BX(){}BX=Backbone.View.extend({className:"uploadProgressBar"});BX.prototype.initialize=function(){this.rh=0};BX.prototype.render=function(){this.$el.html(this.template());DX(this,this.rh);return this};function DX(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.rh=b}BX.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function vM(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.MO=this.Rn=0;this.yx=Date.now();this.sZ=0;this.Sf=a.Sf;this.mf=a.mf}f=vM.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.start=function(){this.yx=Date.now()-100;this.stopListening(this.Sf);this.listenTo(this.Sf,{create:this.dI,fail:function(a){AY(this,a,this.mf)}})};f.dI=function(){this.MO=setTimeout(this.YV.bind(this),50)};
f.YV=function(){function a(){var a=Math.random();.025>a&&(c.$el.addClass("showRubberDucky"),.005>a&&c.$el.addClass("showNautilus"),setTimeout(function(){c.$el.removeClass("showRubberDucky showNautilus")},9E3))}var b=tL(this.Sf,this.yx),c=this;clearTimeout(this.sZ);clearTimeout(this.MO);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.Rn=Math.round(.7*b+.05),BY(this),a(),this.MO=setTimeout(this.YV.bind(this),1E3))};
f.finish=function(){var a=this;this.sZ=setTimeout(function(){a.yx=Date.now()-2E3-100;a.Rn=100;BY(a);setTimeout(a.reset.bind(a),1100)},2E3)};function AY(a,b,c){var d=a.$el.find(".uploadProgressPortholeFill");d.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){d.removeClass("uploadProgressPortholeFillFailure")},650);b&&nL.show(b,c)}
function BY(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.Rn)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}f.reset=function(){this.Rn=0;this.yx=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");BY(this)};f.remove=function(){this.reset();this.stopListening(this.Sf);this.$el.remove()};function CY(a){var b=this;gc.call(this,a);a.on("click",".searchMenu__toggle",function(){return b.trigger(DY)})}t(CY,gc);function EY(){var a=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"searchMenu"\x3e\x3cdiv class\x3d"select searchMenu__toggle"\x3e\x3c/div\x3e\x3c/div\x3e').toString());return new CY(a)}var DY="SHOW_OVERLAY";
function FY(a){var b=this;gc.call(this,a);a.on("click",".searchMenu__item",function(a){return b.dO(a)});a.on("click",".searchMenu__freeFilterCta",function(){return b.trigger(GY)})}t(FY,gc);FY.prototype.dO=function(a){a=$(a.target).closest(".searchMenu__item").data("filterType");this.trigger(HY,a)};var HY="FILTER_CHANGE",GY="FREE_FILTER_CTA";function IY(a){Zy.call(this,{className:"searchMenuPopOver",content:a.content,jx:!1,position:Ep})}t(IY,Zy);IY.prototype.Ep=function(){return gX};var JY=new Kf("gd",!1),KY=new Kf("go",!1);function LY(a,b,c){var d=this;this.Sl=a.Sl;this.view=b;this.C7=c;this.Gq=this.Fq=null;this.HL=a.HL;this.TB="NONE";this.QD=a.QD;this.anchor=a.anchor;this.l=a.l;this.view.on(DY,function(){MY(d);d.Fq.li(d.anchor)})}
function nM(a){var b=EY();return{Ab:NY(a,b,function(b){var d=[],e;d.push({type:"NONE",label:a.Sl.format("searchMenuMostRelevant"),sf:!1});a.H.get(JY)?d.push({type:"FREE",label:a.Sl.fh(),sf:!0}):a.H.get(KY)&&(e=a.Sl.Qa("searchMenuFreeFilterCtaHtml",3E5),d.push({type:"FREE_CTA",label:a.Sl.fh(),sf:!0,disabled:!0}));var g=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"selectedFilterType",b,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertArray(d,"expected parameter 'filters' of type list\x3c[crownTag: bool|null, label: string, selected: bool|null, type: string]\x3e.");
soy.asserts.assertType(null==e||e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"footerCta",e,"?soydata.SanitizedHtml|string|undefined");for(var h='\x3cdiv class\x3d"searchMenu__overlay"\x3e\x3cdiv class\x3d"selectMenu"\x3e',k=d.length,l=0;l<k;l++){var m=d[l],n,p=m.type==b,q=m.sf;n=m.label;m=m.type;soy.asserts.assertType(null==p||goog.isBoolean(p)||1===p||0===p,"selected",p,"boolean|null|undefined");soy.asserts.assertType(null==q||goog.isBoolean(q)||1===
q||0===q,"crownTag",q,"boolean|null|undefined");soy.asserts.assertType(goog.isString(n)||n instanceof goog.soy.data.SanitizedContent,"label",n,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(m)||m instanceof goog.soy.data.SanitizedContent,"type",m,"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item searchMenu__item'+(p?" searchMenu__item--selected":"")+'" data-filter-type\x3d"'+soy.$$escapeHtmlAttribute(m)+
'"\x3e'+soy.$$escapeHtml(n)+(q?yp({ya:"searchMenu__crown",color:"#3f4652"}):"")+"\x3c/div\x3e");h+=n}h+=(e?'\x3cdiv class\x3d"searchMenu__footerCta"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e";b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h);g=g(b.toString());g=new FY(g);b=new IY({content:g.$el});return{Gq:g,Fq:b}}),view:b}}function NY(a,b,c){return new LY(a,b,c)}
function OY(a){return X(X(X(X(new fm("filter_changed"),"section","editor"),"subsection","object_panel"),"location","search_menu"),"type",a)}LY.prototype.dO=function(a){if("FREE_CTA"===a)this.Fq.cancel(),this.QD();else{this.TB=a;var b=this.Gq,c=this.TB;b.$el.find(".searchMenu__item--selected").removeClass("searchMenu__item--selected");b.$el.find('.searchMenu__item[data-filter-type\x3d"'+c+'"]').addClass("searchMenu__item--selected");this.Fq.cancel();this.HL();this.l.wa(OY(a.toString()))}};
function MY(a){var b=a.C7(a.TB),c=b.Fq,d=b.Gq;a.Gq=d;a.Fq=c;a.Gq.on(HY,function(b){return a.dO(b)});a.Gq.on(GY,function(){a.Fq.cancel();a.QD()});a.Fq.once("remove",function(){d.remove();a.Gq===d&&(a.Gq=null)})};function qM(){}qM=Backbone.View.extend({});qM.prototype.events=function(){return{"click .searchFilterMediaTypeOption__link":this.W2}};qM.prototype.initialize=function(a){var b=this,c=new qP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new jM(new yP);c.Ek(d);this.cG=new NW({model:c,el:this.$(".layer"),i:a.i});c=new GW({model:d,el:this.$(".browseCategories"),i:a.i});this.cG.Vd.push(c);!a.el&&this.render()};qM.prototype.Dp=function(){return this.$el.find(".searchFilterMediaTypeOption--selected").data("mediaTypes")};
qM.prototype.W2=function(a){this.$el.find(".searchFilterMediaTypeOption").removeClass("searchFilterMediaTypeOption--selected");$(a.target).closest(".searchFilterMediaTypeOption").addClass("searchFilterMediaTypeOption--selected");this.trigger("searchFilterMediaType")};function sM(){}sM=Backbone.View.extend({});
sM.prototype.initialize=function(a){var b=this,c=new qP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new jM(new yP);c.Ek(d);this.cG=new NW({model:c,el:this.$(".layer"),i:a.i});c=new GW({model:d,el:this.$(".browseCategories"),i:a.i});this.cG.Vd.push(c);this.cG.on("folder:expand",function(a){b.trigger("folder:expand",a)});!a.el&&this.render();a.e9&&(c=$('\x3cspan class\x3d"badgeContainer"\x3e'),d=$("\x3cspan\x3e").addClass("newFeatureLabel").text(rd(a.i).Dn()),c.append(d),
this.$("a[data-query\x3dcharts]").append(c));a=PY({label:Zd(kc(a.i))});a=$('\x3cspan class\x3d"badgeContainer"\x3e').append($(a.toString()));this.$("a[data-crowntag\x3dtrue]").append(a)};function QY(a){var b=this;this.Ye=a.Ye||$(document);this.Qe=a.Qe||$("body");this.MF=function(){return b.hide()};this.element=null;this.nx=!1}f=QY.prototype;f.show=function(){this.element||(this.element=$("\x3cdiv\x3e"),this.element.css("height","100%").css("left","0").css("position","fixed").css("top","0").css("width","100%").css("z-index","1000").css("opacity","0"));this.element.on("click",this.MF);this.Qe.append(this.element);this.Ye.on("keydown",this.MF);this.nx=!0};
f.hide=function(){this.nx&&(this.nx=!1,this.element.off("click",this.MF),this.element.remove(),this.trigger("close"),this.Ye.off("keydown",this.MF));return!1};f.remove=function(){this.hide();this.element&&this.element.remove()};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var PM="contextTipRoyaltyFreeFolder";function RY(a){var b=this;this.Ye=a.Ye;this.Qe=a.Qe;this.Ky=a.Ky;this.bd=a.bd;this.fY=function(){return b.remove()};this.width=a.width;this.style=a.style;this.xn=new QY({Ye:this.Ye,Qe:this.Qe});this.xn.on("close",this.fY);this.element=null}
function SY(a){switch(a.key){case PM:return new RY({Ye:a.Ye,Qe:a.Qe,Ky:a.i.format("unlimitedUseFolderContextTipContentText"),bd:a.i.format("unlimitedUseFolderContextTipButtonText"),width:215,style:"contextTipOnboarding"});case "contextTipRoyaltyFreePaymentOption":return new RY({Ye:a.Ye,Qe:a.Qe,Ky:a.i.format("royaltyFreePaymentOptionContextTipContentText"),bd:a.i.format("royaltyFreePaymentOptionContextTipButtonText"),width:215,style:"contextTipOnboarding"});default:throw Error('Unknown ContextTipKey "'+
a.key+'" when creating ContextTip');}}f=RY.prototype;
f.gx=function(a,b,c){c=void 0===c?!0:c;var d=this,e=$('\x3cspan class\x3d"contextTipContent"\x3e').text(this.Ky),g=$('\x3cbutton class\x3d"button buttonBlock contextTipButton"\x3e').text(this.bd),h=this.createElement();g.on("click",function(){return d.remove()});this.xn.show();h.empty().append(e).append(g).appendTo(this.Qe).css("width",this.width).css("left",a).css("top",c?b-h.height()/2:b).removeClass("contextTipOff").addClass("contextTipOn");return new P(function(a){return d.on("remove",a)})};
f.remove=function(){var a=this;this.xn.remove();this.xn.off("close",this.fY);if(this.element)this.element.removeClass("contextTipOn").addClass("contextTipOff").on("animationend",function(){return a.element.remove()});this.trigger("remove")};f.createElement=function(){this.element||(this.element=$('\x3cdiv class\x3d"contextTip"\x3e'),this.element.addClass(this.style));return this.element};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function TY(a){this.X=a.X;this.i=a.i;this.Mk=a.Mk;this.aE=a.aE;this.root=a.root;this.WD=null;this.It={};this.TO=new Map}TY.prototype.start=function(){xw(this.X).bind(this).tap(this.jZ).then(this.VY);return this};function OM(a,b,c){-1!==a.Mk.indexOf(b)&&a.TO.set(b,c)}function UY(a,b){return-1!==a.Mk.indexOf(b)&&!1===a.It[b]?VY(a,b):P.resolve()}function WY(a){var b=PM;XY(a,b).then(function(){return UY(a,b)})}
function XY(a,b){function c(){return!0!==this.It[b]?(this.It[b]=!1,yw(this.X,b,!1)):P.resolve()}return a.It.hasOwnProperty(b)?c.call(a):xw(a.X).bind(a).tap(a.jZ).then(c)}TY.prototype.VY=function(){var a=this,b=YY(this);this.WD&&this.WD.remove();b&&VY(this,b).then(function(){return a.VY()})};function YY(a){for(var b=0;b!==a.Mk.length;b++)if(!1===a.It[a.Mk[b]])return a.Mk[b];return null}TY.prototype.jZ=function(a){this.It=a};
function VY(a,b){var c=a.Mk.indexOf(b);if(0<=c){a.WD=a.aE(b);var d=ZY(a,b);if(d)return $Y(a,b).then(function(){return a.WD.gx(d.x,d.y)});a.Mk.splice(c,1)}return P.resolve()}function $Y(a,b){a.It[b]=!0;return yw(a.X,b,!0)}function ZY(a,b){return a.TO.has(b)&&(a=a.TO.get(b))?a():null};function UX(a){this.Ye=a.Ye||$(document);this.items=[];this.Qe=a.Qe||$("body");this.title=a.title;this.view=this.mK();this.xn=new QY({Ye:this.Ye,Qe:this.Qe});this.xn.on("close",this.remove.bind(this))}f=UX.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.mK=function(){var a=new aZ;a.on("toggle",this.Qf.bind(this));return a};f.remove=function(){var a=this.view;this.xn.hide();a.hide();setTimeout(function(){a.remove()},300)};
function VX(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}f.gx=function(a,b){this.xn.hide();this.Qe.append(this.view.getElement());this.xn.show();this.view.gx(a,b)};f.Qf=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.remove();b&&this.trigger("change",b.id,!b.XQ)};function aZ(){}aZ=Backbone.View.extend({className:"contextMenu"});f=aZ.prototype;f.events=function(){return{"click .contextMenuItem":this.F5}};f.getElement=function(){return this.$el};f.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};f.F5=function(a){this.trigger("toggle",$(a.target).text())};
f.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.XQ&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};f.gx=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function bZ(){}bZ=Backbone.View.extend({className:"dropdownPane"});bZ.prototype.initialize=function(){this.once("show",this.render)};bZ.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function cZ(){}cZ=Zy.extend({className:"dropdownMenuPopoverContainer"});f=cZ.prototype;f.initialize=function(a){Zy.prototype.initialize.call(this,_.defaults(a,{Kf:{top:-4}}));this.Ln=[];this.Mo=null;this.on("show",this.c9);this.on("remove",this.e8)};f.render=function(){Zy.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.Ln.forEach(function(b){b.$el.appendTo(a)});return this};
f.Wt=function(a){this.listenTo(a,"show",this.R8);this.listenTo(a,"show",this.Nq);this.listenTo(a,"resize",this.Nq.bind(this,a));this.Ln.push(a)};f.Nq=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};f.em=function(){Zy.prototype.em.call(this);this.Mo&&this.Nq(this.Mo);return this};f.R8=function(a){this.Mo=a};f.c9=function(){0<this.Ln.length&&this.Ln[0].show()};
f.e8=function(){this.Mo=null;this.Ln.forEach(function(a){a.remove()});this.Ln.length=0};function DU(){}DU=cZ.extend({className:"dropdownMenuPopoverContainer brandPrimaryColorStyled"});f=DU.prototype;
f.initialize=function(a){cZ.prototype.initialize.call(this,a);this.rm=a.rm;this.document=a.document;this.W=a.W;this.oa=a.oa;this.tc=this.document.ib();this.rB=null;this.PM=this.WM=!1;this.Ui=a.Ui;this.LK=a.LK;this.Pk=a.Pk;this.i=a.i;this.ZT=this.KK=this.Cu=null;var b=w(this.tc.u()),c=w(this.tc.getName()),d=w(this.tc.qb),e=dZ,g=this.W.H.get(Tf),h=this.W.xN(),k=this.W.H.get(bg),l=this.W.H.get(Ag);a=a.ys;var m=this.i;m.yg||(m.yg=new be(m.config));this.GU=new e({Gm:c,ip:b,NK:d,mL:g,oL:h,rL:k,vQ:l,ys:a,
yg:m.yg});c=eZ;e=this.i;e.Yk||(e.Yk=new ce(e.config));this.Xk=new c({Qk:b,Yk:e.Yk});this.DY=d.Nj();this.lE=new fZ({wK:d.j(),tK:d.o(),vK:d.Nj(),Cm:wc(this.i)});d=gZ;c=this.i;c.nh||(c.nh=new de(c.config));this.Fg=new d({Qk:b,nh:c.nh});this.Wt(this.GU);this.Wt(this.Xk);this.Wt(this.lE);this.Wt(this.Fg);this.listenTo(this.GU,"show",this.b$);this.GX()};
f.events=function(){var a=cZ.prototype.events.call(this);a["click .documentSaveButton"]=this.W4;a["click .documentCopyButton"]=this.A4;a["click .documentResizePaneButton"]=this.G4;a["click .documentResizeButton"]=this.E4;a["click .customDimensionsPaneButton"]=this.C4;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.J5;a["change .customDimensionsUnits"]=this.q4;a["click .customDimensionsResizeButton"]=this.D4;a["click .magicResizePaneButton"]=this.Q4;a["change .magicResizePane input"]=
this.t4;a["click .magicResizeButton:enabled"]=this.P4;a["click .button.retry"]=this.GX;a["click .resizeUpgradeCta .buttonLearnMore"]=this.F4;a["click .createNewDesignButton"]=this.R4;return a};f.Pl=function(a,b){this.trigger("documentResizeRequested",a,b)};function hZ(a){switch(a){case "PIXELS":return"PIXELS";case "MILLIMETERS":return"MILLIMETERS";case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw Error("Unknown units "+a);}}
function iZ(a){var b=a.$(".customDimensionsUnits").prop("value"),c="PIXELS"===b?0:3,d=+parseFloat(a.$(".customDimensionsWidth").val()).toFixed(c),c=+parseFloat(a.$(".customDimensionsHeight").val()).toFixed(c),e=a.tc.qb,g=e.j(),h=e.o(),k=e.Nj(),e=!1;if(d===g&&c===h&&b==k)a.cancel();else{var g=a.$(".customDimensionsUnits").prop("value"),h=a.$(".customDimensionsWidth").val(),k=a.$(".customDimensionsHeight").val(),l=Math.floor(1E3*jZ(R.G_,g))/1E3,m=Math.ceil(1E3*jZ(R.I_,g))/1E3;null!=(g=h<m||k<m?wc(a.i).format("customDimensionsPaneDimensionUnder",
m,g):h>l||k>l?wc(a.i).format("customDimensionsPaneDimensionOver",l,g):null)?a.lE.qe(g):(a.lE.gg(),e=!0,g=new Xs({width:d,height:c,units:hZ(b)}),h=Yu(d,c,b),a.Pl(h,g),a.ok())}null!=U&&Sl(U,"change_design_dimension",null,null,"editor",{resize_type:"custom",new_units:b,new_width:d.toString(),new_height:c.toString(),success:e})}function kZ(a){a.rB||(a.rB=Rz(R.by),a.rB.finally(function(){a.rB=null}));return a.rB}
f.GX=function(){this.MZ({});yj(this.LK.N,"/documentcreationoption/expanded").get(0).then(La).then(pu).bind(this).tap(function(a){this.KK=a.EF;this.ZT=_.flatten(a.EF.map(function(a){return a.options}))}).then(this.F3).catch(this.iV)};f.F3=function(){var a=[];this.KK.forEach(function(b){b.options.forEach(function(b){a.push(b.Gm)})});uu(this.Ui,new vv({sl:a})).bind(this).tap(function(a){this.Cu=a.Cu}).then(this.H7).then(this.MZ).catch(this.iV)};f.F4=function(){var a=this.Pk;a.l.wa(om());Oo(a,Ro)};
f.MZ=function(a){this.Xk.fQ(a);this.Mo===this.Xk&&(this.Xk.render(),this.Nq(this.Xk));this.Fg.fQ(a);this.Mo===this.Fg&&(this.Fg.render(),this.Nq(this.Fg),lZ(this))};f.iV=function(){this.Xk.gQ();this.Mo===this.Xk&&(this.Xk.render(),this.Nq(this.Xk));this.Fg.gQ();this.Mo===this.Fg&&(this.Fg.render(),this.Nq(this.Fg))};
f.b$=function(){if(!this.PM){var a=this;this.PM=!0;kZ(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.PM=!1})}};function lZ(a){a.WM||(a.WM=!0,kZ(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.WM=!1}))}
f.W4=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};f.R4=function(){this.trigger("createNewDesign");this.ok()};f.A4=function(){this.trigger("documentCopyRequested");this.ok()};f.G4=function(){this.Xk.show()};
f.E4=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){if(c===b.document.ib().u())b.cancel();else{var a=_.find(b.Cu,function(a){return a.u()===c}),e=_.find(b.ZT,function(a){return a.Gm===c});w(e.ip);w(a);b.Pl(a,new Ws({id:e.ip,version:1}));b.ok()}});null!=U&&Sl(U,"change_design_dimension",null,null,"editor",{resize_type:"preset",resize_doctype_id:c})};f.C4=function(){this.lE.show()};f.J5=function(a){13===a.keyCode&&iZ(this)};
f.q4=function(){var a=this.$(".customDimensionsUnits").prop("value"),b=this.$(".customDimensionsWidth").prop("value"),c=this.$(".customDimensionsHeight").prop("value");a:{c=new Zu({units:this.DY,width:b,height:c});b=Zg(c);switch(a){case "PIXELS":break a;case "CENTIMETERS":c=b.j()/96*2.54;b=b.o()/96*2.54;break;case "INCHES":c=b.j()/96;b=b.o()/96;break;case "MILLIMETERS":c=b.j()/96*25.4;b=b.o()/96*25.4;break;default:throw Error("Unknown units: "+c.Nj());}b=new Zu({width:c,height:b,units:a})}c="PIXELS"===
a?0:3;this.$(".customDimensionsWidth").val(+b.j().toFixed(c));this.$(".customDimensionsHeight").val(+b.o().toFixed(c));this.DY=a};f.D4=function(){iZ(this)};f.Q4=function(){this.Fg.show();lZ(this)};f.t4=function(){lZ(this)};
f.P4=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled"),d=$(a.currentTarget);d.blur();d.prop("disabled",!0);var e=c.toArray().map(function(a){return DV(this.oa.hc(),"remix",au(this.oa))+"?resizeTo\x3d"+encodeURIComponent(a.value)},this);this.Fg.$(".errorMessage").remove();var g=function(){var a=window.open(e.shift());a&&b.push(a);null==a?(b.forEach(function(a){a.close()}),b=[],d.prop("disabled",!1),this.xQ(),U&&em(U,"magic_resize")):0===e.length?(this.ok(),U&&em(U,"magic_resize")):
0<navigator.userAgent.indexOf("Safari")&&0<navigator.userAgent.indexOf("Version/11")?setTimeout(g,1100):g()}.bind(this);g()};f.xQ=function(){mZ.A9(this.rm)?(new mZ({rm:this.rm,i:Kd(this.i)})).show():(this.Fg.xQ(),this.Nq(this.Fg))};f.H7=function(){var a={};this.KK.forEach(function(b){a[b.DF]=b.options.map(function(a){return{id:a.Gm,displayName:a.displayName,displayDimensions:a.zK,category:b.DF}})});return a};function dZ(){}
dZ=bZ.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle" data-doctype\x3d"\x3c%- data.doctypeId %\x3e"\x3e\x3c%- data.doctypeName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% if (data.showNewDesignMenuItem) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button createNewDesignButton"\x3e\x3c%- data.newDesignMenuItemLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',{variable:"data"})});
dZ.prototype.initialize=function(a){bZ.prototype.initialize.call(this);this.Gm=a.Gm;this.ip=a.ip;this.NK=a.NK;this.mL=a.mL;this.oL=a.oL;this.rL=a.rL;this.ys=a.ys;this.yg=a.yg;this.vQ=a.vQ};
dZ.prototype.render=function(){var a=moment(this.ys).fromNow();this.$el.html(this.template({documentDimensions:this.NK.print(),enableDocumentResize:this.mL,enableMagicResize:this.oL,doctypeName:this.Gm,doctypeId:this.ip,magicResizeLabel:this.yg.rW(),changeDimensionsLabel:this.yg.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.yg.save(),makeACopyLabel:this.yg.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.yg.format("editorFileMenuPaneWaitingForSave"),showUpgradeCta:this.rL,
resizeUpgradePrompt:this.yg.s8(),learnMoreButtonLabel:this.yg.nN(),lastSavedLabel:this.yg.y3(a),showNewDesignMenuItem:this.vQ,newDesignMenuItemLabel:this.yg.c4()}));return this};function eZ(){}
eZ=bZ.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',{variable:"data"})});
eZ.prototype.initialize=function(a){bZ.prototype.initialize.call(this);this.cz={};this.Qk=a.Qk;this.Xr=!1;this.Yk=a.Yk};eZ.prototype.render=function(){this.$el.html(this.template({documentTypes:this.cz,fetchFailed:this.Xr,useCustomDimensions:this.Yk.k$(),couldNotBeLoaded:this.Yk.bK(),tryLoadingAgain:this.Yk.bR(),fetchingDesignTypes:this.Yk.EL()}));if("custom"!==this.Qk)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.Qk){a.eq(b).addClass("selected");break}return this};
eZ.prototype.fQ=function(a){this.Xr=!1;this.cz=a};eZ.prototype.gQ=function(){this.Xr=!0};function fZ(){}fZ=bZ.extend({className:"dropdownPane customDimensionsPane"});f=fZ.prototype;f.initialize=function(a){bZ.prototype.initialize.call(this);this.wK=a.wK;this.tK=a.tK;this.Cm=a.Cm;this.vK=a.vK;this.on("show",this.L2)};
f.render=function(){var a=this;this.$el.html(this.template({defaultWidth:this.wK,defaultHeight:this.tK,actionResize:this.Cm.b0(),times:this.Cm.times(),pixelsUnit:this.Cm.z7(),dimOptions:["PIXELS","INCHES","CENTIMETERS","MILLIMETERS"].map(function(b){return{value:b,selected:b===a.vK,name:rv(b)}})}));return this};f.L2=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};
f.qe=function(a){var b=this.$(".customDimensions__error");b.text(a);b.addClass("customDimensions__error--visible");this.trigger("resize")};f.gg=function(){this.$(".customDimensions__error").removeClass("customDimensions__error--visible")};f.template=_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e"\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"customDimensionsUnits"\x3e\x3c% for (var i \x3d 0; i \x3c dimOptions.length; ++i) { %\x3e\x3coption value\x3d"\x3c%- dimOptions[i].value %\x3e" \x3c% if (dimOptions[i].selected) { %\x3e selected \x3c% } %\x3e \x3e\x3c%- dimOptions[i].name %\x3e\x3c/option\x3e\x3c% } %\x3e\x3c/select\x3e\x3cspan\x3e\x3c/fieldset\x3e\x3cdiv class\x3d"customDimensions__error feedback feedback--warning"\x3e\x3c/div\x3e\x3cfieldset\x3e\x3cbutton class\x3d"button buttonBlock customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/fieldset\x3e');function nZ(a,b,c){this.Tm=a;this.Ao=b;this.vm=c}var oZ=[];function pZ(a,b){if("INCHES"==a)throw Error('Cannot define measurement unit conversion from "INCHES" to itself');if(0==b)throw Error("Cannot define measurement unit conversion with conversionFactor \x3d 0");var c=new nZ("INCHES",a,b);a=new nZ(a,"INCHES",1/b);b=[c,a];qZ(c,b,1);qZ(a,b,0);Array.prototype.push.apply(oZ,b)}
function jZ(a,b){if("PIXELS"==b)return a;for(var c=0;c<oZ.length;c++){var d=oZ[c];if("PIXELS"==d.Tm&&d.Ao==b)return d.vm*a}throw Error('Unknown measurement unit conversion from "PIXELS" to "'+b+'"');}
function qZ(a,b,c){var d,e,g;for(e=0;e<oZ.length;e++){var h=oZ[e];if(h.Tm==a.Ao){if(d=new nZ(a.Tm,h.Ao,a.vm*h.vm),b.push(d),0!=c)for(g=0;g<oZ.length;g++)h=oZ[g],d.Tm==h.Ao&&b.push(new nZ(d.Ao,h.Tm,1/(h.vm*d.vm)))}else if(h.Ao==a.Tm&&(d=new nZ(h.Tm,a.Ao,h.vm*a.vm),b.push(d),0!=c))for(g=0;g<oZ.length;g++)h=oZ[g],d.Ao==h.Tm&&b.push(new nZ(d.Tm,h.Ao,d.vm*h.vm))}}pZ("MILLIMETERS",25.4);pZ("PIXELS",96);pZ("CENTIMETERS",2.54);function gZ(){}
gZ=bZ.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e',{variable:"data"}),
E7:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e',{variable:"data"})});f=gZ.prototype;f.initialize=function(a){bZ.prototype.initialize.call(this);this.Qk=a.Qk;this.cz={};this.Xr=!1;this.nh=a.nh};
f.render=function(){this.$el.html(this.template({documentTypes:this.cz,currentDocumentTypeId:this.Qk,fetchFailed:this.Xr,copyAndResize:this.nh.t1(),couldNotBeLoaded:this.nh.bK(),tryLoadingAgain:this.nh.bR(),fetchingDesignTypes:this.nh.EL(),currentDesignSize:this.nh.E1(),abracadabraResize:this.nh.Y_()}));this.$('input:not([value\x3d"'+this.Qk+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.Qk+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");return this};
f.fQ=function(a){this.Xr=!1;this.cz=a};f.gQ=function(){this.Xr=!0};f.xQ=function(){this.$("footer").prepend(this.E7({ohSnap:this.nh.g4(),multipleTabs:this.nh.a4()}))};function rZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var b=a.message;soy.asserts.assertType(goog.isString(a.Oo)||a.Oo instanceof goog.soy.data.SanitizedContent,"alertClass",a.Oo,"string|goog.soy.data.SanitizedContent");var c=a.Oo;soy.asserts.assertType(a.ln instanceof soydata.SanitizedHtml||a.ln instanceof soydata.UnsanitizedText||goog.isString(a.ln),"iconHtml",
a.ln,"soydata.SanitizedHtml");var d=a.ln;soy.asserts.assertType(null==a.Oc||goog.isBoolean(a.Oc)||1===a.Oc||0===a.Oc,"showDismiss",a.Oc,"boolean|null|undefined");var e=a.Oc;soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");var g=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",
a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");var k=a.global;soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");var l=a.wb;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=a.small;l=null==l?!0:l;b=""+('\x3cdiv class\x3d"feedbackAlert '+
soy.$$escapeHtmlAttribute(c)+(k?" feedbackAlert--global":"")+(l?" feedbackAlert--withIcon":"")+(e?" feedbackAlert--dismissible":"")+(a?" feedbackAlert--small":"")+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e\x3cdiv class\x3d"feedbackAlert__iconContainer"\x3e'+(l?soy.$$escapeHtml(d):"")+"\x3c/div\x3e"+(g?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(g)+"\x3c/strong\x3e ":"")+'\x3cdiv class\x3d"feedbackAlert__messageBody"\x3e'+soy.$$escapeHtml(b)+
"\x3c/div\x3e\x3c/div\x3e"+(e?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+"\x3c/button\x3e":"")+"\x3c/div\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function sZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Oc||goog.isBoolean(a.Oc)||1===a.Oc||0===a.Oc,"showDismiss",a.Oc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(rZ(soy.$$assignDefaults({Oo:"feedbackAlert--success",ln:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+tZ())},a)))}
function uZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Oc||goog.isBoolean(a.Oc)||1===a.Oc||0===a.Oc,"showDismiss",a.Oc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(rZ(soy.$$assignDefaults({Oo:"feedbackAlert--info",ln:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+vZ())},a)))}
function wZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Oc||goog.isBoolean(a.Oc)||1===a.Oc||0===a.Oc,"showDismiss",a.Oc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(rZ(soy.$$assignDefaults({Oo:"feedbackAlert--warning",ln:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+xZ())},a)))}
function yZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Oc||goog.isBoolean(a.Oc)||1===a.Oc||0===a.Oc,"showDismiss",a.Oc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"withIcon",a.wb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(rZ(soy.$$assignDefaults({Oo:"feedbackAlert--danger",ln:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+xZ())},a)))}
function vZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(vZ.ZY="FeedbackTemplates.infoIcon");
function tZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M10,0 C15.52,0 20,4.48 20,10 C20,15.52 15.52,20 10,20 C4.48,20 0,15.52 0,10 C0,4.48 4.48,0 10,0 Z M10,1.33333333 C5.21637967,1.33333333 1.33333333,5.21637967 1.33333333,10 C1.33333333,14.7836203 5.21637967,18.6666667 10,18.6666667 C14.7836203,18.6666667 18.6666667,14.7836203 18.6666667,10 C18.6666667,5.21637967 14.7836203,1.33333333 10,1.33333333 Z M6,10 L5,11 L8,14 L15,7 L14,6 L8,12 L6,10 Z" transform\x3d"translate(2,2)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(tZ.ZY="FeedbackTemplates.successIcon");
function xZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(xZ.ZY="FeedbackTemplates.warningIcon");function zZ(a,b){this.$el=a;this.Dh=b}t(zZ,fc);function AZ(a){Ca(!(a.global^0),"$globalContainer is required for global alerts");var b=a.type.HM();a=rZ({Oo:a.type.ya,v:a.v,global:a.global,ln:b,message:a.message,Oc:a.Oc,small:a.small,title:a.title,wb:a.wb});return BZ($(a.toString()),void 0)}
function BZ(a,b){Ca(a.hasClass("feedbackAlert"),'$el must have "feedbackAlert" in its classList');Ca(!a.hasClass("feedbackAlert--global")||!!b,"$globalContainer must only be used with global alerts");return new zZ(a,b)}
zZ.prototype.Fe=function(){this.Dh&&(Fa(!this.Dh.hasClass("globalFeedbackAlertContainer"),"the global container already has a global alert"),this.Dh.data("gcpt",this.Dh.get(0).style["padding-top"]),this.Dh.css("padding-top",parseFloat(this.Dh.css("padding-top"))+this.$el.outerHeight()),this.Dh.addClass("globalFeedbackAlertContainer"))};
zZ.prototype.remove=function(){if(this.Dh){this.Dh.removeClass("globalFeedbackAlertContainer");this.Dh.css("padding-top","");var a=parseFloat(this.Dh.data("gcpt"));a&&this.Dh.css("padding-top",a);this.Dh.removeData("gcpt")}fc.prototype.remove.call(this)};var CZ={ya:"feedbackAlert--info",HM:vZ},DZ={ya:"feedbackAlert--warning",HM:xZ},EZ={ya:"feedbackAlert--danger",HM:xZ};function FZ(a,b,c){var d=this;this.Hh=a.Hh;this.l=a.l;this.g3=b;c.on(GZ,function(a){return d.onMessage(a)});c.on(HZ,function(){return c.hide()})}
function IZ(a){var b=JZ(a.nb,a.V1),c=$,d;soy.asserts.assertType(goog.isString(a.Hh)||a.Hh instanceof goog.soy.data.SanitizedContent,"animatorUrl",a.Hh,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(KZ({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3ciframe src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Hh))+'" class\x3d"animatorFrame" scrolling\x3d"no" frameborder\x3d"0" marginheight\x3d"0" marginwidth\x3d"0" /\x3e')}));c=
c(d.toString());d=new LZ(c,$(document));c=new MZ(c,d);return{Ab:new FZ(a,b,c),view:c}}function JZ(a,b){return P.resolve($.get(DV(a,"render",b))).then(function(a){return a.toString()})}
FZ.prototype.onMessage=function(a){if(a.origin===this.Hh&&"string"===typeof a.data.type)switch(a.data.type){case NZ:OZ(this,a);break;case PZ:a=La(a.data.event);a=new QZ({location:B("location",a),type:B("type",a)});"error"===a.location?this.l.track("animator_error",{section:"editor",subsection:"animator",type:a.type}):Sl(this.l,a.type,"editor","animator",a.location);break;default:throw Error("unknown message type: "+a.data.type);}};
function OZ(a,b){a.g3.then(function(a){return new RZ(a)}).catch(SZ).then(function(a){return b.source.postMessage({type:"ANIMATE_DESIGN",html:H("html",a.html)},b.origin)})}var NZ="ANIMATOR_LOADED",PZ="TRACKING";function RZ(a){this.html=a}function SZ(){return new RZ(null)}function QZ(a){this.location=a.location;this.type=a.type};function MZ(a,b){var c=this;gc.call(this,a);this.Or=b;this.onMessage=this.onMessage.bind(this);b.on(TZ,function(){return c.trigger(HZ)});window.addEventListener("message",this.onMessage)}t(MZ,gc);MZ.prototype.show=function(){this.Or.show()};MZ.prototype.hide=function(){var a=this;this.Or.hide().then(function(){a.remove()})};MZ.prototype.onMessage=function(a){this.trigger(GZ,a)};MZ.prototype.remove=function(){gc.prototype.remove.call(this);window.removeEventListener("message",this.onMessage)};
var HZ="CLOSE",GZ="MESSAGE";function UZ(a){a=a||{};return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"fileTypesDialog__icon"\x3e'+yX(a)+"\x3c/div\x3e")};function VZ(a){rp.call(this,{G:a.G,title:a.Su.title(),content:WZ(a.Su)})}t(VZ,rp);
function WZ(a){var b=$,c;c=a.uB();var d=a.A7(),e=a.yA(),g=a.w3(),h=a.t7(),k=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.u7()),l=a.r7(),m=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.s7());a=a.tM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"png",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"pngDescription",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||
e instanceof goog.soy.data.SanitizedContent,"jpg",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"jpgDescription",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pdfStandard",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"pdfStandardDescription",
k,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"pdfPrint",l,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"pdfPrintDescription",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+
UZ({We:"PNG",color:"#3F6BD1"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c)+"\x3c/strong\x3e "+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+UZ({We:"JPG",color:"#399BE6"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(e)+"\x3c/strong\x3e "+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+UZ({We:"PDF",color:"#00C4CC"})+
'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(h)+"\x3c/strong\x3e "+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+UZ({We:"PDF",color:"#26B45A"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(l)+"\x3c/strong\x3e "+soy.$$escapeHtml(m)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"fileTypesDialog__footer"\x3e\x3cbutton class\x3d"button close fileTypesDialog__gotItButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}VZ.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("fileTypesDialog");return this};function XZ(a){rp.call(this,{G:a.G,content:YZ(a.Sy),df:!1})}t(XZ,rp);
function YZ(a){var b=$,c;c=a.title();var d=a.og(),e=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.D1()),g=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.u0());a=a.tM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"title",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"subtitle",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof
soydata.UnsanitizedText||goog.isString(e),"cropMarksDescription",e,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaDescription",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"cropAndBleedDialog__headerImage" src\x3d"https://static.canva.com/static/images/crop_and_bleed_dialog_header.png"\x3e\x3csection class\x3d"cropAndBleedDialog__content"\x3e\x3cheader class\x3d"cropAndBleedDialog__header"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/header\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3ctitle\x3eIcon\x3c/title\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3cpath id\x3d"path-3" d\x3d"M32 32h32v32H32z"/\x3e\x3cmask id\x3d"mask-4" x\x3d"-8" y\x3d"-8" width\x3d"48" height\x3d"48"\x3e\x3cpath fill\x3d"#fff" d\x3d"M24 24h48v48H24z"/\x3e\x3cuse xlink:href\x3d"#path-3"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -506)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 344)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cg id\x3d"Rectangle-214" mask\x3d"url(#mask-2)"\x3e\x3cuse fill\x3d"#F5F5F5" xlink:href\x3d"#path-3"/\x3e\x3cuse stroke\x3d"#D9D9D9" mask\x3d"url(#mask-4)" stroke-width\x3d"16" xlink:href\x3d"#path-3"/\x3e\x3c/g\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -590)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 428)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M24 24h40v40H24z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#F5F5F5" mask\x3d"url(#mask-2)" d\x3d"M32 32h32v32H32z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"cropAndBleedDialog__footer"\x3e\x3cbutton class\x3d"button close cropAndBleedDialog__gotItButton"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}XZ.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog").addClass("cropAndBleedDialog");return this};function ZZ(a){this.l=a.l}function $Z(a,b){a.track("download_page_range_change",{pageRange:b})}function a_(a,b){a.track("download_button_click",{filetype:b})}ZZ.prototype.IC=function(a){this.track("close",{type:a})};ZZ.prototype.track=function(a,b){this.l.track(a,_.extend(this.ZL(),b))};ZZ.prototype.ZL=function(){return{section:"editor",subsection:"download_menu",version:"2016-09"}};function b_(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isString(a.Ru)||a.Ru instanceof goog.soy.data.SanitizedContent,"fileTypeInfoLinkTitle",a.Ru,"string|goog.soy.data.SanitizedContent");var d=a.Ru;soy.asserts.assertType(goog.isString(a.Zt)||a.Zt instanceof goog.soy.data.SanitizedContent,"allPages",a.Zt,"string|goog.soy.data.SanitizedContent");
var e=a.Zt;soy.asserts.assertType(goog.isString(a.ZG)||a.ZG instanceof goog.soy.data.SanitizedContent,"pageRangePlaceholder",a.ZG,"string|goog.soy.data.SanitizedContent");var g=a.ZG;soy.asserts.assertType(goog.isString(a.wu)||a.wu instanceof goog.soy.data.SanitizedContent,"cropMarksAndBleed",a.wu,"string|goog.soy.data.SanitizedContent");var h=a.wu;soy.asserts.assertType(goog.isString(a.Ix)||a.Ix instanceof goog.soy.data.SanitizedContent,"transparentBackground",a.Ix,"string|goog.soy.data.SanitizedContent");
var k=a.Ix;soy.asserts.assertType(goog.isString(a.eG)||a.eG instanceof goog.soy.data.SanitizedContent,"learnMore",a.eG,"string|goog.soy.data.SanitizedContent");var l=a.eG;soy.asserts.assertType(goog.isString(a.download)||a.download instanceof goog.soy.data.SanitizedContent,"download",a.download,"string|goog.soy.data.SanitizedContent");var m=a.download;soy.asserts.assertType(goog.isNumber(a.kd),"pageCount",a.kd,"number");var n=a.kd;soy.asserts.assertType(goog.isBoolean(a.az)||1===a.az||0===a.az,"displayRemoveCanvasOption",
a.az,"boolean");var p=!!a.az;soy.asserts.assertType(goog.isBoolean(a.so)||1===a.so||0===a.so,"showUpgradeCta",a.so,"boolean");var q=!!a.so;soy.asserts.assertType(goog.isString(a.XF)||a.XF instanceof goog.soy.data.SanitizedContent,"invalidPageRange",a.XF,"string|goog.soy.data.SanitizedContent");var u=a.XF,v=goog.asserts.assertArray(a.fe,"expected parameter 'exportOptions' of type list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.vu)||
a.vu instanceof goog.soy.data.SanitizedContent,"cropAndBleedInfoLinkTitle",a.vu,"string|goog.soy.data.SanitizedContent");var z=a.vu;soy.asserts.assertType(goog.isString(a.hp)||a.hp instanceof goog.soy.data.SanitizedContent,"defaultExportOption",a.hp,"string|goog.soy.data.SanitizedContent");a=a.hp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"exportPopOver__header"\x3e\x3ch2 class\x3d"exportPopOver__title"\x3e'+soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__infoLink" title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e'+xX()+'\x3c/a\x3e\x3c/header\x3e\x3csection class\x3d"exportPopOver__container"\x3e\x3csection class\x3d"exportPopOver__option"\x3e'+c_({options:v,block:!0,v:"exportPopOver__fileTypeSelect"})+'\x3c/section\x3e\x3csection class\x3d"exportPopOver__settingsContainer exportPopOver__settingsContainer--expanded exportPopOver__settingsContainer--notransitions" data-export-type\x3d"'+soy.$$escapeHtmlAttribute(a)+'" data-design-pages\x3d"'+soy.$$escapeHtmlAttribute(n)+'" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+'height: 0"\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__pageSettings"\x3e\x3clabel class\x3d"exportPopOver__option"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__allPagesOption" checked\x3e'+soy.$$escapeHtml(e)+'\x3c/label\x3e\x3cdiv class\x3d"exportPopOver__option exportPopOver__pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__radio"\x3e\x3cinput type\x3d"text" class\x3d"textInput exportPopOver__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/section\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__printSettings"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed" class\x3d"exportPopOver__cropMarksAndBleedInput"\x3e'+soy.$$escapeHtml(h)+'\x3c/label\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__questionMarkIcon exportPopOver__cropAndBleedQuestionIcon" title\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18" height\x3d"18" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M15.5 9a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0zm-14 0a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0z"/\x3e\x3cpath d\x3d"M9.75 12.75h-1.5v-1.5h1.5v1.5zm-1.5-2.25c0-.466.065-.948.178-1.224.113-.277.32-.549.622-.817.301-.268.502-.486.602-.654.1-.168.15-.346.15-.532 0-.563-.26-.844-.78-.844-.246 0-.443.075-.591.227-.149.151-.226.36-.233.627H6.75c.007-.636.212-1.134.617-1.494.404-.36.956-.539 1.655-.539.706 0 1.254.17 1.644.512.39.341.584.823.584 1.446 0 .283-.063.55-.19.801-.126.252-.348.53-.664.837l-.405.385c-.132.15-.241.301-.241.925v.344h-1.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/a\x3e\x3c/section\x3e"+(p||q?'\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__pngSettings"\x3e\x3clabel class\x3d"exportPopOver__transparentBackgroundCheckbox '+(q?"disabled":"")+'"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" class\x3d"exportPopOver__transparentBackgroundCheckbox__input" '+(q?"disabled":"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/label\x3e"+(q?d_({tagName:"a",v:"exportPopOver__questionMarkIcon exportPopOver__transparentBackgroundLearnMoreButton",
small:!0,href:"#",text:l}):"")+"\x3c/section\x3e":"")+'\x3c/section\x3e\x3cdiv class\x3d"exportPopOver__pageRangeError"\x3e'+soy.$$escapeHtml(u)+'\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable exportPopOver__downloadButton"\x3e'+soy.$$escapeHtml(m)+"\x3c/button\x3e\x3c/footer\x3e")};function e_(){}e_=Zy.extend();
e_.prototype.events=function(){var a=Zy.prototype.events.call(this);a["input .exportPopOver__pageRangeOption .exportPopOver__input"]=this.D5;a["change input[name\x3dpageRangeOption]"]=this.v4;a["focus .exportPopOver__pageRangeOption .exportPopOver__input"]=this.s5;a["blur .exportPopOver__pageRangeOption .exportPopOver__input"]=this.j4;a["change .exportPopOver__pageRangeOption .exportPopOver__input"]=this.u4;a["change .exportPopOver__fileTypeSelect \x3e select"]=this.r4;a["click .exportPopOver__downloadButton"]=
this.I4;a["click .exportPopOver__transparentBackgroundLearnMoreButton"]=this.Z4;a["change .exportPopOver__transparentBackgroundCheckbox__input"]=this.w4;a["click .exportPopOver__cropAndBleedQuestionIcon"]=this.B4;a["change .exportPopOver__cropMarksAndBleedInput"]=this.p4;a["click .exportPopOver__header .exportPopOver__infoLink"]=this.L4;return a};e_.YR=new Kf("gf",!1);e_.B_=new Kf("gg",!1);f=e_.prototype;
f.initialize=function(a){this.W=a.W;this.model=a.model;this.Zd=a.Zd;this.Il=a.Il;this.Vc=a.Vc;this.sa=a.sa;this.dc=a.dc;this.fb=a.fb;this.aa=a.aa;this.X=a.X;this.rd=a.rd;this.ub=a.ub;this.cc=a.cc;this.ld=a.ld;this.Ia=a.Ia;this.l=a.l;this.Kb=a.Kb;this.G=a.G;var b=this.i=a.i;b.Ub||(b.Ub=new Me(b.config));this.Ub=b.Ub;this.Xb=a.Xb;this.Ej=a.Ej;this.ud=a.ud;this.Hh=a.Hh;this.H=a.H;this.vc=a.vc;this.pd=a.pd;this.hX=!0;this.kj=a.kj;this.La=a.La;this.fe=[{value:f_,text:this.Ub.yA()},{value:g_,text:this.Ub.uB()},
{value:h_,text:this.Ub.format("exportPopOverStandardPdf")},{value:i_,text:this.Ub.format("exportPopOverPrintPdf")}];this.H.get(e_.B_)&&this.H.get(e_.YR)&&a.Hh&&this.fe.push({value:j_,text:this.Ub.format("exportPopOverAnimation")});var c,b=this.model.ib().oE;c=g_;"IMAGE"===b?(b=this.model.ib().Qp,c="JPG"===b.We?f_:g_):"PDF"===b&&(b=this.model.ib().Rs,c=96>=b.Pc?h_:i_);this.OX=this.hp=c;a=_.defaults(a,{Ue:"",Kf:{top:-4},content:$(b_({title:this.Ub.We(),Ru:this.Ub.Ru(),Zt:this.Ub.Zt(),ZG:this.Ub.format("exportPopOverInRangePagesPlaceholder"),
wu:this.Ub.wu(),Ix:this.Ub.Ix(),eG:this.Ub.format("exportPopOverLearnMoreButton"),download:this.Ub.download(),kd:this.model.ic(),az:this.W.H.get($f),so:!this.W.H.get($f)&&this.W.H.get(bg),XF:this.Ub.format("exportPopOverInvalidPageRangeInput"),fe:k_(this),vu:this.Ub.vu(),hp:this.hp}).toString())});Zy.prototype.initialize.call(this,a)};
f.render=function(){function a(){iq(this.model)||(this.$el.removeClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!1),this.$(".exportPopOver__message").remove(),this.stopListening(this.model,"change",a))}Zy.prototype.render.call(this);this.$(".dialog \x3e h2").remove();this.$(".buttonContainer").remove();this.$(".dialog").addClass("exportPopOver");pl(function(){l_(this,this.$(".exportPopOver__settingsContainer"))}.bind(this));var b="";this.model.isEmpty()?
b=this.Ub.format("exportPopOverEmptyDesignError"):iq(this.model)?(b=this.Ub.format("exportPopOverDownloadsInProgressError"),this.listenTo(this.model,"change",a)):(m_(this),n_(this),o_(this));b&&(AZ({type:DZ,v:"exportPopOver__message",message:b,wb:!1}).$el.appendTo(this.$(".exportPopOver__header")),this.$el.addClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!0));return this};
function m_(a){a.$(".exportPopOver__warning").remove();a.$(".exportPopOver__downloadButton").prop("disabled",!1)}f.cancel=_.debounce(function(){Zy.prototype.cancel.call(this);this.Ej.IC("pressed_esc")},10,!0);f.blur=function(a){Zy.prototype.blur.call(this,a);this.Ej.IC("clicked_mask")};
function p_(a){w(a.Hh);var b=a.$(".exportPopOver__downloadButton"),c=IZ({nb:a.Kb.hc(),V1:au(a.Kb),l:a.l,Hh:a.Hh}).view;b.addClass("submitting");q_(a.ud).finally(function(){c.$el.appendTo("body");c.show();this.ok();b.removeClass("submitting")}.bind(a))}
function r_(a){function b(){this.$el.removeClass("exportPopOver--withPageRangeError")}var c,d;c=a.$(".exportPopOver__pageRangeOption .exportPopOver__input");d=c.val().trim();if(""===d||e_.oS.test(d))return b.call(a),c.removeClass("exportPopOver__input--withError"),!0;d=a.$(".exportPopOver__pageRangeError");a.$el.addClass("exportPopOver--withPageRangeError");c.addClass("exportPopOver__input--withError");d.css("top",c.position().top-c.outerHeight()-6+"px");c.one("blur",b.bind(a));return!1}
f.I4=function(a){a.preventDefault();if(!this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked")||r_(this)){this.$(".exportPopOver__cropMarksAndBleedInput").not(":visible").prop("checked",!1);this.$(".exportPopOver__transparentBackgroundCheckbox__input").not(":visible").prop("checked",!1);var b=s_(this);a={VV:b===i_};if(b===j_)p_(this),a_(this.Ej,b);else{var c;var d=this.$(".exportPopOver__pageRangeOption .exportPopOver__input").val();c=Yp(this.model).length;if(e_.oS.test(d)){for(var e=
[],d=d.split(","),g=0;g<d.length;g++){var h=d[g].split("-"),k=parseInt(h[0],10);if(!isNaN(k)){var l=k=Math.max(1,Math.min(k,c));1<h.length&&(l=parseInt(h[1],10),l=isNaN(l)?c:Math.max(1,Math.min(l,c)));var h=k,m=l;m<h&&(h=l,m=k);for(k=0;e[k]<h;)k++;for(;h<=m;)e[k]!==h&&e.splice(k,0,h),k++,h++}}c=e}else c=_.range(1,c+1);e=!!this.$(".exportPopOver__cropMarksAndBleedInput").prop("checked");d=b!=f_?!!this.$(".exportPopOver__transparentBackgroundCheckbox \x3e input").prop("checked"):!1;k=this.model.ib();
g=k.Qp;l=k.Rs;k=null;switch(b){case f_:b="JPG";l=g&&g.Pc||96;k=g&&g.aq||k;break;case g_:b="PNG";l=g&&g.Pc||96;break;case h_:b="PDF";l=Math.min(l&&l.Pc||96,96);break;case i_:b="PDF";l=l&&l.Pc||96;96>=l&&(l=300);break;default:throw Error("Unknown export option",b);}b={format:b,O:c,Jr:e,ju:e,ct:d,Dx:k,Bs:l};t_({Zd:this.Zd,Il:this.Il,i:this.i,sa:this.sa,dc:this.dc,fb:this.fb,aa:this.aa,X:this.X,rd:this.rd,cc:this.cc,ub:this.ub,ld:this.ld,Ia:this.Ia,l:this.l,document:this.model,Kb:this.Kb,G:this.G,Xb:this.Xb,
fe:b,ud:this.ud,H:this.H,W:this.W,$t:a,vc:this.vc,pd:this.pd,La:this.La}).start();this.ok();a_(this.Ej,b.format)}}};function u_(a,b){b.val().trim().length&&$Z(a.Ej,b.val().toString())}
f.r4=function(a){var b;b=$(a.currentTarget).val().toString();a=this.$(".exportPopOver__settingsContainer");a.attr("data-export-type",b);m_(this);n_(this);o_(this);if(s_(this)===j_){var c;this.kj.et?10<this.model.ic()&&(c=this.Ub.Qa("exportPopOverAnimationPageLimitWarningHtml")):c=this.Ub.Qa("exportPopOverAnimationRendererErrorHtml");c?(AZ({message:c,type:EZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")),this.$(".exportPopOver__downloadButton").prop("disabled",
!0)):this.kj.DI?AZ({message:this.Ub.Qa("exportPopOverAnimationFilterWarningHtml"),type:DZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")):AZ({message:this.Ub.Qa("exportPopOverAnimationBetaWarningHtml"),type:DZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer"))}c=s_(this)===j_?this.Ub.format("exportPopOverPreviewAnimation"):this.Ub.download();this.$(".exportPopOver__downloadButton").text(c);l_(this,a);this.Ej.track("download_file_type_change",
{from_filetype:this.OX,to_filetype:b});this.OX=b};
function l_(a,b){var c=0,d;b.removeClass("exportPopOver__settingsContainer--expanded");b.children(":visible").each(function(a,b){c+=$(b).outerHeight(!0)});d=parseInt(b.css("height"),10);a.hX?(a.hX=!1,b.css("height",c),b.addClass("exportPopOver__settingsContainer--expanded"),b.css("height"),b.removeClass("exportPopOver__settingsContainer--notransitions")):d===c?b.addClass("exportPopOver__settingsContainer--expanded"):(b.css("height",c),b.one("transitionend",function(){b.addClass("exportPopOver__settingsContainer--expanded")}))}
f.D5=function(){this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked",!0);r_(this)};f.s5=function(){r_(this)};f.j4=function(a){a=$(a.currentTarget);0===a.val().trim().length&&(a.val(""),this.$(".exportPopOver__allPagesOption").prop("checked",!0))};f.u4=function(a){u_(this,$(a.currentTarget))};
f.v4=function(){var a=this.$(".exportPopOver__pageRangeOption .exportPopOver__radio"),b=this.$(".exportPopOver__pageRangeOption .exportPopOver__input");a.prop("checked")?(b.focus().select(),r_(this),u_(this,b)):(b.removeClass("exportPopOver__input--withError"),$Z(this.Ej,"all"))};f.Z4=function(){var a=this.Vc;a.l.wa(pm("export_pop_over","png_export_options","transparent_background"));Oo(a,v_)};f.w4=function(){this.Ej.track("transparent_bg_click")};f.B4=function(){(new XZ({G:this.G,Sy:Mc(this.i)})).render().show()};
f.p4=function(){this.Ej.track("crop_marks_click")};f.L4=function(){(new VZ({G:this.G,Su:Kc(this.i)})).render().show()};function k_(a){var b;return a.fe.map(function(a){b=a.value===this.hp;return{value:a.value,text:b?this.Ub.format("exportPopOverRecommended",a.text):a.text,selected:b}}.bind(a))}function s_(a){return a.$(".exportPopOver__fileTypeSelect \x3e select").val()}
function n_(a){function b(){return this.model.ja().some(function(a){return a.Xm()})}(function(){var a=s_(this);return a===f_||a==g_}).call(a)&&b.call(a)&&AZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(w_(a)),type:DZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function o_(a){function b(){switch(d){case f_:return this.Ub.yA();case g_:return this.Ub.uB();default:throw Error("Unknown export value",d);}}function c(){return 1<this.model.ic()}var d=s_(a);(function(){return d===f_||d==g_}).call(a)&&c.call(a)&&AZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Ne(a.Ub,b.call(a))),type:DZ,wb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function w_(a){var b=["KABpChgmirA","KABpCl3wNm4"],c=a.model.ib().category;return c&&0<=b.indexOf(c)?a.Ub.format("exportPopOverSocialMediaLinksExportWarningHtml","https://support.canva.com/creating-your-design/page-setup/hyperlinks/"):a.Ub.format("exportPopOverLinksExportWarning")}e_.oS=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;var f_="jpg",g_="png",h_="standardPdf",i_="printPdf",j_="animation";function x_(){}x_=Zy.extend();x_.prototype.events=function(){var a=Zy.prototype.events.call(this);a["click .resubmitLayout"]=this.V4;return a};x_.prototype.initialize=function(a){this.v8=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$(x_.TI({status:b})),Ue:""};Zy.prototype.initialize.call(this,_.extend({},b,a))};
x_.prototype.render=function(){Zy.prototype.render.call(this);this.$(".buttonContainer").remove();return this};x_.prototype.V4=function(){this.v8();this.remove()};x_.TI=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function y_(){}y_=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});y_.prototype.events=function(){return{"click button":this.send,submit:this.send}};y_.prototype.initialize=function(a){this.mode=a.mode;this.eh=a.eh;this.Nf=a.Nf};y_.prototype.render=function(){this.$el.html(y_.template({sendLabel:this.Nf.send(),placeholder:this.Nf.Bj()}));return this};
y_.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(YH).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{l2:a,mode:this.mode,eh:this.eh}))};y_.template=_.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function z_(){}z_=Zy.extend({className:"descriptionPopOver"});z_.Jo=254;f=z_.prototype;
f.initialize=function(a){this.i=a.i;var b;b=Cc(this.i).format("editorControlsTitleTooLongError",z_.Jo+1);this.o_=AZ({type:EZ,message:b,wb:!1,v:"descriptionPopOver__error"}).$el;b={title:Cc(a.i).format("editorControlsPopoverHeadingDesignTitle"),Ue:Cc(a.i).format("editorControlsPopoverDoneButton"),content:$("\x3ctextarea\x3e").addClass("textInput").attr("maxlength",z_.Jo).after($("\x3cdiv\x3e").addClass("descriptionPopOver__errorContainer"))};a=_.extend({},b,a);Zy.prototype.initialize.call(this,a);
this.on("hide",this.f5)};f.events=function(){var a=Zy.prototype.events.apply(this,arguments);a["keydown textarea"]=this.K5;a["keypress textarea"]=this.L5;a["paste textarea"]=this.f6;return a};f.render=function(){Zy.prototype.render.call(this);var a=this.model.sb();IT(a)?this.$("textarea").val(""):this.$("textarea").val(a.bn());return this};f.li=function(a){Zy.prototype.li.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};
function A_(a){a.$(".descriptionPopOver__errorContainer").append(a.o_)}function B_(a){a.$(".descriptionPopOver__errorContainer").empty()}f.f5=function(a){var b=this.$("textarea"),c=this.model.sb(),b=b.val().trim();2!==a&&0!==a||b===c.bn()||(U&&(a=U,a.track("design_title_changed",{title:b,source:"typed",template:a.Ti})),JT(c,b));B_(this)};f.K5=function(a){B_(this);var b=a.altKey||a.shiftKey;13!==a.which||b||(a.preventDefault(),this.ok())};
f.f6=function(){B_(this);this.$("textarea").val().length>=z_.Jo&&A_(this)};f.L5=function(){this.$("textarea").val().length>=z_.Jo&&this.$(".descriptionPopOver__errorContainer").is(":empty")&&A_(this)};function C_(){}C_=Backbone.View.extend({className:"shareView"});f=C_.prototype;f.events=function(){return{"click .shareButtonSocial":this.X4,"click .shareButtonEmail":this.K4}};f.initialize=function(a){this.location=a.location;this.Kb=a.Kb;this.iL=new y_({mode:"default",eh:au(this.Kb),Nf:a.Nf});this.Nf=a.Nf;this.LC=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};
f.render=function(){Backbone.View.prototype.render.call(this);var a=C_.TI;this.$el.append(a({shareOnFacebookTitle:this.Nf.format("shareViewShareOnFacebook"),shareOnTwitterTitle:this.Nf.format("shareViewShareOnTwitter"),postLabel:this.Nf.post(),tweetLabel:this.Nf.format("shareViewTweet"),emailLabel:this.Nf.email()}));this.$(".shareEmail").append(this.iL.render().el);this.listenTo(this.iL,"sendClicked",this.J4);this.listenTo(this,"emailSendingError",this.R1);return this};f.oQ=function(){this.trigger("shareClicked")};
f.X4=function(a){a.preventDefault();this.oQ()};f.K4=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};f.J4=function(a){this.trigger("emailSend",a)};f.R1=function(a){var b=this.iL.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};C_.TI=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3cbutton class\x3d"button buttonFacebook shareButtonSocial" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonTwitter shareButtonSocial" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e');
C_.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function EU(){}var EU=Backbone.View.extend({el:"#canvaDocument"}),FU="fit",iz={"10%":"10%","25%":"25%","50%":"50%","75%":"75%","100%":"100%","125%":"125%","150%":"150%","175%":"175%","200%":"200%","300%":"300%","400%":"400%","500%":"500%",A$:"fill",B$:FU};EU.O1=function(){$("#addNewPage").remove();EU.f0=!0};f=EU.prototype;
f.events=function(){return{"click #addNewPage .addPage":this.E0,"click #addNewPage .makeNewDesign":this.U0,"click #addNewPage .copyDesign":this.I0,"click \x3e .inner \x3e .page":function(){return!1},"mousedown \x3e .inner \x3e .page":this.PN,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.D8}};f.remove=function(){this.undelegateEvents();this.stopListening();this.Ka.forEach(function(a){a.remove()})};
f.initialize=function(a){this.listenTo(this.model,{"page:add":this.Z6,"page:move":this.b7,"page:remove":this.c7,resize:this.JA});this.listenTo(T,{"pageView:copyButton:click":this.oX,"pageView:deleteButton:click":this.oX,"pageView:toolbar:mouseout":this.f7});this.Ka=[];var b=this;this.model.Gb().forEach(function(c){b.Ka.push(new D_({model:c,Os:Ec(a.i),$O:Gc(a.i)}))});this.i=a.i;this.G=a.G;this.pf=_.object(_.values(iz),_.map(iz,function(a){return parseInt(a,10)/100}));this.OI=FU;this.Zf=!1;this.Kr=
this.Zg=0;this.Ib=null;this.Wj=this.hA=this.Cf=this.ZO=0;this.mJ=!1;this.Q3=gh(this);this.lp=function(){var a=b.model.O[0],a=Math.max(a.j(),a.o());return Math.max(1,Math.min(a/R.z_))}();this.render()};
f.render=function(){var a=this.$el.children(".inner"),b=this;this.Ka.forEach(function(c,d){c.render();a.append(c.$el);E_(c,F_(b,d));c.$el.addClass("on")});var c=this.Ka[this.Ka.length-1].$el,d=this.$("#addNewPage");EU.f0?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",F_(this,this.Ka.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),this.model.ib().Hs&&(this.$el.addClass("multiPage"),1<this.model.Gb().length&&this.model.Gb().length>=R.ay&&(this.$("#addNewPage").addClass("off"),
G_(this))));var c=F_(this,0),d=H_(this),e=gT();a.css("height",c+d+($(window).height()-e.ua()));this.JA(!0);return this};f.E0=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=Zp(this.model);var b=cO(a.serialize());b.pageIndex=jp(this.model,a);M.register(new eO(1,b))}I_(this);return!1};
f.U0=function(){var a={type:this.model.ib().u()},b="/design?create";null!=a.type&&(b+="\x26type\x3d"+encodeURIComponent(a.type));null!=a.width&&(b+="\x26width\x3d"+encodeURIComponent(String(a.width)));null!=a.height&&(b+="\x26height\x3d"+encodeURIComponent(String(a.height)));null!=a.X9&&(b+="\x26units\x3d"+encodeURIComponent(String(a.X9)));null!=a.category&&(b+="\x26category\x3d"+encodeURIComponent(String(a.category)));window.open(b,"");return!1};
f.I0=function(){T.trigger("documentView:copyDocument");return!1};
f.D8=function(){var a=this.$el.scrollTop()||0,b=F_(this,0),c=gT(),d=Xp(this.model),e=this.Ka[d].$el.offset(),g=this.ZO<a?"down":"up",h=-1;T.trigger("documentView:scroll",a);this.ZO=1*a;J_(this);this.G.clearTimeout(this.hA);if(!this.$el.hasClass("modifying")){d=$(window).height();if(this.Zg>d/2)for(c=0;c<this.Ka.length-1;c++){h=b+c*(this.Zg+this.Kr);if(h<a){if(e=h+this.Zg-a,0>=e){h=c+1;continue}}else e=a+d-h;h=e>a+d-(h+this.Zg)?c:c+1;break}else"up"==g&&e.top+this.Zg>c.ua()?h=Math.floor((a+$(window).height()-
(b-this.Kr))/(this.Zg+this.Kr))-1:"down"==g&&0>e.top&&(h=Math.ceil((a-b)/(this.Zg+this.Kr)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.Gb().length-1);0<=h&&(h=Math.min(this.model.Gb().length-1,h),h=Math.max(0,h),Pp(this.model,h))}};
f.mousemove=function(a){this.Q3.read(function(){var b=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+this.$el.scrollTop();this.Ka.forEach(function(a){var d=a.pa();gh().write(function(){b>d.w()&&b<d.ua()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")})})})};f.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.Ka.forEach(function(a){a.$el.removeClass("pseudoHover")})};
f.PN=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;if(k||Math.abs(b)>R.Ec||Math.abs(a)>R.Ec){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),Pp(p,jp(p,q)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);bq(p,q,b);b=a=h+a;a<x?(b=(x-a)/(x-z),b=2>=b?x-(x-a)*(1-b/4):z):a>I&&(b=(a-I)/(r-I),b=2>=b?I+(a-I)*(1-b/4):r);E_(d,b)}return!1}function c(){l.off("mousemove|touchmove",
b).off("mouseup|touchend",c);if(k){d.$el.removeClass("doNotAnimate");var a=q.K(),e=F_(v,a);d.$el.animate({top:e},R.Aa.nX,"easeOutBack",function(){E_(d,e);d.$el.removeClass("dragging")});M.register(new eO(5,{pageIndex:a,oldPageIndex:u}))}}if(!(0===$(a.target).closest(".pageToolbar").length||0<$(a.target).closest("a").length)){var d=null;this.Ka.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var e=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,g=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,h=wC(d),k=!1,l=new mp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.Ka.length;n++)m.push(F_(this,n)-this.Zg/2);var p=this.model,q=d.model,u=jp(p,q),v=this,z=F_(this,-1),r=F_(this,this.Ka.length),x=F_(this,0),I=F_(this,this.Ka.length-1);return!1}};
f.c7=function(a,b,c){ph();var d=this,e=this.Ka[c];this.G.clearTimeout(this.hA);this.Cf&&Pp(a,Math.min(a.Gb().length-1,c));b={height:0,top:F_(this,c)+this.Wj*(this.Zg+this.Kr)};this.Cf&&c==a.Gb().length&&(b.top+=this.Zg);this.$el.addClass("modifying");e.$el.addClass("removing").animate(b,{duration:R.Aa.fk,al:"easeOutSine",queue:!1,complete:function(){e.remove();d.$el.removeClass("modifying");d.Cf?EN&&(d.hA=d.G.setTimeout(function(){J_(d)},R.iS)):G_(d)}});this.Ka.splice(c,1);K_(this,c);this.$el.hasClass("holding")||
L_(this,c)};
f.Z6=function(a,b,c,d){ph();this.model.Gb().length>=R.ay&&(this.$("#addNewPage").addClass("off"),G_(this));var e=!0;!1===d&&(e=!1);var g=jp(this.model,b);a=this.Ka[0];this.Ka.splice(g,0,new D_({model:b,Os:Ec(this.i),$O:Gc(this.i)}));var h=this.Ka[g];b=a.dM();var k=this;null!=this.Ib&&h.RH(this.Ib);h.ki(this.sw());c=F_(this,g,this.model.Gb().length-1);M_(h,b,c+this.Wj*(this.Zg+this.Kr));this.G.clearTimeout(this.hA);this.Cf?Pp(this.model,g-1):e&&Pp(this.model,g);0==g?h.$el.insertBefore(a.$el):h.$el.insertAfter(this.Ka[g-
1].$el);k.$el.addClass("modifying");var l=F_(this,g);h.$el.addClass("newPage");h.$el.addClass("on");this.G.requestAnimationFrame(function(){var a=h.$el.height();h.$el.css("height",0);h.$el.animate({height:a,top:l},{duration:R.Aa.fk,al:"easeOutSine",queue:!1,complete:function(){h.$el.css("height","");h.$el.removeClass("newPage");E_(h,l);k.$el.removeClass("modifying");k.Cf&&EN&&(k.hA=k.G.setTimeout(function(){J_(k)},R.iS))}}).css("overflow","");K_(this,g);e&&!this.$el.hasClass("holding")&&L_(this,g)}.bind(this))};
f.b7=function(a,b,c,d){function e(a,b){return function(){E_(a,b)}}ph();a=this.Ka[c];b=this.Ka[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.Ka.splice(d,0,this.Ka.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.Ka[c],a.$el.hasClass("dragging")||(b=F_(this,c),a.$el.animate({top:b},R.Aa.nX,e(a,b)));L_(this,d)};
f.oX=function(){ph();this.Cf=this.Cf||this.model.Gb().length;this.$el.addClass("holding");this.model.Gb().length<=R.ay&&(this.$("#addNewPage").removeClass("off"),G_(this))};f.f7=function(){J_(this)};function J_(a){a.Cf&&!a.$el.hasClass("modifying")&&(a.Cf=0,a.Wj=0,K_(a,0,!0),a.$el.removeClass("holding"))}
function G_(a){if(!Mz){var b=gT(),c=a.Ka[0],d=N_(c),e=O_(c),g;d.j()<=b.j()?(g=b.F()+Math.round((b.j()-d.j())/2),a.$el.children(".inner").css("width","")):(g=50,a.$el.children(".inner").css("width",g+e.j()+g));var h=Math.abs(cv(a.model.ib()))*W;a.Ka.forEach(function(b,c){c=F_(a,c);M_(b,g+h,c)});var e=O_(c),c=a.$("#addNewPage"),k=c.is(".off")?450:220,k=Math.max(e.j(),k),e=e.F()-h;k>d.j()&&(e=(b.j()+2*b.F()-k)/2);c.css("top",F_(a,a.Ka.length)).css("left",e).css("width",k)}}
function F_(a,b,c){var d=D_.EJ(a.model.ib(),a.sw(),a.Ib)*W;void 0===c&&(c=a.model.Gb().length);a.Cf&&(c=a.Cf);var e=gT(),g=Math.round(R.Qt*W);c=H_(a,c);var h=e.w();Mz||a.Zf?h=0:c<=e.o()&&(h+=(e.o()-c)/2);return h+(d+g)*b}function H_(a,b){var c=D_.EJ(a.model.ib(),a.sw(),a.Ib)*W;void 0===b&&(b=a.model.Gb().length);a.Cf&&(b=Math.max(a.Cf,b));var d=W,e=a.$("#addNewPage");b=b*c+(b-1)*R.Qt*d;a.model.tc.Hs&&!$("body").hasClass("blockDocument")&&(b+=R.Qt*d+e.outerHeight());return Math.round(b)}
function P_(a,b){var c=gT(),d=H_(a);if(d>c.o()){var e=a.$el.prop("clientHeight"),d=F_(a,0)+d+(e-c.ua());a.Zg>c.o()&&(d+=c.j()/6)}else d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:R.Aa.fk,al:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function K_(a,b,c){var d=D_.EJ(a.model.ib(),a.sw(),a.Ib);void 0===b&&(b=0);void 0===c&&(c=0<a.Cf);P_(a,c);var e=0;a.Cf&&b==a.model.Gb().length?(c=(a.Wj||a.Cf)-b,a.Wj!=c-1&&(c=a.Wj+1,a.Wj=b),e+=(d+R.Qt*W)*c,a.Wj=c):a.Wj&&(c=a.Wj,e+=(d+R.Qt*W)*c);a.$("#addNewPage").animate({top:F_(a,a.Ka.length)+e},{duration:R.Aa.fk,al:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.Ka.forEach(function(a,b){var c=F_(this,b)+e;b=c+d;!this.Cf&&!this.Wj||b>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:R.Aa.fk,al:"easeOutSine",queue:!1,complete:function(){E_(a,c)}}):E_(a,c)},a);a.G.setTimeout(function(){for(var b=0;b<a.Ka.length;b++)a.Ka[b].$el.removeClass("transitioning")},R.Aa.fk)}
function L_(a,b){b=Math.max(0,Math.min(a.Ka.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.Ka.length-1)c=gT(),c=F_(a,a.model.Gb().length)+a.$("#addNewPage").height()-c.ua();else{b=F_(a,b);var d=b+a.Zg,e=a.$el.prop("clientHeight"),e=c+e,g=R.jD;e<d?c+=d-e+g:c>d&&(c-=c-b+g)}a.mJ||c==a.$el.scrollTop()||(a.mJ=!0,a.$el.animate({scrollTop:c},R.Aa.fk,"easeOutSine",function(){a.mJ=!1}))}
f.JA=function(a){var b;b=b||this.model.Ba();var c=gT(),d=O_(this.Ka[b.K()]).scale(1/W);b=d.j();d=d.o();this.pf.fill=Math.max(c.j()/b,this.pf["10%"]);this.pf[FU]=d*this.pf.fill>c.o()?Math.max(c.o()/d,this.pf["10%"]):this.pf.fill;c=this.Zf?FU:this.OI;b=this.model.Ba();var e=O_(this.Ka[b.K()]).scale(1/W),d=e.j(),e=e.o();a=a&&"PIXELS"!==this.model.Nj();if(Mz||0===d||0===e)c=iz["100%"];yz(this,c,b,a)};function oz(a,b){a.Zf=b;a.JA()}
function iE(a,b){for(var c=0;c<a.Ka.length;c++)if(a.Ka[c].model==b)return a.Ka[c].pa();return null}
function yz(a,b,c,d){c=c||a.model.Ba();a.$el.addClass("zooming");c=a.Ka[c.K()];a.OI=a.Zf?a.OI:b;var e=W=a.pf[b];a.Kr=Math.round(R.Qt*e);a.Zg=Math.round(N_(c).o());TP();T.trigger("documentView:zoom",b,e);G_(a);P_(a,!1);b=gT();e=a.$el.children(".inner").width();c=eh(c);e>b.j()&&(e=Math.round(c.F()+c.j()/2),e=Math.round(e-b.F()-b.j()/2),c.j()<b.j()&&(e+=(b.j()-c.j())/2),a.$el.scrollLeft(e));!d&&H_(a)>b.o()&&(d=Math.round(c.w()+c.o()/2),a.ZO=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(d-b.ua()/
2)));a.model.ja().forEach(function(a){a.$a()});iK(yc(a.i),Ac(a.i));a.$el.removeClass("zooming")}function wz(a){return Q_(a,function(a){return a[1]},function(a){return a[1]>W})}function xz(a){return Q_(a,function(a){return-1*a[1]},function(a){return a[1]<W})}function Q_(a,b,c){if(b=_.chain(a.pf).pairs().sortBy(b).find(c).value())return yz(a,b[0]),b[0]}function I_(a){a.$el.focus().blur();window.getSelection().removeAllRanges()}
function pz(a,b){a.$el.find(".inner").scrollTop(a.$el.find(".inner").scrollTop()+a.$el.find(".page").eq(b).position().top);Pp(a.model,b)}f.Ba=function(){var a=Xp(this.model);if(a>=this.Ka.length)throw Error("No page view exists for selected page index "+a+".");return 0<=a?this.Ka[a]:null};function oh(a){return a.Ba()||a.Ka[0]}f.ki=function(a){this.$el.toggleClass("document--printMarkingsEnabled",a);this.Ka.forEach(function(b){b.ki(a)})};f.sw=function(){return this.$el.hasClass("document--printMarkingsEnabled")};
function ch(a,b){var c=a.$el.offset(),d=c.left-a.$el.scrollLeft();a=c.top-a.$el.scrollTop();return b.clone().translate(-d,-a)}function eD(a,b){b=b.K();if(0>b||b>=a.Ka.length)throw Error("No page view exists for selected page index "+b+".");return a.Ka[b]}f.RH=function(a){this.Ib=a;this.Ka.forEach(function(b){b.RH(a)})};function Fp(){}Fp=Zy.extend();Fp.prototype.initialize=function(a){this.l=a.l;this.tg=a.tg;this.Ie=a.Ie;this.anchor=a.anchor;this.sD=a.sD;this.zC=a.zC;this.oZ=0;a=_.extend({},{ro:!0,position:"topLeft",Kf:{left:10,top:-14}},a);Zy.prototype.initialize.call(this,a);0<this.zC?this.listenTo(this.Ie,"session:sync",this.kV):R_(this)};Fp.prototype.kV=function(a){2==a&&(a=0===$(".modalContent").length,this.oZ++,a&&this.oZ>=this.zC&&(R_(this),this.stopListening(this.Ie,"session:sync",this.kV)))};
function R_(a){a.li(a.anchor);S_(a);a.l&&a.l.track("dialog_show",{type:a.tg,section:"editor",subsection:"header",location:"publish_pop_over"})}function S_(a){a.anchor.one("click",function(){a.l&&Yl(a.l,a.sD,"header",a.tg+"_dialog")})}Fp.prototype.Ep=function(){return T_};Fp.prototype.remove=function(){this.l&&Zl(this.l,this.tg,"header","publish_pop_over");rp.prototype.remove.call(this)};function U_(a,b,c){this.context=a;this.active=!!c;this.oc=b}U_.prototype.getContext=function(){return this.context};
function V_(a){switch(a.context){case "PUBLIC_STREAM":return a.oc.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.oc.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.oc.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":case "MARKETPLACE_TEXT":return a.oc.format("editorControlsPublicationMarketplace");case "PUBLICLY_REMIXABLE":return a.oc.format("editorControlsPublicationPubliclyRemixable");default:throw Error("Unknown PublicationContext "+
a.context);}}
function W_(a){switch(a.context){case "PUBLIC_STREAM":return a.oc.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.oc.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.oc.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.oc.format("editorControlsPublicationMakeActivePublishAsLayout");case "MARKETPLACE_TEXT":return a.oc.format("editorControlsPublicationMakeActivePublishAsGroup");case "PUBLICLY_REMIXABLE":return a.oc.format("editorControlsPublicationMakePubliclyRemixable");
default:throw Error("Unknown PublicationContext "+a.context);}}U_.prototype.toggle=function(a){return new U_(this.context,this.oc,void 0!==a?a:!this.active)};var X_={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},Y_={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout",MARKETPLACE_TEXT:"switchPublishText",PUBLICLY_REMIXABLE:"switchMakePubliclyRemixable"};function Z_(){}Z_=Zy.extend({className:"docPublisherPopOver"});Z_.prototype.initialize=function(a){Zy.prototype.initialize.call(this,_.defaults(a,{Kf:{top:-4}}));this.oc=a.oc};
function $_(a,b){function c(a,c){return new U_(b[c].getContext(),d.oc,IV(a))}var d=a,e=b.map(function(a){return new HV({on:a.active})}),g=e.map(function(a,c){var e=$(d.C9({label:W_(b[c])}));e.addClass(Y_[b[c].context]);a.render().$el.appendTo(e);return e}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(e.map(c)):b(new a0)})})}Z_.prototype.VE=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
Z_.prototype.C9=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function b0(a){var b=this;this.l=a.l;this.document=a.document;this.Ra=a.Ra;this.oa=a.getSession();this.kc=a.kc;this.rd=a.rd;this.oc=a.oc;this.sL=vh(a.Vi);this.VX=this.sL.map(function(c){var d=a.Vi.rg.get("activePublicationContexts",[]);return new U_(c,b.oc,0<=d.indexOf(c))});this.U7=c0(this);this.Z9=d0(this);this.hJ=null;this.Gi=a.Vi.XL();this.gu=a.gu;this.Ah=a.Ah}f=b0.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;
f.stopListening=Backbone.Events.stopListening;f.GJ=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error(this.oc.format("editorControlsPublishErrorNoContent"))):P.resolve(a)};function e0(a){return[].concat(a.VX).map(Object.freeze)}
f.mR=function(a){var b=this,c=e0(this).slice().sort(function(a,b){return sh.indexOf(a.context)-sh.indexOf(b.context)}),d=a.slice().sort(function(a,b){return sh.indexOf(a.context)-sh.indexOf(b.context)});this.trigger("processingStateChange",!0);return Rz(1E3).then(function(){return f0(b,d,c)}).tap(function(a){return g0(b,a)}).then(function(a){return a.map(function(a,b){return a?a:c[b]}).sort(function(a,c){a=b.sL.indexOf(a.getContext());c=b.sL.indexOf(c.getContext());return a-c})}).then(function(a){return b.VX=
a.slice()}).finally(function(){return b.trigger("processingStateChange",!1)})};function h0(a){var b=(new gD).Ux(!0);return a.Gi?CE(Bb,a.Gi,b).then(function(a){return a.Ja().zf()}):null!==a.Gi?P.resolve("PENDING_REVIEW"):P.resolve(null)}function c0(a){var b={};b.PUBLIC_STREAM=a.Ws.bind(a);b.TEAM_STREAM=a.AJ.bind(a);b.TEAM_TEMPLATE=a.CC.bind(a);b.MARKETPLACE_LAYOUT=a.V7.bind(a);b.MARKETPLACE_TEXT=function(){return i0(a).then(a.W7.bind(a))};b.PUBLICLY_REMIXABLE=a.T7.bind(a);return b}
function d0(a){var b={};b.PUBLIC_STREAM=a.Mx.bind(a);b.TEAM_STREAM=a.BJ.bind(a);b.TEAM_TEMPLATE=a.NC.bind(a);b.MARKETPLACE_TEXT=function(){return P.resolve()};b.MARKETPLACE_LAYOUT=function(){return P.resolve()};b.PUBLICLY_REMIXABLE=a.Y9.bind(a);return b}f.AJ=function(){return this.oa.Ws("BRAND")};f.Ws=function(){return this.oa.Ws("GLOBAL").tap(function(){var a=this.l;a.track("design_public",{design:this.oa.hc(),template:a.Ti})}.bind(this))};
f.T7=function(){var a=Xq(Vq(this.oa.hc()),new or({fX:"SET",lj:"REMIXER".toString()}));return Dq(this.Ra,a)};f.CC=function(){return this.oa.CC().tap(function(){var a=this.l;a.track("design_templatify",{design:this.oa.hc(),template:a.Ti})}.bind(this))};f.BJ=function(){return this.oa.Mx("BRAND")};f.Mx=function(){return this.oa.Mx("GLOBAL").tap(function(){var a=this.l;a.track("design_private",{design:this.oa.hc(),template:a.Ti})}.bind(this))};
f.Y9=function(){var a=Xq(Vq(this.oa.hc()),new or({fX:"SET",lj:"NONE".toString()}));return Dq(this.Ra,a)};f.NC=function(){return this.oa.NC().tap(function(){var a=this.l;a.track("design_untemplatify",{design:this.oa.hc(),template:a.Ti})}.bind(this))};
function j0(a,b,c,d,e,g){if(IT(a.document.sb()))return P.reject(new k0("You cannot publish an untitled design as a layout - please title your design."));var h=new l0({workflow:b,typeDescription:d,document:a.document,availableLocales:a.gu,userLocale:a.Ah,showProgress:e,keywords:g});return new P(function(d,e){function g(b,e){"submitted"==e&&d(new U_(c,a.oc,!0))}b.on("change:state",g);h.on("remove",function(){b.off("change:state",g);e(Error("No action specified"))});h.show()})}
f.W7=function(){var a=new m0({oa:this.oa,document:this.document,kc:this.kc}),a=new n0(a.submit.bind(a),["text"]),b=this.document.fonts.slice();return j0(this,a,"MARKETPLACE_TEXT","text group",!1,b)};
function i0(a){var b=[];1<a.document.ic()&&b.push("Text groups cannot be more than one page.");var c=a.document.ja().filter(function(a){return a.kb()}).filter(function(a){return!uC(a)}),d=a.document.ja().filter(function(a){return!a.kb()}).filter(function(a){return!uC(a)});1===c.length&&0===d.length||b.push("All elements must be in the same group.");(c[0].o()>Vp(a.document)||c[0].j()>Wp(a.document))&&b.push("Text groups cannot be taller or wider than the page. This includes the boundaries of each element, and not just the visible parts.");
0<a.document.fonts.slice().filter(function(a){return void 0!==CA(a)}).length&&b.push("Text groups do cannot include uploaded custom fonts.");var e=uh("#000000");a.document.ja().filter(function(a){if(a.Bd())return a.ab().filter(function(a){return a===kB||a instanceof on&&!a.equals(e)}).length}).length&&b.push("Only black color is allowed.");0<a.document.ja().filter(function(a){return!a.kb()}).filter(function(a){return!(a instanceof Rp)&&!(a instanceof ZB)&&!(a instanceof hp)&&!(a instanceof aC)&&!(a instanceof
bC)}).length&&b.push("Only text elements are currently supported.");0<a.document.ja().filter(function(a){return a.kb()}).filter(function(a){return 0!==a.Sa()}).length&&b.push("Rotated groups are not currently supported.");return 0<b.length?(a="Sorry, your text group could not be published. "+b.join(" "),P.reject(new k0(a))):P.resolve()}f.V7=function(){var a=new o0({oa:this.oa,document:this.document,kc:this.kc}),a=new n0(a.submit.bind(a));return j0(this,a,"MARKETPLACE_LAYOUT","layout",!0)};
function p0(a){var b=new Nt({wg:a.oa.hc(),version:a.oa.Xd(),tw:"MEDIUM"});return Jq(a.Ra,b)}function f0(a,b,c){var d=b.filter(function(a){return a.active}).map(function(a){return a.getContext()});return 0<d.indexOf("MARKETPLACE_LAYOUT")&&0<d.indexOf("MARKETPLACE_TEXT")?P.reject(new k0("Design cannot be both a layout and a text group.")):P.reduce(b,function(b,d,h){return q0(a,d,c[h]).then(function(a){return b.concat(a?d:null)})},[])}
function g0(a,b){!a.hJ&&0<b.filter(function(a){return a&&a.active}).length&&(a.hJ=p0(a).finally(function(){a.hJ=null}))}function q0(a,b,c){return b.active===c.active?P.resolve(!1):(a=b.active?a.U7[b.getContext()]:a.Z9[b.getContext()])?a().then(function(){return!0}):P.resolve(!1)}function k0(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}k0.prototype=Object.create(Error.prototype);k0.prototype.constructor=k0;
function a0(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}a0.prototype=Object.create(Error.prototype);a0.prototype.constructor=a0;function o0(a){this.oa=a.oa;this.kc=a.kc;this.document=a.document}
o0.prototype.submit=function(a){var b=this.document.bg();if(!b)throw Error("no locale");var c=aK().GI(b);a.forEach(function(a){var e="PAID"===a.price?YJ:XJ,g="PAID"===a.price?"STANDARD":"FREE",h=(a.keywords||[]).map(function(a){return new SE(b||"",a)});$J(c,dK(cK(a.media).Ck(a.version),a.title).c_(a.description).FI(h).MR(e).NR(g))});PJ(this.kc,this.oa.hc(),this.oa.Xd(),c,function(a){if(200!=a)throw Error("success not indicated");ON()},this.document.ib().u())};function m0(a){this.oa=a.oa;this.kc=a.kc;this.document=a.document}m0.prototype.submit=function(a){Ca(0===a.length,"Cannot publish text groups containing new media (not yet implemented).");w(this.document.bg(),"The document requires a locale.");Fa(this.document.nl().some(function(a){return"text"===a.toLowerCase()}),'The document requires the "text" keyword.');a=new KJ({id:this.oa.hc(),version:this.oa.Xd()});QJ(this.kc,new LJ({document:a,locale:this.document.bg()}))};function n0(a,b){iT.call(this,[{name:"start",from:"none",to:"pricing"},{name:"price",from:"pricing",to:"pricingChildren"},{name:"price",from:"pricingChildren",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"success",from:"submitted",to:"completed"},{name:"error",from:"pricing",to:"failed"},{name:"error",from:"pricingChildren",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",
to:"failed"},{name:"error",from:"failed",to:"failed"}]);this.document=J;this.x9=a;this.e0=b||[];this.MJ=[]}n0.prototype=new iT;n0.prototype.start=function(){this.ng.start()};function r0(a,b){b.title&&JT(a.document.sb(),b.title);b.keywords&&Up(a.document,_.union(b.keywords,a.e0));b.locale&&a.document.setLocale(b.locale);Rz(R.by).then(function(){a.ng.transition("price")},function(b){a.ng.transition("error");throw b;})}n0.prototype.LP=function(){this.ng.transition("review")};
function s0(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}a=gq(a.document).map(function(a){return a.id});0===a.length?b&&b([]):(a=YE((new XE).Mt(!0).Kt(!1),[Ng,Pg]).e_().LR(a),xE(Bb,a,c))};function t0(a,b){return a.rg.get("editorActions",[]).map(function(a){return(a=u0[a]||null)?a(b):null})}
function v0(a,b){function c(){a.l.wa(X(new fm("share_button_user_input_focus"),"location","editor"))}function d(){function b(a){return new w0({RE:k,Xi:l,kf:e,ZH:!1,cj:I},a)}var c=a.H.get(new Kf("ie",!1)),d=Oc(a.i),e=Gd(a.i),g=Qx(Nx(a.Ia))+Px(Nx(a.Ia))+m,h=a.W.H.get(ag)-g;if(c&&!(0>=h)){var c=new x0({aa:a.aa,D:Nx(a.Ia).ia(),pE:Am,NA:y0(a.ld),X:a.X,cc:a.cc,Oe:Nx(a.Ia).getSubscription(),kr:Ox(a.Ia).rb(),Vo:Yc(a.i)}),k=new z0({Pd:$c(a.i)}),l=new A0,I={xK:3,qK:g,xl:a.W.H.get(ag),lG:5},d=B0({Y:d,kf:e,kK:b,
l:a.l,cj:I,At:c});$("body").append(d.view.$el);d.Ab.Fe();d.Ab.show()}}a.getSession().save();var e=C0(a.W.Je(),a.document,a.af.getKeys()),g=a.H.get(new Kf("iq",!1)),h=D0({i:Oc(a.i)}),k,l=null;g?k=E0({Pd:$c(a.i),Y:Oc(a.i),Gj:oc(a.i),ta:Nx(a.Ia).ia().u(),X:a.X,uq:c}):(l=F0({Jf:Oe(Oc(a.i)),X:a.X,D:Nx(a.Ia).ia(),oq:!0,wC:!0,Gj:oc(a.i)}),l.view.on("focus",c));b=G0({El:EV(a.getSession().hc()),G:a.G,W:a.W,et:e.et,Pm:l&&l.view,Iu:k&&k.view,pu:h.view,i:a.i,lc:b});var m=0;b.once("remove",function(){0<m&&d()});
return H0({xw:Bh(a.config).CQ,IA:I0,nb:a.getSession().hc(),Zb:a.getSession().Xd(),jz:a.document.isEmpty(),Ia:a.Ia,kj:e,q3:a.W.H.get(pg),xl:a.W.H.get(ag),l:a.l,Ra:a.Ra,Je:a.W.Je(),X:a.X,rd:a.rd,cc:a.cc,aa:a.aa,fb:a.fb,dc:a.dc,ub:a.ub,Zr:l,lu:function(b,c){var d=a.getSession().hc(),e=a.document.Gb()[0].j(),g=a.document.Gb()[0].o(),h=soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.config.rg.get("embedScriptUrl",""));b=soydata.VERY_UNSAFE.ordainSanitizedHtml(uf(pd(a.i),a.document.sb()?_.escape(PO(a.document.sb())):
_.escape(pd(a.i).format("newLightboxUntitled")),FV(a.getSession().hc(),null,"link","embeds"),location.protocol+"//"+location.host+("/"+encodeURIComponent(c))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(b)));var k;k=k||{};soy.asserts.assertType(h instanceof soydata.SanitizedTrustedResourceUri||h instanceof soydata.UnsanitizedText||goog.isString(h),"embedScriptUrl",h,"soydata.SanitizedTrustedResourceUri");
soy.asserts.assertType(goog.isNumber(g),"thumbnailHeight",g,"number");soy.asserts.assertType(goog.isNumber(e),"thumbnailWidth",e,"number");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"designId",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"byLineHtml",b,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+
soy.$$escapeHtmlAttribute(Math.round(g/e*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(d)+'" style\x3d"'+(k.Yb?"/*"+k.Yb+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(g/e*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(h))+'"'+(k.Yb?' nonce\x3d"'+k.Yb+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(b)).toString()},mo:a.mo,Do:au(a.getSession()),
$Z:a.getSession().context.$u().rl(),Rr:a.getSession().context.$u().VU(),i:a.i,G:a.G,ou:h.Ab,sa:a.sa,ud:J0({document:a.document,Kb:a.getSession()}),view:b,H:a.H,In:function(){m++},bl:k&&k.Ab})}function C0(a,b,c){if(!a)return{et:!1,DI:!1};var d,e;try{e=b.serialize();d=Gr(e);var g=K0(d,c),h=g.some(function(a){return a.level===L0}),k=g.some(function(a){return a.level===M0});return{et:!h,DI:k}}catch(l){return{et:!1,DI:!1}}}
var u0={UPGRADE:function(a){var b=new N0({oc:Cc(a.i)});b.on("click",function(){var b=O0(a.ld),d=Nx(a.Ia).ia(),e=P0({aa:yb,X:Cb,l:a.l,D:d,jk:b,Sp:Q0,fb:a.fb,px:!1,Br:!1,Ki:!!a.Ki,cp:!!a.cp,i:a.i,H:a.H,Ia:a.Ia,W:a.W});e.on("signup",function(){window.location=e.gH});e.show()});return b},SHARE:function(a){var b=Cc(a.i),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{click:function(){a.l.wa(X(new fm("share_button_click"),"location","editor"));v0(a).show()}}});c.$el.text(b.Yl());
return c},EXPORT:function(a){var b,c;b=Cc(a.i);c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:function(b){var c={model:a.document,W:a.W,Zd:-1!==["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(a.config.qh()),Il:function(){var b=v0(a,R0);S0(b);b.show()},l:a.l,Vc:a.Pk,sa:a.sa,Kb:a.getSession(),aa:a.aa,rd:a.rd,dc:a.dc,fb:a.fb,X:a.X,ub:a.ub,cc:a.cc,Ia:a.Ia,ld:a.ld,i:a.i,G:a.G,Xb:a.Xb,Ej:new ZZ({l:a.l}),ud:J0({document:a.document,Kb:a.getSession()}),kj:C0(a.H.get(e_.YR),
a.document,a.af.getKeys()),Hh:a.config.rg.get("animatorUrl",null),H:a.H,vc:a.vc,pd:a.pd,La:a.La};(new e_(c)).li($(b.target));a.l.track("download_button_click",{section:"editor",location:"menu_bar"})}}});b=b.download();c.$el.text(b);return c},PRINT:function(a){var b=T0({sr:function(a){return(new co(a)).render()},l:a.l,aa:a.aa,ta:Nx(a.Ia).ia().id,Ra:a.Ra,ee:a.document.ib(),Ui:a.Ui,dh:function(){return Rz(R.by)},Wu:Dm(),$r:a.W.$r(),ih:function(){return a.document.ic()},Vm:function(){return new U0(K.$el)},
wc:function(){return new V0({id:a.getSession().hc(),version:a.getSession().Xd()})},UU:function(){return PO(a.document.sb())},cv:function(){var a=function(){var a=[];J.ja().forEach(function(b){var c=b.R()?b.R().K():-1;switch(b.constructor){case cC:case hp:b.Wa.forEach(function(b){b instanceof YB&&!b.isEmpty()&&b.Nb()&&a.push({Qs:c,yJ:b})});break;case ZB:b.Nb()&&a.push({Qs:c,yJ:b})}});return a}();return function(a){return new P(function(b){iL(vb,a,!1,b)})}(function(a){a=a.map(function(a){return a.Nb()});
return _.uniq(a,!1,function(a){return a.u()+":"+a.getVersion()})}(a.map(function(a){return a.yJ}).filter(function(a){a=a.Nb();a=vb.Hc(a.u(),a.getVersion());return!a||!a[$C]||!a[YC]}))).then(function(){return a.map(function(a){var b=a.yJ,c;c=b.Nb();c=vb.Hc(c.u(),c.getVersion());return{pG:{gS:c[$C],ey:c[YC]},Ea:b.ag?b.ag():b.Wm(),Qs:a.Qs}})})},Jp:function(){return W0()},fA:function(){K.$el.removeClass("document--canPrintOnePage").removeClass("document--canPrintTwoPages")},rA:function(b,c){return X0(a.document,
b,c)},Ze:Nx(a.Ia).ia().Vh(),i:a.i,$A:function(){K.JA()},La:a.La,Pl:function(b){var c=new Map([["realEstateFlyer","TACQ-ujqN6g"],["posterUS","TACQ-oYd_9A"],["businessCard","TACQ-vRWTmU"],["a4","TACQ-j4WGew"],["poster","TACQ-jGq9fY"]]),g=b.id;if(null==g)throw Error("The doctype to resize must have an id");c=c.get(g);if("T"!==g[0]&&null==c)throw Error("Unexpected doctype with deprecated id format: "+g);CV({doctype:b,Wk:new Ws({id:c||g,version:1}),Eb:a.document,jd:M})},O8:Cc(a.i).print(),qk:function(a){K.RH(a)},
ki:function(a){K.ki(a)},ix:function(a){var b=K;Fa(1===a||2===a,'pageCount can be either 1 or 2 but found "{}"',a);1===a?b.$el.removeClass("document--canPrintTwoPages").addClass("document--canPrintOnePage"):2===a&&b.$el.removeClass("document--canPrintOnePage").addClass("document--canPrintTwoPages")},fb:a.fb,fm:!!a.W.H.get(tg),ce:Ox(a.Ia)}),c=new Backbone.View;c.setElement(b.view.$el);a.document.on("change",function(){b.Ab.mO();b.Ab.fO();b.Ab.$N()});a.document.on("resize",function(){var c=a.document.ib();
Y0(b.Ab,c)});return c}};u0.PUBLISH_TO_STREAM=function(a){function b(){return e0(l).filter(function(a){return a.active}).sort(function(a,b){a=X_[a.getContext()]||0;b=X_[b.getContext()]||0;return a===b?0:a>b?-1:1})[0]}function c(a){null!==a&&(a===JE?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),ON()))}function d(b){var c=Cc(a.i);b instanceof Error||(b=Error(c.format("editorControlsErrorFlippingSwitch")));(new Xy({title:c.format("editorControlsPublishErrorTitle"),content:$("\x3cp\x3e"+
b.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}function e(b){var c=Cc(a.i),e=e0(l).map(function(a,d){return new U_(a.getContext(),c,b&&0===d?b:a.active)}),h=new Z_({Ue:c.format("editorControlsPublicationSaveChanges"),oc:c}),k=h.remove.bind(h);return $_(h.li(m.$el),e).then(l.GJ.bind(l)).then(l.mR.bind(l)).finally(g).tap(k).catch(a0,k).catch(d)}function g(){var a=b()||e0(l)[0];if(a){n=!0;try{var c=m,d=V_(a);c.bk=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}
function h(a){var b=e0(l).map(function(b){return b.toggle(a)});return l.GJ(b).then(l.mR.bind(l)).finally(g).catch(d)}var k=vh(a.config),l=new b0({l:a.l,getSession:a.getSession,document:a.document,Ra:a.Ra,kc:a.kc,rd:a.rd,oc:Cc(a.i),gu:a.gu,Vi:a.config,Ah:Ox(a.Ia).bg()}),m=function(){var a=e0(l),c=a[0],d=b()||c;(a=d?new HV({on:d.active,bk:V_(d),Fl:W_(c),fu:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&
h0(l).then(c);m.on("toggle",function(a){var b=e0(l),c=1<b.length?e:h;m.fu=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){ub&&ub.save();m.fu||e()});l.on("processingStateChange",function(a){m.$el.toggleClass("switchProcessing",a)});a.mo.on(Z0,function(){var a=e0(l).map(function(a){return"PUBLIC_STREAM"===a.getContext()?a.toggle(!0):a});return l.GJ(a).then(l.mR.bind(l)).finally(g).catch(d)});return m};function N0(){}N0=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});N0.prototype.initialize=function(a){this.oc=a.oc};N0.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};N0.prototype.render=function(){this.$el.html(this.template({upgrade:this.oc.Nx()}));return this};N0.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function MO(){}MO=Backbone.View.extend({el:"#editorControls"});
MO.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.YQ);this.listenTo(this.model,"resize",this.YQ);this.listenTo(this.model,"change",this.U1);this.listenTo(T,"documentView:scroll",this.X1);this.listenTo(T,"documentView:copyDocument",this.xT);this.listenTo(T,"session:sync",this.$P);this.listenTo(T,"documentSaveRequested",this.xW);this.W=a.W;this.Ag=a.Ag;this.Vi=a.Vi;this.oa=a.oa;this.Du=2;this.SK=!1;this.ys=Date.now();this.sI=a.sI;this.fJ=a.fJ;this.eK=a.eK;this.i=a.i;this.Pk=
a.Pk;this.l=a.l;this.XM=this.BD=!1;this.render();$0(this)};MO.prototype.events=function(){return{"click #documentFileMenuButton":this.J0,"click #documentTitle .content":this.P0,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"click #documentFileMenuUndoButton":this.O0,"click #documentFileMenuRedoButton":this.M0,"click #documentFileMenuResizeButton":this.N0,"click #editorHelpMenuButton":this.K0,"click #editorLogo":this.L0}};
function a1(){var a=Tb;a.XM=!0;AV(a,a.Du)}function TN(){var a=Tb;a.$el.addClass("blockEditorControls");a.BD=!0}MO.ST=function(){$(".helpMenuButton").remove();MO.d3=!0};MO.Q1=function(){$("#yourDesigns").remove();MO.q$=!0};MO.W8=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);MO.fZ=a};MO.CM=function(){return void 0!==MO.fZ};f=MO.prototype;f.remove=function(){this.undelegateEvents();this.stopListening();return this};
f.render=function(){this.YQ();MO.d3&&this.$(".helpMenuButton").remove();MO.CM()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(MO.fZ));MO.q$&&this.$("#yourDesigns").remove();this.fJ.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};f.J0=function(a){this.l.track("editor_menu_file_clicked");b1(this,$(a.target))};
function b1(a,b){var c=a.eK();c.li(b);a.listenTo(c,"documentSaveRequested",a.xW);a.listenTo(c,"documentResizeRequested",a.Pl);a.listenTo(c,"documentCopyRequested",a.xT);a.listenTo(c,"createNewDesign",a.c5);return c}f.P0=function(a){MO.CM()||(new z_({model:this.model,i:this.i})).li($(a.currentTarget))};f.O0=function(){$("#documentBlocker").hasClass("on")||AK()};f.M0=function(){$("#documentBlocker").hasClass("on")||zK()};
f.N0=function(){this.l.track("editor_menu_magic_resize_click",{magicResizeIsEnabled:this.W.xN()});if(this.W.xN())b1(this,this.$("#documentFileMenuResizeButton")).Fg.show();else{var a=this.Pk;a.l.wa(om());Oo(a,Ro)}};f.K0=function(){this.l.track("editor_menu_help_clicked")};f.L0=function(){-1!=th.indexOf(this.Vi.qh())&&U&&em(U,"minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};function cV(a){a.$("#primaryNavigation").removeClass("undoDisabled")}
function dV(a){a.$("#primaryNavigation").removeClass("redoDisabled")}function gV(a){0<M.jd.length?cV(a):(a.$("#primaryNavigation").addClass("undoDisabled"),a.$("#documentFileMenuUndoButton").blur());0<M.yw.length?dV(a):(a.$("#primaryNavigation").addClass("redoDisabled"),a.$("#documentFileMenuRedoButton").blur())}f.U1=function(){gV(this)};f.X1=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};
f.YQ=function(){var a=this.model.sb();MO.CM()||(this.$("#documentTitle .content").text(PO(a)),this.sI&&this.sI(PO(a,{j3:!0})))};f.$P=function(a){var b=this;2===a&&(this.ys=Date.now());this.Du=a;this.SK||(AV(this,a),window.setTimeout(function(){b.Du!==a&&AV(b,b.Du);b.SK=!1},600),this.SK=!0)};
function AV(a,b){var c=Cc(a.i),d=$("#documentSyncStatus");a.XM?(d.addClass("offline"),d.text(c.format("editorControlsOffline"))):(d.removeClass("offline"),a.BD?0===b&&null!=a.oa.mm&&d.text(ae(c)):0===b&&null!=a.oa.mm?d.text(ae(c)):1===b?d.text(c.format("editorControlsSaving")):2===b?d.text(c.format("editorControlsAllChangesSaved")):d.text(""))}f.xW=function(){this.oa.save();this.BD||null==this.oa.mm||this.oa.aj()||(this.$P(1),this.$P(2))};
f.c5=function(){this.l.track("exp_editor_menu_new_design_create_click");window.open("/create-a-design","_blank")};f.Pl=function(a,b){CV({doctype:a,Wk:b,Eb:this.model,jd:M})};f.xT=function(){var a=this.oa.hc(),b=au(this.oa),c=PO(this.model.sb()),c=mc(this.i).format("documentCopyDesignTitle",c);c.length>R.Jo&&(c=c.substring(0,R.Jo));window.open(DV(a,"remix",b)+"?title\x3d"+encodeURIComponent(c),"")};
function $0(a){function b(){b1(this,this.$("#documentFileMenuButton")).Fg.show();this.Ag.sa.removeItem(Mo)}Ko(a.Ag)&&ol.setTimeout(b.bind(a),1500)};function GU(){}GU=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')});
f=GU.prototype;f.initialize=function(a){this.Vk=a.Vk;this.i=a.i;this.listenTo(this.model,{"page:change:selected":this.render});this.PA=this.PA.bind(this);this.vE=this.vE.bind(this);this.TE=this.TE.bind(this);this.Vk.$el.on("mousedown",this.PA);this.Vk.$el.on("touchstart",this.vE);this.Vk.$el.on("touchend",this.TE);this.$el.html(this.template());this.render();this.$el.prependTo(this.Vk.$el.children(".inner"))};f.vM=function(a){(a=$(a.target).parents(".element").last().data("toolbar"))&&LD(a)};
f.events=function(){this.vM=_.debounce(this.vM,100);return{'keydown [contenteditable\x3d"true"]':this.vM}};f.remove=function(){Backbone.View.prototype.remove.call(this);this.Vk.$el.off("mousedown",this.PA);this.Vk.$el.off("touchstart",this.vE);this.Vk.$el.off("touchend",this.TE)};f.render=function(){this.model.ja().forEach(function(a){a.le&&a.Za()});return this};f.vE=function(){this.UV=!0};f.TE=function(){this.UV=!1};
f.PA=function(a,b){function c(a){n||a.shiftKey||ph();n=!0;var b=e(a)-q;a=g(a)-u;0>b&&x.css("left",v+b);0>a&&x.css("top",z+a);x.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(E).each(function(a,b){pV.call(b)});return!1}function d(a){I.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&r.forEach(lV);n&&(a=J.Va(),0===a.length?ph():1==a.length?(ph(),Kg(a[0])):iK(yc(h.i),Ac(h.i)))}function e(a){a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;
return a-=p.left}function g(a){a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;return a-=p.top}var h=this;if(h.UV||a.which==R.Eh||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img"),m=$(a.target).closest(".elements .element").data("canvaElement"),m=m&&m.Eg();if(!(k||l||m||b))return!0;if($(".toolbar__item--submenuExpanded, .colorPalette.on.toolbar--overlay").length)return T.trigger("hideContextualControlsRequested"),
!0;var n=!1,p=$("#canvaDocument").offset(),q=e(a),u=g(a);b=document.getElementById("canvaDocument");var v=q+b.scrollLeft,z=u+b.scrollTop,r=J.Va();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||ph();var x=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');x.css("display","none").css("left",v).css("top",z).appendTo(this.$el);var I=new mp($(document));I.on("mousemove|touchmove",c).on("mouseup|touchend",d);var E=$("#content .element");I_(h.Vk);a.preventDefault()};function c1(a){soy.asserts.assertType(goog.isString(a.hm)||a.hm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.hm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.im)||a.im instanceof goog.soy.data.SanitizedContent,"actionDelete",a.im,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.jm)||a.jm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.jm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.km)||
a.km instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.km,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.qn)||1===a.qn||0===a.qn,"isFirst",a.qn,"boolean");soy.asserts.assertType(goog.isBoolean(a.rn)||1===a.rn||0===a.rn,"isLast",a.rn,"boolean");soy.asserts.assertType(goog.isBoolean(a.tn)||1===a.tn||0===a.tn,"isPageNumMax",a.tn,"boolean");soy.asserts.assertType(goog.isNumber(a.iB),"pageNumber",a.iB,"number");soy.asserts.assertType(goog.isBoolean(a.Co)||1===
a.Co||0===a.Co,"toolbarDisabled",a.Co,"boolean");soy.asserts.assertType(goog.isBoolean(a.iC)||1===a.iC||0===a.iC,"showEmptyState",a.iC,"boolean");var b=!!a.iC;return soydata.VERY_UNSAFE.ordainSanitizedHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e')+d1({v:"page__bleedAreaLine"})+'\x3cdiv class\x3d"page__clipRegion"\x3e\x3cdiv class\x3d"page__content"\x3e\x3cdiv class\x3d"page__elements elements"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"page__overlays"\x3e\x3cdiv class\x3d"page__furniture"\x3e\x3c/div\x3e'+
d1({v:"page__safeAreaLine"})+(b?soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"page__emptyState page__emptyState--hidden"\x3e\x3cdiv class\x3d"page__emptyStateScale"\x3e\x3cdiv class\x3d"page__emptyStateImage"\x3e\x3c/div\x3e\x3cdiv class\x3d"page__emptyStateHeading"\x3eDrag and drop a \x3cdiv class\x3d"page__emptyState--highlight"\x3elayout\x3c/div\x3e here\x3c/div\x3e\x3cdiv class\x3d"page__emptyStateTagline"\x3eYou can change the photos, colors and text of any layout.\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'):
"")+'\x3c/div\x3e\x3cdiv class\x3d"page__editBlocker"\x3e\x3c/div\x3e'+e1(a))}
function e1(a){soy.asserts.assertType(goog.isString(a.hm)||a.hm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.hm,"string|goog.soy.data.SanitizedContent");var b=a.hm;soy.asserts.assertType(goog.isString(a.im)||a.im instanceof goog.soy.data.SanitizedContent,"actionDelete",a.im,"string|goog.soy.data.SanitizedContent");var c=a.im;soy.asserts.assertType(goog.isString(a.jm)||a.jm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.jm,"string|goog.soy.data.SanitizedContent");var d=a.jm;
soy.asserts.assertType(goog.isString(a.km)||a.km instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.km,"string|goog.soy.data.SanitizedContent");var e=a.km;soy.asserts.assertType(goog.isBoolean(a.qn)||1===a.qn||0===a.qn,"isFirst",a.qn,"boolean");var g=!!a.qn;soy.asserts.assertType(goog.isBoolean(a.rn)||1===a.rn||0===a.rn,"isLast",a.rn,"boolean");var h=!!a.rn;soy.asserts.assertType(goog.isBoolean(a.tn)||1===a.tn||0===a.tn,"isPageNumMax",a.tn,"boolean");var k=!!a.tn;soy.asserts.assertType(goog.isNumber(a.iB),
"pageNumber",a.iB,"number");var l=a.iB;soy.asserts.assertType(goog.isBoolean(a.Co)||1===a.Co||0===a.Co,"toolbarDisabled",a.Co,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"pageToolbar '+soy.$$escapeHtmlAttribute(a.Co?"disabled":"")+'"\x3e\x3cli class\x3d"pageToolbarUp '+soy.$$escapeHtmlAttribute(g?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+soy.$$escapeHtml(e)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown '+
soy.$$escapeHtmlAttribute(h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy '+soy.$$escapeHtmlAttribute(k?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete '+soy.$$escapeHtmlAttribute(g&&h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'"\x3e'+soy.$$escapeHtml(c)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e'+soy.$$escapeHtml(l)+"\x3c/li\x3e\x3c/menu\x3e")}
function d1(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.highlighted||goog.isBoolean(a.highlighted)||1===a.highlighted||0===a.highlighted,"highlighted",a.highlighted,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"page__printLine'+(a.highlighted?" page__printLine--highlight":"")+" "+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cdiv class\x3d"page__printLineInner"\x3e\x3c/div\x3e\x3c/div\x3e')}
;function D_(){}D_=Backbone.View.extend({tagName:"section",className:"page"});D_.P1=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");D_.e7=!0};f=D_.prototype;f.events=function(){return{"mousedown .page__elements":this.PN,"mouseout .pageToolbar":this.R3,"click .pageToolbarCopy.enabled":this.d1,"click .pageToolbarDelete.enabled":this.e1,"click .pageToolbarDown.enabled":this.f1,"click .pageToolbarUp.enabled":this.g1,click:this.W0}};
f.initialize=function(a){this.aP=null;this.Hq="";this.Os=a.Os;this.$O=a.$O;this.listenTo(T,"documentView:zoom",this.TK);this.listenTo(this.model,{change:this.q1,"change:background":this.QS,"change:selected":this.BY,"change:preview":this.K7,"element:add":this.g2,"element:move":this.i2,"element:remove":this.j2,resize:this.t8,willchange:this.s1,updateemptystate:this.oG});this.listenTo(this.model.Eb,{"page:add":this.RK,"page:move":this.RK,"page:remove":this.RK});this.render()};
f.render=function(){var a=this.model.Eb,b=this.model.K();this.$el.html(c1({hm:this.Os.hm(),im:this.Os.im(),jm:this.Os.jm(),km:this.Os.km(),iB:b+1,qn:!!a&&0==b,rn:!!a&&b==a.Gb().length-1,tn:!!a&&a.Gb().length>=R.ay,Co:!!D_.e7,iC:!(!Ib||!Ib.H.get(Cg))}).toString());this.TK();this.BY(0,Xp(a)===b);this.QS();return this};function rC(a){var b=parseFloat(a.$el.css("left"));a=a.$el.find(".page__content").position().left;return b+a}
function wC(a){var b=parseFloat(a.$el.css("top"));a=a.$el.find(".page__content").position().top;return b+a}f.dM=function(){return parseFloat(this.$el.css("left"))};function E_(a,b){a.$el.css("top",b)}function M_(a,b,c){a.$el.css("left",b);E_(a,c)}
f.PN=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-g;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-h;!k&&(Math.abs(b)>R.Ec||Math.abs(a)>R.Ec)&&(k=!0)}function c(){l.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!(k||0<e.Va().length)){var a=$p(e),d=aP(e);0!==d.length?Kg(d.pop()):0<a.length&&FK(a)}}function d(){var b=$(a.target).closest(".element.grid").data("canvaElement");return b&&b.Eg()}if(a.target===a.currentTarget||
0!==$(a.target).closest(".element.background.image").length||d()){var e=this.model;if(!(0<e.Va().length)){var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,k=!1,l=new mp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};f.W0=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.Eb;var b=jp(a,this.model);Pp(a,b)}};
f.g1=function(){var a=this.model.Eb;if(a){var b=this.model.K();1>b||(bq(a,this.model,b-1),M.register(new eO(5,{pageIndex:b-1,oldPageIndex:b})),I_(K))}};f.f1=function(){var a=this.model.Eb;if(a){var b=this.model.K();b>=a.Gb().length-1||(bq(a,this.model,b+1),M.register(new eO(5,{pageIndex:b+1,oldPageIndex:b})),I_(K))}};
f.d1=function(){T.trigger("pageView:copyButton:click");var a=this.model.K(),b=this.model.clone();bq(this.model.Eb,b,a+1);b=cO(this.model.serialize());b.pageIndex=a+1;M.register(new eO(1,b));I_(K)};f.e1=function(){T.trigger("pageView:deleteButton:click");var a=this.model.K(),b=cO(this.model.serialize());b.pageIndex=a;this.model.remove();M.register(new eO(2,b));I_(K)};f.R3=function(a){0==$(a.relatedTarget||a.toElement).closest(".pageToolbar").length&&T.trigger("pageView:toolbar:mouseout")};
f.s1=function(){this.Ts&&this.Ts.remove();this.Ts=this.$el.clone();this.Ts.addClass("doNotAnimate").insertAfter(this.$el)};f.q1=function(){var a=this;window.setTimeout(function(){a.$el.addClass("on").css("opacity","");a.Ts.remove()},800);this.Ts&&0<this.Ts.parents().length&&this.$el.css("opacity",1).removeClass("on").insertAfter(this.Ts)};f.QS=function(){this.model.Df()?this.$el.addClass("dark"):this.$el.removeClass("dark")};f.BY=function(a,b){this.$el.toggleClass("selected",b)};
f.g2=function(a,b,c,d){function e(){ph();g.removeClass("dropping");Kg(b);g.hasClass("text")&&pK(g,!0)}var g=b.C(),h=f1(this,b),h=h&&h.C();this.oG();c&&(g.one("animationend",e),b.setPosition((a.j()-b.j())/2,(a.o()-b.o())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof dC?g.appendTo(this.$el.find(".page__furniture")):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.find(".page__elements"));b.le=this.$el;b.$a()};
function f1(a,b){b=a.model.elements.indexOf(b);return a.model.ja().slice(b+1).filter(function(a){return!(a instanceof dC)&&!uC(a)})[0]}f.j2=function(a,b,c,d){var e=b.C();this.oG();b.uh();d?(e.addClass("disappearing"),P.delay(R.Aa.hL).then(function(){e.remove()})):e.remove()};f.i2=function(a,b){uC(b)||(a=b.C(),(b=f1(this,b))?a.insertBefore(b.C()):a.appendTo(this.$el.find(".page__elements")))};
f.RK=function(){this.$(".pageNumber").text((this.model.K()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.Eb,b=this.model.K(),c=a&&0==b,a=a&&b==a.Gb().length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");K.model.Gb().length>=R.ay&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
f.oG=function(){if(Ib&&Ib.H.get(Cg)){var a=this.model.isEmpty(),b=W*(this.model.j()/700)*1.2;a&&150<this.model.j()*W?(this.$el.find(".page__emptyState").removeClass("page__emptyState--hidden"),this.$el.find(".page__emptyStateScale").css("transform","scale("+b+")")):this.$el.find(".page__emptyState").addClass("page__emptyState--hidden")}};
f.TK=function(){g1(this);this.oG();var a=this.model.o()*W,b=this.$(".pageToolbar");this.$el.find(".page__content").css("width",this.model.j()*W).css("height",a);if(a>R.W_){b.addClass("vertical");var c=a/2+Pb+R.V_;c>a?b.css("margin-top",+Pb-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","");b.data("leftOffset")||(a=this.model.ib(),a=cv(a)+fv(a)-this.model.j(),b.data("leftOffset",a));a=b.data("leftOffset");0<a&&b.css("margin-left",a*W)};
f.pa=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return Nm(eh(this),a,0)};function N_(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return Nm(O_(a),b,0)}function eh(a){return new V(rC(a),wC(a),parseInt(a.$el.find(".page__content").css("width"),10),parseInt(a.$el.find(".page__content").css("height"),10))}
function O_(a){if(!a.model||!a.model.ib())return new V(0,0,0,0);var b=a.model.ib(),c=Zg(b.qb),d=fv(b)-c.j(),b=ev(b)-c.o(),d=parseInt(a.$el.find(".page__content").css("width"),10)+Math.round(d*W),b=parseInt(a.$el.find(".page__content").css("height"),10)+Math.round(b*W);if(isNaN(d)||!isFinite(d)||0>=d)d=c.j();if(isNaN(b)||!isFinite(b)||0>=b)b=c.o();return new V(rC(a),wC(a),d,b)}
D_.EJ=function(a,b,c){return b?(b=Zg(a.qb).o(),c=w(c,"Cannot draw print markings without a PaperSize"),c=D_.bT(b,c),a=ev(a)-b,b+Math.max(a,2*c.vr)):ev(a)};D_.prototype.t8=function(){this.TK();this.model.ja().forEach(function(a){a.$a()})};
D_.prototype.K7=function(){var a=this,b=this.Hq;(this.Hq=this.model.Hq)?this.$el.find(".page__content").css("background-image","url("+this.Hq+")").css("background-size","cover"):b?window.setTimeout(function(){a.$el.find(".page__content").css("background-image","none").css("background-size","")},300):this.$el.find(".page__content").css("background-image","none").css("background-size","")};
D_.prototype.ki=function(a){this.$el.toggleClass("page--printMarkingsEnabled",a);a&&w(this.aP,"Cannot enable print markings without print markings sizes");g1(this)};D_.prototype.sw=function(){return this.$el.hasClass("page--printMarkingsEnabled")};D_.bT=function(a,b){a/=b.Qj;return{vr:a*D_.VI,B8:a*D_.VI}};
function g1(a){if(a.sw()){var b=w(a.aP,"Cannot draw print markings without print markings sizes"),c=b.B8*W,b=b.vr*W;a.$el.find(".page__safeAreaLine").css("top",c+"px").css("right",c+"px").css("bottom",c+"px").css("left",c+"px");a.$el.find(".page__clipRegion").css("padding",b+"px");a.$el.find(".page__overlays").css("top",b+"px").css("right",b+"px").css("bottom",b+"px").css("left",b+"px")}else a.$el.find(".page__safeAreaLine").css("padding",""),a.$el.find(".page__clipRegion").css("padding",""),a.$el.find(".page__furniture").css("padding",
"")}function fN(a,b){a.$el.find(".page__elements").append(b)}function hV(a,b){a.$el.find(".page__elements").prepend(b)}function vV(a,b){a.$el.find(".page__content").append(b)}D_.prototype.RH=function(a){this.aP=D_.bT(this.model.o(),a);g1(this)};D_.VI=3175;function h1(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.og)||a.og instanceof goog.soy.data.SanitizedContent,"subtitle",a.og,"string|goog.soy.data.SanitizedContent");var c=a.og;soy.asserts.assertType(goog.isString(a.zx)||a.zx instanceof goog.soy.data.SanitizedContent,"step1Label",a.zx,"string|goog.soy.data.SanitizedContent");var d=a.zx;
soy.asserts.assertType(a.qC instanceof soydata.SanitizedHtml||a.qC instanceof soydata.UnsanitizedText||goog.isString(a.qC),"step1Html",a.qC,"soydata.SanitizedHtml");var e=a.qC;soy.asserts.assertType(goog.isString(a.Ax)||a.Ax instanceof goog.soy.data.SanitizedContent,"step2Label",a.Ax,"string|goog.soy.data.SanitizedContent");var g=a.Ax;soy.asserts.assertType(a.xt instanceof soydata.SanitizedHtml||a.xt instanceof soydata.UnsanitizedText||goog.isString(a.xt),"step2Html",a.xt,"soydata.SanitizedHtml");
a=a.xt;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3e'+soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+
soy.$$escapeHtml(g)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e")};function mZ(){}mZ=rp.extend({className:"popupBlocked"});mZ.Q_={Chrome:!0,IE:!0};mZ.A9=function(a){return a in mZ.Q_};mZ.prototype.initialize=function(a){rp.prototype.initialize.call(this,{G:ol,df:!1,ro:!1});this.rm=a.rm;this.i=a.i};mZ.prototype.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
mZ.prototype.render=function(){rp.prototype.render.call(this);var a,b;switch(this.rm){case "Chrome":a=this.i.Qa("popupBlockedDialogChromeStep1Html");b="popupBlockedChrome";break;case "IE":a=this.i.Qa("popupBlockedDialogIeStep1Html");b="popupBlockedIE";break;default:throw Error('Unsupported browser "'+this.rm+'"');}this.$(".content").html(h1({title:this.i.title(),og:this.i.og(),zx:this.i.zx(),qC:a,Ax:this.i.Ax(),xt:this.i.xt()}).toString());this.$el.addClass(b);return this};
mZ.prototype.show=function(){rp.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};function l0(){}
l0=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3ch2 class\x3d"dialogTitle"\x3eSubmit your \x3c%\x3d typeDescription %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),M3:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your \x3c%\x3d typeDescription %\x3e\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your \x3c%\x3d typeDescription %\x3e to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% locales.forEach(function(locale) { %\x3e\x3coption data-locale\x3d"\x3c%- locale.key %\x3e" \x3c%- locale.key \x3d\x3d\x3d documentLocale ? "selected" : "" %\x3e\x3e\x3c%- locale.description %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),B0:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"FREE"\x3eFREE\x3c/option\x3e\x3coption value\x3d"PAID"\x3ePAID\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e')});
f=l0.prototype;f.events=function(){return{"click .button.ok":this.ok,"click .button.reviewElements":this.LP,"click .button.submitChildrenMetadata":this.v9,"click .button.submitMetadata":this.w9,"click .close":this.cancel}};f.remove=function(){var a=this;this.$(".dialog").addClass("disappearing");this.Hd.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
f.initialize=function(a){function b(){c.Ch.cancel();c.off("hide",b)}var c=this;this.Hd=new Ny({style:Oy,G:ol});this.listenTo(this.Hd,"maskClick",this.cancel);this.document=a.document;this.Ch=a.workflow;this.Kx=a.typeDescription;this.WY=a.showProgress;this.De=a.keywords;this.on("hide",b);this.mW=new i1({s9:Object.freeze([{v:["pricing"],label:this.Kx},{v:["pricingChildren"],label:"Media"},{v:["complete"],label:"Complete"}])});this.listenTo(this.Ch,"change:state",this.C6);var d=a.availableLocales||{};
this.locales=Object.keys(d).sort().map(function(a){return{key:a,description:d[a]}});this.Ah=a.userLocale};f.render=function(){this.$el.html(this.template({typeDescription:this.Kx}));return this};function j1(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);k1(a);l1(a,c)}
function m1(a){var b=a.document.sb(),c=a.De&&0<a.De.length?a.De:a.document.nl(),d=a.document.bg();0===c.length&&(c=HT(b));d||(d=a.Ah?a.Ah:a.locales[0].key);b=a.M3({title:b.bn(),typeDescription:a.Kx,keywords:c.join(", "),locales:a.locales,documentLocale:d});window.setTimeout(function(){a.$(".dialog").removeClass("preparing")},300);j1(a,b,"submitMetadata")}
function n1(a){function b(a,b){var c=a.Ja(),l=c.pc()[YC],m=new V(0,0,l.j(),l.o());nh(m,e);m="width:"+m.j()+"px;height:"+m.o()+"px;margin-top:"+m.w()+"px;margin-left:"+m.F()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.ma());return d.B0({media:a.u(),version:c.getVersion(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,e=new V(0,0,118,118);s0(a.Ch,
function(a){a&&0!==a.length?(d.$(".dialog").css("width","45em"),j1(d,a.map(b).join(""),"submitChildrenMetadata"),2<a.length&&(d.$(".metadataForm").css("height","24em").addClass("scrolling"),d.$(".content").prepend('\x3cp class\x3d"elementCount"\x3ePlease provide information for these '+a.length+" elements. Scroll down.\x3c/p\x3e")),c()):(a=d.Ch,a.MJ=[],a.ng.transition("price"))})}function k1(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function o1(a){a.$(".dialog").css("width","30em");a.$(".dialogTitle").text(a.Kx+" submitted!");a.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+a.Kx+" has been submitted!\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');a.$(".content").append(b);k1(a)},300)}
function l1(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);k1(a)},300)}
f.C6=function(a,b){switch(b){case "pricing":m1(this);break;case "pricingChildren":n1(this);break;case "reviewingSubmission":a=this.Ch;a.ng.transition("submit");try{a.x9(a.MJ),a.ng.transition("success")}catch(c){throw a.ng.transition("error"),c;}break;case "submitted":this.$(".dialog").css("width","30em");this.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+this.Kx+" is being packaged up for our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");break;
case "completed":o1(this);break;case "failed":this.$(".dialog").css("width","30em"),a=this.$(".content"),a.html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3eSomething went wrong submitting your design.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e'),a.find(".reviewNotice").css("text-align","center")}this.mW.render(b)};f.show=function(){this.render();this.Hd.show(this.el);this.WY&&this.mW.show(this.$el.find(".flowProgress"));this.Ch.start()};f.cancel=function(){this.remove()};
f.ok=function(){this.remove()};f.w9=function(){var a=this;aaa(this.$(".layoutMetadata"),function(b){r0(a.Ch,b)})};f.LP=function(){this.Ch.LP()};f.v9=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.Ch;c.MJ=a;c.ng.transition("price")});c.each(function(){var b=$(this);baa(b,function(b){a.push(b);d()})})};
function baa(a,b){var c=""+a.find(".elementMetadataMedia").val(),d=parseFloat(""+a.find(".elementMetadataVersion").val()),e=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=p1(""+a.find(".elementMetadataKeywords").val());a=a.find(".elementMetadataPrice").val();b({media:c,version:d,title:e,description:g,keywords:h,price:a})}
function aaa(a,b){var c=a.find(".layoutMetadataTitle").val(),d=p1(""+a.find(".layoutMetadataKeywords").val());a=a.find(".layoutMetadataLocale :selected").data("locale");b({title:c,keywords:d,locale:a})}function p1(a){return a?a.split(/[,;]+/g).filter(Boolean).map(function(a){return a.trim()}):[]};function q1(a,b){b=b||{};soy.asserts.assertType(goog.isNumber(a.progress),"progress",a.progress,"number");var c=a.progress;soy.asserts.assertType(null==a.xB||a.xB instanceof goog.soy.data.SanitizedContent||goog.isString(a.xB),"progressSpeed",a.xB,"null|string|undefined");var d=a.xB;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"loadingBar'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"loadingBar__value" data-progress\x3d"'+soy.$$escapeHtmlAttribute(c)+'"'+(d?' data-progress-speed\x3d"'+soy.$$escapeHtmlAttribute(d)+'"':"")+' style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"transform: translateX("+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(100*c))+'%)"\x3e\x3c/span\x3e\x3c/div\x3e')};function r1(a){this.$el=a;this.value=a.find(".loadingBar__value")}t(r1,fc);function s1(a){var b=new r1(a);pl(function(){b.uw()});return b}r1.prototype.remove=function(){t1(this);fc.prototype.remove.call(this)};r1.prototype.KY=function(a){a=Math.max(Math.min(a,1),0);t1(this);this.value.css("transition","none");this.gr(a);this.uw()};r1.prototype.gr=function(a){this.value.attr("data-progress",a).css("transform","translateX("+100*a+"%)")};
r1.prototype.uw=function(){var a=this;pl(function(){a.value.css("transition","");var b=parseFloat(a.value.attr("data-progress")),c=.33*(.99-Math.min(.99,parseFloat(a.value.attr("data-progress"))));a.gr(b+c);caa(a)})};function daa(a){a=a.value.attr("data-progress-speed")||u1;switch(a){case v1:return 5E3;case u1:return 3E3;case eaa:return 1E3;default:throw Error("Expected LoadingBarView.ProgressSpeed, found "+a);}}
function caa(a){var b=window.setTimeout(function(){return a.uw()},1.1*daa(a));a.value.attr("data-timeout-id",b)}function t1(a){a=parseInt(a.value.attr("data-timeout-id"),10);window.clearTimeout(a)}var v1="SLOW",u1="NORMAL",eaa="FAST";function w1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");var d=a.heading;soy.asserts.assertType(null==a.caption||a.caption instanceof goog.soy.data.SanitizedContent||goog.isString(a.caption),
"caption",a.caption,"null|string|undefined");var e=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingsGroup '+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e\x3ch2 class\x3d"settingsGroup__heading"\x3e'+soy.$$escapeHtml(d)+"\x3c/h2\x3e"+(e?'\x3cdiv class\x3d"settingsGroup__caption"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":
"")+'\x3cdiv class\x3d"settingsGroup__content"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/section\x3e")}
function x1(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==
a.caption||a.caption instanceof goog.soy.data.SanitizedContent||a.caption instanceof soydata.SanitizedHtml||a.caption instanceof soydata.UnsanitizedText||goog.isString(a.caption),"caption",a.caption,"?soydata.SanitizedHtml|string|undefined");var d=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.Ta||goog.isBoolean(a.Ta)||1===a.Ta||0===a.Ta,"column",a.Ta,"boolean|null|undefined");
var g=a.Ta;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var h=a.error;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var k=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingContainer'+
(g?" settingContainer--column":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+(h?" settingContainer--error":"")+'"'+(c?" "+soy.$$filterHtmlAttributes(c):"")+'\x3e\x3cdiv class\x3d"settingContainer__settingInfo"\x3e'+(k?'\x3ch3 class\x3d"settingContainer__settingLabel"\x3e'+soy.$$escapeHtml(k)+"\x3c/h3\x3e":"")+(d?'\x3cdiv class\x3d"settingContainer__settingCaption"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"settingContainer__errorContainer"\x3e'+(h?faa(a):"")+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"settingContainer__settings"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/section\x3e")}function faa(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function y1(a){soy.asserts.assertType(a.input instanceof soydata.SanitizedHtml||a.input instanceof soydata.UnsanitizedText||goog.isString(a.input),"input",a.input,"soydata.SanitizedHtml");var b=a.input;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var c=a.error;soy.asserts.assertType(null==
a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.eA||a.eA instanceof soydata.SanitizedHtml||a.eA instanceof soydata.UnsanitizedText||goog.isString(a.eA),"help",a.eA,"?soydata.SanitizedHtml|string|undefined");var e=a.eA;soy.asserts.assertType(null==a.info||a.info instanceof goog.soy.data.SanitizedContent||a.info instanceof soydata.SanitizedHtml||a.info instanceof soydata.UnsanitizedText||goog.isString(a.info),
"info",a.info,"?soydata.SanitizedHtml|string|undefined");var g=a.info;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var h=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__input '+soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+(h||e?'\x3cdiv class\x3d"settingContainer__inputAbove"\x3e'+(h?'\x3clabel class\x3d"settingContainer__inputLabel"\x3e'+soy.$$escapeHtml(h)+
"\x3c/label\x3e":"")+(e?'\x3cspan class\x3d"settingContainer__inputHelp"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e":"")+"\x3c/div\x3e":"")+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"settingContainer__inputBelow"\x3e\x3cdiv class\x3d"settingContainer__inputErrorContainer"\x3e'+(c?z1(a):"")+"\x3c/div\x3e"+(g?'\x3cspan class\x3d"settingContainer__inputInfo"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function z1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__inputError"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function A1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__hiddenInputs'+(d?" settingContainer__hiddenInputs--visible":"")+" "+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e")}
function B1(a){soy.asserts.assertType(a.buttons instanceof soydata.SanitizedHtml||a.buttons instanceof soydata.UnsanitizedText||goog.isString(a.buttons),"buttons",a.buttons,"soydata.SanitizedHtml");var b=a.buttons;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.Ta||goog.isBoolean(a.Ta)||1===a.Ta||0===a.Ta,"column",a.Ta,"boolean|null|undefined");var d=a.Ta;soy.asserts.assertType(null==
a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var e=a.error;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingsFormActions '+(d?" settingsFormActions--column":"")+" "+soy.$$escapeHtmlAttribute(null==c?"":c)+'"\x3e\x3cdiv class\x3d"settingsFormActions__errorContainer"\x3e'+(e?C1(a):"")+'\x3c/div\x3e\x3cdiv class\x3d"settingsFormActions__buttons"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/div\x3e")}function C1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingsFormActions__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")};function D1(a){fc.apply(this,arguments)}t(D1,fc);function E1(a){Ca(a.hasClass("settingContainer__input"),"the given element {} is not an input container",a.get(0));return new D1(a)}D1.prototype.rk=function(a){this.$el.addClass("settingContainer__input--error");var b=this.$el.find(".settingContainer__inputError");0<b.length?(b.removeClass("settingContainer__inputError--hidden"),b.html(a.toString())):(b=this.$el.find(".settingContainer__inputErrorContainer"),a=z1({error:a}).toString(),b.html(a))};
D1.prototype.gg=function(){this.$el.removeClass("settingContainer__input--error");var a=this.$el.find(".settingContainer__inputErrorContainer").find(".settingContainer__inputError");0<a.length&&(a.addClass("settingContainer__inputError--hidden"),Hf(a[0]).then(function(){a.hasClass("settingContainer__inputError--hidden")&&a.remove()}))};function F1(a){fc.apply(this,arguments)}t(F1,fc);F1.prototype.rk=function(a){a=C1({error:a}).toString();return this.$el.find(".settingsFormActions__errorContainer").html(a)};
F1.prototype.gg=function(){this.$el.find(".settingsFormActions__errorContainer").find(".settingsFormActions__error").addClass("settingsFormActions__error--hidden")};function G1(a,b){a=a.$el.find(".settingsFormActions__buttons");a.empty();a.append(b)};function H1(){return new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthlemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Cte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]])};function I1(a){switch(a){case "US":return new Map(gaa);case "AU":return new Map(haa);case "MX":return new Map(iaa);case "CA":return new Map(jaa);case "BR":return new Map(kaa);default:return new Map}}
var gaa=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),haa=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),iaa=new Map([["MX-CMX","Ciudad de Mxico"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de Mxico"],["MX-MIC","Michoacn"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo Len"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Quertaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potos"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatn"],["MX-ZAC","Zacatecas"]]),jaa=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NB","New Brunswick"],["CA-NT","Northwest Territories"],
["CA-NS","Nova Scotia"],["CA-NU","Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),kaa=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amap"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Cear"],["BR-DF","Distrito Federal"],["BR-ES","Esprito Santo"],["BR-GO","Gois"],["BR-MA","Maranho"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paran"],["BR-PB","Paraba"],["BR-PA",
"Par"],["BR-PE","Pernambuco"],["BR-PI","Piau"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondnia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","So Paulo"],["BR-TO","Tocantins"]]);function J1(a,b){a=[].concat(na(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.YP,text:a[1],value:a[0]}});return null!=b.Jf?[].concat([{selected:!b.YP,text:b.Jf,value:b.KO}],na(a)):a}function K1(a){var b=H1();a.Nh&&(b=Array.from(b.entries()).filter(function(b){b=ma(b).next().value;return a.Nh.has(b)}),b=new Map(b));return J1(b,{Jf:a.Jf,KO:"ZZ",YP:a.N8})}
function L1(a){var b=I1(a.Cb);Ca(!a.JH||b.has(a.JH),'"{}" is not a valid subdivision code of the country "{}".',a.JH,a.Cb);return J1(b,{Jf:a.Jf,KO:a.KO,YP:a.JH})};var M1=new Kf("jv",!1),N1=["BR","CA","US"];function O1(a){this.uj=a.uj;this.D=a.D;this.td=a.td||void 0;this.Ve=a.Ve;this.gf=a.gf;this.view=a.view;this.listenTo(this.view,"input",this.Gn);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.H=a.H?a.H:Mf();this.Xa=a.Xa}function NU(a){var b=new P1({qy:!1!==a.qy,Xa:a.Xa,H:a.H,l:a.l});return{Ab:new O1({uj:a.uj,D:a.D,td:a.td,Ve:a.Ve,gf:a.gf,H:a.H,Xa:a.Xa,view:b}),view:b}}f=O1.prototype;f.listenTo=Backbone.Events.listenTo;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.refresh=function(){this.view.render();this.view.Sw(this.Ve);this.td&&this.view.pk(this.td);return this};f.remove=function(){this.stopListening();this.view.remove()};f.pk=function(a){this.td=a;this.view.pk(a);return this};f.Sw=function(a){this.Ve=a;this.view.Sw(a);return this};
f.kM=P.method(function(a){function b(a){return a.Oh}return!this.td||this.view.Fu||a?(a=this.view.rF(),Q1(a),this.d$(a).then(b).tap(this.pk.bind(this))):this.td});f.$U=P.method(function(a){if(this.td&&!this.view.Fu&&!a&&!this.view.Gu)return this.td;a=this.view.rF();if(this.view.Gu&&!this.view.Fu)return R1(this,a),this.c$(a);Q1(a);R1(this,a);return this.hR(a).tap(this.pk.bind(this))});f.Gn=function(){this.td&&!this.view.rF()&&this.pk(this.td);this.trigger("input",this.view.Fu)};
f.d$=P.method(function(a){var b=this;return this.gf.createToken({Dm:a.Dm,xL:a.Nu,yL:a.Ou,ph:a.ph}).then(function(a){var d=b.uj,e=b.D;return wj(d.N,"/billing/brands/"+encodeURIComponent(e)+"/account",{brand:e,stripeToken:a}).catch(xj).get(0).get("account").then(Ch).catch(d.vs,d.Pj)})});
f.hR=P.method(function(a){var b=this;return this.gf.createToken({Dm:a.Dm,xL:a.Nu,yL:a.Ou,ph:a.ph,aaa:a.fc,baa:a.bf,caa:a.nf}).then(function(c){var d=b.uj;return wj(d.N,"/billing/creditcards",Sh(new Rh({D:b.D,OQ:c,Tg:a.fc?new Nh({wh:a.bf,Cb:a.fc,kw:a.nf}):void 0,HP:!0}))).catch(xj).get(0).then(d.hV).get("creditCard").then(Jh).catch(d.vs,d.Pj)})});f.c$=P.method(function(a){return this.uj.hR(new Th({Qi:a.id,Tg:new Nh({wh:a.bf,Cb:a.fc,kw:a.nf})}))});
function Q1(a){if(!a)throw new CT;if(!(a.Dm&&3<=a.Dm.length&&4>=a.Dm.length))throw new sT;if(!function(){var b=a.Nu&&parseInt(a.Nu,10);return b&&1<=b&&12>=b}())throw new tT;if(!a.Ou||!parseInt(a.Ou,10))throw new uT;if(!function(){var b=a.ph&&a.ph.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new vT;}
function R1(a,b){if(a.H.get(M1)&&(!b.fc||"ZZ"==b.fc))throw new zT;var c;if(c=a.H.get(M1))c=$d(a.Xa),c=!(-1<N1.indexOf(b.fc)?b.bf&&b.bf!=c:1);if(c)throw new AT;if(a.H.get(M1)&&-1<N1.indexOf(b.fc)&&!b.nf)throw new BT;};function laa(a){soy.asserts.assertType(goog.isString(a.Kk)||a.Kk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Kk,"string|goog.soy.data.SanitizedContent");var b=a.Kk;soy.asserts.assertType(goog.isString(a.Sk)||a.Sk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Sk,"string|goog.soy.data.SanitizedContent");var c=a.Sk;soy.asserts.assertType(goog.isString(a.Cl)||a.Cl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.Cl,"string|goog.soy.data.SanitizedContent");
var d=a.Cl;soy.asserts.assertType(goog.isString(a.gm)||a.gm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.gm,"string|goog.soy.data.SanitizedContent");a=a.gm;return soydata.VERY_UNSAFE.ordainSanitizedHtml(S1({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
S1({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+S1({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+S1({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function maa(a){soy.asserts.assertType(goog.isString(a.Ho)||a.Ho instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Ho,"string|goog.soy.data.SanitizedContent");var b=a.Ho,c=goog.asserts.assertArray(a.XD,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.yt,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+c_({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?c_({id:"region",options:a}):"")+S1({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};var naa=new Kf("jv",!1);function P1(a){Backbone.View.call(this,{className:"creditCardEditor"});this.Gu=this.Fu=!1;this.Xa=a.Xa;this.qy=a.qy;this.H=a.H?a.H:Mf();this.l=a.l}t(P1,Backbone.View);f=P1.prototype;f.events=function(){return{"input #ccNumber":this.l4,"keydown #expMonth":this.S5,"input #expMonth":this.R5,input:this.Gn,"keydown input":this.hO,"focus input:not([readonly])":this.uq,"blur input":this.Js,"change #country":this.b5,"change #region":this.k6,"change #zipcode":this.P6}};
f.rF=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",Dm:this.$("#cvc").val().trim(),Nu:this.$("#expMonth").val().trim(),Ou:this.$("#expYear").val().trim(),ph:this.$("#ccNumber").val().trim(),fc:this.$("#country").val()?this.$("#country").val().trim():void 0,bf:this.$("#region").val()?this.$("#region").val().trim():void 0,nf:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.Dm.length||a.Nu.length||a.Ou.length||a.ph.length||a.fc.length||
a.bf.length||a.nf.length?a:null};f.pk=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder",""+a.Dv);this.$("#expMonth").val("").attr("placeholder","");this.$("#expYear").val("").attr("placeholder","");this.$("#cvc").val("").attr("placeholder","");a.Tg&&(this.$("#country").val(a.Tg.Cb).change(),this.$("#region").val(a.Tg.wh),this.$("#zipcode").val(a.Tg.kw));this.Gu=this.Fu=!1;this.$("#ccNumber").removeAttr("autofocus")};
f.Sw=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
f.render=function(){var a;a={xj:this.Xa.xj(),hu:this.Xa.hu(),Kk:this.Xa.Kk(),Cl:this.Xa.Cl(),gm:this.Xa.gm(),Sk:this.Xa.Sk(),Ho:this.Xa.Ho(),XD:K1({Jf:this.Xa.format("creditCardCountryPlaceholder")}),yt:L1({Jf:$d(this.Xa),Cb:"ZZ"}),hC:this.H.get(naa)};soy.asserts.assertType(goog.isString(a.xj)||a.xj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.xj,"string|goog.soy.data.SanitizedContent");var b=a.xj;soy.asserts.assertType(goog.isString(a.hu)||a.hu instanceof goog.soy.data.SanitizedContent,
"billingAddressLabel",a.hu,"string|goog.soy.data.SanitizedContent");var c=a.hu;soy.asserts.assertType(goog.isString(a.Kk)||a.Kk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Kk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Sk)||a.Sk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Sk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Cl)||a.Cl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",
a.Cl,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.gm)||a.gm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.gm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ho)||a.Ho instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Ho,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.XD,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
goog.asserts.assertArray(a.yt,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.hC)||1===a.hC||0===a.hC,"showBillingAddressFields",a.hC,"boolean");var d=!!a.hC;soy.asserts.assertType(null==a.jE||a.jE instanceof goog.soy.data.SanitizedContent||goog.isString(a.jE),"creditCardId",a.jE,"null|string|undefined");var e=a.jE;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"/\x3e'+laa(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+maa(a)+"\x3c/div\x3e":""));this.$el.html(a.toString());oaa(this);return this};
function oaa(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.qy&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}f.Gn=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.Fu=!0,this.trigger("input"))};f.hO=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};
f.uq=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.Xa.Kk()),this.$("#expMonth").attr("placeholder",this.Xa.Cl()),this.$("#expYear").attr("placeholder",this.Xa.gm()),this.$("#cvc").attr("placeholder",this.Xa.Sk()))};f.Js=function(){this.$el.removeClass("focused")};
f.l4=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
f.b5=function(a){a=L1({Jf:$d(this.Xa),Cb:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=
$(c_({options:a,id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.Gu=!0;this.l.wa(X(new fm("changed_credit_card_country"),"location","credit_card_dialog"))};f.k6=function(){this.Gu=!0};f.P6=function(){this.Gu=!0};
f.S5=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),e=String.fromCharCode(a.which);""===c&&e.match(/[2-9]/)?(a.preventDefault(),b.val("0"+e),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};f.R5=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function c_(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var e=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(e?' id\x3d"'+soy.$$escapeHtmlAttribute(e)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");e=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var k=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;e=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(e?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/option\x3e");d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function T1(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(a.title))}
function paa(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Lo)||a.Lo instanceof goog.soy.data.SanitizedContent,"actionCloseHint",a.Lo,"string|goog.soy.data.SanitizedContent");var c=a.Lo;soy.asserts.assertType(goog.isString(a.Rg)||a.Rg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Rg,"string|goog.soy.data.SanitizedContent");a=a.Rg;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"dialog fluidDialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog__footer" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+'display: none;"\x3e\x3cdiv class\x3d"dialog__footer__content"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/div\x3e")};function U1(a){var b=this;Backbone.View.call(this,{id:a.id,className:a.className,events:{"click .close":function(){b.trigger("cancel")}}});this.Hd=a.Hd;this.G=a.G;this.oK=this.vg=null;this.YX=0;this.Hd.on("maskClick",function(){b.trigger("cancel")})}t(U1,Backbone.View);f=U1.prototype;f.T4=function(){this.trigger("ok")};f.YN=function(){this.trigger("retry")};
function qaa(a,b){var c=b.rl?b.rl():b;if(c===a.vg)return P.resolve(!1);a.vg&&a.stopListening(a.vg);a.vg=c;a.oK=b;a.listenTo(a.vg,"contentResize",a.qu);a.listenTo(a.vg,"done",a.T4);a.listenTo(a.vg,"retry",a.YN);return a.oK.refresh().return(!0)}f.render=function(a){this.$el.html(paa(a).toString());return this};
function V1(a,b){return new P(function(c){var d=a.$(".dialog");d.hasClass("preparing")&&(a.Hd.show(a.el),a.G.requestAnimationFrame(function(){d.removeClass("preparing")}));a.$el.queue("pageQueue",function(e){qaa(a,b).then(function(b){raa(a);var h=d.find(".content"),k=null;h.is(":empty")?h.append(a.vg.$el):b&&(k=$('\x3cdiv class\x3d"content new"\x3e').append(a.vg.$el));a.qu(k).then(c);a.G.setTimeout(function(){a.YX--;e()},1E3)})});1==++a.YX&&a.$el.dequeue("pageQueue")})}
function raa(a){var b=a.vg.bp(a.oK.dn());a.$(".dialog \x3e h2").html(b)}function W1(a,b){a.$(".dialog__footer__content").html(b)}f.gA=function(){this.$(".dialog__footer").addClass("dialog__footer--hide").removeClass("dialog__footer--appear");this.qu()};f.kx=function(){this.$(".dialog__footer").show().removeClass("dialog__footer--hide").addClass("dialog__footer--appear");this.qu()};
f.qu=function(a){var b=this.$(".dialog__footer"),c=!1;b.hasClass("dialog__footer--appear")?b.hasClass("dialog__footer--pinned")&&(c=!0,b.removeClass("dialog__footer--pinned")):b.addClass("dialog__footer--pinned");a=saa(this,a).then(function(){b.hasClass("dialog__footer--appear")&&b.addClass("dialog__footer--pinned")});b.hasClass("dialog__footer--appear")?c&&b.addClass("dialog__footer--pinned"):b.removeClass("dialog__footer--pinned");return a};
function saa(a,b){return new P(function(c){var d=a.$(".dialog");if(!(0<d.find(".content.replacing").length)||b){var e=d.outerHeight();d.css({transition:"none",height:"auto"});var g;g=b?taa(a,b):d.outerHeight();var h=Hf(d[0]);d.css({height:e});Gf(d);d.css({transition:"",height:g});c(h)}})}
function taa(a,b){var c=a.$(".dialog"),d=c.find(".content");a=d.outerHeight();var e=$('\x3cdiv class\x3d"content new"\x3e');b.insertBefore(d);d.addClass("onTop beingReplaced");var c=c.outerHeight(),g=b.outerHeight(!0);b.addClass("onTop");e.insertAfter(d).css("height",a);Gf(e);Hf(e[0]).then(function(){d.remove();e.remove();b.removeClass("onTop")});e.css("height",g);pl(function(){b.removeClass("new");e.removeClass("new")});return c}
f.remove=function(){var a=this;return new P(function(b){a.Hd.hide();a.$el.children(".dialog").addClass("disappearing");a.G.setTimeout(function(){Backbone.View.prototype.remove.call(a);b()},rp.$R)})};function X1(a){Backbone.View.apply(this,arguments)}t(X1,Backbone.View);X1.prototype.bp=function(){return""};Object.defineProperties(X1,{extend:{configurable:!0,enumerable:!0,get:function(){return Backbone.View.extend.bind(X1)}}});function Y1(a){this.l=a.l;this.FL=a.FL}Y1.prototype.IC=function(a){this.track("close",{action:a})};Y1.prototype.track=function(a,b){this.l.track("publish_flow_"+a,_.extend(this.ZL(),b))};Y1.prototype.ZL=function(){return{fileFormat:this.FL}};function Z1(a){soy.asserts.assertType(goog.isBoolean(a.$d)||1===a.$d||0===a.$d,"showOneTimeUse",a.$d,"boolean");var b=!!a.$d;soy.asserts.assertType(null==a.hd||a.hd instanceof goog.soy.data.SanitizedContent||goog.isString(a.hd),"oneTimeUse",a.hd,"null|string|undefined");var c=a.hd;soy.asserts.assertType(null==a.Jc||a.Jc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Jc),"oneTimeUseDescription",a.Jc,"null|string|undefined");var d=a.Jc;soy.asserts.assertType(goog.isBoolean(a.ae)||1===a.ae||
0===a.ae,"showRoyaltyFree",a.ae,"boolean");var e=!!a.ae;soy.asserts.assertType(null==a.Cc||a.Cc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Cc),"royaltyFree",a.Cc,"null|string|undefined");var g=a.Cc;soy.asserts.assertType(null==a.Lc||a.Lc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Lc),"royaltyFreeDescription",a.Lc,"null|string|undefined");var h=a.Lc;soy.asserts.assertType(goog.isBoolean(a.Ng)||1===a.Ng||0===a.Ng,"showExtended",a.Ng,"boolean");var k=!!a.Ng;soy.asserts.assertType(null==
a.xd||a.xd instanceof goog.soy.data.SanitizedContent||goog.isString(a.xd),"extended",a.xd,"null|string|undefined");var l=a.xd;soy.asserts.assertType(null==a.Od||a.Od instanceof goog.soy.data.SanitizedContent||goog.isString(a.Od),"extendedDescription",a.Od,"null|string|undefined");var m=a.Od;soy.asserts.assertType(goog.isString(a.Sd)||a.Sd instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.Sd,"string|goog.soy.data.SanitizedContent");a=a.Sd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"licensesDescription"\x3e\x3cdiv class\x3d"licensesDescription__options"\x3e'+
(b||e||k?(b?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--oneTime"\x3e\x3ch3\x3e'+soy.$$escapeHtml(c)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e\x3c/div\x3e":"")+(e?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--royaltyFree"\x3e\x3ch3\x3e'+soy.$$escapeHtml(g)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e":"")+(k?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--extended"\x3e\x3ch3\x3e'+
soy.$$escapeHtml(l)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(m)+"\x3c/p\x3e\x3c/div\x3e":""):'\x3cdiv class\x3d"licensesDescription__noOption"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e")};function $1(a){this.$el=a}t($1,fc);$1.prototype.show=function(){if(this.mh())return P.resolve();var a=Hf(this.$el[0]);this.$el.addClass("paymentRestrictedOverlay--visible");return a};$1.prototype.hide=function(){if(this.mh()){var a=Hf(this.$el[0]);this.$el.removeClass("paymentRestrictedOverlay--visible");return a}return P.resolve()};$1.prototype.mh=function(){return this.$el.hasClass("paymentRestrictedOverlay--visible")};function OU(a){var b=this;X1.call(this,{className:"payment",events:{"change input[name\x3dpurchaseCreditPack]":function(a){a="yes"==$(a.target).val();var d=b.$(".creditPackOptions option:selected").val();b.trigger("creditPackChange",a,d)},"change .price select":function(a){a=$(a.target);var d=a.closest(".license").index();b.trigger("priceChange",d,a.val())},"click .licensesMore":function(){return b.XN()},"click .creditPackOptions select":function(a){return a2(b,a)},"change .creditPackOptions select":function(a){return a2(b,
a)},"submit .publishPagePaymentForm":function(a){a.preventDefault();b.trigger("submitPayment")},"click .draft":function(){b.trigger("clickDraft")},"click .paymentRestrictedOverlay__cancelButton":function(){b.trigger("done")},"click .paymentRestrictedOverlay__downloadDraftButton":function(){b.trigger("clickOverlayDraftButton")}}});this.qd=a.qd;this.Ri=a.Ri;this.PQ=this.Pn=null}t(OU,X1);f=OU.prototype;f.kM=function(){return this.qd.$U()};
f.render=function(a){var b=this.el,c;c=c||{};soy.asserts.assertType(goog.isString(a.xm)||a.xm instanceof goog.soy.data.SanitizedContent,"creditAvailable",a.xm,"string|goog.soy.data.SanitizedContent");var d=a.xm;soy.asserts.assertType(a.HC instanceof soydata.SanitizedHtml||a.HC instanceof soydata.UnsanitizedText||goog.isString(a.HC),"totalCost",a.HC,"soydata.SanitizedHtml");var e=a.HC;soy.asserts.assertType(a.Cq instanceof soydata.SanitizedHtml||a.Cq instanceof soydata.UnsanitizedText||goog.isString(a.Cq),
"payOption",a.Cq,"soydata.SanitizedHtml");var g=a.Cq;soy.asserts.assertType(goog.isString(a.zd)||a.zd instanceof goog.soy.data.SanitizedContent,"free",a.zd,"string|goog.soy.data.SanitizedContent");var h=a.zd;soy.asserts.assertType(goog.isString(a.Ys)||a.Ys instanceof goog.soy.data.SanitizedContent,"purchased",a.Ys,"string|goog.soy.data.SanitizedContent");var k=a.Ys;soy.asserts.assertType(goog.isString(a.Ev)||a.Ev instanceof goog.soy.data.SanitizedContent,"layoutTitle",a.Ev,"string|goog.soy.data.SanitizedContent");
var l=a.Ev;soy.asserts.assertType(goog.isString(a.bI)||a.bI instanceof goog.soy.data.SanitizedContent,"specialOffer",a.bI,"string|goog.soy.data.SanitizedContent");var m=a.bI;soy.asserts.assertType(a.qA instanceof soydata.SanitizedHtml||a.qA instanceof soydata.UnsanitizedText||goog.isString(a.qA),"introHtml",a.qA,"soydata.SanitizedHtml");var n=a.qA;soy.asserts.assertType(goog.isString(a.Mf)||a.Mf instanceof goog.soy.data.SanitizedContent,"purchaseButton",a.Mf,"string|goog.soy.data.SanitizedContent");
var p=a.Mf;soy.asserts.assertType(goog.isString(a.co)||a.co instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.co,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Jg)||a.Jg instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Jg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.bo)||a.bo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.bo,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.ao)||a.ao instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.ao,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.ef)||1===a.ef||0===a.ef,"showDraft",a.ef,"boolean");var q=goog.asserts.assertArray(a.ei,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: string, expirationLabel: null|string, hasPaidLicense: bool, isFree: bool, isLayout: bool, paidLicenseTypeLabel: string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e, thumbnailClass: string, thumbnailUrl: string, title: string]\x3e."),
u=goog.asserts.assertArray(a.Ry,"expected parameter 'creditPacks' of type list\x3c[disabled: null, selected: null, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.co)||a.co instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.co,"string|goog.soy.data.SanitizedContent");var v=a.co;soy.asserts.assertType(goog.isString(a.Jg)||a.Jg instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Jg,"string|goog.soy.data.SanitizedContent");var z=a.Jg;
soy.asserts.assertType(goog.isString(a.bo)||a.bo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.bo,"string|goog.soy.data.SanitizedContent");var r=a.bo;soy.asserts.assertType(goog.isString(a.ao)||a.ao instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.ao,"string|goog.soy.data.SanitizedContent");var x=a.ao;soy.asserts.assertType(goog.isBoolean(a.ef)||1===a.ef||0===a.ef,"showDraft",a.ef,"boolean");a=!!a.ef;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentRestrictedOverlay"\x3e\x3csection class\x3d"paymentRestrictedOverlay__inner"\x3e\x3cspan class\x3d"paymentRestrictedOverlay__icon"\x3e'+
xX()+"\x3c/span\x3e\x3ch2\x3e"+soy.$$escapeHtml(v)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(z)+'\x3c/p\x3e\x3cdiv class\x3d"paymentRestrictedOverlay__buttons"\x3e'+(a?d_({v:"paymentRestrictedOverlay__downloadDraftButton",text:r}):"")+d_({v:soydata.$$markUnsanitizedTextForInternalBlocks((a?"buttonSecondary ":"")+"paymentRestrictedOverlay__cancelButton"),text:x})+"\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e")+'\x3csection class\x3d"info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(n)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e';
v=q.length;for(z=0;z<v;z++)r=q[z],n+='\x3ctr class\x3d"license"\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner '+soy.$$escapeHtmlAttribute(r.I9)+'" style\x3d"'+(c.Yb?"/*"+c.Yb+"*//*"+c.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(r.pg))+'\');"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info"\x3e'+(r.ZF?'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(r.title)+'\x3c/div\x3e\x3cdiv class\x3d"by"\x3e'+
soy.$$escapeHtml(r.Fr)+"\x3c/div\x3e")+'\x3c/td\x3e\x3ctd class\x3d"price"\x3e'+(r.uv?soy.$$escapeHtml(h):r.jn?'\x3cdiv class\x3d"state"\x3e'+soy.$$escapeHtml(k)+'\x3c/div\x3e\x3cdiv class\x3d"type"\x3e'+soy.$$escapeHtml(r.$G)+(r.oz?" - "+soy.$$escapeHtml(r.oz):"")+"\x3c/div\x3e":1==r.Xs.length?soy.$$escapeHtml(r.Xs[0].text):1<r.Xs.length?'\x3cdiv class\x3d"select"\x3e'+c_({options:r.Xs})+"\x3c/div\x3e":"")+"\x3c/tr\x3e";n+='\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"creditRemaining"\x3e'+
soy.$$escapeHtml(d)+'\x3c/p\x3e\x3cp class\x3d"amount"\x3e\x3cspan class\x3d"totalCost"\x3e'+soy.$$escapeHtml(e)+'\x3c/span\x3e\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e '+soy.$$escapeHtml(m)+':\x3c/label\x3e\x3cdiv class\x3d"creditPackOptions"\x3e'+c_({options:u})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e \x3cspan class\x3d"payOption"\x3e'+
soy.$$escapeHtml(g)+'\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e\x3csection class\x3d"simpleTotal"\x3e\x3cdiv class\x3d"simpleTotalPayOption"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/section\x3e\x3cform class\x3d"publishPagePaymentForm"\x3e\x3cdiv class\x3d"creditCardContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"savedTeamCard"\x3e\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e'+d_({v:"paymentPageSubmitButton buttonSubmittable",type:"submit",text:p})+"\x3c/div\x3e\x3c/div\x3e";
c=soydata.VERY_UNSAFE.ordainSanitizedHtml(n);b.innerHTML=c;this.qd.refresh();this.$(".creditCardContainer").html(this.Ri.$el);this.Pn=this.$(".publishPagePaymentForm");this.PQ=this.Pn.find("button[type\x3dsubmit]");return this};f.remove=function(){this.qd.remove()};function a2(a,b){a.trigger("creditPackSelect",$(b.target).val())}f.XN=function(){this.trigger("licensesMore")};function b2(a){a.$(".creditPacks").hide();a.trigger("contentResize")}
function uaa(a){a.$(".creditPacks").show();a.trigger("contentResize")}function c2(a){a.$(".simpleTotal").hide();a.trigger("contentResize")}function vaa(a){a.$(".simpleTotal").show();a.trigger("contentResize")}function d2(a){a.$(".creditCardContainer").hide();a.$(".publishPagePaymentForm").attr("novalidate","");a.trigger("contentResize")}function waa(a){a.$(".creditCardContainer").show();a.$(".publishPagePaymentForm").removeAttr("novalidate");a.trigger("contentResize")}
function xaa(a){a=a.$(".paymentRestrictedOverlay");return(new $1(a)).show()}f.uQ=function(a){var b=this.$(".licensesMore");a.li(b)};function yaa(a,b){a.$(".totalCost").html(b)}function zaa(a,b){a.$(".payOption").text(b);a.$(".simpleTotalPayOption").text(b)}function Aaa(a,b){a.$(".creditPackOptions option").each(function(a,d){a=$(d);d=a.val();a.toggle(0<=b.indexOf(d))})}function Baa(a,b){a.$(".creditPackOptions select").val(b)}
function e2(a){a.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0)}function f2(a,b){$('\x3cp class\x3d"errorMessage"\x3e').html(b).insertBefore(a.Pn);a.trigger("contentResize")}function g2(a,b){a.$(".savedTeamCard").text(b).show();a.trigger("contentResize")}function h2(a){a.$(".savedTeamCard").hide();a.trigger("contentResize")}function Caa(a){a.Pn.prev(".errorMessage").remove();a.trigger("contentResize")}f.bp=function(a){return T1(a).toString()};
function i2(a){var b=a.ZZ;soy.asserts.assertType(goog.isBoolean(b.$d)||1===b.$d||0===b.$d,"showOneTimeUse",b.$d,"boolean");soy.asserts.assertType(goog.isString(b.hd)||b.hd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",b.hd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Jc)||b.Jc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",b.Jc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.ae)||1===b.ae||0===b.ae,"showRoyaltyFree",
b.ae,"boolean");soy.asserts.assertType(goog.isString(b.Cc)||b.Cc instanceof goog.soy.data.SanitizedContent,"royaltyFree",b.Cc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Lc)||b.Lc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",b.Lc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Ng)||1===b.Ng||0===b.Ng,"showExtended",b.Ng,"boolean");soy.asserts.assertType(goog.isString(b.xd)||b.xd instanceof goog.soy.data.SanitizedContent,
"extended",b.xd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Od)||b.Od instanceof goog.soy.data.SanitizedContent,"extendedDescription",b.Od,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Sd)||b.Sd instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",b.Sd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b.Hj instanceof soydata.SanitizedHtml||b.Hj instanceof soydata.UnsanitizedText||goog.isString(b.Hj),
"fullInformationHtml",b.Hj,"soydata.SanitizedHtml");var c=b.Hj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Z1(b)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"),b=$(b.toString());Zy.call(this,{className:"licensesPopOver",content:b,Ue:a.ZZ.confirm,position:Ep})}t(i2,Zy);var Daa=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function PU(a){this.view=a.view;this.l=a.l;this.la=a.la;this.ta=a.ta;this.XS=null;this.aa=a.aa;this.X=a.X;this.ub=a.ub;this.Xb=a.Xb;this.Ry=[];this.xa=Sc(a.i);this.Xa=bd(a.i);this.Ma=Uc(a.i);this.ef=a.ef;this.Mf=a.Mf;this.Jg=a.Jg;this.Tb=a.Tb;this.nb=a.nb||null;this.Ze=a.Ze;this.SB=null;this.ha=a.ha||null;this.Yp=!1}f=PU.prototype;
f.init=function(){var a=this;this.view.on("creditPackChange",function(b,c){a.SB=b?c:null});this.view.on("creditPackSelect",function(b){a.SB=b;e2(a.view)});this.view.on("priceChange",function(b,c){a.Tb.ei[b].UB=c;j2(a)});this.view.on("licensesMore",function(){var b={confirm:bf(a.xa),$d:a.Tb.sn("ONE_USE"),hd:a.Ma.hd(),Jc:a.Ma.Jc(),ae:a.Tb.sn("ROYALTY_FREE"),Cc:a.Ma.Cc(),Lc:a.Ma.Lc(),Ng:a.Tb.sn("EXTENDED"),xd:a.Ma.xd(),Od:a.Ma.Od(),Sd:a.Ma.Sd(),Hj:cf(a.Ma,Daa)};a.view.uQ(new i2({ZZ:b}))});this.view.on("submitPayment",
function(){return Eaa(a)});this.view.on("clickDraft",function(){a.trigger("clickDraft")});this.view.on("clickOverlayDraftButton",function(){a.l.wa(X(X(X(new fm("publish_restricted_download_draft"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));a.trigger("clickDraft")});null!=this.Xb&&OM(this.Xb,"contextTipRoyaltyFreePaymentOption",function(){var b;a.Tb.sn("ROYALTY_FREE")?(b=a.view.$el.find(".license .select").first(),1!==b.length?b=null:(b=b.get(0).getBoundingClientRect(),
b={x:Number(b.right)+10,y:Number(b.top)})):b=null;return b});return this};f.rl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){var a=this,b=vw(this.X,this.la),c=P.resolve([{fa:10,Hr:11,name:"PACK_10"},{fa:20,Hr:22,name:"PACK_20"},{fa:50,Hr:55,name:"PACK_50"},{fa:100,Hr:110,name:"PACK_100"}]);return P.all([c,b]).then(function(b){var c=ma(b);b=c.next().value;c=c.next().value;a.XS=c.SU()[a.ta]||null;a.Ry=b;a.view.render(a.gn());j2(a)})};
f.gn=function(){var a=this,b=null!=this.ha&&this.ha.Mv||0,c=XT(this.Tb),d=Math.max(c-b,0),e=this.ef?$e(this.xa)+this.xa.Qa("paymentPageLicensingIntroDraft"):$e(this.xa);return{xm:this.xa.xm(b),HC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.xa.total(c)),Cq:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.xa.Cq(d)),zd:this.xa.zd(),Ys:this.xa.Ys(),Ev:this.xa.Ev(),bI:this.xa.format("paymentPageSpecialOfferLabel"),qA:soydata.VERY_UNSAFE.ordainSanitizedHtml(e),Mf:this.Mf||this.xa.Mf(),ei:this.Tb.ZU().map(function(b){return Faa(a,
b)}),Ry:this.Ry.map(function(b){return{text:a.xa.format("paymentPageCreditPackOffer",b.fa,b.Hr,parseInt(100*(b.Hr/b.fa-1),10)),value:b.name}}),co:this.xa.co(),Jg:this.Jg||this.xa.Jg(),bo:this.xa.bo(),ao:this.xa.ao(),ef:this.ef}};function Faa(a,b){return{jn:b.jn(),ZF:b.ZF(),uv:b.uv(),pg:b.cn(),I9:b.cN()?"cover":"contain",title:b.sb(),Fr:a.xa.Fr(b.Wg),$G:k2(a,NT(b)),oz:Gaa(a,PT(b)),Xs:MT(b).map(function(b){var d=a.xa.wl(b.fa),e=k2(a,b.Xj);return{selected:b.Ef,text:e+" - "+d,value:b.Xj}})}}
function Gaa(a,b){if(Infinity===b)return null;var c=moment.duration(b);b=Math.floor(c.asHours());c=c.minutes();return b?a.xa.format("paymentPageLicenseRemainingHours",b):af(a.xa,c)}function k2(a,b){switch(b){case "ONE_USE":return a.Ma.hd();case "ROYALTY_FREE":return a.Ma.Cc();case "EXTENDED":return a.Ma.xd();default:return null}}
function l2(a){var b=null!=a.ha&&a.ha.mP;return b&&0<b.length&&!b.some(function(b){return b===a.XS})?(a.l.wa(X(X(X(new fm("publish_download_restricted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page")),xaa(a.view).then(function(){return!0})):P.resolve(!1)}
function j2(a){var b=null!=a.ha&&a.ha.Mv||0,c=XT(a.Tb),b=Math.max(c-b,0),d=Haa(a,b);yaa(a.view,a.xa.total(c));zaa(a.view,a.xa.Cq(b));Aaa(a.view,d.map(function(a){return a.name}));m2(a)?(uaa(a.view),c2(a.view),waa(a.view),0<d.length?(d.some(function(b){return b.name===a.SB})||Baa(a.view,d[0].name),null!=a.SB?e2(a.view):a.view.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)):(b2(a.view),vaa(a.view)),n2(a)?(a.view.qd.Sw(!0),a.Ze?h2(a.view):g2(a.view,a.xa.OP())):(c=a.ha.Oh,null!=
c&&a.view.qd.pk(c),a.Ze?(a.view.qd.Sw(!1),h2(a.view)):(d2(a.view),c=a.xa.format("paymentPageSavedTeamCard",c.Dv),g2(a.view,c)))):(b2(a.view),c2(a.view),d2(a.view),h2(a.view))}function Haa(a,b){return a.Ry.filter(function(a){return a.Hr>=b})}function o2(a){return a.Yp||0<XT(a.Tb)?P.reject():p2(a,!0)}
function Eaa(a){a.Yp||(Caa(a.view),a.view.PQ.addClass("submitting"),a.AN().then(function(){return p2(a,!1)}).catch(yT,function(){return a.Yz()}).catch(uj,function(b){return a.Pj(b)}).catch(function(){return a.Yz()}).finally(function(){a.view.PQ.removeClass("submitting")}))}function p2(a,b){a.Yp=!0;return Iaa(a).then(function(){return b?q2(a):a.fF()}).then(function(b){a.trigger("paymentComplete",b);return b}).finally(function(){a.Yp=!1})}
f.AN=function(){this.l.wa(X(X(X(new fm("submitted_credit_card"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));return m2(this)&&n2(this)?this.view.kM():P.resolve()};function Iaa(a){return $T(a.Tb,a.ta,a.nb,a.SB).reduce(function(b,c){return b.then(function(){return a.aa.cE(c)}).then(function(b){return a.eH(b.Ce)})},P.resolve())}f.eH=function(a){return Ej(this.aa,new mi({Ce:a,action:"PAY_SYNCHRONOUS",Xn:!1}))};
f.fF=function(){var a=this,b=new sE({types:["ONE_USE"],status:["ACTIVATED"],D:this.ta,document:this.nb,media:WT(this.Tb).map(function(a){return a.js()})});return this.ub.fF(b).then(function(b){return q2(a,b.yc.map(function(a){return a.pz}),b.Ql)}).catch(function(){return q2(a)})};
function q2(a,b,c){b=void 0===b?[]:b;c=void 0===c?0:c;var d=[].concat(na(new Set(WT(a.Tb).map(function(a){return a.UB}))));return{wt:Math.min.apply(Math,[].concat(na([].concat([ZT(a.Tb)],na(b.map(function(a){return(a||Infinity)-c})))))),$e:d}}function n2(a){if(!a.ha)return!0;a=a.ha.Oh;if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Mu<b||a.Mu==b&&a.YE<c}function m2(a){return!a.ha||XT(a.Tb)>(a.ha.Mv||0)}f.Yz=function(){f2(this.view,Ze(this.xa).toString())};
f.Pj=function(a){f2(this.view,DT(this.Xa,a))};f.dn=function(){return{title:this.xa.format("paymentPagePurchaseTitle")}};f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function r2(a){this.view=a.view;this.Ca=a.Ca;this.bF="EXPORTING";this.G=a.G;this.oC=0;this.JQ=-1}f=r2.prototype;f.rl=function(){return this.view};f.remove=function(){this.view.remove();this.G.clearTimeout(this.JQ)};f.refresh=function(){this.view.render();this.G.clearTimeout(this.JQ);this.oC=0;var a=this.view,b=a.$(".progressValue");b.css("transition","none");a.gr(0);b.width();b.css("transition","");this.uw();return P.resolve()};
f.dn=function(){switch(this.bF){case "EXPORTING":return{title:this.Ca.format("publishViewTitlePreparingDesign")};case "SAVING":return{title:this.Ca.format("publishViewSavingTitle")};default:throw Error("unexpected exporting state: "+this.bF);}};f.uw=function(){var a=this;this.oC+=33*(99-this.oC)/99;this.view.KY(this.oC);this.JQ=this.G.setTimeout(function(){return a.uw()},1.1*3E3)};function s2(){X1.call(this,{className:"exporting"})}t(s2,X1);
s2.prototype.render=function(){this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue"\x3e\x3cspan class\x3d"text"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');return this};s2.prototype.KY=function(a){var b=this;this.$(".progressValue").delay().queue(function(c){b.gr(a);c()})};s2.prototype.gr=function(a){this.$(".progressValue").width(a+"%").children(".text").text(a+"%")};s2.prototype.bp=function(a){return T1(a).toString()};function t2(a){this.quotes=[a.format("quoteAlbertEinstein"),a.format("quoteRobertGreene"),a.format("quoteHenriMatisse"),a.format("quoteSteveJobs"),a.format("quoteAndyWarhol"),a.format("quoteEleanorRoosevelt"),a.format("quoteAbrahamLincoln"),a.format("quoteThomasWatsonJr"),a.format("quotePaulRand"),a.format("quoteNelsonMandela"),a.format("quotePabloPicasso"),a.format("quoteMiltonGlaser"),a.format("quoteMaryLouCook"),a.format("quoteDrEdwinLand"),a.format("quoteAlexanderIsley"),a.format("quoteJoeMansueto"),
a.format("quoteCharlesEames"),a.format("quoteMihnDTran"),a.format("quoteAntoineDeSaintExupery")]}t2.prototype.next=function(){var a=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.quotes[Math.floor(Math.random()*this.quotes.length)]);soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"quote",a,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"designQuote"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e").toString()};function d_(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var e=a.type;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var g=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var k=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var l=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var m=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var n=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var p=null==(b=n)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(p)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=e)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==n?" disabled":"")+(m?" buttonSmall":"")+'"'+(k?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'"':"")+(l?' id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+(h&&"a"!=n?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(p)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function S1(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+u2(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+u2(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function u2(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||
goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var e=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var k=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var l=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var m=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var n=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(n?" textInputSmall":"")+'"'+(e?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(k?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+("textarea"!=l?' type\x3d"'+soy.$$escapeHtmlAttribute(null==m?"text":m)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function v2(a){this.X=a.X;this.view=a.view;this.Bn=null;this.D=a.D;this.nG=a.nG||4;this.oq=!!a.oq;this.QC=[];this.un=[];this.AA=0;this.sB=this.bq=null;this.wC=!!a.wC;this.listenTo(this.view,{requestAutocomplete:this.aX,select:this.r6})}function F0(a){var b=a.Gj,b=new w2({el:$(Jaa({inputPlaceholder:a.Jf}))[0],Gj:b});return new v2({X:a.X,D:a.D,nG:a.nG,oq:a.oq,wC:a.wC,view:b})}f=v2.prototype;f.remove=function(){this.stopListening();this.view.remove()};
f.CF=function(){var a=this;Fa(this.oq,"getUsers() only valid in multi user mode");return this.QC.filter(function(a){return""!==a}).map(function(b){return Kaa(a,b)})};function Laa(a){var b=Cx(Bx((new Ax).yi(a.D.u()))).sg(100);a.X.Yr(b).then(function(c){a.Bn=c.fv();if(c.Fb())return a.X.Yr(b.zi(c.Fb()))}).then(function(b){b&&a.Bn.push.apply(a.Bn,[].concat(na(b.fv())));b=a.sB;a.sB=null;a.aX(b.rZ,b.pos)}).catch(function(b){!a.wC&&a.view.qe();throw b;})}
f.aX=function(a,b){this.trigger("input");if(this.sB)this.sB={rZ:a,pos:b};else if(null===this.Bn)this.sB={rZ:a,pos:b},Laa(this);else{var c=Maa(this,a,b);""===c?x2(this.view):(this.bq=this.Bn.filter(function(a){return y2(c,a.va().eg())||y2(c,a.va().rb())||y2(c,a.xf())}).slice(0,this.nG),this.oq&&0==this.bq.length?x2(this.view):Naa(this.view,this.bq))}};
function Maa(a,b,c){if(!a.oq)return b;c=b.lastIndexOf(",",c-1);c=0>=c?0:c+1;var d=b.indexOf(",",c),d=-1==d?b.length:d;a.un=[b.slice(0,c),b.slice(c,d),b.slice(d)];a.AA=a.un[0].split(",").length-1;a.QC[a.AA]=a.un[1];b=a.QC.length-a.AA-1;c=a.un[2].split(",");d=c.length-1;0<d&&!c[c.length-1].trim()&&d--;a.QC.splice(a.AA+1,b-d);return a.un[1]}function Kaa(a,b){if(b instanceof yx||!a.Bn)return b;a=a.Bn.filter(function(a){return a.xf()===b.trim()});return a.length?a[0]:b}
function y2(a,b){return!!b&&-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}f.r6=function(a){if(this.oq){this.QC[this.AA]=this.bq[a];var b=this.view,c=this.un[0]+(this.un[0]?" ":"");a=this.bq[a];a=a.xf()||a.va().rb()||a.va().eg();c=c+a+(this.un[2]?"":", ")+this.un[2];b.$("input").val(c)}else this.trigger("select",this.bq[a]),this.view.$("input").val("")};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;function w2(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"input input":function(a){return z2(b,a)},"focus input":function(a){b.trigger("focus");return z2(b,a)},"blur input":function(){return b.Js()}}});this.Gj=a.Gj;this.Gd=this.bq=null}t(w2,Backbone.View);function z2(a,b){var c=$(b.target);b=c[0].selectionEnd;c=c.val();a.trigger("requestAutocomplete",c,b)}w2.prototype.Js=function(){this.Gd&&!this.Gd.view.$("li").hasClass("hovering")&&x2(this)};
function Naa(a,b){function c(a){a=$(Oaa({lead:a.va().rb(),desc:a.xf(),avatarURL:a.va().wp()&&a.va().wp().sizes.get("50").ma()}));return new uQ(a,!0,!1)}var d=A2.bind(a,{message:a.Gj.format("findUserInputNoResults",Fm())});a.bq=b;a.Gd&&x2(a);a.Gd=yQ({elements:b.length?b.map(c):[new uQ($(d()),!1,!1)],Mr:b.length?0:void 0});a.$el.append(a.Gd.view.$el);a.listenTo(a.Gd,{select:function(b){a.trigger("select",b);x2(a)},cancel:function(){x2(a)}})}
w2.prototype.qe=function(){this.Gd=yQ({elements:[new uQ($(A2({message:this.Gj.error()})),!1,!1)]});this.$el.append(this.Gd.view.$el)};function x2(a){a.Gd&&(a.stopListening(a.Gd),a.Gd.view.remove(),a.Gd=null)}w2.prototype.mg=function(a){this.$("input").prop("disabled",!a)};
var Jaa=_.template('\n  \x3cspan class\x3d"findUserInput"\x3e\x3cinput type\x3d"text" class\x3d"textInput" placeholder\x3d"\x3c%- inputPlaceholder %\x3e" /\x3e\x3c/span\x3e\n'),Oaa=_.template('\n  \x3cimg class\x3d"avatar" src\x3d"\x3c%- avatarURL %\x3e" /\x3e\n  \x3cdiv class\x3d"findUser__right"\x3e\n    \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n    \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n  \x3c/div\x3e\n'),A2=_.template('\n  \x3cspan class\x3d"desc"\x3e\x3c%\x3d message %\x3e\x3c/span\x3e\n');function B2(a){var b=this;gc.call(this,a);this.$el.on("click",".tagListInput__tagRemoveButton",function(a){a=new C2($(a.target).closest(".tagListInput__tag"));b.trigger(D2,a)});this.$el.on("keydown",".tagListInput__input",function(a){return b.Gl(a)});this.$el.on("keyup",".tagListInput__input",function(){return b.trigger(E2)});this.$el.on("click",function(){return b.trigger(F2)});this.$el.on("blur",".tagListInput__input",function(){return b.trigger(G2)});this.Gd=null}t(B2,gc);f=B2.prototype;
f.Gl=function(a){Paa.has(a.which)?(this.trigger(H2),a.preventDefault()):Qaa.has(a.which)?null==this.Gd&&(this.trigger(H2),a.preventDefault()):8===a.which&&this.trigger(I2)};function J2(a,b){a.$el.find(".tagListInput__input").attr("placeholder",b)}f.bn=function(){return String(this.$el.find(".tagListInput__input").val())};
f.oD=function(a){K2(this);var b=this.$el.find(".tagListInput__input"),c=$,d;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");d=a.text;soy.asserts.assertType(goog.isBoolean(a.valid)||1===a.valid||0===a.valid,"valid",a.valid,"boolean");var e=!!a.valid;soy.asserts.assertType(null==a.ak||goog.isNumber(a.ak),"modelId",a.ak,"null|number|undefined");a=a.ak;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput__tag'+
(e?"":" tagListInput__tag--invalid")+'"'+(null!=a?' data-model-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+'\x3e\x3cdiv class\x3d"tagListInput__tagText"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"tagListInput__tagRemoveButton"\x3e\x3cdiv class\x3d"tagListInput__tagRemoveIcon"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');c=c(d.toString());(new C2(c)).$el.insertBefore(b)};f.Lp=function(){return this.$el.find(".tagListInput__tag").toArray().map(function(a){return new C2($(a))})};
f.focus=function(){this.$el.find(".tagListInput__input").focus()};function K2(a){a.Gd&&(a.Gd.view.remove(),a.Gd=null)}function Raa(a,b){K2(a);a.Gd=yQ({elements:b,Mr:0});a.$el.append(a.Gd.view.$el);a.Gd.on({select:function(c){a.trigger(L2,b[c].element.data("model-id"))},cancel:function(){K2(a)}})}function C2(a){fc.apply(this,arguments)}t(C2,fc);C2.prototype.isValid=function(){return!this.$el.hasClass("tagListInput__tag--invalid")};C2.prototype.qc=function(){return String(this.$el.find(".tagListInput__tagText").text())};
C2.prototype.gv=function(){var a=parseInt(this.$el.data("model-id"),10);return isNaN(a)?void 0:a};var D2="REMOVE_TAG",H2="SUBMIT",I2="BACKSPACE",F2="FOCUS",G2="BLUR",E2="KEY_UP",L2="SELECT_MENULIST_ELEMENT",Qaa=new Set([13]),Paa=new Set([32,188,59,186]);function M2(a,b){var c=this;this.view=b;this.zI=a.zI;this.vR=a.vR;this.rO=null;this.EN=a.EN;this.lq=null;this.DW=!1;this.FN=a.FN;this.DN=a.DN;this.lL=a.lL;this.TN=a.TN;this.EK=a.EK;this.view.on(H2,function(){return N2(c)});this.view.on(I2,function(){if(0===c.view.bn().length){var a=c.view.Lp();0<a.length&&O2(c,a[a.length-1])}});this.view.on(D2,function(a){return O2(c,a)});this.view.on(F2,function(){c.view.focus();a.uq&&a.uq()});this.view.on(G2,function(){var a=c.view;null!=a.Gd&&a.Gd.view.$("li").hasClass("hovering")||
K2(c.view)});this.view.on(E2,function(){c.rO&&c.rO();P2(c)});this.view.on(L2,function(a){return Saa(c,a)})}function N2(a){var b=a.view.bn();return 0===b.length?P.resolve():a.zI.validate(b,null).then(function(c){a.oD({text:b,valid:c.valid})})}M2.prototype.oD=function(a){this.view.oD(a);J2(this.view,this.TN);this.view.$el.find(".tagListInput__input").val("")};function O2(a,b){b.remove();a.view.focus();0===a.view.Lp().length&&J2(a.view,a.lL)}function Taa(a,b){a.rO=b}
function Uaa(a){return a.view.Lp().filter(function(a){return a.isValid()}).map(function(b){var c=b.gv();return null!=c&&0<=c&&c<a.lq.length?a.lq[c]:b.qc()})}function Vaa(a){return a.view.Lp().filter(function(a){return!a.isValid()}).map(function(a){return a.qc()})}function Waa(a){a.EN.then(function(b){a.lq=b;a.DW=!1;P2(a)})}
function P2(a){if(a.lq||a.DW){var b=a.view.bn();if(0!==b.length&&a.lq){var c=a.lq.map(function(a,b){return{data:a,ak:b}}).filter(function(c){return a.FN(b,c.data)}).slice(0,4).map(function(b){return a.DN(b.data,b.ak)});c.length?Raa(a.view,c):K2(a.view)}else K2(a.view)}else Waa(a)}function Saa(a,b){Fa(b<a.lq.length,"Invalid tag list model ID");var c=a.lq[b],d=a.vR(c);a.zI.validate(d,null).then(function(d){d=d.valid;var g=a.EK(c);a.oD({text:g,valid:d,ak:b})})};function Q2(a){this.view=a.view;this.Ca=Qc(a.i);this.Ma=Uc(a.i);this.QQ=a.QQ}f=Q2.prototype;f.init=function(){var a=this;this.view.on("remove",function(){a.trigger("complete")});this.view.on("clickConfirm",function(){a.view.$(".paymentOnboarding__button").addClass("disabled");a.view.remove()});return this};f.sn=function(a){return 0<=this.QQ.indexOf(a)};
f.show=function(){var a=this.gn(),b=this.view,c=$,d;soy.asserts.assertType(goog.isString(a.before)||a.before instanceof goog.soy.data.SanitizedContent,"before",a.before,"string|goog.soy.data.SanitizedContent");d=a.before;soy.asserts.assertType(goog.isString(a.after)||a.after instanceof goog.soy.data.SanitizedContent,"after",a.after,"string|goog.soy.data.SanitizedContent");var e=a.after;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");var g=a.title;soy.asserts.assertType(goog.isString(a.KF)||a.KF instanceof goog.soy.data.SanitizedContent,"headline",a.KF,"string|goog.soy.data.SanitizedContent");var h=a.KF;soy.asserts.assertType(goog.isBoolean(a.$d)||1===a.$d||0===a.$d,"showOneTimeUse",a.$d,"boolean");var k=!!a.$d;soy.asserts.assertType(goog.isString(a.hd)||a.hd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.hd,"string|goog.soy.data.SanitizedContent");var l=a.hd;soy.asserts.assertType(goog.isString(a.Jc)||
a.Jc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Jc,"string|goog.soy.data.SanitizedContent");var m=a.Jc;soy.asserts.assertType(goog.isBoolean(a.ae)||1===a.ae||0===a.ae,"showRoyaltyFree",a.ae,"boolean");var n=!!a.ae;soy.asserts.assertType(goog.isString(a.Cc)||a.Cc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Cc,"string|goog.soy.data.SanitizedContent");var p=a.Cc;soy.asserts.assertType(goog.isString(a.Lc)||a.Lc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",
a.Lc,"string|goog.soy.data.SanitizedContent");var q=a.Lc;soy.asserts.assertType(goog.isString(a.Sd)||a.Sd instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.Sd,"string|goog.soy.data.SanitizedContent");var u=a.Sd;soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"buttonText",a.bd,"string|goog.soy.data.SanitizedContent");a=a.bd;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentOnboarding__header"\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"center"\x3e'+soy.$$escapeHtml(g)+'\x3c/h2\x3e\x3cp class\x3d"paymentOnboarding__headline"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e"+Z1({$d:k,hd:l,Jc:m,ae:n,Cc:p,Lc:q,Ng:!1,xd:null,Od:null,Sd:u})+'\x3cdiv class\x3d"paymentOnboarding__footer"\x3e'+d_({v:"paymentOnboarding__button",text:a})+"\x3c/div\x3e");b.content=
c(d.toString());this.view.show()};f.remove=function(){this.view.remove()};f.gn=function(){return{before:this.Ca.format("publishViewOnboardingBefore"),after:this.Ca.format("publishViewOnboardingAfter"),title:this.Ca.format("publishViewOnboardingTitle"),KF:this.Ca.format("publishViewOnboardingHeadline"),$d:this.sn("ONE_USE"),hd:this.Ma.hd(),Jc:this.Ma.Jc(),ae:this.sn("ROYALTY_FREE"),Cc:this.Ma.Cc(),Lc:this.Ma.Lc(),Sd:this.Ma.Sd(),bd:this.Ca.format("publishViewOnboardingConfirm")}};f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function R2(a){rp.call(this,{className:"paymentOnboarding",G:a.G,df:!1,Ar:!0,Me:!0})}t(R2,rp);R2.prototype.events=function(){var a=this;return _.extend(rp.prototype.events.call(this),{"click .paymentOnboarding__button":function(){a.trigger("clickConfirm")}})};R2.prototype.Ep=function(){return gX};
R2.prototype.render=function(){rp.prototype.render.call(this);this.$(".dialog .content").html(this.content);this.delegateEvents();return this};function S2(a){this.view=a.view;this.qp=null;this.Ca=a.Ca;this.vw=null}f=S2.prototype;f.init=function(){var a=this;this.view.on("done",function(){a.trigger("done")});this.view.on("retry",function(){a.view.$(".button").prop("disabled",!0);a.trigger("retry")});return this};f.rl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){w(this.vw);this.view.render(this.gn());this.view.delegateEvents();null!=this.qp&&this.view.JY(this.qp);return P.resolve()};
f.gn=function(){return{message:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.vw.message),St:this.Ca.St(),Tt:this.Ca.Tt(),wi:this.vw.wi||!1,Jt:this.vw.Jt||!1}};f.dn=function(){return{title:this.vw.title}};f.JY=function(a){this.qp=a};
function Xaa(a,b){switch(b){case "EMPTY_DOC":return{message:a.Ca.format("publishViewErrorEmptyDesign"),title:a.Ca.format("publishViewErrorEmptyDesignTitle"),wi:!0};case "SAVING":return{message:a.Ca.format("publishViewErrorSavingDesign"),title:a.Ca.format("publishViewErrorSavingDesignTitle"),Jt:!0};case "VERSION_CONFLICT":return{message:a.Ca.format("publishViewErrorVersionConflict"),title:a.Ca.format("publishViewErrorVersionConflictTitle"),wi:!0};case "UPLOADING":return{message:a.Ca.format("publishViewErrorUploading"),
title:a.Ca.format("publishViewErrorUploadingTitle"),wi:!0};case "EXPORTING":case "BACKGROUND_PAYMENT":return{message:a.Ca.format("publishViewErrorPageHtml","http://status.canva.com"),title:a.Ca.format("publishViewTitleErrorPage"),wi:!0};case "BACKGROUND":return{message:a.Ca.format("publishViewErrorBackgroundTaskHtml","http://status.canva.com"),title:a.Ca.format("publishViewErrorBackgroundTaskTitle"),wi:!0};case "LICENSE_NO_OPTIONS":return{message:a.Ca.format("publishViewErrorLicenseNoOptionsHtml",
"http://status.canva.com"),title:a.Ca.format("publishViewErrorLicenseNoOptionsTitle"),wi:!0};case "URL_MINTING":return{message:a.Ca.format("publishViewErrorUrlMinting","http://status.canva.com"),title:a.Ca.format("publishViewErrorUrlMintingTitle"),wi:!0};default:throw Error("unexpected publish error type: "+b);}}f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function T2(){var a=this;X1.call(this,{className:"error",events:{"click .done":function(){a.trigger("done")},"click .retry":function(){return a.YN()}}})}t(T2,X1);T2.prototype.YN=function(){this.trigger("retry")};T2.prototype.JY=function(a){$('\x3cp class\x3d"errorMessage"\x3e'+a+"\x3c/p\x3e").insertBefore(this.$(".buttonContainer"))};
T2.prototype.render=function(a){var b=this.el,c;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");c=a.message;soy.asserts.assertType(goog.isBoolean(a.wi)||1===a.wi||0===a.wi,"useOK",a.wi,"boolean");var d=!!a.wi;soy.asserts.assertType(goog.isBoolean(a.Jt)||1===a.Jt||0===a.Jt,"useRetry",a.Jt,"boolean");var e=!!a.Jt;soy.asserts.assertType(goog.isString(a.St)||a.St instanceof
goog.soy.data.SanitizedContent,"actionOK",a.St,"string|goog.soy.data.SanitizedContent");var g=a.St;soy.asserts.assertType(goog.isString(a.Tt)||a.Tt instanceof goog.soy.data.SanitizedContent,"actionRetry",a.Tt,"string|goog.soy.data.SanitizedContent");a=a.Tt;c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e'+(d?'\x3cbutton class\x3d"button done"\x3e'+soy.$$escapeHtml(g)+"\x3c/button\x3e":"")+(e?'\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e":"")+"\x3c/p\x3e");b.innerHTML=c;return this};T2.prototype.bp=function(a){return T1(a).toString()};function Yaa(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Rg)||a.Rg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Rg,"string|goog.soy.data.SanitizedContent");a=a.Rg;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e'+
soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/p\x3e")};function U2(a){this.l=a}U2.prototype.Yi=function(){return this.l.Yi()};U2.prototype.wa=function(a){return this.l.wa(a)};function V2(a,b){a.l.track("post_publish_dialog_shown",{type:b})}function W2(a,b,c,d){b={type:b};location&&(b.section=c);d&&Object.assign(b,d);a.l.track("post_publish_dialog_clicked",b)}function X2(a,b,c,d){a.l.track("mobile_dialogue_submit",{type:b,location:"publish_flow_complete",value:c,status:d?"success":"fail"})};function Y2(a){soy.asserts.assertType(a.tb instanceof soydata.SanitizedHtml||a.tb instanceof soydata.UnsanitizedText||goog.isString(a.tb),"headingHtml",a.tb,"soydata.SanitizedHtml");var b=a.tb;soy.asserts.assertType(goog.isString(a.dk)||a.dk instanceof goog.soy.data.SanitizedContent,"overviewSubheading",a.dk,"string|goog.soy.data.SanitizedContent");var c=a.dk;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Ic,"string|goog.soy.data.SanitizedContent");
var d=a.Ic;soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Fc,"string|goog.soy.data.SanitizedContent");a=a.Fc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__content"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__options"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsIphone"\x3e'+
soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsAndroid"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e")}
function Zaa(a){soy.asserts.assertType(a.tb instanceof soydata.SanitizedHtml||a.tb instanceof soydata.UnsanitizedText||goog.isString(a.tb),"headingHtml",a.tb,"soydata.SanitizedHtml");var b=a.tb;soy.asserts.assertType(goog.isString(a.tv)||a.tv instanceof goog.soy.data.SanitizedContent,"iphoneSubheading",a.tv,"string|goog.soy.data.SanitizedContent");var c=a.tv;soy.asserts.assertType(goog.isString(a.Ow)||a.Ow instanceof goog.soy.data.SanitizedContent,"sendButtonLabel",a.Ow,"string|goog.soy.data.SanitizedContent");
var d=a.Ow;soy.asserts.assertType(goog.isString(a.ij)||a.ij instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.ij,"string|goog.soy.data.SanitizedContent");a=a.ij;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverIphone"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--iphone" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--iphone"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--iphone"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function $aa(a){soy.asserts.assertType(a.tb instanceof soydata.SanitizedHtml||a.tb instanceof soydata.UnsanitizedText||goog.isString(a.tb),"headingHtml",a.tb,"soydata.SanitizedHtml");var b=a.tb;soy.asserts.assertType(goog.isString(a.au)||a.au instanceof goog.soy.data.SanitizedContent,"androidSubheading",a.au,"string|goog.soy.data.SanitizedContent");var c=a.au;soy.asserts.assertType(goog.isString(a.zw)||a.zw instanceof goog.soy.data.SanitizedContent,"registerButtonLabel",a.zw,"string|goog.soy.data.SanitizedContent");
var d=a.zw;soy.asserts.assertType(goog.isString(a.ij)||a.ij instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.ij,"string|goog.soy.data.SanitizedContent");a=a.ij;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverAndroid"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--android" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--android"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--android"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
;function Z2(a){var b=this;gc.call(this,a);a.on("click",".experimentsPhoneDialog__back",function(){return b.trigger($2)});a.on("click",".experimentsPhoneDialog__optionsIphone",function(){return b.trigger(a3)});a.on("click",".experimentsPhoneDialog__optionsAndroid",function(){return b.trigger(b3)});a.on("click",".experimentsPhoneDialog__inputButton--android",function(){return b.trigger(c3)});a.on("click",".experimentsPhoneDialog__inputButton--iphone",function(){return b.trigger(d3)})}t(Z2,gc);f=Z2.prototype;
f.jo=function(a){return this.$el.find(".experimentsPhoneDialog__container").html(a)};function e3(a){a=a.$el.find(".experimentsPhoneDialog__inputField");if(0===a.size())throw Error("Input field could not be found");return a}function f3(a){a=a.$el.find(".experimentsPhoneDialog__inputButton");if(0===a.size())throw Error("Input button could not be found");return a}f.qt=function(a){this.$el.find(".experimentsPhoneDialog__inputError").text(a)};f.sF=function(){return e3(this).val().toString()};
f.iQ=function(){this.Mq();e3(this).addClass("experimentsPhoneDialog__inputField--loading");f3(this).addClass("experimentsPhoneDialog__inputButton--loading")};f.Uw=function(a){this.Mq();e3(this).addClass("experimentsPhoneDialog__inputField--error");f3(this).addClass("experimentsPhoneDialog__inputButton--error");this.qt(a)};f.PH=function(){this.Mq();e3(this).addClass("experimentsPhoneDialog__inputField--success");f3(this).addClass("experimentsPhoneDialog__inputButton--success");this.qt("Success!")};
f.Mq=function(){this.qt("");e3(this).removeClass("experimentsPhoneDialog__inputField--error").removeClass("experimentsPhoneDialog__inputField--loading").removeClass("experimentsPhoneDialog__inputField--success");f3(this).removeClass("experimentsPhoneDialog__inputButton--error").removeClass("experimentsPhoneDialog__inputButton--loading").removeClass("experimentsPhoneDialog__inputButton--success")};var $2="BACK",c3="SEND_ANDROID",d3="SEND_IPHONE",b3="GOTO_ANDROID",a3="GOTO_IPHONE";function g3(a,b){var c=this;this.view=b;this.l=a.l;this.vc=a.vc;this.i=a.i;this.view.on($2,function(){var a={tb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.tb()),dk:c.i.dk(),Ic:c.i.Ic(),Fc:c.i.Fc()};c.view.jo(Y2(a).toString())});this.view.on(d3,function(){return aba(c)});this.view.on(c3,function(){var a;a=c.view.sF();/^(?=.*[0-9])[- +()0-9]+$/g.test(a)?(c.l.wa(h3(a,!0)),c.view.PH(),a=void 0):(c.l.wa(h3(a,!1)),a=c.view.Uw(c.i.WF()));return a});this.view.on(a3,function(){var a={tb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.tb()),
tv:c.i.tv(),Ow:c.i.Ow(),ij:c.i.ij()};c.view.jo(Zaa(a).toString());W2(c.l,"app_download","os_select",{os:"ios"})});this.view.on(b3,function(){var a={tb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.tb()),au:c.i.au(),zw:c.i.zw(),ij:c.i.ij()};c.view.jo($aa(a).toString());W2(c.l,"app_download","os_select",{os:"android"})})}g3.prototype.Fe=function(){this.l.wa(X(new fm("mobile_dialogue_loaded"),"location","publish_flow_complete"))};g3.prototype.destroy=function(){this.view.remove()};
function aba(a){var b=a.view.sF();if(!/^(?=.*[0-9])[- +()0-9]+$/g.test(b))return a.view.Uw(a.i.WF());a.view.iQ();a.vc.send(b,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:"control"}).then(function(){a.view.PH();a.l.wa(i3(b,!0))}).catch(function(){a.view.Uw(a.i.GQ());a.l.wa(i3(b,!1))})}function h3(a,b){b=b?"success":"fail";return X(X(X(X(new fm("mobile_dialogue_submit"),"type","android"),"location","publish_flow_complete"),"value",a),"status",b)}
function i3(a,b){b=b?"success":"fail";return X(X(X(X(new fm("mobile_dialogue_submit"),"type","ios"),"location","publish_flow_complete"),"value",a),"status",b)};function j3(a){soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Ic,"string|goog.soy.data.SanitizedContent");var b=a.Ic;soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Fc,"string|goog.soy.data.SanitizedContent");var c=a.Fc;soy.asserts.assertType(goog.isString(a.nd)||a.nd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.nd,"string|goog.soy.data.SanitizedContent");var d=
a.nd;soy.asserts.assertType(goog.isString(a.Lg)||a.Lg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Lg,"string|goog.soy.data.SanitizedContent");var e=a.Lg;soy.asserts.assertType(goog.isString(a.ai)||a.ai instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ai,"string|goog.soy.data.SanitizedContent");a=a.ai;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__step"\x3e'+soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__choiceForm" action\x3d""\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--iphone" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"iphone" checked\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--iphone"\x3e'+
soy.$$escapeHtml(b)+'\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--android" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"android"\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--android"\x3e'+soy.$$escapeHtml(c)+'\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__step experimentsMobileAppsDialog__step--phoneInputCTA"\x3e'+
soy.$$escapeHtml(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputContainer"\x3e\x3cinput type\x3d"text" class\x3d"experimentsMobileAppsDialog__phoneNumberInputField"/\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputSubmit"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__result"\x3e\x3c/div\x3e')};function k3(a){var b=this;gc.call(this,a);this.Io=a.find(".experimentsMobileAppsDialog__phoneNumberInputField");this.aD=a.find(".experimentsMobileAppsDialog__phoneNumberInputSubmit");a.find(".experimentsMobileAppsDialog__step--phoneInputCTA");this.Io.intlTelInput({utilsScript:"https://static.canva.com/static/lib/intlTelInput/utils-12.1.0.min.js"});a.on("click",".experimentsMobileAppsDialog__phoneNumberInputSubmit",function(){return b.trigger(l3)});a.on("input",".experimentsMobileAppsDialog__phoneNumberInputField",function(){return b.trigger(m3)})}
t(k3,gc);f=k3.prototype;f.qt=function(a){this.$el.find(".experimentsMobileAppsDialog__result").text(a)};f.sF=function(){return String(this.Io.intlTelInput("getNumber"))};f.IY=function(a){this.Io.intlTelInput("setCountry",a)};f.iQ=function(){this.Mq();this.Io.addClass("experimentsMobileAppsDialog__phoneNumberInputField--loading");this.aD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading")};
f.Uw=function(a){this.Mq();this.Io.addClass("experimentsMobileAppsDialog__phoneNumberInputField--error");this.aD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error");this.qt(a)};f.PH=function(a){this.Mq();this.Io.addClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.aD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success");this.qt(a)};
f.Mq=function(){this.qt("");this.Io.removeClass("experimentsMobileAppsDialog__phoneNumberInputField--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.aD.removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success")};
var l3="SUBMIT",m3="PHONE_NUMBER_CHANGED";function n3(a,b){var c=this;this.view=b;this.l=a.l;this.vc=a.vc;this.Fm=a.Fm;this.i=a.i;this.view.on(l3,function(){return c.Hl()});this.view.on(m3,function(){return c.view.Mq()})}n3.prototype.Fe=function(){V2(this.l,"app_download");var a=this.l.Yi();a&&this.view.IY(a)};n3.prototype.destroy=function(){this.view.remove()};
n3.prototype.Hl=function(){if(this.view.Io.intlTelInput("isValidNumber")){W2(this.l,"app_download","phone_number_submit");var a=this.view.$el.find(".experimentsMobileAppsDialog__choice:checked").val().toString();switch(a){case "iphone":o3(this,"iphone");break;case "android":o3(this,"android");break;default:throw Error("UNKNOWN_DEVICE_TYPE: "+a);}}else this.view.Uw(this.i.WF())};
function o3(a,b){var c=a.view.sF();a.view.iQ();a.vc.send(c,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:a.Fm}).then(function(){a.view.PH(a.i.success());X2(a.l,b,c,!0)}).catch(function(){a.view.Uw(a.i.GQ());X2(a.l,b,c,!1)})};function p3(a){var b=this;gc.call(this,a);this.$el.on("click",".experimentsPrintPublishDialog__printButton",function(){return b.trigger(q3)})}t(p3,gc);var q3="PRINT_CLICK";function r3(a,b){var c=this;this.view=b;this.nO=a.nO;this.l=a.l;this.view.on(q3,function(){W2(c.l,"print_upsell");c.nO()})}
function bba(a){var b=a.Ol.format("publishDialogPrintDialogPrintButtonLabel"),c=a.Ol.format("publishDialogPrintDialogSubtitle"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Ol.format("publishDialogPrintDialogTitleHtml")),e=$;soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"titleHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subtitle",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"printButtonLabel",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPrintPublishDialog"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__container"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printIcon"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__title"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__subTitle"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printButtonContainer"\x3e\x3cbutton class\x3d"experimentsPrintPublishDialog__printButton"\x3e'+soy.$$escapeHtml(b)+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());e=new p3(e);return{Ab:new r3(a,e),view:e}}r3.prototype.Fe=function(){V2(this.l,"print_upsell")};r3.prototype.destroy=function(){this.view.remove()};function s3(a,b){gc.call(this,a);this.VQ=b}t(s3,gc);function t3(a,b,c){var d=this;this.view=b;this.BC=c;this.l=a.l;this.At=a.At;u3(this.BC,function(b){return v3(d.At,b).then(function(){b.forEach(function(a){return d.l.wa(zm(a,"export_dialog"))});W2(d.l,"team_member_invite","team_invite_submit");a.gO()})})}
function cba(a){var b=a.Ol.format("publishDialogTeamInviteDialogTitle"),c=a.Ol.format("publishDialogTeamInviteDialogSubheading"),d={nd:a.kf.nd(),Bj:a.kf.Bj(),HV:w3(a.cj),hr:a.kf.hr(),No:a.kf.No()},e=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subheading",c,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertObject(d,
"expected parameter 'teamInviteFormModel' of type [addAnotherButtonClasses: null|string, addAnotherButtonLabel: string, classes: null|string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, listItemClasses: null|string, submitButtonClasses: null|string, submitButtonLabel: string, upgradeMessage: string].");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamInviteDialog"\x3e\x3cdiv class\x3d"teamInviteDialog__header"\x3e\x3cdiv class\x3d"teamInviteDialog__title"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__subheading"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__wrapper"\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__imageWrapper"\x3e\x3cimg class\x3d"teamInviteDialog__image" src\x3d"https://static.canva.com/static/images/experiments/publish_dialog_invite/team.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__inviteForm"\x3e'+x3(soy.$$assignDefaults({uC:"teamInviteDialog__submitButton"},
d))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());b=new y3(e.find(".teamInviteForm"));e=new s3(e,b);b=a.kK(e.VQ);a=new t3(a,e,b);return{view:e,Ab:a}}t3.prototype.Fe=function(){this.BC.Fe();V2(this.l,"team_member_invite")};t3.prototype.destroy=function(){this.view.remove()};function x0(a){this.NA=a.NA;this.aa=a.aa;this.kr=a.kr;this.pE=a.pE;this.X=a.X;this.cc=a.cc;this.Vo=a.Vo;this.Oe=a.Oe;this.D=a.D}function v3(a,b){return 0===b.length?P.resolve():a.lR().then(function(){return dba(a)}).then(function(){return eba(a,b)})}function eba(a,b){b=b.map(function(b){return Object.freeze(If(sx,{email:b,role:a.pE}))});b=ux(vx((new tx).yi(a.D.u()),"brand_page_Invite_Accept_Invitation"),b);return a.X.EY(b)}
x0.prototype.lR=function(){var a=this;if(!this.D.Vh())return P.resolve();var b=nx(mx((new lx).Go(this.D.u()),fba(this)));return zw(this.X,b).then(function(b){var d;try{d=b.yp().xp().Dg}catch(e){d=null}b=Bw({brandColor:d,brandname:b.$L(),contributor:b.NV(),displayName:b.rb(),id:b.u(),layoutContributor:b.TV(),personal:b.Vh(),thirdParty:b.WV()});a.D=b;Sx(a.cc);Tx(a.cc)})};
function dba(a){return null==a.Oe||"FREE"!==a.Oe.ik.cm?P.resolve():Dj(a.aa,new mj({D:a.D.u(),ik:a.NA.id,se:a.NA.se,dR:!1})).then(function(b){return a.Oe=b.getSubscription()})}function fba(a){var b=a.D.rb();a.D.Vh()&&(b=a.Vo.format("brandTeamMembersDefaultTeamDisplayName",b||a.kr));return b||""};function w0(a,b){var c=this;this.view=b;this.RE=a.RE;this.Xi=a.Xi;this.kf=a.kf;this.ZH=void 0===a.ZH||a.ZH;this.cj=a.cj;this.Hl=a.Hl;this.view.on(z3,function(a){return c.cO(a)});this.view.on(A3,function(a){var b=B3(c.view),g;for(g=0;g<b.length;g++){var h=b[g];if(a.gv()===h.gv())break}g+1<b.length&&b[g+1].focus()});this.view.on(C3,function(a){return c.bO(a)});this.view.on(D3,function(){return gba(c)});this.view.on(E3,function(){B3(c.view).length<c.cj.lG&&(hba(c.view,{tr:!0,ul:c.kf.Bj(),ak:F3++}),G3(c))})}
f=w0.prototype;f.destroy=function(){this.view.remove()};f.Fe=function(){G3(this)};function u3(a,b){a.Hl=b}function G3(a){var b=B3(a.view).length,c=b+a.cj.qK>=a.cj.xl;b>=a.cj.lG||c?(H3(a.view,!1),c&&a.ZH&&I3(a.view,!0)):(I3(a.view,!1),H3(a.view,!0))}f.cO=function(a){J3(a).gg()};f.bO=function(a){var b=B3(this.view);b[b.length-1].gv()===a.gv()&&K3(this.view,!0)};f.Et=function(a){this.view.Et(a);L3(this.view,a);B3(this.view).forEach(function(b){return b.Et(a)})};
function gba(a){a.Et(!0);var b=B3(a.view).filter(function(a){return 0<a.qc().length});M3(iba(a,b)).then(function(c){c?(c=b.map(function(a){return a.qc()}),w(a.Hl)(c).catch(function(b){return a.view.qe(b)}).finally(function(){return a.Et(!1)})):a.Et(!1)})}function iba(a,b){return b.map(function(b){return{Bp:function(){return J3(b)},Cp:function(){return b.qc()},mr:[a.RE]}})}
f.reset=function(){var a=this;H3(this.view,!0);L3(this.view,!1);K3(this.view,!1);I3(this.view,!1);B3(this.view).forEach(function(b,c){c<N3(a.cj)?b.uk(""):b.remove()})};function w3(a){a=N3(a);return jba(a)}function N3(a){Fa(a.xK<=a.lG);return Math.min(a.xK,Math.max(a.xl-a.qK,0))}function jba(a){return Array(Math.max(a,0)).fill(null).map(function(){return{ak:F3++}})}var F3=1;function y3(a){var b=this;gc.call(this,a);this.$el.on("click",".teamInviteForm__submitButton",function(){b.trigger(D3)});this.$el.on("input",".teamInviteForm__textInput",function(a){return b.cO(a)});this.$el.on("keyup",".teamInviteForm__textInput",function(a){13===a.keyCode&&(a=$(a.target).closest(".teamInviteForm__emailListItem"),b.trigger(A3,new O3(a)))});this.$el.on("focus",".teamInviteForm__textInput",function(a){return b.bO(a)});this.$el.on("click",".teamInviteForm__addAnother",function(){return b.trigger(E3)})}
t(y3,gc);function hba(a,b){var c=kba(b);a.$el.find(".teamInviteForm__emailList").append(c.$el);b.tr&&pl(function(){c.$el.addClass("teamInviteForm__emailListItem--visible");c.focus()})}function B3(a){return a.$el.find(".teamInviteForm__emailListItem").toArray().map(function(a){return new O3($(a))})}f=y3.prototype;f.qe=function(a){this.$el.find(".teamInviteForm__error").addClass("teamInviteForm__error--visible").text(a)};f.gg=function(){this.$el.find(".teamInviteForm__error").removeClass("teamInviteForm__error--visible")};
f.Et=function(a){this.$el.find(".teamInviteForm__submitButton").toggleClass("teamInviteForm__submitButton--submitting",a)};function L3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--disabled",b)}function I3(a,b){a.$el.find(".teamInviteForm__upgradeMessage").toggleClass("teamInviteForm__upgradeMessage--visible",b)}function H3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--hidden",!b)}
function K3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--highlighted",b)}f.cO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(z3,new O3(a))};f.bO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(C3,new O3(a))};var z3="FIELD_INPUT",A3="FIELD_ENTER",C3="FIELD_FOCUS",D3="SUBMIT_CLICK",E3="ADD_ANOTHER";function O3(a){fc.apply(this,arguments)}t(O3,fc);
function kba(a){a=$(P3(a).toString());return new O3(a)}f=O3.prototype;f.qc=function(){return String(this.$el.find(".teamInviteForm__textInput").val())};f.uk=function(a){this.$el.find(".teamInviteForm__textInput").val(a)};function J3(a){return E1($(a.$el.find(".teamInviteForm__inputContainer")))}f.gv=function(){return Number(this.$el.data("model-id"))};f.Et=function(a){this.$el.find(".teamInviteForm__textInput").toggleClass("teamInviteForm__textInput--submitting",a)};f.focus=function(){this.$el.find(".teamInviteForm__textInput").focus()};function x3(a){soy.asserts.assertType(goog.isString(a.Bj)||a.Bj instanceof goog.soy.data.SanitizedContent,"emailInputPlaceholder",a.Bj,"string|goog.soy.data.SanitizedContent");var b=a.Bj;soy.asserts.assertType(goog.isString(a.nd)||a.nd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.nd,"string|goog.soy.data.SanitizedContent");var c=a.nd;soy.asserts.assertType(goog.isString(a.No)||a.No instanceof goog.soy.data.SanitizedContent,"addAnotherButtonLabel",a.No,"string|goog.soy.data.SanitizedContent");
var d=a.No,e=goog.asserts.assertArray(a.HV,"expected parameter 'inputModel' of type list\x3c[modelId: float|int]\x3e.");soy.asserts.assertType(goog.isString(a.hr)||a.hr instanceof goog.soy.data.SanitizedContent,"upgradeMessage",a.hr,"string|goog.soy.data.SanitizedContent");var g=a.hr;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.hG||a.hG instanceof goog.soy.data.SanitizedContent||
goog.isString(a.hG),"listItemClasses",a.hG,"null|string|undefined");var k=a.hG;soy.asserts.assertType(null==a.uC||a.uC instanceof goog.soy.data.SanitizedContent||goog.isString(a.uC),"submitButtonClasses",a.uC,"null|string|undefined");var l=a.uC;soy.asserts.assertType(null==a.mD||a.mD instanceof goog.soy.data.SanitizedContent||goog.isString(a.mD),"addAnotherButtonClasses",a.mD,"null|string|undefined");a=a.mD;for(var h='\x3cdiv class\x3d"teamInviteForm'+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cul class\x3d"teamInviteForm__emailList"\x3e',
m=e.length,n=0;n<m;n++)h+=P3(soy.$$assignDefaults({v:k,ul:b},e[n]));h+='\x3c/ul\x3e\x3cdiv class\x3d"teamInviteForm__infoContainer"\x3e\x3cbutton class\x3d"teamInviteForm__addAnother'+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e+ '+soy.$$escapeHtml(d)+'\x3c/button\x3e\x3cdiv class\x3d"teamInviteForm__upgradeMessage"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteForm__error"\x3e\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"teamInviteForm__submitButton '+(l?soy.$$escapeHtmlAttribute(l)+
" ":"")+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/button\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(h)}
function P3(a){soy.asserts.assertType(goog.isString(a.ul)||a.ul instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.ul,"string|goog.soy.data.SanitizedContent");var b=a.ul;soy.asserts.assertType(goog.isNumber(a.ak),"modelId",a.ak,"number");var c=a.ak;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.tr||goog.isBoolean(a.tr)||1===a.tr||0===a.tr,"animated",a.tr,
"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"teamInviteForm__emailListItem'+(a.tr?" teamInviteForm__emailListItem--animated":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+y1({v:"teamInviteForm__inputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({placeholder:b,v:"teamInviteForm__textInput"}))})+"\x3c/li\x3e")};function Q3(a,b){this.view=b;this.PD=a.PD;this.LJ=a.LJ}f=Q3.prototype;f.rl=function(){return this.view};f.remove=function(){this.LJ.destroy();this.view.remove()};f.dn=function(){return{title:""}};f.refresh=function(){this.view.render();return P.resolve()};f.hQ=function(){};f.kQ=function(){};function R3(a){X1.call(this,{className:"",events:{}});this.ND=a.ND}t(R3,X1);R3.prototype.render=function(){$(this.el).append(this.ND.$el);return this};R3.prototype.remove=function(){this.ND.remove();X1.prototype.remove.call(this)};function S3(a){this.H=a.H;this.pd=a.pd;this.i=a.i;this.l=a.l;this.vc=a.vc}S3.prototype.TM=function(){return this.vc&&"X"!==this.H.get(T3)?this.pd.getItem(U3).then(function(a){return!a}):P.resolve(!1)};
S3.prototype.render=function(){var a=this.H.get(T3),b;if("A"===a){b=new U2(this.l);var c=w(this.vc),a=this.i;a.UK||(a.UK=new Ef(a.config));b={l:b,vc:c,i:a.UK};a={tb:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.i.tb()),dk:b.i.dk(),Ic:b.i.Ic(),Fc:b.i.Fc()};c=$;soy.asserts.assertType(a.tb instanceof soydata.SanitizedHtml||a.tb instanceof soydata.UnsanitizedText||goog.isString(a.tb),"headingHtml",a.tb,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.dk)||a.dk instanceof goog.soy.data.SanitizedContent,
"overviewSubheading",a.dk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Fc,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__closeButton"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__container"\x3e'+
Y2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__iphonePage"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__androidPage"\x3e\x3c/div\x3e\x3c/div\x3e');c=c(a.toString());c=new Z2(c);b={Ab:new g3(b,c),view:c}}else{b=new U2(this.l);var c=w(this.vc),d=this.i;d.WK||(d.WK=new Ff(d.config));d=d.WK;a:switch(a){case "B":a="visual";break a;case "C":a="textual";break a;default:throw Error("UNKNOWN_VARIANT: "+a);}b={l:b,vc:c,i:d,Fm:a};c=b.i;a=b.Fm;a={heading:c.heading(),ni:c.ni(),Fm:a,Ic:c.Ic(),
Fc:c.Fc(),nd:c.nd(),Lg:c.Lg(),ai:c.format("downloadMobileAppDialogPhoneInputCTA"),$S:[c.format("downloadMobileAppDialogBullet1"),c.format("downloadMobileAppDialogBullet2"),c.format("downloadMobileAppDialogBullet3")]};c=$;soy.asserts.assertType(goog.isString(a.Fm)||a.Fm instanceof goog.soy.data.SanitizedContent,"dialogLayout",a.Fm,"string|goog.soy.data.SanitizedContent");d=a.Fm;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,
"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ni)||a.ni instanceof goog.soy.data.SanitizedContent,"subheading",a.ni,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Lg)||a.Lg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Lg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ai)||a.ai instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ai,"string|goog.soy.data.SanitizedContent");
goog.asserts.assertArray(a.$S,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Fc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.nd)||a.nd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",
a.nd,"string|goog.soy.data.SanitizedContent");var e='\x3cdiv class\x3d"experimentsMobileAppsDialog"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__container experimentsMobileAppsDialog__container--'+soy.$$escapeHtmlAttribute(d)+'"\x3e';switch(goog.isObject(d)?d.toString():d){case "visual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");e=a.heading;soy.asserts.assertType(goog.isString(a.ni)||
a.ni instanceof goog.soy.data.SanitizedContent,"subheading",a.ni,"string|goog.soy.data.SanitizedContent");var g=a.ni;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Fc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Lg)||a.Lg instanceof goog.soy.data.SanitizedContent,
"selectDeviceText",a.Lg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ai)||a.ai instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ai,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.nd)||a.nd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.nd,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--visual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column--withImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/mobile_app_download/iphone.png" class\x3d"experimentsMobileAppsDialog__heroImage" /\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--visual"\x3e'+
soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--viusual"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e"+j3(a)+"\x3c/div\x3e\x3c/div\x3e");e=d+a;break;case "textual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");g=a.heading;soy.asserts.assertType(goog.isString(a.ni)||a.ni instanceof goog.soy.data.SanitizedContent,
"subheading",a.ni,"string|goog.soy.data.SanitizedContent");var h=a.ni;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Fc,"string|goog.soy.data.SanitizedContent");e=goog.asserts.assertArray(a.$S,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Lg)||
a.Lg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Lg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ai)||a.ai instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ai,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.nd)||a.nd instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.nd,"string|goog.soy.data.SanitizedContent");a='\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--textual"\x3e'+
soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--textual"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--textual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column"\x3e'+j3(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cul class\x3d"experimentsMobileAppsDialog__bulletPoints"\x3e';
g=e.length;for(h=0;h<g;h++)a+='\x3cli class\x3d"experimentsMobileAppsDialog__bulletPoint"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/success.svg" class\x3d"experimentsMobileAppsDialog__bulletPointImage" /\x3e\x3cspan\x3e'+soy.$$escapeHtml(e[h])+"\x3c/span\x3e\x3c/li\x3e";a=soydata.VERY_UNSAFE.ordainSanitizedHtml(a+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e");e=d+a}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(e+"\x3c/div\x3e\x3c/div\x3e");c=c(a.toString());c=new k3(c);b={Ab:new n3(b,c),view:c}}return b};
S3.prototype.pO=function(){this.pd.setItem(U3,!0)};S3.prototype.bM=function(){var a=this.H.get(T3);return"A"===a?"dialog--phone dialog--phoneA":"dialog--phone2 dialog--phoneVariant"+a};var T3=new Kf("jm","C");var U3="seenMobileExpDialog";function lba(a){this.QT=a}function mba(a){var b=[],c=a.pd;c&&(b=[new S3({l:a.l,H:a.H,i:a.i,vc:a.vc,pd:c}),new V3({i:a.i,l:a.l,document:a.document,H:a.H,La:a.La,pd:c}),new W3({aa:a.aa,H:a.H,i:a.i,ld:a.ld,X:a.X,Ia:a.Ia,cc:a.cc,l:a.l,W:a.W,pd:c})]);return new lba(b)}function nba(a,b){return oba(a).then(function(a){a&&a.pO();var d;if(a){var e=a.render(b);d=e.Ab;a={ND:e.view,LJ:d,PD:a.bM()};e=new R3(a);a=new Q3(a,e);d.Fe();d=a}else d=null;return d})}
function oba(a){return P.all(a.QT.map(function(a){return a.TM()})).then(function(b){b=b.map(function(b,d){return{p2:b,Db:a.QT[d]}}).filter(function(a){return a.p2}).map(function(a){return a.Db});return 0===b.length?null:b[0]})};function V3(a){this.H=a.H;this.document=a.document;this.l=a.l;this.pd=a.pd;this.La=a.La;this.i=a.i}V3.prototype.TM=function(){var a=this;return this.H.get(pba)&&0<$(".editorActionPrint").length?this.pd.getItem("spped").then(function(a){return a&&P.reject(new X3)}).then(function(){return qba(a,a.document)}).then(function(a){return!a&&P.reject(new X3)}).then(function(){return!0}).catch(X3,function(){return!1}):P.resolve(!1)};
function qba(a,b){var c=w(b.ib().u());return rba(a).then(function(a){return a?null!=Y3(a.id,c):!1})}function rba(a){return Z3(a.La).then(function(a){return 0<a.BB.length?a.BB[0]:null}).catch(function(){return null})}V3.prototype.render=function(a){return bba({Ol:Id(this.i),nO:function(){W0().mh()||$(".editorActionPrint").click();a.VT()},l:new U2(this.l)})};V3.prototype.pO=function(){this.pd.setItem("spped",!0)};V3.prototype.bM=function(){return"dialog--printPublish"};var pba=new Kf("jl",!0);
function X3(){}t(X3,Error);function W3(a){this.pd=a.pd;this.H=a.H;this.i=a.i;this.ld=a.ld;this.Ia=a.Ia;this.aa=a.aa;this.cc=a.cc;this.X=a.X;this.l=a.l;this.W=a.W}W3.prototype.TM=function(){return!this.H.get(sba)||$3(this)>=this.W.H.get(ag)?P.resolve(!1):this.pd.getItem("seenInviteExpDialog").then(function(a){return!a})};
W3.prototype.render=function(a){var b=$c(this.i),c=new A0,d=new z0({Pd:b}),e=Gd(this.i),b=Id(this.i),g=new x0({NA:y0(this.ld),Oe:Nx(this.Ia).getSubscription(),aa:this.aa,D:Nx(this.Ia).ia(),kr:Ox(this.Ia).rb(),pE:Am,X:this.X,cc:this.cc,Vo:Yc(this.i)}),h={xK:3,lG:3,xl:this.W.H.get(ag),qK:$3(this)};return cba({kf:e,Ol:b,l:new U2(this.l),cj:h,At:g,gO:function(){return a.VT()},kK:function(a){return new w0({RE:d,Xi:c,kf:e,cj:h},a)}})};function $3(a){a=Nx(a.Ia);return Px(a)+Qx(a)}
W3.prototype.pO=function(){this.pd.setItem("seenInviteExpDialog",!0)};W3.prototype.bM=function(){return"dialog--teamInvite"};var sba=new Kf("jk",!0);function tba(){window.hasOwnProperty("grecaptchaPromise")||(window.grecaptchaPromise=new P(function(a,b){window.grecaptchaOnload=a;a=document.createElement("script");a.onerror=b;a.src="https://www.google.com/recaptcha/api.js?onload\x3dgrecaptchaOnload\x26render\x3dexplicit";document.head.appendChild(a)}));return window.grecaptchaPromise};function a4(a,b){gc.call(this,a);this.TC=null;this.CQ=b}t(a4,gc);a4.prototype.Fe=function(){var a=this;this.TC=window.grecaptcha.render(this.$el[0],{callback:function(){return a.trigger(b4)},"expired-callback":function(){return a.trigger(c4)},sitekey:this.CQ})};a4.prototype.reset=function(){Fa(null!=this.TC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");window.grecaptcha.reset(this.TC)};
function uba(a){Fa(null!=a.TC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");a=window.grecaptcha.getResponse(a.TC);Fa(a.length,"No response token from reCAPTCHA widget, has it been completed (or has it expired)?");return a}var b4="COMPLETE",c4="EXPIRED";
function I0(a){return tba().then(function(){w(window.grecaptcha,"reCAPTCHA API is not available, make sure it has been loaded by calling RecaptchaLoader.load()");var b=$('\x3cdiv class\x3d"grecaptchaWidget"\x3e\x3c/div\x3e');return new a4(b,a)})};function d4(a,b){var c=this;gc.call(this,a);this.className=b.className;this.options=b.options;a.on("click",function(){return c.Gf()})}t(d4,gc);function e4(a){Ca(a.options.some(function(a){return a.selected}),"options must have a selected element");var b=a.options.filter(function(a){return a.selected})[0],b=$(vba({text:b.fC||b.text,disabled:a.disabled}).toString());return new d4(b,a)}
d4.prototype.Gf=function(){var a=this,b=new f4({className:this.className,options:this.options});b.on(g4,function(b){return a.qO(b)});b.li(this.$el)};d4.prototype.qO=function(a){this.options.filter(function(a){return a.selected})[0].selected=!1;var b=this.options.filter(function(b){return b.value===a})[0];b.selected=!0;this.$el.text(b.fC||b.text);this.trigger(h4,a)};var h4="SELECT";function vba(a){soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");var b=a.text;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton type\x3d"button" class\x3d"selectView" '+(a.disabled?'disabled\x3d"disabled"':"")+"\x3e"+soy.$$escapeHtml(b)+"\x3c/button\x3e")}
;function f4(a){Zy.call(this,a)}t(f4,Zy);f=f4.prototype;f.initialize=function(a){this.options=a.options;Zy.prototype.initialize.call(this,{content:this.zP(),jx:!1,dw:!0,ro:!1})};f.events=function(){return{"click .selectView__option":this.qO}};f.Ep=function(){return gX};
f.zP=function(){var a=$,b;b='\x3cdiv class\x3d"selectView__menu"\x3e';for(var c=goog.asserts.assertArray(this.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool, text: string, value: string]\x3e."),d=c.length,e=0;e<d;e++){var g=c[e];b+='\x3cdiv class\x3d"selectView__option'+(g.selected?" selected":"")+(g.disabled?" selectView__option--disabled":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(g.value)+'"\x3e'+soy.$$escapeHtml(g.text)+"\x3c/div\x3e"}b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b+
"\x3c/div\x3e");return a(b.toString())};f.qO=function(a){a=$(a.target);a.hasClass("selectView__option--disabled")||(this.trigger(g4,a.data("value")),this.remove())};var g4="SELECT";function i4(a){var b=this;this.nb=a.nb;this.Zb=a.Zb;this.jz=a.jz;this.lu=a.lu;this.ce=a.ce;this.D=a.D;this.l=a.l;this.mo=a.mo;this.i=a.i;this.Ra=a.Ra;this.X=a.X;this.dc=a.dc;this.rd=a.rd;this.cc=a.cc;this.Zr=a.Zr;this.zQ=a.zQ;this.xl=a.xl;this.Do=a.Do;this.Rr=a.Rr;this.eC=a.eC;this.jJ=a.jJ;this.rr=a.rr;this.Je=a.Je;this.GP=a.GP;this.kj=a.kj;this.xO=null;this.pK={};this.nW=a.rr?"EDITOR":"VIEWER";this.LB={};this.To=new Map;this.LC=a.LC;this.view=a.view;this.xw=a.xw;this.IA=a.IA;this.Vn=null;this.vN=
a.vN;this.H=a.H;this.ou=a.ou;this.sa=a.sa;this.YY=!1;this.np=null;this.$w=a.$w;this.In=a.In;this.bl=a.bl;this.W=new Nf(this.H);this.$w.on(j4,function(){var a=b.view;a.Hd.show(a.$el);a.delegateEvents()});this.$w.on(k4,function(){return b.view.ok()});this.listenTo(this.view,{roleChange:this.p6,linkRoleChange:this.iO,linkCopy:this.P5,tabChanged:this.F6,embedCopy:this.Q9,submit:this.Hl,social:this.v6,makePublic:this.Q5,nativeShare:this.b6,nativeSharePlatform:this.ZW,oauthResp:this.e6,viewWebsite:this.O6});
this.Zr&&this.listenTo(this.Zr,{input:function(){return l4(b.view)}});this.bl&&Taa(this.bl,function(){return l4(b.view)})}
function H0(a){var b=FV(a.nb,a.Do,"sharebutton","link"),c;a.$Z?(c=a.nb,c=DV(c,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(a.$Z)+"\x26"+GV(c,"sharebutton","link")):c=null;var d;a.Rr?(d=a.nb,d=DV(d,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(a.Rr)+"\x26"+GV(d,"sharebutton","link")):d=null;var e=EV(a.nb,a.Do)+"?website",g=Oc(a.i),g=[g.format("shareDesignDialogTweet1"),g.format("shareDesignDialogTweet2"),g.format("shareDesignDialogTweet3"),g.format("shareDesignDialogTweet4")],
h=Ox(a.Ia),k=Nx(a.Ia),l=Px(k)+Qx(k),l=a.q3&&null===k.getSubscription()&&l<a.xl,m=new t2(Wc(a.i)),m=wba({nb:a.nb,Zb:a.Zb,la:h.u(),D:k.ia(),l:a.l,aa:a.aa,X:a.X,fb:a.fb,dc:a.dc,ub:a.ub,i:a.i,G:a.G,ud:a.ud,Zs:m,NN:new m4,H:a.H});return new i4({nb:a.nb,Zb:a.Zb,jz:a.jz,ce:h,D:k.ia(),l:a.l,Ra:a.Ra,X:a.X,dc:a.dc,rd:a.rd,cc:a.cc,Zr:a.Zr,lu:a.lu,mo:a.mo,zQ:l,xl:a.xl,Do:a.Do,Rr:a.Rr,eC:b,jJ:c,rr:d,GP:e,Je:a.Je,kj:a.kj,LC:g,i:a.i,G:a.G,ou:a.ou,sa:a.sa,$w:m,view:a.view,xw:a.xw,IA:a.IA,vN:xba,H:a.H,In:a.In,bl:a.bl})}
f=i4.prototype;
f.show=function(){this.view.show();var a=this.view,b=this.jJ,c=!this.rr;a.$(".shareDialog__hiddenViewLink").val(b);a.$(".shareDialog__linkRole select").prop("disabled",c);n4(this.view,this.rr||this.eC);this.H.get(yba)&&!this.ce.PV()?(o4(this.view,!1),a=this.view,b=a.Y.Qa("shareDesignDialogUnverifiedEmailWarning","/account"),a.qe(zba,DZ,b)):this.jz&&(o4(this.view,!1),a=this.view,o4(a,!1),b=a.Y.format("shareDesignDialogEmptyDesignWarning"),a.qe(Aba,DZ,b));if(this.Je){var c=this.kj.et?this.kj.DI?Oc(this.i).format("shareDesignDialogRenderWebsiteWarning"):
Oc(this.i).format("shareDesignDialogRenderWebsiteBeta"):Oc(this.i).format("shareDesignDialogRenderWebsiteWarningUnrenderable"),a=this.view,d=this.GP,b=this.kj.et,e=a.Y.format("shareDesignDialogRenderWebsiteInstruction"),g=a.pq.Dn();soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"newLabel",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"instruction",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"url",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"warning",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"newFeatureLabel shareDialog__websiteAnnouncementNewLabel"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementInstruction"\x3e'+soy.$$escapeHtml(e)+
'\x3c/div\x3e\x3ca class\x3d"shareDialog__websiteAnnouncementLink" target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementWarning"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e").toString();AZ({type:b?CZ:DZ,wb:!1,small:!0,message:soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}).$el.appendTo(a.$(".shareDialog__websiteAnnouncement"))}Bba(this);Cba(this)};
function Cba(a){Aq(a.Ra,a.nb).then(function(b){var c=Dba(b);a.xO=c.Lj().va();a.lu&&Eba(a,b);if(c.Lj().ia()===a.D.u())return Fba(a).then(function(c){if(1!=c)return Gba(a,b).then(function(c){return Hba(a,c,b.$f().Qz())})})}).catch(function(b){var c=a.view,d=c.Y.format("shareDesignDialogLoadError");c.qe(Iba,EZ,d);throw b;})}function Bba(a){dy(a.dc,new Ky({Pw:a.ce.u()})).then(function(b){a.np=b.np})}
function Jba(a,b){function c(a){return{displayName:a.rb()||a.eg(),username:a.eg()}}return b===a.ce.u()?P.resolve(c(a.ce.GC())):a.X.va(b).then(function(a){return c(a)})}function Eba(a,b){var c=b.$f().Qz().some(function(a){if("DEFAULT"===a.jb())return"NONE"!==a.$i()});b=a.xO;w(b,"ownerId not found");Jba(a,b).then(function(b){b=a.lu(b.displayName,b.username);p4(a.view,c,b)})}
function Dba(a){var b=null;a.$f().Qz().some(function(a){if("OWNER"===a.$i())return b=a,!0});w(b,"document acl must specify an owner");return b}function Fba(a){var b=Dx((new Ax).yi(a.D.u()));return a.X.Yr(b).then(function(a){return a.getCount()})}
function Gba(a,b){b=b.$f().Qz().reduce(function(b,d){"USER"!==d.jb()||d.Lj().ia()!==a.D.u()||null!=d.Qd()&&"MANUAL"!==d.Qd().jb()||b.push(d.Lj().va());return b},[]);return 0<b.length?(b=Cx(Bx(Ex((new Ax).yi(a.D.u()),b.slice(0,100)).sg(100))),a.X.Yr(b).then(function(a){return a.fv()})):P.resolve([])}
function Hba(a,b,c){var d,e={},g=[],h={};b.forEach(function(a){return e[a.va().u()]=a});c.forEach(function(b){b.Qd()&&"FOLDER"===b.Qd().jb()?"NONE"!==b.$i()&&(h[b.Qd().u()]=!0):"BRAND"===b.jb()&&b.Lj().ia()==a.D.u()?(d={D:a.D,yD:b},a.pK[a.D.u()]=b.$i()):"USER"===b.jb()&&e.hasOwnProperty(b.Lj().va())&&(g.push({LA:e[b.Lj().va()],yD:b,disabled:!Kba(a,b)}),a.pK[b.Lj().va()]=b.$i())});d||(d={D:a.D,yD:jr({role:"NONE"})});Lba(a.view,d,g,Object.keys(h).length)}
function Kba(a,b){return b.Lj().va()!=a.ce.u()&&"OWNER"!=b.$i()}f.p6=function(a,b){this.LB[a]=b};f.iO=function(a){"VIEWER"===a?n4(this.view,this.eC):"EDITOR"===a&&this.rr&&n4(this.view,this.rr);this.nW=a};f.P5=function(){var a=X(X(X(new fm("design_shared"),"location","sharebutton"),"medium","link"),"access_level",q4(this.nW));Xl(this.l,a)};function q4(a){return"OWNER"===a||"EDITOR"===a?"edit":"REMIXER"===a||"VIEWER"===a?"view":"none"}
f.v6=function(a){a===r4?(a=this.LC[Math.floor(Math.random()*this.LC.length)],a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(FV(this.nb,this.Do,"sharebutton","twitter"))+"\x26text\x3d"+encodeURIComponent(a),this.view.openWindow(a,420,550),this.view.ok(),Xl(this.l,s4("TWITTER"))):a===t4&&(a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(FV(this.nb,this.Do,"sharebutton","facebook")),this.view.openWindow(a,420,550),this.view.ok(),Xl(this.l,s4("FACEBOOK")));u4(this)};
f.Q5=function(){var a=this;this.Ra.Ws(this.nb).then(function(){p4(a.view,!0,null);a.mo.trigger(Z0)}).catch(function(){var b=a.view;b.$(".shareDialog__embedError").text(b.Y.format("shareDesignDialogEmbedError"))})};f.b6=function(a){var b=[];this.To.forEach(function(a,d){return a.enabled&&b.push(d)});this.l.wa(Mba(!!a,b));this.$w.show(a,b);this.view.hide()};
function S0(a){if(!a.YY){a.YY=!0;var b=["FACEBOOK","TWITTER"].map(function(b){return a.sa&&Lo(a.sa,"CANVA_SD_NS_"+b)?a.ZW(b,!0).finally(function(){return P.resolve()}):P.resolve()});P.all([].concat([a.vN()],na(b))).then(function(){a.view.$(".shareDialog__nativeSocialButton").prop("disabled",!1);a.view.KZ=window.twttr.txt});Nba(a.$w)}}
f.ZW=function(a,b){var c=this;return this.To.has(a)?(this.To.get(a).enabled=!this.To.get(a).enabled,v4(this,a),P.resolve()):Hw(this.X,new Pw({user:this.ce.u(),platform:a})).then(function(d){d.summary.valid&&-1<d.summary.jv.indexOf("PUBLISH")?(c.To.set(a,{enabled:!0,username:d.summary.username}),v4(c,a)):b||(d=-1<d.summary.Au.indexOf("PUBLISH"),w4(c,a,d))}).catch(function(){return w4(c,a,!1)})};
function w4(a,b,c){var d=Oba(a.view,b);Pba(a.ou,function(){var d=kw("platform",b),g=["GET_BASIC_PROFILE","PUBLISH"].map(mw.bind(null,"permission")),d="/oauth/authorize/"+encodeURIComponent(d)+("?permissions\x3d"+encodeURIComponent(g.join(",")))+(c?"\x26reRequest\x3dtrue":"");a.view.openWindow(d,600,550);a.l.wa(Qba(b))});Rba(a.ou,d)}
f.e6=function(a){a.tR?(this.To.delete(a.platform),this.l.wa(Sba(a.platform))):(this.To.set(a.platform,{enabled:!0,username:a.username}),this.l.wa(Tba(a.platform)));v4(this,a.platform)};f.O6=function(){this.l.track("design_website_viewed")};
function Uba(a){null!==a.Vn?(a.Vn.reset(),P.resolve()):a.xw?a.IA(a.xw).then(function(b){x4(a.view).toggleClass("shareDialog__captchaContainer--hidden",!1);Vba(a.view);a.Vn=b;a.Vn.on(b4,function(){o4(a.view,!0);a.view.gg(y4)});a.Vn.on(c4,function(){o4(a.view,!1)});a.Vn.$el.appendTo(x4(a.view));a.Vn.Fe()}).catch(function(b){o4(a.view,!1);z4(a.view);throw b;}):(z4(a.view),P.reject(Error("reCAPTCHA requested but no siteKey provided")))}
function v4(a,b){var c=a.To.get(b),d=!(!c||!c.enabled),c=c?c.username:null;if("TWITTER"===b){c&&(c="@"+c);var e=a.view;(e.QY=d)?e.Gn():e.$(".shareDialog__characterCount").empty()}d?a.sa&&So(a.sa,"CANVA_SD_NS_"+b):a.sa&&a.sa.removeItem("CANVA_SD_NS_"+b);a=a.view;a.$(".shareDialog__"+b.toLowerCase()).toggleClass("shareDialog__nativeSocialButton--selected",d);e=0===a.$(".shareDialog__nativeSocialButton--selected").length;a.$(".shareDialog__shareButton").prop("disabled",e);b=a.$(".shareDialog__"+b.toLowerCase()+
" .shareDialog__tooltip");d?(w(c,"enabled platform must provide a tooltip"),b.text(c),a.Gn()):b.text(b.data("tooltip"))}f.Hl=function(a){var b=this;null!=this.bl?N2(this.bl).then(function(){var c=Vaa(b.bl);0<c.length?(A4(b.view),B4(b.view,c)):C4(b,Uaa(b.bl),a)}):C4(this,this.Zr.CF(),a)};
function C4(a,b,c){var d=[],e=[],g=[];b.forEach(function(b){if(b instanceof yx){var k=b.va().u();k!=a.xO&&k!=a.ce.u()&&d.push(pr(k,a.D.u(),c));b.xf()&&e.push(b.xf())}else g.push.apply(g,[].concat(na(b.split(",").map(function(a){return a.trim()}).filter(function(a){return""!==a}))))});Wba(a,g)&&Xba(a,g)?(Object.keys(a.LB).forEach(function(b){b===a.D.u()?d.push(pr(null,b,a.LB[b])):d.push(pr(b,a.D.u(),a.LB[b]));b=X(X(X(X(new fm("access_level_change"),"location","sharebutton"),"medium","share_dialog"),
"from_access_level",q4(a.pK[b])),"to_access_level",q4(a.LB[b]));Xl(a.l,b)}),P.all([Yba(a,d),Zba(a,e,g,c)]).then(function(b){b=ma(b);b.next();if(b.next().value.some(function(a){return!!a.qP}))o4(a.view,!1),A4(a.view),Uba(a);else if(0<g.length&&a.zQ){b=$ba(a.view,g,a.xl);var c=X(X(new fm("team_invites_shown"),"location","sharebutton"),"medium","share_dialog");a.l.wa(c);aca({D:a.D,l:a.l,X:a.X,cc:a.cc,kr:a.ce.rb(),zG:g.length,Y:Oc(a.i),In:function(){return a.In()}},b)}else a.view.ok()}).catch(function(b){A4(a.view);
o4(a.view,!1);throw b;})):A4(a.view)}function Wba(a,b){a.view.gg(D4);b=b.filter(function(a){return!ZH(a)});return b.length?(A4(a.view),B4(a.view,b),!1):!0}function Xba(a,b){a.view.gg(E4);return null!=a.np&&b.length>a.np?(b=a.view,a=a.np,a=0===a?b.Y.Qa("shareDesignDialogEmailQuotaReached",b.jI):b.Y.Qa("shareDesignDialogEmailQuotaLimited",a,b.jI),b.qe(E4,EZ,a),!1):!0}function Yba(a,b){if(0===b.length)return P.resolve();b=Wq(Vq(a.nb),b);return Dq(a.Ra,b).catch(function(b){F4(a.view);throw b;})}
f.F6=function(a){Ul(this.l,a,"share_dialog");"socialTab"===a&&(Xl(this.l,new fm("social_share_flow_start")),S0(this))};f.Q9=function(){Sl(this.l,"embed_copy",null,null,"share_dialog")};
function Zba(a,b,c,d){var e=[],g=a.Vn&&uba(a.Vn);0<b.length&&e.push(ay(a.dc,new Iy({tH:g,nb:a.nb,ta:a.D.u(),mode:"VIEWER"===d?"viewer":"editor",Sr:b,RC:"sharebutton"})));0<c.length&&e.push(ay(a.dc,new Iy({tH:g,nb:a.nb,mode:"VIEWER"===d?"default":"editor",eh:"VIEWER"===d?a.Do:a.Rr,Sr:c,RC:"shareButton"})));var h=q4(d);b.forEach(function(){return G4(a,h,!0)});c.forEach(function(){return G4(a,h,!1)});return P.all(e).then(function(b){b.length&&u4(a);return b}).catch(function(b){g?z4(a.view):F4(a.view);
throw b;})}function G4(a,b,c){b=X(X(X(X(new fm("design_shared"),"location","sharebutton"),"medium","share_dialog"),"access_level",b),"on_team",c);Xl(a.l,b)}function u4(a){Jq(a.Ra,new Nt({wg:a.nb,version:-1,tw:"MEDIUM"}))}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var yba=new Kf("fm",!1);function bca(a){soy.asserts.assertType(goog.isString(a.fH)||a.fH instanceof goog.soy.data.SanitizedContent,"peopleTabLabel",a.fH,"string|goog.soy.data.SanitizedContent");var b=a.fH;soy.asserts.assertType(goog.isString(a.$H)||a.$H instanceof goog.soy.data.SanitizedContent,"socialTabLabel",a.$H,"string|goog.soy.data.SanitizedContent");var c=a.$H;soy.asserts.assertType(goog.isString(a.fG)||a.fG instanceof goog.soy.data.SanitizedContent,"linkTabLabel",a.fG,"string|goog.soy.data.SanitizedContent");var d=
a.fG;soy.asserts.assertType(goog.isString(a.SE)||a.SE instanceof goog.soy.data.SanitizedContent,"embedTabLabel",a.SE,"string|goog.soy.data.SanitizedContent");var e=a.SE;soy.asserts.assertType(a.Cj instanceof soydata.SanitizedHtml||a.Cj instanceof soydata.UnsanitizedText||goog.isString(a.Cj),"embedDescription",a.Cj,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.Jm)||a.Jm instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Jm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Km)||
a.Km instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Km,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Im)||1===a.Im||0===a.Im,"embedEnabled",a.Im,"boolean");var g=!!a.Im;soy.asserts.assertType(null==a.ah||a.ah instanceof goog.soy.data.SanitizedContent||goog.isString(a.ah),"embedCode",a.ah,"null|string|undefined");soy.asserts.assertType(goog.isString(a.Mm)||a.Mm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Mm,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Lm)||a.Lm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Lm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.pn)||a.pn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.pn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.nn)||a.nn instanceof goog.soy.data.SanitizedContent,"inviteButton",a.nn,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.qx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(goog.isBoolean(a.$l)||1===a.$l||0===a.$l,"socialTabEnabled",a.$l,"boolean");var h=!!a.$l;soy.asserts.assertType(goog.isString(a.no)||a.no instanceof goog.soy.data.SanitizedContent,"shareLabel",a.no,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.Vv,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.Cn)||a.Cn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.Cn,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.lo)||a.lo instanceof goog.soy.data.SanitizedContent,"shareButton",a.lo,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.wn)||a.wn instanceof goog.soy.data.SanitizedContent,"linkLabel",a.wn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Xg)||a.Xg instanceof goog.soy.data.SanitizedContent,"copyButton",a.Xg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Je)||1===a.Je||
0===a.Je,"renderAccessModeEnabled",a.Je,"boolean");var k=!!a.Je;soy.asserts.assertType(goog.isString(a.Dn)||a.Dn instanceof goog.soy.data.SanitizedContent,"newLabel",a.Dn,"string|goog.soy.data.SanitizedContent");var l=a.Dn;soy.asserts.assertType(null==a.lc||a.lc instanceof goog.soy.data.SanitizedContent||goog.isString(a.lc),"initialTab",a.lc,"null|string|undefined");var m=a.lc,n=goog.asserts.assertObject(a.E9,"expected parameter 'tabs' of type [EMBED: string, LINK: string, PEOPLE: string, SOCIAL: string].");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabWrapper"\x3e\x3cdiv class\x3d"shareDialog__tab'+(m&&m!=n.aJ?"":" shareDialog__tab--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.aJ)+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+(h?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.cJ?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.cJ)+'"\x3e'+soy.$$escapeHtml(c)+'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"shareDialog__tab'+(m==n.LINK?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.LINK)+'"\x3e'+soy.$$escapeHtml(d)+(k?'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e":"")+"\x3c/div\x3e"+(g?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.EMBED?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.EMBED)+'"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__tabContainer"\x3e'+
cca(soy.$$assignDefaults({Pe:n.aJ},a))+(h?dca(soy.$$assignDefaults({Pe:n.cJ},a)):"")+eca(soy.$$assignDefaults({Pe:n.LINK},a))+(g?fca(soy.$$assignDefaults({Pe:n.EMBED},a)):"")+"\x3c/div\x3e")}
function cca(a){soy.asserts.assertType(goog.isString(a.pn)||a.pn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.pn,"string|goog.soy.data.SanitizedContent");var b=a.pn;soy.asserts.assertType(goog.isString(a.nn)||a.nn instanceof goog.soy.data.SanitizedContent,"inviteButton",a.nn,"string|goog.soy.data.SanitizedContent");var c=a.nn;soy.asserts.assertType(goog.isBoolean(a.$l)||1===a.$l||0===a.$l,"socialTabEnabled",a.$l,"boolean");var d=!!a.$l,e=goog.asserts.assertObject(a.qx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(null==a.lc||a.lc instanceof goog.soy.data.SanitizedContent||goog.isString(a.lc),"initialTab",a.lc,"null|string|undefined");var g=a.lc;soy.asserts.assertType(goog.isString(a.Pe)||a.Pe instanceof goog.soy.data.SanitizedContent,"tabId",a.Pe,"string|goog.soy.data.SanitizedContent");a=a.Pe;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g&&g!=a?"":" shareDialog__tabContent--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__acl"\x3e\x3c/div\x3e\x3cdiv\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__members"\x3e\x3cdiv class\x3d"shareDialog__inviteRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__folders"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__error"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__captchaContainer shareDialog__captchaContainer--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+d_({v:"shareDialog__inviteButton buttonSubmittable",text:c});if(!d){b+='\x3cspan class\x3d"shareDialog__socialButtons"\x3e';
d=soy.$$getMapKeys(e);c=d.length;for(g=0;g<c;g++)a=d[g],b+=d_({v:a,text:e[a]});b+="\x3c/span\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/div\x3e\x3c/div\x3e")}
function H4(a){var b;a=a||{};soy.asserts.assertType(null==a.email||a.email instanceof goog.soy.data.SanitizedContent||goog.isString(a.email),"email",a.email,"null|string|undefined");var c=a.email;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__aclMember"\x3e\x3cdiv class\x3d"shareDialog__aclMemberAvatar"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberNameEmail"\x3e\x3cspan class\x3d"shareDialog__aclMemberName"\x3e'+
soy.$$escapeHtml(null==(b=a.name)?"":b)+'\x3c/span\x3e\x3cspan class\x3d"shareDialog__aclMemberEmail"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberRole"\x3e\x3c/div\x3e\x3c/div\x3e')}
function eca(a){soy.asserts.assertType(goog.isString(a.wn)||a.wn instanceof goog.soy.data.SanitizedContent,"linkLabel",a.wn,"string|goog.soy.data.SanitizedContent");var b=a.wn;soy.asserts.assertType(goog.isString(a.Xg)||a.Xg instanceof goog.soy.data.SanitizedContent,"copyButton",a.Xg,"string|goog.soy.data.SanitizedContent");var c=a.Xg;soy.asserts.assertType(null==a.lc||a.lc instanceof goog.soy.data.SanitizedContent||goog.isString(a.lc),"initialTab",a.lc,"null|string|undefined");var d=a.lc;soy.asserts.assertType(goog.isString(a.Pe)||
a.Pe instanceof goog.soy.data.SanitizedContent,"tabId",a.Pe,"string|goog.soy.data.SanitizedContent");a=a.Pe;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(d==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__linkInputContainer"\x3e'+S1({v:"shareDialog__link",id:"shareDialog__shareLink",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks("readonly")})+
S1({v:"shareDialog__hiddenViewLink",type:"hidden",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('readonly tabindex\x3d"-1"')})+'\x3cdiv class\x3d"shareDialog__linkRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+d_({v:"shareDialog__copyButton shareDialog__linkCopy",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareLink" data-event\x3d"linkCopy"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncement"\x3e\x3c/div\x3e\x3c/div\x3e')}
function fca(a){soy.asserts.assertType(a.Cj instanceof soydata.SanitizedHtml||a.Cj instanceof soydata.UnsanitizedText||goog.isString(a.Cj),"embedDescription",a.Cj,"soydata.SanitizedHtml");var b=a.Cj;soy.asserts.assertType(goog.isString(a.Xg)||a.Xg instanceof goog.soy.data.SanitizedContent,"copyButton",a.Xg,"string|goog.soy.data.SanitizedContent");var c=a.Xg;soy.asserts.assertType(null==a.ah||a.ah instanceof goog.soy.data.SanitizedContent||goog.isString(a.ah),"embedCode",a.ah,"null|string|undefined");
var d=a.ah;soy.asserts.assertType(goog.isString(a.El)||a.El instanceof goog.soy.data.SanitizedContent,"oEmbedCode",a.El,"string|goog.soy.data.SanitizedContent");var e=a.El;soy.asserts.assertType(goog.isString(a.Mm)||a.Mm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Mm,"string|goog.soy.data.SanitizedContent");var g=a.Mm;soy.asserts.assertType(goog.isString(a.Lm)||a.Lm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Lm,"string|goog.soy.data.SanitizedContent");var h=a.Lm;soy.asserts.assertType(goog.isString(a.Jm)||
a.Jm instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Jm,"string|goog.soy.data.SanitizedContent");var k=a.Jm;soy.asserts.assertType(goog.isString(a.Km)||a.Km instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Km,"string|goog.soy.data.SanitizedContent");var l=a.Km;soy.asserts.assertType(null==a.lc||a.lc instanceof goog.soy.data.SanitizedContent||goog.isString(a.lc),"initialTab",a.lc,"null|string|undefined");var m=a.lc;soy.asserts.assertType(goog.isString(a.Pe)||a.Pe instanceof
goog.soy.data.SanitizedContent,"tabId",a.Pe,"string|goog.soy.data.SanitizedContent");a=a.Pe;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(m==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__embeddable"\x3e'+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"shareDialog__embedOverlayContainer"\x3e\x3cp\x3e'+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareEmbed" class\x3d"shareDialog__shareEmbed" value\x3d"'+
soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+d_({v:"shareDialog__copyButton shareDialog__copyButton--embed",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareEmbed"')})+"\x3c/div\x3e\x3cp\x3e"+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareOEmbed" class\x3d"shareDialog__shareOEmbed" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+d_({v:"shareDialog__copyButton shareDialog__copyButton--embed",
text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareOEmbed"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedOverlay"\x3e\x3cp\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e"+d_({v:"shareDialog__publicButton",text:h})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedError"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function dca(a){soy.asserts.assertType(goog.isString(a.no)||a.no instanceof goog.soy.data.SanitizedContent,"shareLabel",a.no,"string|goog.soy.data.SanitizedContent");var b=a.no,c=goog.asserts.assertObject(a.Vv,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.Cn)||a.Cn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.Cn,"string|goog.soy.data.SanitizedContent");var d=a.Cn;soy.asserts.assertType(goog.isString(a.lo)||
a.lo instanceof goog.soy.data.SanitizedContent,"shareButton",a.lo,"string|goog.soy.data.SanitizedContent");var e=a.lo;soy.asserts.assertType(null==a.lc||a.lc instanceof goog.soy.data.SanitizedContent||goog.isString(a.lc),"initialTab",a.lc,"null|string|undefined");var g=a.lc;soy.asserts.assertType(goog.isString(a.Pe)||a.Pe instanceof goog.soy.data.SanitizedContent,"tabId",a.Pe,"string|goog.soy.data.SanitizedContent");a=a.Pe;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g==a?" shareDialog__tabContent--on":
"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e\x3cdiv class\x3d"shareDialog__social"\x3e\x3cspan class\x3d"shareDialog__shareLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e";g=soy.$$getMapKeys(c);a=g.length;for(var h=0;h<a;h++)var k=g[h],b=b+('\x3cbutton class\x3d"shareDialog__nativeSocialButton '+soy.$$escapeHtmlAttribute(k)+'" disabled\x3e\x3cspan class\x3d"shareDialog__tooltip" data-tooltip\x3d"'+soy.$$escapeHtmlAttribute(c[k])+'"\x3e'+soy.$$escapeHtml(c[k])+"\x3c/span\x3e\x3c/button\x3e");
b+='\x3c/div\x3e\x3ctextarea class\x3d"shareDialog__shareMessage" placeholder\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"shareDialog__socialFooter"\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+d_({v:"shareDialog__shareButton",text:e,disabled:!0})+'\x3c/div\x3e\x3cspan class\x3d"shareDialog__characterCount"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function I4(a){rp.call(this,{className:"shareDialog",G:a.G,title:a.Y.title()});this.jI="https://support.canva.com/troubleshooting/sharing-your-design/";this.Pm=a.Pm;this.Iu=a.Iu;this.Im=a.Im;this.ah=a.ah;this.El=a.El;this.FQ=a.FQ;this.Je=a.Je;this.Y=a.Y;this.pu=a.pu;this.pq=a.pq;this.BW=!1;this.KV="EDITOR";this.QY=!1;this.qx={};this.qx[r4]=this.Y.format("shareDesignDialogTwitterLabel");this.qx[t4]=this.Y.format("shareDesignDialogFacebookLabel");this.Vv={};this.Vv.shareDialog__twitter=this.Y.format("shareDesignDialogTwitterTooltip");
this.Vv.shareDialog__facebook=this.Y.format("shareDesignDialogFacebookTooltip");this.KZ=null;this.z8=[{value:"EDITOR",text:Ue(this.Y),fC:Ve(this.Y),selected:!0},{value:"VIEWER",text:We(this.Y),fC:Xe(this.Y),selected:!1}];this.E3=[{value:"EDITOR",text:Ue(this.Y),fC:Ve(this.Y),selected:!0},{value:"VIEWER",text:We(this.Y),fC:Xe(this.Y),selected:!1}];this.lc=a.lc;this.eX=this.a3.bind(this)}t(I4,rp);
function G0(a){return new I4({G:a.G,Pm:a.Pm,Iu:a.Iu,pu:a.pu,Im:a.W.H.get(ig),ah:a.ah,El:a.El,FQ:a.W.H.get(og),Je:a.W.Je(),Y:Oc(a.i),pq:rd(a.i),lc:a.lc})}f=I4.prototype;
f.events=function(){var a=this;return _.extend(rp.prototype.events.call(this),{"click .shareDialog__tab":this.G6,"click .shareDialog__inviteButton":this.E5,"click .shareDialog__link":function(a){return $(a.target).select()},"click .shareDialog__publicButton":function(){return a.trigger("makePublic")},"click .shareDialog__copyButton--embed":function(){return a.trigger("embedCopy")},"copy #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},"cut #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},
"click #shareDialog__shareEmbed":function(a){return $(a.target).select()},"click .shareDialog__shareButton":function(){return a.trigger("nativeShare",a.$(".shareDialog__shareMessage").val())},"click .buttonTwitter":function(){return a.trigger("social",r4)},"click .buttonFacebook":function(){return a.trigger("social",t4)},"click .shareDialog__twitter":function(){return a.trigger("nativeSharePlatform","TWITTER")},"click .shareDialog__facebook":function(){return a.trigger("nativeSharePlatform","FACEBOOK")},
"input .shareDialog__shareMessage":this.Gn,"click .shareDialog__websiteAnnouncementLink":function(){return a.trigger("viewWebsite")}})};
f.G6=function(a){var b=this.$(".dialog");b.css("top",b.offset().top+"px");b.addClass("shareDialog--fixed");this.$(".shareDialog__tab").removeClass("shareDialog__tab--on");a=$(a.target);a.addClass("shareDialog__tab--on");this.$(".shareDialog__tabContent").removeClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",-1);a=a.data("id");this.$('.shareDialog__tabContent[data-id\x3d"'+a+'"]').addClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",
0);this.trigger("tabChanged",a)};function n4(a,b){a.$(".shareDialog__link").val(b)}function J4(a,b,c){a.$(".shareDialog__inviteButton").text(a.Y.format("shareDesignDialogSaveChanges"));a.BW=!0;a.trigger("roleChange",b,c)}f.iO=function(a){this.trigger("linkRoleChange",a);this.$(".shareDialog__tabContent--on").find(".textInput").focus().select();this.$(".shareDialog__linkCopy").text(this.Y.Xg())};f.E5=function(a){$(a.target).toggleClass("submitting",!0);this.trigger("submit",this.KV)};
f.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};
function gca(a){var b=document.queryCommandSupported("copy");if(b)try{document.execCommand("copy")}catch(c){b=!1}a.$(".shareDialog__copyButton").each(function(c,d){if(b)$(d).on("click",function(b){try{document.execCommand("copy",!1,a.$("#"+$(b.target).attr("data-clipboard-target")).select()),K4(a,b)}catch(c){}});else new ZeroClipboard(d),$(d).on("click",function(b){return K4(a,b)})})}
function K4(a,b){b=$(b.target);b.text(a.Y.format("shareDesignDialogCopiedButton"));(b=b.data("event"))&&a.trigger(b)}f.Gn=function(){if(this.QY){var a=this.$(".shareDialog__shareMessage").val(),a=a?this.KZ.getTweetLength(a):0;this.$(".shareDialog__characterCount").text(this.Y.format("shareDesignDialogCharacterCount",a));a=140<a;this.$el.toggleClass("shareDialog--withTwitterWarning",a);this.$(".shareDialog__shareButton").prop("disabled",a)}};
f.render=function(){var a=this;rp.prototype.render.call(this);this.$(".content").html(bca({fH:this.Y.format("shareDesignDialogPeople"),$H:this.Y.m9(),fG:this.Y.link(),SE:this.Y.format("shareDesignDialogEmbed"),Cj:this.Y.Cj(),ah:this.ah,El:this.El,Im:this.Im,Mm:this.Y.Mm(),Lm:this.Y.Lm(),Jm:this.Y.Jm(),Km:this.Y.Km(),pn:this.Y.pn(),nn:this.Y.nn(),qx:this.qx,$l:this.FQ,no:this.Y.no(),Vv:this.Vv,Cn:this.Y.Cn(),lo:this.Y.lo(),wn:this.Y.wn(),Xg:this.Y.Xg(),Je:this.Je,Dn:this.pq.Dn(),lc:this.lc,E9:hca}).toString());
var b=e4({className:"shareDialog",options:this.z8});b.on(h4,function(b){a.KV=b;a.$(".shareDialog__tabContent--on").find(".textInput").focus();a.Pm&&x2(a.Pm)});var c=this.$(".shareDialog__inviteRole");c.append(b.$el);null!=this.Iu?c.before(this.Iu.$el):c.before(this.Pm.$el);b=e4({className:"shareDialog",options:this.E3});b.on(h4,function(b){return a.iO(b)});this.$(".shareDialog__linkRole").append(b.$el);this.$(".shareDialog__tabContent").not("[data-id\x3dpeopleTab]").find("select, input, button").prop("tabIndex",
-1);gca(this);return this};f.show=function(){window.addEventListener("message",this.eX);this.pu.$el.appendTo($("body"));return rp.prototype.show.call(this)};f.remove=function(){window.removeEventListener("message",this.eX);this.pu.remove();rp.prototype.remove.call(this)};f.hide=function(){this.Hd.hide()};f.a3=function(a){var b=a.data&&void 0!==a.data.oauthResp;a.origin&&a.origin===window.location.origin&&b&&(a=Pa(rw,"oauthResp",a.data),this.trigger("oauthResp",a))};
function o4(a,b){a.$(".shareDialog__inviteButton").prop("disabled",!b);a.Pm&&a.Pm.mg(b);a.$(".shareDialog__inviteRole \x3e button").prop("disabled",!b)}function x4(a){return a.$(".shareDialog__captchaContainer")}function Vba(a){var b=a.Y.format("shareDesignDialogCaptchaMessage");a.qe(y4,DZ,b)}function z4(a){var b=a.Y.Qa("shareDesignDialogCaptchaFailure",a.jI);a.qe(ica,EZ,b)}
function Lba(a,b,c,d){var e=a.$(".shareDialog__acl"),g=$(H4({email:a.Y.format("shareDesignDialogAllMembers"),name:b.D.rb()||a.Y.format("shareDesignDialogDefaultBrandName")}).toString()),h=L4({D:b.D,size:40});g.find(".shareDialog__aclMemberAvatar").append(h.render().$el);h=e4({className:"shareDialog",options:M4(a,b.yD.$i())});h.on(h4,function(c){return J4(a,b.D.u(),c)});g.find(".shareDialog__aclMemberRole").append(h.$el);e.append(g);c.forEach(function(b){var c=$(H4({email:b.LA.xf(),name:b.LA.va().rb()||
b.LA.va().eg()}).toString()),d=N4({user:b.LA.va(),size:40});c.find(".shareDialog__aclMemberAvatar").append(d.render().$el);d=e4({className:"shareDialog",options:M4(a,b.yD.$i()),disabled:b.disabled});d.on(h4,function(c){return J4(a,b.LA.va().u(),c)});c.find(".shareDialog__aclMemberRole").append(d.$el);e.append(c)});0<d&&a.$(".shareDialog__folders").text(a.Y.Rc(d))}
function p4(a,b,c){null!=c&&a.$(".shareDialog__shareEmbed").val(c);b?a.$(".shareDialog__embedOverlay").removeClass("shareDialog__embedOverlay--visible"):a.$(".shareDialog__embedOverlay").addClass("shareDialog__embedOverlay--visible")}function l4(a){a.BW||a.$(".shareDialog__inviteButton").text(a.Y.format("shareDesignDialogSendInvites"))}
function $ba(a,b,c){rp.prototype.X8.call(a,a.Y.format("shareDesignDialogInviteMembersTitle"));b=jca({us:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Y.us(c,Fm())),rv:a.Y.rv(),sv:a.Y.sv(),ug:rx.sizes.get("50").ma(),Sr:b});b.on(O4,function(){return a.ok()});a.$(".content").html(b.$el);return b}function F4(a){var b=a.Y.format("shareDesignDialogUpdateError");a.qe(kca,EZ,b)}
function Oba(a,b){var c=".shareDialog__"+b.toLowerCase(),d=a.$el.find(c);w(d,"{}'s button isn't present",b);a=a.$el.find(c).offset();return{x:a.left,y:a.top}}function B4(a,b){var c=b.join(", ");b=a.Y.format("shareDesignDialogValidateEmailError",b.length,c);a.qe(D4,EZ,b)}function A4(a){a.$(".buttonSubmittable").toggleClass("submitting",!1)}
function M4(a,b){return"OWNER"===b?[{value:"OWNER",text:a.Y.format("shareDesignDialogOwnerRole"),selected:!0}]:[{value:"EDITOR",text:Ue(a.Y),selected:"EDITOR"===b},{value:"VIEWER",text:We(a.Y),selected:sr[b]>=sr.VIEWER&&sr[b]<sr.EDITOR},{value:"NONE",text:a.Y.format("shareDesignDialogNoneRole"),selected:"NONE"===b}]}f.qe=function(a,b,c){this.gg(a);AZ({message:c,type:b,v:a.ya,wb:!1}).$el.prependTo(this.$(".shareDialog__error"))};f.gg=function(a){a=this.$("."+a.ya);a.length&&BZ(a).remove()};
var Aba={ya:"shareDialog__emptyDesignError"},y4={ya:"shareDialog__captchaMessageWarning"},ica={ya:"shareDialog__captchaFailError"},zba={ya:"shareDialog__emailInvalidError"},D4={ya:"shareDialog__emailInvalidError"},E4={ya:"shareDialog__emailQuotaError"},Iba={ya:"shareDialog__loadError"},kca={ya:"shareDialog__updateError"},r4="buttonTwitter",t4="buttonFacebook",R0="socialTab",hca={aJ:"peopleTab",cJ:R0,LINK:"linkTab",EMBED:"embedTab"};function P4(){}f=P4.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var Z0="UPDATE_PUBLIC_PERMISSIONS";function Qba(a){return X(new fm("social_share_flow_load_authorisation_dialog"),"medium",a.toString().toLowerCase())}function Tba(a){return X(new fm("social_share_flow_load_authorise_confirm"),"medium",a.toString().toLowerCase())}function Sba(a){return X(new fm("social_share_flow_load_authorise_cancel"),"medium",a.toString().toLowerCase())}function Mba(a,b){return X(X(X(new fm("social_share_flow_share_now"),"message",a),"facebook",-1<b.indexOf("FACEBOOK")),"twitter",-1<b.indexOf("TWITTER"))}
function lca(a){return X(new fm("social_share_flow_payment"),"amount",a)}function s4(a){return X(X(X(new fm("design_shared"),"location","sharebutton"),"access_level","view"),"medium",a.toString().toLowerCase())}function Q4(a){return X(new fm("social_share_flow_view_social_media"),"medium",a.toString().toLowerCase())};function R4(a,b){this.la=a.la;this.D=a.D;this.i=a.i;this.aa=a.aa;this.X=a.X;this.fb=a.fb;this.dc=a.dc;this.ub=a.ub;this.l=a.l;this.G=a.G;this.Zs=a.Zs;this.Ca=Qc(a.i);this.Tb=new TT;this.ud=a.ud;this.kk=this.ax=null;this.mK=b;this.JL=this.O=null;this.NN=a.NN;this.MN=null;this.VZ=a.H.get(mca);this.W=new Nf(a.H);this.view=null;this.H=a.H}f=R4.prototype;f.CJ=function(){var a=this,b=this.mK();b.on("ok",function(){return a.$v()});b.on("cancel",function(){return a.$v()});return b};
function nca(a){var b=NU({D:a.D.u(),uj:a.aa,gf:a.fb,Ve:!1,Xa:bd(a.i),H:a.H,l:a.l}),c=Oc(a.i),b={Ig:(new PU({l:a.l,la:a.la,ta:a.D.u(),aa:a.aa,X:a.X,ub:a.ub,i:a.i,ef:!1,Mf:c.Mf(),Jg:c.Jg(),view:new OU({qd:b.Ab,Ri:b.view}),Tb:a.Tb,nb:S4(a.ud).nb,Ze:a.D.Vh()})).init(),Z8:new T4({G:a.G,Ca:Qc(a.i),Y:c,view:new s2}),complete:oca({l:a.l,Y:c}),error:pca({l:a.l,Y:c})};b.error.on("back",function(){a.trigger(j4);a.remove()});b.Ig.on("paymentComplete",function(){return U4(a)});b.Ig.on("paymentError",function(){return V4(a,
W4)});return b}function wba(a){return qca(a,function(){return new U1({Hd:new Ny({style:Oy,G:a.G}),G:a.G,id:"exportDialog"})})}function qca(a,b){return new R4(a,b)}f.show=function(a,b){this.ax=a;this.kk=b;this.O=nca(this);this.view=this.CJ();rca(this);this.view.render({Lo:this.Ca.Lo(),Rg:this.Ca.Rg()})};
function rca(a){var b=["ONE_USE","ROYALTY_FREE","EXTENDED"];sca(a,b).then(function(){var c=a.aa.Ez(a.D.u()).catch(Uk,function(){return null}).catch(function(){throw X4;}),d=S4(a.ud),d=Aj(a.aa,new Lj({document:d.nb,Zb:d.Zb,O:[1],RF:!0,SF:!0})).catch(function(a){if(a instanceof Vk)throw Y4;throw X4;});P.all([c,d]).spread(function(c,d){a.O.Ig.ha=c;d.KB&&UT(a.Tb,{items:d.items,$e:b,Hv:d.Ql,fm:!!a.W.H.get(tg)});tca(a,d.KB)}).catch(function(b){V4(a,b)})}).catch(function(){return V4(a,Z4)})}
function Nba(a){if(a.VZ){var b=new Fy({user:a.la,D:a.D.u(),limit:Object.keys(jw).length});a.JL=Zx(a.dc,b).then(function(a){return a.zt});a.MN=a.NN.load()}}function uca(a,b){w(a.MN,"MomentTimezone must've been loaded");return a.MN.then(function(){var c=moment.tz.guess();w(c,"failed to guess timezone");return Wx(a.dc,new Dy({user:a.la,D:a.D.u(),platform:b,jf:"DEFAULT",timeZone:c})).then(function(a){return a.Ex})})}
function vca(a,b){w(a.JL,"target queues must've been fetched on init");return a.JL.then(function(c){var d=c.map(function(a){return a.platform}),e=b.filter(function(a){return!d.some(function(b){return b===a})}).map(function(b){return uca(a,b)});return P.all(e).then(function(a){return a.concat(c)})})}function sca(a,b){return $4(a.ud,b).then(function(){return q_(a.ud)})}function tca(a,b){wca(a,b).then(function(){return U4(a)})}
function wca(a,b){return b?(0<XT(a.Tb)?(V1(a.view,a.O.Ig).then(function(){return l2(a.O.Ig)}),a.l.wa(lca(XT(a.Tb)))):o2(a.O.Ig),P.reject()):P.resolve()}
function U4(a){w(a.ax,"shareMessage must be defined when sharing");w(a.kk,"platforms must be defined when sharing");V1(a.view,a.O.Z8);W1(a.view,a.Zs.next());a.view.kx();var b=S4(a.ud);(a.VZ?vca(a,a.kk).then(function(c){return new wy({user:a.la,D:a.D.u(),document:b.nb,Zb:b.Zb,message:""===a.ax?null:a.ax,action:"UPLOAD_NOW",zt:c.map(function(a){return a.id})})}):P.resolve(new wy({user:a.la,D:a.D.u(),document:b.nb,Zb:b.Zb,message:""===a.ax?null:a.ax,action:"UPLOAD_NOW",yK:a.kk.map(function(a){return new my({platform:a,
jf:"DEFAULT"})})}))).then(function(b){var d=a.dc;return wj(d.N,d.url,xy(b)).get(0).then(La).then(Ay)}).then(function(b){return a5(a,b.id,1E3)}).then(function(b){if(b.length===a.kk.length)a.onComplete(b);else if(b.length){var d=a.kk.filter(function(a){return!b.some(function(b){return b.platform===a})});V4(a,b5,d,b)}else V4(a,Z4)}).catch(function(){return V4(a,Z4)})}
function a5(a,b,c){var d=new By({id:b,Oaa:!1});return P.delay(c).then(function(){return a.dc.oM(d)}).then(function(d){var g=!0,h=[];d.Yl.Ox.forEach(function(a){"NEW"===a.status||"IN_PROGRESS"===a.status?g=!1:"SUCCESS"===a.status&&h.push({platform:a.platform,url:a.url})});return g?P.resolve(h):a5(a,b,Math.min(1.6*c,3E4))})}f.onComplete=function(a){var b=this;this.O.complete.kk=a;V1(this.view,this.O.complete);this.l.wa(new fm("social_share_flow_complete"));a.forEach(function(a){return Xl(b.l,s4(a.platform))})};
function V4(a,b,c,d){w(a.kk);xca(a.O.error,b,c||a.kk,d);V1(a.view,a.O.error);a.view.gA();a.l.wa(new fm("social_share_flow_error"))}f.$v=function(){this.trigger(k4);this.remove();this.l.wa(new fm("social_share_flow_close"))};f.remove=function(){var a=this;this.view.remove().then(function(){_.values(a.O).forEach(function(a){return a.remove()})})};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var j4="BACK",k4="CLOSE",mca=new Kf("gl",!1);function m4(){}m4.prototype.load=function(){return window.hasOwnProperty("moment")&&window.moment.tz?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/moment-timezone-with-data-0.5.13.min.js"})).return()};function c5(a,b){var c=this;this.kk=[];this.l=a.l;this.Y=a.Y;this.view=b;this.view.on("viewSocialMedia",function(a){return c.l.wa(Q4(a))})}function oca(a){var b=new d5;return new c5(a,b)}c5.prototype.rl=function(){return this.view};c5.prototype.remove=function(){this.view.remove()};
c5.prototype.refresh=function(){var a=this;this.view.render({buttons:this.kk.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Pe(a.Y),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Qe(a.Y),url:b.url}}})});return P.resolve()};c5.prototype.dn=function(){return{title:this.Y.format("shareDesignDialogCompleteTitle")}};
function d5(){var a=this;X1.call(this,{className:"shareDialog",events:{"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}t(d5,X1);
d5.prototype.render=function(a){var b=this.el,c;c='\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e';a=goog.asserts.assertArray(a.buttons,"expected parameter 'buttons' of type list\x3c[classes: string, text: string, url: string]\x3e.");for(var d=a.length,e=0;e<d;e++){var g=a[e];c+=d_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url})}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=
c;return this};d5.prototype.bp=function(a){return T1(a).toString()};var W4="PAYMENT",Z4="SHARING",b5="PLATFORM",Y4="VERSION_CONFLICT",X4="UNKNOWN";function e5(a,b){var c=this;this.l=a.l;this.Y=a.Y;this.model=null;this.view=b;this.view.on("back",function(){return c.trigger("back")});this.view.on("viewSocialMedia",function(a){return c.l.wa(Q4(a))})}function pca(a){var b=new f5;return new e5(a,b)}f=e5.prototype;f.rl=function(){return this.view};f.remove=function(){this.view.remove()};
function xca(a,b,c,d){c=g5(c);switch(b){case W4:a.model={title:a.Y.format("shareDesignDialogPaymentErrorTitle"),message:a.Y.format("shareDesignDialogPaymentError"),bd:a.Y.tq(),Ug:"shareDialog__doneButton"};break;case Z4:a.model={title:Re(a.Y),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Se(a.Y,c)),bd:Te(a.Y),Ug:"shareDialog__backButton"};break;case b5:w(d);b=g5(d.map(function(a){return a.platform}));a.model={title:Re(a.Y),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Se(a.Y,c)),vC:a.Y.format("shareDesignDialogPlatformSuccess",
b),bd:Te(a.Y),Ug:"shareDialog__backButton buttonSecondary",iI:d.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Pe(a.Y),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Qe(a.Y),url:b.url}}})};break;case Y4:a.model={title:Re(a.Y),message:a.Y.format("shareDesignDialogVersionConflictError"),bd:a.Y.tq(),Ug:"shareDialog__doneButton"};break;case X4:a.model={title:Re(a.Y),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Se(a.Y,c)),bd:a.Y.tq(),Ug:"shareDialog__doneButton"};
break;default:throw new TypeError("unexpected SocialErrorType: "+b);}}function g5(a){return a.map(function(a){a:switch(a){case "FACEBOOK":a="Facebook";break a;case "TWITTER":a="Twitter";break a;default:throw new TypeError("unexpected Platform: "+a);}return a}).join(", ")}f.refresh=function(){w(this.model);this.view.render(this.model);return P.resolve()};f.dn=function(){return{title:this.model.title}};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function f5(){var a=this;X1.call(this,{className:"shareDialog error",events:{"click .shareDialog__doneButton":function(){return a.trigger("done")},"click .shareDialog__backButton":function(){return a.trigger("back")},"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}t(f5,X1);
f5.prototype.render=function(a){var b=this.el;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var c=a.message;soy.asserts.assertType(null==a.vC||a.vC instanceof goog.soy.data.SanitizedContent||goog.isString(a.vC),"successMessage",a.vC,"null|string|undefined");var d=a.vC;soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"buttonText",
a.bd,"string|goog.soy.data.SanitizedContent");var e=a.bd;soy.asserts.assertType(goog.isString(a.Ug)||a.Ug instanceof goog.soy.data.SanitizedContent,"buttonClasses",a.Ug,"string|goog.soy.data.SanitizedContent");var g=a.Ug;soy.asserts.assertType(null==a.iI||goog.isArray(a.iI),"successButtons",a.iI,"?Array\x3c{classes: string, text: string, url: string}\x3e|undefined");a=a.iI;c="\x3cp"+(d?' class\x3d"shareDialog__socialError"':"")+"\x3e"+soy.$$escapeHtml(c)+"\x3c/p\x3e"+(d?"\x3cp\x3e"+soy.$$escapeHtml(d)+
"\x3c/p\x3e":"")+'\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e'+d_({v:g,text:e});if(a)for(d=a.length,e=0;e<d;e++)g=a[e],c+=d_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url});a=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=a;return this};f5.prototype.bp=function(a){return T1(a).toString()};function T4(a){r2.call(this,a);this.Y=a.Y}t(T4,r2);T4.prototype.dn=function(){return{title:this.Y.format("shareDesignDialogSharingTitle")}};function h5(a){var b=this;gc.call(this,a);a.on("click",".shareDialog__inviteMemberButton",function(a){a=$(a.target).closest(".shareDialog__inviteMemberContainer");a=(new i5(a)).xf();b.trigger(j5,a)})}t(h5,gc);
function jca(a){var b=$,c;soy.asserts.assertType(a.us instanceof soydata.SanitizedHtml||a.us instanceof soydata.UnsanitizedText||goog.isString(a.us),"inviteMembersHtml",a.us,"soydata.SanitizedHtml");var d=a.us;soy.asserts.assertType(goog.isString(a.rv)||a.rv instanceof goog.soy.data.SanitizedContent,"inviteMemberButton",a.rv,"string|goog.soy.data.SanitizedContent");c=a.rv;soy.asserts.assertType(goog.isString(a.sv)||a.sv instanceof goog.soy.data.SanitizedContent,"inviteMemberError",a.sv,"string|goog.soy.data.SanitizedContent");
var e=a.sv;soy.asserts.assertType(goog.isString(a.ug)||a.ug instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.ug,"string|goog.soy.data.SanitizedContent");var g=a.ug;a=goog.asserts.assertArray(a.Sr,"expected parameter 'emails' of type list\x3cstring\x3e.");for(var d='\x3cdiv class\x3d"shareDialog__inviteMembersView"\x3e\x3cdiv class\x3d"shareDialog__inviteMembersLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMembers"\x3e',h=a.length,k=0;k<h;k++)var l=a[k],d=
d+('\x3cdiv class\x3d"shareDialog__inviteMemberContainer" data-email\x3d"'+soy.$$escapeHtmlAttribute(l)+'"\x3e\x3cdiv class\x3d"shareDialog__inviteMember"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"/\x3e\x3cspan class\x3d"shareDialog__inviteMemberEmail"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e"+d_({v:"shareDialog__inviteMemberButton buttonSubmittable",text:c})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMemberError" data-error\x3d'+soy.$$escapeHtmlAttributeNospace(e)+
"\x3e\x3c/div\x3e\x3c/div\x3e");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());return new h5(b)}function yca(a,b,c){a=k5(a,b);a.RI.empty();a.Zw(!0,c);a.ZC.prop("disabled",!0)}function zca(a,b,c,d){k5(a,b).Zw(!1,c);d&&window.setTimeout(function(){return a.trigger(O4)},1E3)}function k5(a,b){a=a.$el.find('.shareDialog__inviteMemberContainer[data-email\x3d"'+b+'"]');return new i5(a)}var j5="INVITE_MEMBER",O4="OK";
function i5(a){this.$el=a;this.ZC=a.find(".shareDialog__inviteMemberButton");this.RI=a.find(".shareDialog__inviteMemberError")}t(i5,fc);i5.prototype.xf=function(){return this.$el.data("email")};i5.prototype.Zw=function(a,b){b&&this.ZC.text(b);this.ZC.toggleClass("submitting",a)};i5.prototype.qe=function(){this.RI.text(this.RI.data("error").toString())};function l5(a,b){var c=this;this.D=a.D;this.l=a.l;this.X=a.X;this.cc=a.cc;this.kr=a.kr;this.Y=a.Y;this.zG=a.zG;this.In=a.In;this.view=b;this.view.on(j5,function(a){return Aca(c,a)})}function aca(a,b){new l5(a,b)}
function Aca(a,b){yca(a.view,b,a.Y.format("shareDesignDialogiInviteMemberInvitingButton"));a.lR().then(function(){var c=ux(vx((new tx).yi(a.D.u()),"Shared_Design_Invite_Accept_Invitation"),[Object.freeze(If(sx,{email:b,role:Am}))]);c.resend=!0;return a.X.EY(c)}).tap(function(){a.l.wa(zm(b,"design_shared_dialog"))}).then(function(){a.zG--;zca(a.view,b,a.Y.format("shareDesignDialogInviteMemberSentButton"),0===a.zG);a.In()}).catch(function(){var c=k5(a.view,b);c.qe();c.Zw(!1);c.ZC.prop("disabled",!1)})}
l5.prototype.lR=function(){var a=this;if(!this.D.Vh())return P.resolve();var b=nx((new lx).Go(this.D.u()));this.D.rb()||mx(b,this.kr+"s team");return zw(this.X,b).tap(function(){return Sx(a.cc)}).tap(function(){return Tx(a.cc)})};function xba(){return window.twttr&&window.twttr.txt?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/twitter-text-1.9.4.min.js"}))};function m5(a){this.$el=a}t(m5,fc);function n5(a){Ca(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new m5(a)}m5.prototype.show=function(){this.st(!0);this.$el.hasClass("mask2--blur")&&o5(this,!0)};m5.prototype.hide=function(){this.st(!1);this.$el.hasClass("mask2--blur")&&o5(this,!1);return Hf(this.$el[0])};m5.prototype.st=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};m5.prototype.mh=function(){return this.$el.hasClass("mask2--visible")};
function o5(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function LZ(a,b){var c=this;gc.call(this,a);this.$C=b;this.TW=this.o5.bind(this);this.$el.on("click",function(a){return c.Gf(a)});this.$C.on("keyup",this.TW)}t(LZ,gc);f=LZ.prototype;f.remove=function(){gc.prototype.remove.call(this);this.$C.off("keyup",this.TW)};f.show=function(){var a=this;pl(function(){return n5(a.$el).show()})};f.hide=function(){return n5(this.$el).hide()};f.mh=function(){return n5(this.$el).mh()};f.Gf=function(a){!$(a.target).closest(".dialog2__content").length&&p5(this)&&this.trigger(TZ)};
f.o5=function(a){27===a.keyCode&&p5(this)&&this.trigger(TZ)};function p5(a){return!!a.$el.find(".dialog2__closeButton").length}var TZ="CLOSE";function q5(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
var e=a.v;soy.asserts.assertType(null==a.Em||goog.isBoolean(a.Em)||1===a.Em||0===a.Em,"dark",a.Em,"boolean|null|undefined");var g=a.Em;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function KZ(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.YC||goog.isBoolean(a.YC)||1===a.YC||0===a.YC,"withShadow",
a.YC,"boolean|null|undefined");var e=a.YC;soy.asserts.assertType(null==a.XC||goog.isBoolean(a.XC)||1===a.XC||0===a.XC,"withRoundedCorners",a.XC,"boolean|null|undefined");var g=a.XC;soy.asserts.assertType(null==a.VC||goog.isBoolean(a.VC)||1===a.VC||0===a.VC,"withCloseButton",a.VC,"boolean|null|undefined");var h=a.VC;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var k=a.v;soy.asserts.assertType(null==a.VD||
a.VD instanceof goog.soy.data.SanitizedContent||goog.isString(a.VD),"contentClasses",a.VD,"null|string|undefined");a=a.VD;return soydata.VERY_UNSAFE.ordainSanitizedHtml(q5({visible:d,v:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(k?" "+k:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=e)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function r5(a){var b=this;this.view=a;this.view.on(TZ,function(){return b.$v()})}r5.prototype.$v=function(){this.close()};r5.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function s5(a){this.user=a.user;this.profiles=a.profiles;this.sa=a.sa;this.Wo=this.user.Tz()}s5.prototype.getItem=function(a){var b=this;return this.Wo&&this.Wo[a]?P.resolve(this.Wo[a]):this.Tz().then(function(c){var d=null;c[a]||(d=b.sa&&b.sa.getItem(b.user.u()+"_"+a));return c[a]||d&&JSON.parse(d)||null})};s5.prototype.setItem=function(a,b){this.sa&&this.sa.setItem(this.user.u()+"_"+a,b);this.Wo&&(this.Wo[a]=b);return yw(this.profiles,a,b)};
s5.prototype.removeItem=function(a){this.sa&&this.sa.removeItem(this.user.u()+"_"+a);this.Wo&&delete this.Wo[a];return yw(this.profiles,a,null)};s5.prototype.Tz=function(){var a=this;return xw(this.profiles).then(function(b){return a.Wo=b})};function Bca(a){this.view=a.view;this.Ab=a.Ab}
function E0(a){var b=new z0({Pd:a.Pd}),c=Oe(a.Y),d=$;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"emptyPlaceholder",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("shareDialog__emailInput"),"classes","shareDialog__emailInput","null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput '+soy.$$escapeHtmlAttribute("shareDialog__emailInput")+'"\x3e\x3cdiv class\x3d"tagListInput__inputContainerWrapper"\x3e\x3cinput type\x3d"text" class\x3d"tagListInput__input" placeholder\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" autocomplete\x3d"off" autocorrect\x3d"off" autocapitalize\x3d"off" spellcheck\x3d"false" /\x3e\x3c/div\x3e\x3c/div\x3e');d=d(c.toString());d=new B2(d);a={zI:b,vR:Cca,EN:Dca(a.ta,a.X),FN:Eca,DN:Fca,EK:Gca,lL:Oe(a.Y),TN:a.Y.format("shareDesignDialogInviteEmailPlaceholder"),uq:a.uq};a=new M2(a,d);return new Bca({view:d,Ab:a})}function Cca(a){return a.xf()||""}
function Eca(a,b){function c(a,b){return-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}return c(a,b.va().eg())||c(a,b.va().rb())||c(a,b.xf())}function Dca(a,b){var c=null,d=Cx(Bx((new Ax).yi(a))).sg(100);return b.Yr(d).then(function(a){c=a.fv();if(a.Fb())return b.Yr(d.zi(a.Fb()))}).then(function(a){a&&(c=c.concat(a.fv()));return c})}
function Fca(a,b){var c=$,d=a.va().rb()||"",e=a.xf()||"";a=a.va().wp()&&a.va().wp().sizes.get("50").ma()||"";soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"avatarUrl",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"lead",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"desc",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isNumber(b),"modelId",b,"number");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"menuListElement" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+'" /\x3e\x3cdiv class\x3d"menuListElement__right"\x3e\x3cspan class\x3d"lead"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"desc"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e");c=
c(b.toString());return new uQ(c,!0,!1)}function Gca(a){return a&&a.va().rb()||""};function Hca(a){var b=this;this.view=a;this.XJ=null;a.on(t5,function(){Fa(null!=b.XJ,"A callback must be provided");b.XJ();b.view.hide()});a.on(u5,function(){return a.hide()})}
function D0(a){var b=a.i.format("shareDesignDialogConnectYourAccount"),c=a.i.format("shareDesignDialogConnectYourAccountButton");a=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"connectAccountMessage",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"connectButtonLabel",c,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(q5({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"connectAccountPopup"\x3e'+
soy.$$escapeHtml(b)+d_({text:c,v:"connectAccountPopup__connectButton",block:!0})+"\x3c/div\x3e"),Em:!1}));b=a(b.toString());b=new v5(b);return{Ab:new Hca(b),view:b}}function Rba(a,b){a.view.setPosition(b);a.view.show()}function Pba(a,b){a.XJ=b};function v5(a){var b=this;gc.call(this,a);a.on("click",".connectAccountPopup__connectButton",function(){return b.trigger(t5)});a.on("click",function(a){return b.Gf(a)})}t(v5,gc);v5.prototype.setPosition=function(a){this.$el.find(".connectAccountPopup").css({left:a.x,top:a.y})};v5.prototype.show=function(){n5(this.$el).show()};v5.prototype.hide=function(){n5(this.$el).hide()};v5.prototype.Gf=function(a){!$(a.target).closest(".connectAccountPopup").length&&this.trigger(u5)};var t5="CONNECT",u5="CLOSE";function w5(a,b,c){gc.call(this,a);this.Or=b;this.VQ=c}t(w5,gc);function x5(a,b,c,d){var e=this;this.view=b;this.Db=c;this.BC=d;this.l=a.l;this.At=a.At;u3(this.BC,function(a){return v3(e.At,a).then(function(){return e.gO(a)})})}
function B0(a){var b=a.Y.format("shareDesignDialogTeamInvitesTitle"),c={Bj:a.kf.Bj(),nd:a.kf.nd(),hr:a.kf.hr(),HV:w3(a.cj),No:a.kf.No()},d=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");c=goog.asserts.assertObject(c,"expected parameter 'teamInviteFormModel' of type [addAnotherButtonLabel: string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, submitButtonLabel: string, upgradeMessage: string].");b=
soydata.VERY_UNSAFE.ordainSanitizedHtml(KZ({v:"shareTeamInvitesDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shareTeamInvitesDialog__content"\x3e\x3cdiv class\x3d"shareTeamInvitesDialog__title"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+x3(c)+"\x3c/div\x3e")}));d=d(b.toString());b=new LZ(d,$(document));c=new y3(d.find(".teamInviteForm"));d=new w5(d,b,c);b=new r5(d.Or);c=a.kK(d.VQ);a=new x5(a,d,b,c);return{view:d,Ab:a}}
x5.prototype.show=function(){this.l.wa(new fm("team_invites_dialog_freeform_shown"));this.view.Or.show()};x5.prototype.Fe=function(){this.BC.Fe()};x5.prototype.gO=function(a){var b=this;a.forEach(function(a){return b.l.wa(zm(a,"design_shared_dialog_freeform"))});this.view.Or.hide().then(function(){return b.view.Or.remove()})};function y5(a){this.Bo=a.Bo;this.Tp=!1}y5.prototype.send=function(a,b){return this.init().then(function(c){return new P(function(d,e){c.sendSMS(a,b,{},function(a){if(a)return e(a instanceof Error?a:Error(a));d()})})})};y5.prototype.init=function(){var a=this;return this.Tp?P.resolve(z5()):Ica().then(function(b){return new P(function(c,d){b.init(a.Bo,{},function(e){if(e)return d(e instanceof Error?e:Error(e));a.Tp=!0;c(b)})})})};
function Ica(){return document.getElementById("branch_snippet")?P.resolve(z5()):new P(function(a,b){var c=document.createElement("script");c.id="branch_snippet";c.src="https://cdn.branch.io/branch-latest.min.js";c.async=!0;c.onload=function(){return a(z5())};c.onerror=function(){b(Error("Unable to load the branch API"))};document.body.appendChild(c)})}function z5(){Fa("undefined"!==typeof window.branch);return window.branch};function Jca(a){this.document=a.document;this.Kb=a.Kb;this.JR=a.JR}function J0(a){return new Jca({document:a.document,Kb:a.Kb,JR:Rz})}function $4(a,b){var c;a.document.isEmpty()?c="EMPTY_DOC":a.Kb.Av()?iq(a.document)?c="UPLOADING":0===b.length&&(c="LICENSE_NO_OPTIONS"):c="SAVING";return c?P.reject(c):P.resolve()}function q_(a){if(!a.Kb.aj())return P.resolve();a.Kb.save();return a.JR(R.by).bind(a).catch(function(){throw this.Kb.Av()?"SAVING":"VERSION_CONFLICT";})}
function S4(a){return{nb:a.Kb.hc(),Zb:a.Kb.Xd()}};function A5(a){this.view=a.view;this.G=a.G;this.oN=a.oN;this.Ca=Qc(a.i);this.Zs=a.Zs;this.wG=P.resolve();this.Xb=a.Xb;this.XO=a.XO;this.Zd=a.Zd||!1;this.Ia=a.Ia;this.sa=a.sa;this.document=a.document;this.Kb=a.Kb;this.Tb=a.Tb;this.wt=Infinity;this.jq=this.kq=!1;this.fe=a.fe;this.rd=a.rd;this.l=a.l;this.jP=a.jP;this.Nl=null;this.X=a.X;this.aa=a.aa;this.$e=a.$e;this.$t=a.$t;this.ud=a.ud;this.O={error:a.O.error,Ig:a.O.Ig,sp:a.O.sp,v2:null};this.BL=a.BL;this.UJ=this.Fj=this.qz=null;this.W=a.W;this.H=a.H;
this.vc=a.vc;this.view.on("cancel",this.cancel.bind(this));this.view.on("ok",this.ok.bind(this));this.view.on("retry",this.EV.bind(this))}
function t_(a){function b(){return new B5({dc:a.dc,H:a.H,l:a.l,Kb:a.Kb,i:a.i,Zd:!!a.Zd,Il:a.Il,G:a.G,W:a.W})}var c=Qc(a.i),d=bd(a.i),e=(new U1({Hd:new Ny({style:Oy,G:a.G}),G:a.G,id:"exportDialog"})).render({Lo:c.Lo(),Rg:c.Rg()}),g=["ONE_USE","ROYALTY_FREE","EXTENDED"],h=Nx(a.Ia).ia().u(),k=new TT,d=NU({D:h,uj:a.aa,Ve:!1,gf:a.fb,Xa:d,l:a.l}),h={error:(new S2({Ca:c,view:new T2})).init(),Ig:(new PU({l:a.l,aa:a.aa,X:a.X,ub:a.ub,Xb:a.Xb,i:a.i,la:Ox(a.Ia).u(),ta:h,ef:!0,view:new OU({qd:d.Ab,Ri:d.view}),
Tb:k,nb:a.Kb.hc(),Ze:Nx(a.Ia).ia().Vh(),H:a.H,vc:a.vc})).init(),sp:new r2({G:a.G,Ca:c,view:new s2})},l=mba(a);return new A5({view:e,i:a.i,l:a.l,Kb:a.Kb,document:a.document,Ia:a.Ia,dc:a.dc,rd:a.rd,aa:a.aa,X:a.X,fb:a.fb,ub:a.ub,G:a.G,sa:a.sa,Zd:a.Zd,oN:function(){return new Q2({i:a.i,view:new R2({G:a.G}),QQ:g})},Xb:a.Xb,jP:function(b){return new Y1({l:a.l,FL:b})},$e:g,Zs:new t2(Wc(a.i)),fe:a.fe,Tb:k,ud:a.ud,O:h,BL:function(d){return a.QV?P.resolve(new C5({YM:"PDF"===a.fe.format,Ca:c})):d.kq||d.jq?P.resolve(b()):
nba(l,{VT:function(){d.ok()}}).then(function(a){return a||b()})},p5:a.p5,XO:!!a.QV,$t:a.$t,W:a.W,H:a.H,vc:a.vc})}f=A5.prototype;f.remove=function(){this.qz&&this.qz.cancel();this.view.remove().bind(this).then(function(){_.values(this.O).forEach(function(a){a&&a.remove()})})};f.aR=function(a){this.XO||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",a),this.Zd&&Yl(this.l,"download","export_dialog","first_time_publish"))};
f.kx=function(){var a;if(Infinity>this.wt){var b=moment.duration(this.wt);a=Math.floor(b.asHours());b=b.minutes();a=0<a?this.Ca.format("publishViewExportingHoursRemainingLicenseHeader",a,b):this.Ca.format("publishViewExportingMinutesRemainingLicenseHeader",b);b=this.Ca.format("publishViewExportingLicensePurchaseDetails");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"title",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof
goog.soy.data.SanitizedContent,"message",b,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch3\x3e"+soy.$$escapeHtml(a)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(b)+"\x3c/p\x3e").toString()}else a=this.Zs.next();W1(this.view,a);this.wG.then(this.view.kx.bind(this.view))};f.gA=function(){this.wG.then(this.view.gA.bind(this.view))};
f.start=function(){return new P(function(a){this.Fj=null;this.UJ=a;this.Nl=this.jP(this.fe.format);this.wG=new P(function(a){this.G.setTimeout(a,650)}.bind(this));this.EV()}.bind(this))};f.EV=function(){$4(this.ud,this.$e).bind(this).then(this.Y2).then(this.o3).then(this.A0).then(this.T2).then(this.dZ.bind(this,"PRINT")).catch(this.tQ)};f.Y2=function(){if(!this.Kb.aj())return P.resolve();this.O.sp.bF="SAVING";V1(this.view,this.O.sp);this.Nl.track("save");return q_(this.ud)};
f.o3=function(){this.O.sp.bF="EXPORTING";V1(this.view,this.O.sp);this.Nl.track("prepare")};f.tQ=function(a){this.gA();var b=this.O.error;b.vw=Xaa(b,a);V1(this.view,this.O.error);this.Nl.track("error",{errorType:a})};f.Q0=function(){this.wt=Infinity;this.kx();V1(this.view,this.O.sp);this.dZ("SCREEN").bind(this).catch(this.tQ)};
f.A0=function(){var a=this.Kb.Xd(),b=new Lj({document:this.Kb.hc(),Zb:a,O:this.fe.O,RF:!0,SF:!0}),c=Nx(this.Ia).ia().u(),b=Aj(this.aa,b).catch(function(a){if(a instanceof Vk)throw"VERSION_CONFLICT";throw"BACKGROUND";}),c=zj(this.aa,new wi({qm:[c],Z:null,limit:1})).catch(function(){throw"BACKGROUND";});return P.all([b,c]).bind(this).spread(function(b,c){if(b.Zb!==a)throw"VERSION_CONFLICT";UT(this.Tb,{items:b.items,$e:this.$e,Hv:b.Ql,fm:!!this.W.H.get(tg)});this.wt=ZT(this.Tb);this.O.Ig.ha=0<c.Rt.length?
c.Rt[0]:null;return b.KB})};f.T2=function(a){return a?(0<XT(this.Tb)?Kca(this):Lca(this)).bind(this).then(function(a){this.kq=0<=a.$e.indexOf("ROYALTY_FREE");this.jq=0<=a.$e.indexOf("EXTENDED");this.wt=a.wt}).then(this.g9):(this.kx(),P.resolve())};function Lca(a){Fa(0===XT(a.Tb),"cannot purchase premium elements in background");return o2(a.O.Ig).bind(a).catch(function(){this.tQ("BACKGROUND_PAYMENT")})}
function Kca(a){return new P(function(a){XY(this.Xb,"contextTipRoyaltyFreePaymentOption");this.gA();Mca(this).bind(this).then(function(){V1(this.view,this.O.Ig).bind(this).then(function(){return l2(this.O.Ig)}).then(function(a){a||UY(this.Xb,"contextTipRoyaltyFreePaymentOption")});this.Nl.track("payment");this.O.Ig.once("clickDraft",this.Q0.bind(this));this.O.Ig.once("paymentComplete",a)})}.bind(a))}f.g9=function(){this.kx();V1(this.view,this.O.sp)};
function Mca(a){return Nca(a).bind(a).then(function(a){if(a)return Oca(this).bind(this).then(this.I3)})}function D5(a){return"hasSeenPublishPaymentLicensesOnboarding:"+Ox(a.Ia).u()}function Nca(a){var b=D5(a),c=!!Ox(a.Ia).Tz().hasSeenPublishPaymentLicensesOnboarding,b=a.sa&&!!Lo(a.sa,b);return P.resolve(!c&&!b&&0<XT(a.Tb))}f.I3=function(){var a=D5(this);this.sa&&So(this.sa,a);yw(this.X,"hasSeenPublishPaymentLicensesOnboarding",!0)};
function Oca(a){return new P(function(a){this.Nl.track("onboard_licenses");this.wG.bind(this).then(function(){var c=this.oN().init();c.show();c.on("complete",a)})}.bind(a))}
f.dZ=function(a){var b=this.Kb.hc(),c=this.Kb.Xd();this.Nl.track("export",{exportType:a});var d=this.fe.format,e=this.fe.Bs,g;a:switch(a){case "SCREEN":case "CUSTOM":g="SCREEN";break a;case "PRINT":g="PRINT";break a;default:throw Error("unknown export type: "+a);}var h=new Rv({type:a,format:d,Bs:e,KA:g,ju:!!this.fe.ju,Jr:!!this.fe.Jr,ct:!!this.fe.ct,Dx:this.fe.Dx,O:this.fe.O}),k=h.KA===Tg;a=new Dv({Uk:b,JK:c,HQ:h,Jw:"WEB_1"});Fa(null==this.qz);return this.qz=this.rd.$D(a).bind(this).tap(function(a){0<
a.gB.$E.length&&(this.Fj=a.gB.$E[0].url,this.BL(this).bind(this).then(function(a){a.hQ(this.Fj);a.kQ(this.kq,this.jq);this.view.$el.toggleClass("exportDialog--exportComplete",!0);V1(this.view,a);if(a.PD){var b=a.PD;this.view.$(".dialog").addClass(b)}this.Nl.track("complete");this.aR(this.Fj);var b=this.l,c=Ml("Download Design",{format:h.format,watermark:k,destination:"download",design:b.ye,template:b.Ti,transparent_background:h.ct,crop_marks:h.Jr,page_count:h.O.length,is_print_pdf:this.$t.VV});b.track("design_publish",
c);this.O.v2=a}))}).catch(P.CancellationError,function(){}).finally(function(){this.qz=null}).catch(function(){return P.reject("EXPORTING")})};f.YH=function(){(this.kq||this.jq)&&WY(this.Xb)};f.cancel=function(){this.Nl.IC("cancel");this.finally()};f.ok=function(){this.Nl.IC("ok");this.finally()};f.finally=function(){Fa(null!=this.UJ);this.UJ(this.Fj);this.YH();this.remove()};function B5(){}B5=X1.extend({className:"exporting complete"});f=B5.prototype;
f.events=function(){return{"click .openUploadsTab":this.U4,"click .button--homepageHint":this.O4}};f.initialize=function(a){this.dc=a.dc;this.H=a.H;this.i=a.i;this.Ca=Qc(a.i);this.Ma=Uc(a.i);this.l=a.l;this.jq=this.kq=!1;this.Fj=null;this.Zd=a.Zd;this.Il=a.Il;this.G=a.G;this.W=a.W;var b=C_,c=a.Kb;a=a.i;a.Nf||(a.Nf=new Le(a.config));this.pQ=new b({location:"publish",Kb:c,Nf:a.Nf});this.listenTo(this.pQ,{shareClicked:this.oQ,emailSend:this.m2,shareViewResize:this.qu})};
f.refresh=function(){this.render();return P.resolve()};
f.render=function(){var a=this.el,b,c=this.gn();soy.asserts.assertType(c.dz instanceof soydata.SanitizedHtml||c.dz instanceof soydata.UnsanitizedText||goog.isString(c.dz),"downloadStartedHtml",c.dz,"soydata.SanitizedHtml");b=c.dz;soy.asserts.assertType(goog.isBoolean(c.jC)||1===c.jC||0===c.jC,"showLicenseHint",c.jC,"boolean");var d=!!c.jC;soy.asserts.assertType(c.EA instanceof soydata.SanitizedHtml||c.EA instanceof soydata.UnsanitizedText||goog.isString(c.EA),"licenseHint",c.EA,"soydata.SanitizedHtml");
var e=c.EA;soy.asserts.assertType(goog.isBoolean(c.Zd)||1===c.Zd||0===c.Zd,"showHomepageHints",c.Zd,"boolean");var g=!!c.Zd;soy.asserts.assertType(goog.isString(c.nv)||c.nv instanceof goog.soy.data.SanitizedContent,"hintSeeAllDesigns",c.nv,"string|goog.soy.data.SanitizedContent");c=c.nv;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+(g?"":'\x3cdiv class\x3d"socialShare"\x3e\x3c/div\x3e')+(d?'\x3cp class\x3d"feedback feedback--success"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(g?d_({tagName:"a",href:"/",v:"button--homepageHint",text:c}):""));a.innerHTML=b;this.$(".socialShare").html(this.pQ.render().el);return this};f.hQ=function(a){this.Fj=a};f.kQ=function(a,b){this.kq=a;this.jq=b};f.U4=function(){yM.call($("#objectPanel .uploads a"),this.i);this.close()};f.O4=function(){Yl(this.l,"see_your_designs","export_complete_dialog","first_time_publish")};f.qu=function(){this.trigger("contentResize")};
f.close=function(){this.trigger("done");this.Zd&&Zl(this.l,"export_complete","export_dialog","first_time_publish")};f.oQ=function(){Fa(null!=this.Il);this.close();this.G.setTimeout(this.Il,300)};
f.m2=function(a){var b=this;this.$(".shareViaEmailForm button").addClass("sending");Wl(this.l);ay(this.dc,new Iy({nb:ub.hc(),mode:a.mode,eh:a.eh,Sr:a.l2,RC:"publish"})).bind(this).finally(function(){this.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){this.$(".shareViaEmailForm button").addClass("sent");this.G.setTimeout(this.trigger.bind(this,"done"),600)}).catch(function(){this.pQ.trigger("emailSendingError",b.Ca.format("publishViewEmailSendingError"))})};f.bp=function(a){return T1(a).toString()};
f.dn=function(){return{title:this.Ca.format("publishViewDesignReady")}};
f.gn=function(){if(null==this.Fj)throw Error("export url must be set");var a="";if(this.kq&&this.jq)var a=this.Ma.xd(),b=this.Ma.Cc(),a=this.Ca.format("publishViewUnlimitedUseCombinedHint",a,b);else this.kq?a=Ye(this.Ca,this.Ma.Cc()):this.jq&&(a=Ye(this.Ca,this.Ma.xd()));return{dz:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ca.format("publishViewDownloadStarted",this.Fj)),jC:!!a,EA:soydata.VERY_UNSAFE.ordainSanitizedHtml(a),Zd:this.Zd,nv:this.Ca.nv()}};function C5(){}C5=X1.extend({className:"exporting complete"});
f=C5.prototype;f.initialize=function(a){this.Ca=a.Ca;this.Fj=null;this.YM=a.YM};f.hQ=function(a){this.Fj=a};f.kQ=function(){};f.refresh=function(){this.render();return P.resolve()};f.render=function(){this.el.innerHTML=Yaa(this.gn());window.setTimeout(function(){this.trigger("done")}.bind(this),1E3);return this};f.events=function(){return{"click .useExportButton":function(){this.trigger("done")}}};f.gn=function(){return{message:this.Ca.format("publishViewExportCompleteEmbedded"),Rg:this.Ca.Rg()}};
f.bp=function(a){return T1(a).toString()};f.dn=function(){return{title:this.YM?this.Ca.format("publishViewExportCompletePdf"):this.Ca.format("publishViewExportCompleteImage")}};function cX(a,b){this.zO=a.zO;this.X=a.X;this.i=a.i;this.view=b}
cX.prototype.confirm=function(){var a=this;return new P(function(b,c){if(!a.zO)return b(!0);xw(a.X).then(function(d){if(d.neverShowReplacePageContentWarning)return b(!0);up(a.view).then(function(c){if(a.view.xG){yw(a.X,"neverShowReplacePageContentWarning",!0);var d=$("#documentFileMenuUndoButton"),h=d.offset();(new RY({Ye:$(document),Qe:$("body"),Ky:a.i.format("editorReplaceContentContextTipText"),bd:a.i.format("editorReplaceContentContextTipButtonText"),width:265,style:"contextTipOnboarding topArrow"})).gx(h.left-
4,h.top+ +d.height()+4,!1)}b(2===c)}).catch(function(a){return c(a)})})})};function bX(a){rp.call(this,{className:"replaceContentDialog",G:a.G,df:!1,title:a.GR});this.xG=!1;var b=$,c;c=a.T1;var d=a.b4,e=a.o8;a=a.FR;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"doNotReplaceButton",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"neverShowAgainLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,
"replaceButton",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"warningText",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e"+d_({v:"replaceContentDialog__cancelButton buttonSecondary",text:c})+d_({v:"replaceContentDialog__replaceButton",text:e})+'\x3cdiv\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" /\x3e'+soy.$$escapeHtml(d)+"\x3c/label\x3e\x3c/div\x3e");
this.content=b(c.toString())}t(bX,rp);bX.prototype.events=function(){return _.extend(rp.prototype.events.call(this),{"click .replaceContentDialog__replaceButton":this.ok,"click .replaceContentDialog__cancelButton":this.cancel,'click input[type\x3d"checkbox"]':this.M9})};bX.prototype.render=function(){rp.prototype.render.call(this);return this};bX.prototype.M9=function(a){this.xG=a.target.checked};function i1(){}i1=Backbone.View.extend({className:"linearProgress"});f=i1.prototype;
f.CJ=function(a){this.bZ=(100/a.length).toFixed(4)+"%";return $("\x3cul\x3e"+a.map(function(a){return'\x3cli class\x3d"stage '+a.v.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")};f.initialize=function(a){this.bZ="0%";this.$el.html(this.CJ(a.s9))};
f.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
f.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.bZ);window.setTimeout(function(){d.addClass("appear")},100*a)})};f.remove=function(){};function iS(){}iS=Backbone.View.extend({tagName:"div",className:"fxPanel"});f=iS.prototype;f.events=function(){var a={};a["click .preset"]=this.Y0;a["click .presets .scrollLeft"]=this.E8;a["click .presets .scrollRight"]=this.F8;a["input .range .trackContainer \x3e input[type\x3drange]"]=this.WW;a["change .range .trackContainer \x3e input[type\x3drange]"]=this.WW;a["click .hex"]=this.S0;a["click .toggleAdvanced"]=this.L9;return a};
f.initialize=function(a){this.UO=a.UO;this.kD=this.model.filter.name;this.yH=null;this.SM=!1;this.NX={};this.KR=this.Un=0;this.uf=a.uf;this.listenTo(this.model,"change",this.refresh);this.listenTo(M,"beforeOperationStackPop",this.CB);this.listenTo(T,"hideContextualControlsRequested",this.remove);this.render()};
f.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:fe(this.uf),filterCodeMsg:this.uf.format("editorToolbarFilterCode")}));this.$el.addClass("toolbar--fx");PI(this.model);window.setTimeout(function(){Pca(a);Qca(a);E5(a);a.refresh()},300);this.yH=this.model.EQ;return this};
f.remove=function(){$("#editorLogo").removeClass("noAnimate");this.CB();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&bD(this.model);Backbone.View.prototype.remove.call(this)};function jS(a,b){a.$el.css("top",b.bottom+23).css("left",b.left)}
f.refresh=function(){this.kD=this.model.filter.name;this.uaa||Rca(this);Sca(this);F5(this);var a="Normal"==this.model.filter.name,b=!this.model.ZM();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);E5(this)};function G5(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function Pca(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.Hc();if(c){var c=c[YC].ma(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:ge(a.uf,"Normal")})),e=d.find("img");e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,
a=new V(0,0,a,b);Pm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});LC(MC,e,c);b.append(d);b.find("."+H5(a.kD)).addClass("active")}a.UO.sort(function(b,c){b=ge(a.uf,b.name);c=ge(a.uf,c.name);return b<c?-1:1}).forEach(function(c,d){var e=$('\x3cli class\x3d"preset '+Tca(a,c)+'"\x3e\x3c/li\x3e');b.append(e);window.setTimeout(function(){Uca(a,e,c)},300*d)})}
function Uca(a,b,c){a.model.$K(c,!0,function(d){var e=$('\x3cimg src\x3d"'+d.src+'" /\x3e');e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,a=new V(0,0,a,b);Pm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.m$+")");k.append(g);g.append(e);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(ge(a.uf,c.name)));c.name===a.kD&&b.addClass("active")})}
function F5(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+H5(a.kD)).addClass("active");0===a.Un?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.Un===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function Qca(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();G5().forEach(function(d){var e=he(a.uf,d),e=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:I5(d),rangeName:e})),g=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'),l=$('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');l.append(g);l.append(h);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);l.append(b)});e.append(l);e.append(k);c.append(e)})}function Rca(a){var b=a.$el.find(".ranges");G5().forEach(function(c){b.find("."+I5(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function Sca(a){var b=a.$el.find(".ranges");G5().forEach(function(c){var d=b.find("."+I5(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function E5(a){a.$el.find("input.hex").val(a.model.filter.qa())}function Tca(a,b){var c=H5(b.name);a.NX[c]=b;return c}function H5(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function I5(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
f.Y0=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)TI(this.model);else{var d=this.NX[a];window.setTimeout(function(){SI(b.model,d)},150)}window.clearTimeout(this.KR)}};
f.WW=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var e=/(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);e&&(this.model.LH(e[1],a),window.clearTimeout(this.KR),this.KR=
window.setTimeout(function(){c.model.update(!0)},400))};f.S0=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=DI(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.lf*a.vignette*a.Uf)||(b.filter=a,b.zj=!0,b.update(!0));c.SM=!1}function b(b){13==b.which&&a()}if(!this.SM){this.SM=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.qa()).select().focus();d.on("blur",a);d.on("keypress",b)}};
f.E8=function(){0!==this.Un&&(this.Un-=3,J5(this))};f.F8=function(){var a=parseInt($(".preset").length,10);this.Un<a-5&&(this.Un+=3,J5(this))};function J5(a){var b=-72*a.Un;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");F5(a)}
f.L9=function(){var a=this;this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(fe(this.uf)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.uf.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced"),P.delay(300).then(function(){a.$el.addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
f.CB=function(){var a=J.Ba().Va()[0],b=this.model.EQ,c=!a,d=_.isEqual(b,this.yH);c||d||(a={placeholderIndex:a.Gc(),elementIndex:a.K(),pageIndex:jp(J,a.R()),"new":{filter:b},old:{filter:this.yH}},M.register(new Y(11,a)),this.yH=b)};f.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"presets_container"\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function K5(a){return("YEARLY"===a.vj?1:12)*a.fa}function Vca(){this.ld=window.pricingPlans}function y0(a){return gj(a.ld.paidMonthly)}var Q0=0;function O0(a){var b=Map,c=Q0,d;d=[y0(a),gj(a.ld.paidYearly)];c=[c,d];a=[gj(a.ld.paidMonthlyImagesPro),gj(a.ld.paidYearlyImagesPro)];return new b([c,[1,a]])};function Wca(a){this.plan=a.ik;this.title=a.title;this.pricePerMonthText=a.L7;this.summaryText=a.y9;this.billingCycleText=a.t0}
function L5(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return K5(b)-K5(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.vj)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.vj)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.fa/("YEARLY"===a.vj?12:1)*100)/100,"MONTHLY"),k;k="YEARLY"===a.vj?b.format("canvaForWorkUpgradePlanPercentSaving",((K5(d)-K5(a))/K5(d)*100).toFixed(0)/100):c(K5(a),"YEARLY");return new Wca({ik:a,title:g,L7:h,y9:k,t0:"YEARLY"===a.vj?b.format("canvaForWorkUpgradePlanBilledYearly",a.fa):""})})};function M5(){}M5=Backbone.View.extend({className:"priceOptions",tagName:"ul"});f=M5.prototype;f.initialize=function(a){this.Jb=a.Jb};f.events=function(){return{click:this.T0}};f.render=function(){this.$el.html(this.Jb.map(this.M7).join(""));return this};f.T0=function(a){a=$(a.target).closest("li");N5(this,a.index())};
function N5(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.Jb.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.Jb[b].plan))}f.IH=function(){function a(a){switch(a.vj){case "MONTHLY":return a.fa;case "YEARLY":return K5(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.Jb).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.Jb.indexOf(b[0]);N5(this,b)};
f.lQ=function(a){this.Jb=a;this.render();this.IH()};f.M7=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');function O5(a){this.K2=a.J2;this.A3=a.z3;this.ar=a.cZ.map(function(a){return new P5(a)});this.ar.forEach(function(a){this.listenTo(a,{willAdvance:this.rV,advance:this.x6,finish:this.z6,reset:this.A6,die:this.y6})},this);this.PO=a.PO.map(function(a){return _.defaults({},a,{position:"leftTop",bi:0})});this.XX=!1;this.cI=new Q5({UN:a.cZ.length,re:a.re})}f=O5.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
function Ip(a){var b=[],c=[],d=a.re;b.push([{de:"#documentFileMenuButton",Sg:10},{de:".dropdownMenuPopoverContainer .documentResizePaneButton",UT:!0,bi:500,om:305,Sg:18}]);c.push({de:".documentResizeButton",qD:-170,bi:500,text:d.format("starOnboardingStepResizingText"),title:d.format("starOnboardingStepResizingTitle"),Ue:rf(d)});b.push([{de:"#objectPanel menu .uploads a",ur:"#objectPanel.stage6",om:15,Sg:15},{de:"#resultsUpload .newUploadsFolder",ss:"#objectPanel:not(.stage6)",VO:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},
bi:500}]);c.push({de:"#resultsUpload .newUploadsFolderThumbnail",bi:500,text:d.format("starOnboardingStepPhotoFoldersText"),title:d.format("starOnboardingStepPhotoFoldersTitle"),Ue:rf(d)});a.Yy&&(b.push([{de:"#objectPanel menu .layout a",ur:"#objectPanel.stage2",om:15,Sg:15},{de:"#resultsLayout .layoutsControls .tabDropdown",Sg:10,ss:"#objectPanel:not(.stage2)",bi:500},{de:".layoutsTabMenu__item--teamTemplates",ss:"#objectPanel:not(.stage2)",om:22,Sg:16,bi:100}]),c.push({de:".layoutsTabMenu__item--teamTemplates",
gba:100,text:d.format("starOnboardingStepTeamTemplatesText"),title:d.format("starOnboardingStepTeamTemplatesTitle"),Ue:rf(d)}));b.push([{de:"#objectPanel menu .backgrounds a",ur:"#objectPanel.stage5",om:15,Sg:15},{de:"#resultsBackground .pinnedPalette .colorPaletteEntry:eq(0)",RL:!0,ss:"#objectPanel:not(.stage5)",uN:!0,bi:500}]);c.push({de:"#resultsBackground .pinnedPalette .colorPaletteEntry",text:d.format("starOnboardingStepBrandKitText"),title:d.format("starOnboardingStepBrandKitTitle"),Ue:rf(d)});
b.push([{de:"#objectPanel menu .uploads a",ur:"#objectPanel.stage6",om:15,Sg:15},{de:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",ss:"#objectPanel:not(.stage6)",VO:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},bi:500}]);c.push({de:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",bi:500,text:d.format("starOnboardingStepLogoText"),
title:d.format("starOnboardingStepLogoTitle"),Ue:rf(d)});a.X7&&(b.push([{de:".publishToStreamSwitch",om:5,Sg:5,RL:!0},{de:".switchPublishTemplate",bi:500}]),c.push({de:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:d.format("starOnboardingStepTemplatifyText"),title:d.format("starOnboardingStepTemplatifyTitle"),Ue:rf(d)}));var e="C4W_UPGRADED_USER"===a.qh;a=e?[d.format("starOnboardingActionSetupTeam"),pf(d)]:[d.format("starOnboardingActionGotoTeamSpace"),pf(d)];b=new O5({J2:{aT:[d.format("starOnboardingActionFindTheStars")],
og:d.format("starOnboardingFirstScreenSubtitle"),title:d.format("starOnboardingFirstScreenTitle"),PP:"",re:d},z3:{aT:a,og:d.format("starOnboardingLastScreenSubtitle"),title:d.format("starOnboardingLastScreenTitle"),PP:e?"starFinderSplashScreenNewUser":void 0,re:d},cZ:b,PO:c,re:d});b.once("finish",function(a){"solo"===a?(null!=U&&U.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a?(null!=U&&U.track("upgrade_onboarding_finish_team"),window.location=Fm()):
"stream"===a?(null!=U&&U.track("upgrade_onboarding_finish_invited"),window.location="/team-stream"):"play"===a&&null!=U&&U.track("upgrade_onboarding_finish_invited")});return b}f.start=function(){var a=this;Xca(this).then(function(){a.cI.render().$el.appendTo(document.body);Yca(a)})};f.remove=function(){this.stopListening();this.cI.remove();this.ar.forEach(function(a){a.remove()})};f.rV=function(a){this.ar.forEach(function(b){b!==a&&b.toggle(!1)})};
f.x6=function(a){this.rV(a);this.XX||(this.XX=!0,R5(a.$g))};f.z6=function(a){function b(){a.toggle(!1);S5(d.cI)}function c(){T5(d)}var d=this,e=this.ar.indexOf(a),g=this.PO[e];P.delay(g.bi).then(function(){var a=new U5(g);a.li($(g.de));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});V5(this)};function T5(a){a.ar.every(function(a){return W5(a)})?Zca(a).then(a.remove.bind(a)):X5(a)}f.A6=function(){X5(this)};f.y6=function(){S5(this.cI);T5(this)};
function X5(a){a.ar.forEach(function(a){W5(a)||a.toggle(!0)})}function V5(a){a.ar.filter(function(a){return!W5(a)}).forEach(function(a,c){a.bC(2*c+1)})}function Yca(a){V5(a);a.ar.forEach(function(a){a.start()})}function Xca(a){var b=new Y5(a.K2);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=U&&U.track("upgrade_onboarding_start_stars");c()})})}
function Zca(a){var b,c=new Y5(a.A3);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function U5(){}U5=Zy.extend({className:"starFinderPopOver"});U5.prototype.initialize=function(a){a=_.defaults({},a,{qD:0,om:0,Ue:a.Ue});Zy.prototype.initialize.call(this,a);this.options=a};U5.prototype.Ep=function(){return gX};U5.prototype.render=function(){Zy.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
U5.prototype.em=function(){Zy.prototype.em.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.qD).css("top",parseInt(a.css("top"),10)+this.options.Sg);return this};function Q5(){}Q5=Backbone.View.extend({className:"starFinderProgress"});Q5.prototype.initialize=function(a){this.UN=a.UN;this.re=a.re};Q5.prototype.render=function(){this.$el.html(this.template({progressTitle:this.re.R7()}));for(var a=0;a<this.UN;a++)this.$(".starFinderProgressList").append(this.v3());return this};function S5(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}Q5.prototype.v3=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
Q5.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function Y5(){}Y5=Backbone.View.extend({className:"starFinderSplashScreen"});f=Y5.prototype;f.events=function(){return{"click .buttonNext":this.S4}};f.initialize=function(a){this.G=ol;this.options=a;this.Hd=new Ny({G:this.G,style:Oy});this.og=a.og;this.title=a.title;this.re=a.re};
f.render=function(){var a=$(this.m0());this.$el.html(this.template(this.hi()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.aT.forEach(function(a,c){a=$(this.v0({text:a}));a.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(a)},this);this.options.PP&&this.$el.addClass(this.options.PP);return this};
f.show=function(){var a=this,b=aD(MC,this.$(".starFinderStarImage img").prop("src")),c=aD(MC,this.$(".starFinderAstronaut img").prop("src"));this.Hd.show(this.$el);P.all([b,c]).then(function(){a.$(".starFinderStarAndAstronaut").addClass("loaded")})};f.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.Hd.hide();this.G.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};
f.hi=function(){return{subtitle:this.options.og,title:this.options.title,specialInstructionsTitle:this.re.p9(),specialInstructionsHtml:this.re.n9(),specialInstructionsQuestionText:this.re.o9(),responseSolo:this.re.format("starOnboardingSpecialInstructionsResponseSolo"),responseTeam:this.re.format("starOnboardingSpecialInstructionsResponseTeam"),brandMembersPath:Fm()}};
f.S4=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")&&b.hasClass("buttonSecondary")?c="play":b.hasClass("starFinderSplashScreenButton")?c="stream":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};f.m0=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
f.v0=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');f.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"\x3c%- brandMembersPath %\x3e" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function P5(a){this.active=!1;this.zm=0;this.$g=new Z5(a[0]);$5(this);this.lP=0;this.pC=a;this.Zk=new fP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.g5.bind(this),100,{trailing:!1});this.Zk.on("attrModified",a);this.Zk.on("subtreeModified",a)}f=P5.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.start=function(){this.$g.show();this.active=!0};f.remove=function(){this.stopListening();hP(this.Zk);this.$g.remove();this.active=!1};function W5(a){return a.zm===a.pC.length}f.bC=function(a){this.lP=a;0===this.zm&&this.$g.bC(a)};function $5(a){a.listenTo(a.$g,"advance",a.w6);a.listenTo(a.$g,"die",a.B6)}f.toggle=function(a){W5(this)||(this.active=a,this.$g.toggle(a))};
f.w6=function(){function a(){c.Zk.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;hP(this.Zk);this.zm++;this.$g.remove();W5(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),a6(this).then(b).then(a).catch(function(){}))}};f.B6=function(){this.active&&(hP(this.Zk),this.$g.remove(),this.toggle(!1),this.zm=this.pC.length,this.trigger("die",this))};
f.g5=function(){var a;if(a=this.active&&0<this.zm){var b=b6(this.$g);if(W5(this)||!b.is(":visible"))a=!1;else if(a=this.pC[this.zm].ss)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.$g.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};f.reset=function(a){hP(this.Zk);this.zm=0;this.$g.remove();a6(this);a||this.trigger("reset",this)};
function a6(a){var b=_.extend({},a.pC[a.zm],{filled:a.zm===a.pC.length-1});a.$g=new Z5(b);$5(a);a.lP&&a.bC(a.lP);return a.$g.show()};function Z5(){}Z5=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});Z5.prototype.events=function(){return{"click .starFinderStar":this.Gf}};Z5.prototype.initialize=function(a){a=_.defaults({},a,{qD:0,om:0,Sg:0,UT:!1,filled:!1,RL:!1,uN:!1,position:3,bi:0});this.$M=!1;this.options=a;this.pH=0;this.Is=this.Is.bind(this);this.RA=this.RA.bind(this);this.bw=_.throttle(this.bw.bind(this),100);$(document).on("click",this.bw);$(window).on("resize",this.bw)};
Z5.hS=1600;Z5.dJ=500;f=Z5.prototype;f.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.UT);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
f.nY=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(e.left-a+c.options.qD);if(-1<[3,1].indexOf(c.options.position))return Math.round(e.left+d.outerWidth()-c.options.om)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(e.top+c.options.Sg);if(-1<[0,1].indexOf(c.options.position))return Math.round(e.top+a/2+c.options.Sg)}var c=this,d=b6(this),e=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};f.remove=function(){$(document).off("click",this.bw);$(window).off("resize",this.bw);b6(this).off("click",this.Is).off("mousedown",this.RA);window.clearInterval(this.pH);Backbone.View.prototype.remove.call(this)};
f.show=function(){this.render().$el.appendTo(document.body);if(this.options.ss&&0<$(this.options.ss).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.bi).then(function(){this.options.VO&&this.options.VO();if(0===b6(this).length)return this.trigger("die",this),P.reject();c6(this,!0);this.nY();if(this.options.uN)b6(this).off("mousedown",this.RA).on("mousedown",this.RA);else b6(this).off("click",this.Is).on("click",this.Is);this.options.ur&&0<$(this.options.ur).length&&
this.trigger("advance",this)}.bind(this))};f.bC=function(a,b){function c(){R5(e)}function d(){R5(e);e.bC(a,e.$M)}var e=this,g=0!==this.pH,h=1E3*a;this.$M=!!b;window.clearInterval(this.pH);this.pH=g?window.setInterval(c,h+(Z5.hS+(b?2*Z5.dJ:0))):window.setTimeout(d,h)};
function R5(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(Z5.hS).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){c6(d,!1);return P.delay(Z5.dJ)}var d=a;a.$M?(c6(d,!0),P.delay(Z5.dJ).then(b).then(c)):b()}f.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);c6(this,a);this.options.ur&&0<$(this.options.ur).length&&this.trigger("advance",this)};function b6(a){return $(a.options.de)}
function c6(a,b){a.$el.toggleClass("starFinderStarHidden",!b)}f.Is=function(){this.trigger("advance",this)};f.RA=function(){var a=this;b6(this).one("mouseup",function(){a.Is()})};f.Gf=function(){function a(a){var d=b6(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.RL?(b6(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.uN||b.Is()):b6(this).click()};f.bw=function(){P.delay(300).bind(this).then(this.nY)};f.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function $ca(){}function mM(a){return Object.freeze(If($ca,a))}function uN(a){if(a.magic)return Object.freeze(If(d6,a.magic))}function d6(){}d6.prototype.Sb=function(){return this.color};d6.prototype.je=function(){return this.thumbnail};function kW(a,b,c){function d(){return b.map(function(b){return kW(a,b,c)})}function e(){return Object.keys(b).reduce(function(a,d){a[d]=kW(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?e():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function wV(a,b){(b=b.serialize())&&e6(a,b)}function e6(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&e6(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function f6(){}f6=rp.extend({className:"createTeamDialog"});f6.prototype.events=function(){return _.extend(rp.prototype.events.call(this),{"click .createTeamDialogCreate":this.trigger.bind(this,"createTeam")})};f6.prototype.initialize=function(a){this.ld=a.ld;this.QR=gj(this.ld.ld.paidYearly);this.xk=a.xk;rp.prototype.initialize.call(this,{G:ol,df:!0,Ar:!0,Me:!0})};
f6.prototype.render=function(){rp.prototype.render.call(this);var a=moment().add(this.QR.se,"days").format("LL"),b=(K5(this.QR)/12).toFixed(2),c=this.QR.se;this.$(".dialog").html(this.ZJ({createTeamWelcomeDescription:this.xk.A1(b),createTeamWelcomeTitleHtml:this.xk.B1(c),createTrialPeriodPoint1Html:mf(this.xk),createTrialPeriodPoint2Html:nf(this.xk,a),createTrialPeriodPoint3Html:of(this.xk),createYourTeam:this.xk.C1()}));return this};f6.prototype.ZJ=_.template('\x3cdiv class\x3d"createTeamContent"\x3e\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"createTeamActions"\x3e\x3cbutton class\x3d"button createTeamDialogCreate"\x3e\x3c%- createYourTeam %\x3e\x3c/button\x3e\x3c/div\x3e');function g6(a){Ca(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.ug=a.ug||null;this.zs=a.zs||null;this.Qb=a.Qb||null;this.size=a.size;this.Pp=!!a.Pp;this.Eq=!!a.Eq;this.Eo=!!a.Eo;this.gp=!!a.gp}t(g6,Backbone.View);
g6.prototype.render=function(){var a=this.ug&&this.zs,b=!!this.zs;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.ug&&this.$el.css("backgroundImage","url("+this.ug+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.zs&&this.$el.attr("data-letter",this.zs);this.Qb&&(this.$el.css("backgroundColor",this.Qb.qa()),208<this.Qb.Zu()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.Eo);this.$el.toggleClass("avatar--darkBorder",this.gp);this.$el.toggleClass("avatar--glow",this.Pp);this.$el.toggleClass("avatar--pointer",this.Eq);return this};function h6(a){return(a.rb()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function i6(a){a=a.xp();return Gn(a?"#"+a:"#b0b0b0")}
function j6(a,b){a=a.wp().sizes;Fa(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(na(a.values()))).sortBy(function(a){return Math.abs(a.Kp()-c)}).sortBy(function(a){return a.Kp()<c}).first().value().ma()}function N4(a){var b=j6(a.user,a.size);a=new g6({ug:b,size:a.size,Pp:a.Pp,Eq:a.Eq,Eo:a.Eo,gp:a.gp});a.render();return a}function L4(a){var b=h6(a.D),c=i6(a.D);a=new g6({zs:b,Qb:c,size:a.size,Pp:a.Pp,Eq:a.Eq,Eo:a.Eo,gp:a.gp});a.render();return a};function k6(a){this.OF=a.OF;this.X=a.X;this.qL=a.qL}k6.prototype.create=function(a){return wj(this.OF,"/teams",{displayName:a}).spread(function(a){return Bw(a.brand)})};function l6(a){Backbone.View.call(this,{className:"active brand"});this.Jd=a.Jd;var b;b={D:a.D,user:a.user,size:60,Eo:!0};if(b.D.Vh())b=N4(b);else{var c=j6(b.user,b.size),d=h6(b.D),e=i6(b.D);b=new g6({ug:c,zs:d,Qb:e,size:b.size,Pp:b.Pp,Eq:b.Eq,Eo:b.Eo,gp:b.gp});b.render()}this.rJ=b;this.D=a.D;this.user=a.user;this.QG=!!a.QG}t(l6,Backbone.View);
l6.prototype.render=function(){var a=this.el,b;b=this.D.rb()||this.Jd.tB();var c=this.user.rb(),d="/"+this.user.eg(),e=this.Jd.uba(),g=this.Jd.Qba(),h=this.QG;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"settings",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(e)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.rJ.$el);return this};function m6(){}m6=Backbone.View.extend({tagName:"li",className:"brand"});m6.prototype.initialize=function(a){this.rJ=a.wr.D.Vh()?N4({user:a.user,size:36}):L4({D:a.wr.D,size:36});this.wr=a.wr;this.Jd=a.Jd};m6.prototype.render=function(){this.$el.html(this.template({personal:this.wr.D.Vh(),personalLabel:this.Jd.cba(),displayName:this.wr.D.rb(),url:this.wr.url}));this.$(".left").append(this.rJ.$el);return this};m6.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');function n6(){}n6=Backbone.View.extend({className:"brandListWrapper"});n6.prototype.initialize=function(a){this.qm=a.qm;this.user=a.user;this.Jd=a.Jd};n6.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.qm.forEach(function(b){(new m6({wr:b,user:this.user,Jd:this.Jd})).render().$el.appendTo(a)}.bind(this));return this};function o6(){}o6=Backbone.View.extend({className:"actions",tagName:"ul"});o6.prototype.initialize=function(a){this.Jd=a.Jd;this.kC=!!a.kC};o6.prototype.render=function(){this.$el.toggleClass("singleAction",!this.kC);this.$el.html(this.template({showUpgradeButton:this.kC,upgrade:this.Jd.Nx(),signOut:this.Jd.signOut()}));return this};o6.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};o6.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');function p6(){}p6=Zy.extend({className:"userMenuContainer"});
p6.prototype.initialize=function(a){this.Lh=a.Lh;this.user=a.user;this.Jd=a.Jd;this.uS=a.uS;this.PY=a.PY;this.d0=new l6({Jd:a.Jd,D:this.uS.D,user:a.user,QG:a.QG});this.US=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.d0.render().$el);var c=new o6({Jd:a.Jd,kC:a.kC});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.PY&&(this.US=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.US));b.append(c.render().$el);Zy.prototype.initialize.call(this,
{content:b,position:["leftTop",Ep],Kf:a.Kf})};p6.prototype.show=function(){this.Lh.now();return Zy.prototype.show.call(this)};function q6(a,b){this.m7=(this.PS="PUBLIC"!==a)?a:"*";this.F9=b}q6.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.PS})};q6.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.F9.postMessage(a,this.m7)};function ada(a,b,c,d,e,g,h){function k(a){a.preventDefault();da?(N.sendMessage({type:"PublishRequested",designId:ub.hc(),untouched:q()}),u()):(ph(),p())}var l=window.CANVA_EMBED,m=Ib,n=Kb;function p(){var a=!1,b=new rp({G:ol,Ar:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),df:!1,Me:!1,title:"Saving your design..."});!da&&ub.aj()&&(b.show(),
a=!0);Rz(2E4).then(function(){a&&b.remove();N.sendMessage({type:"Close",designId:ub.hc(),untouched:q()})},function(){var c=new rp({G:ol,title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});
a&&b.remove();c.show()})}function q(){return 1===ub.Xd()&&J.isEmpty()}function u(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function v(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function z(a){var c=a.layout;return c?b.ib(new tv({id:c,Rp:!1})).then(function(a){return a.tc},function(){return r(a)}):r(a)}function r(a){a=a.pages&&a.pages[0];return Yu(a?a.width:0,a?a.height:0,"PIXELS")}function x(a){return new P(function(b){var c=
(Array.isArray(a)&&a||[]).map(La).map(fn),c=FL(Fb,c);iL(vb,c,!1,b)})}function I(){var k=new k6({OF:Gb,X:Cb,qL:Ib.H.get(Xf)});return t0(a,{config:a,Pk:Lb,W:Ib,l:U,document:J,getSession:function(){return ub},Ia:G,kc:$b,rd:zb,aa:yb,X:Cb,Ra:xb,Ui:b,La:c,cc:Eb,dc:d,ub:e,af:vb,fb:O,i:Kb,G:ol,ld:g,G9:k,sa:L,Xb:Oa,gu:sa,mo:new P4,H:h,vc:null,pd:null})}function E(){var a={O:_.range(1,J.ic()+1),format:ea?"PDF":"PNG",Bs:96};t_({i:n,W:Ib,l:U,Kb:ub,document:J,Ia:G,dc:d,rd:zb,aa:yb,X:Cb,cc:Eb,fb:O,ub:e,ld:g,G:ol,
sa:L,Xb:Oa,fe:a,QV:!0,ud:J0({document:J,Kb:ub}),H:h,$t:{VV:!1},vc:null,pd:null,La:c}).start().then(function(a){null!=a&&N.sendMessage({type:"Published",designId:ub.hc(),exportUrl:a,untouched:q()})})}var L=null;try{L=Io()}catch(ia){}var G=Kx(),O=ET(),Q=a.Ez(),N=new q6(l.embedDomain,window.parent),ea=!1,da=!0,sa=window.availableLocales||{};N.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:u,close:p,focus:v,publish:function(){try{E()}catch(a){v()}},
loadDocumentFromJson:function(b){var c;try{c=JSON.parse(b.text)}catch(d){return}var g="object"===typeof c&&c||{},k=Zo(),l=new tw(Gb);P.all([z(g),x(g.media)]).spread(function(c){var d=Ox(G).GC();(new zp({mp:k,Vc:Lb,Xb:Oa,X:l,W:m,H:h,i:n,l:U,Ie:T,sa:L,Rk:d,uu:gz,ub:e,fb:O,Ia:G,ha:Q})).go(g,c,a,null,I,null);!0===b.killInterface&&(Nz=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){da=!!a.enabled},
setMultipagePdf:function(a){a.enabled?ea=!0:(D_.P1(),EU.O1())},setStaticTitle:function(a){MO.W8(a.title)},upload:function(a){yM.call($("#objectPanel .uploads a"),n);yL(new uL({source:"third_party_editor",J:kc(n),OG:function(a){var d=J.Ba().j(),e=J.Ba().o(),g=b,h=c,k=g/h;e<h&&(h=e,g*=k);d<g&&(g=d,h*=k);a={type:"image",isBackground:!1,isRecolorable:!1,mediaId:a.u(),mediaVersion:a.Ja().getVersion(),isCutout:!1,width:g,height:h};Hg(a).$k(J.Ba());N.sendMessage({type:"Upload",status:"done"})},progress:(new qL).Go("third_party_editor")}),
a.dataUri);var b=a.width,c=a.height}});ub?N.sendMessage({type:"Editor",designId:ub.hc()}):N.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();p()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});MO.ST();MO.Q1();$("#documentMenuUpgrade").remove();var Oa=function(){return new TY({X:Cb,i:n,Mk:["contextTipRoyaltyFreePaymentOption"],aE:function(a){return SY({key:a,i:nd(n),Ye:$(document),Qe:$("body")})},
root:$("body")})}();u0.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:k}});a.$el.text("Publish");return a}};function bda(a){soy.asserts.assertType(goog.isString(a.BI)||a.BI instanceof goog.soy.data.SanitizedContent,"videoId",a.BI,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"//www.youtube.com/embed/'+soy.$$escapeHtmlAttribute(a.BI)+'?rel\x3d0\x26autoplay\x3d1\x26modestbranding\x3d1\x26fs\x3d0\x26showinfo\x3d0" frameborder\x3d"0"\x3e\x3c/iframe\x3e')}
function cda(a){soy.asserts.assertType(goog.isString(a.Tn)||a.Tn instanceof goog.soy.data.SanitizedContent,"postUrl",a.Tn,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__facebookPost presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3cdiv class\x3d"fb-post" data-href\x3d"'+soy.$$escapeHtmlAttribute(a.Tn)+
'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function dda(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Tn)||a.Tn instanceof goog.soy.data.SanitizedContent,"postUrl",a.Tn,"string|goog.soy.data.SanitizedContent");var c=a.Tn;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");a=a.width;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"https://www.facebook.com/plugins/video.php?href\x3d'+soy.$$escapeUri(c)+
"\x26show_text\x3d0\x26width\x3d"+soy.$$escapeUri(a)+'" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'border:none;overflow:hidden" scrolling\x3d"yes" frameborder\x3d"0" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e')};function r6(a,b){b=void 0===b?$("body"):b;Backbone.View.call(this,{className:"presentationLightbox"});this.Se=b;this.G=a}t(r6,Backbone.View);f=r6.prototype;f.events=function(){return{"click .presentationLightbox__close":this.QJ}};
f.show=function(){var a=this;this.trigger("show");this.Se.addClass("modalContentVisible modalContentBlurAndDarkenVisible");this.GF=this.GF.bind(this);this.Se.on("keyup",this.GF);this.$el.appendTo(this.Se);this.G.requestAnimationFrame(function(){$("\x3e .mask",a.Se).addClass("on").on("click",function(){return a.QJ()});a.$el.addClass("playing")})};f.GF=function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.Se.off("keyup",this.GF),this.QJ())};
f.QJ=function(){var a=this;this.trigger("close");var b=$("\x3e .mask",this.Se);this.$el.addClass("disappearing");this.G.setTimeout(function(){a.$el.remove()},500);this.Se.removeClass("modalContentVisible modalContentBlurAndDarkenVisible");b.addClass("off");this.G.setTimeout(function(){b.removeClass("on off white")},500);b.off("click")};f.df=function(){this.$el.find(".presentationLightbox__close").addClass("presentationLightbox__close--fadeIn")};
f.render=function(a,b){var c=this,d,e=500;switch(a){case "video":this.el.innerHTML=bda({BI:b});this.G.setTimeout(function(){return c.df()},e);break;case "facebookPost":this.el.innerHTML=cda({Tn:b});d=Date.now();FB.XFBML.parse(this.el,function(){var a=c.$el.find(".presentationLightbox__social");e=Math.max(d+2E3-Date.now(),0);c.G.setTimeout(function(){a.addClass("presentationLightbox__social--loaded");c.df()},e)});break;case "facebookVideo":a=parseInt(.7*$(window).outerWidth(),10);this.el.innerHTML=
dda({Tn:b,width:a});this.G.setTimeout(function(){return c.df()},e);break;case "tweet":this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__tweet presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3c/div\x3e\x3c/div\x3e');var g=this.$el.find(".presentationLightbox__social");d=Date.now();twttr.ready(function(a){function b(){e=
Math.max(d+2E3-Date.now(),0);c.G.setTimeout(function(){g.addClass("presentationLightbox__social--loaded");c.df()},e);a.events.unbind("rendered",b)}a.events.bind("rendered",b)});$.ajax({url:"https://publish.twitter.com/oembed?url\x3d"+b+"\x26maxwidth\x3d500",dataType:"jsonp",success:function(a){a.html&&g.find(".presentationLightbox__inner").html(a.html)}})}return this};var iC={Pt:/^#(video-)([a-z0-9-]+)$/,P$:/^(?:https?:\/\/)?support\.canva\.com\/.+/,qS:/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,ZR:/^(?:https?:\/\/)?www\.facebook\.com\/.+/,C_:/^(?:https?:\/\/)?www\.facebook\.com\/.+\/videos\/.+/,nS:/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/.+/,URL:/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i};function s6(a){this.xU=this.JZ=!1;this.pL=!!a;this.lv=this.lv.bind(this)}f=s6.prototype;f.toggle=function(a,b){var c=this;b.filter(this.c3).forEach(function(b){a?(t6(c,b),b.C().on("mousedown",c.lv).on("touchstart",c.lv).on("mouseenter",c.lU).on("mouseleave",c.mU).attr("data-has-link","true")):t6(c,b)})};function t6(a,b){b.C().off("mousedown",a.lv).off("touchstart",a.lv).off("mouseenter",a.lU).off("mouseleave",a.mU).attr("data-has-link","")}f.c3=function(a){a=a.Xm();return iC.Pt.test(a)||iC.URL.test(a)};
f.lv=function(a){a.stopPropagation();a.preventDefault();a=$(a.currentTarget).data("canvaElement").Xm();if(iC.nS.test(a)&&!this.JZ){if(!window.twttr){var b=document.createElement("script");b.innerHTML='window.twttr \x3d (function(d, s, id) {\n          var js, fjs \x3d d.getElementsByTagName(s)[0],\n            t \x3d window.twttr || {};\n          if (d.getElementById(id)) return t;\n          js \x3d d.createElement(s);\n          js.id \x3d id;\n          js.src \x3d "https://platform.twitter.com/widgets.js";\n          fjs.parentNode.insertBefore(js, fjs);\n         \n          t._e \x3d [];\n          t.ready \x3d function(f) {\n            t._e.push(f);\n          };\n         \n          return t;\n        }(document, "script", "twitter-wjs"));';
document.body.appendChild(b)}this.JZ=!0}else iC.ZR.test(a)&&!this.xU&&(window.FB||(0===$("#fb-root").length&&$("body").append($('\x3cdiv id\x3d"fb-root"\x3e\x3c/div\x3e')),b=document.createElement("script"),b.innerHTML="(function(d, s, id) {\n        var js, fjs \x3d d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js \x3d d.createElement(s); js.id \x3d id;\n        js.src \x3d \"//connect.facebook.net/en_US/sdk.js#xfbml\x3d1\x26amp;version\x3dv2.5\";\n        fjs.parentNode.insertBefore(js, fjs);\n      }(document, 'script', 'facebook-jssdk'));",
document.body.appendChild(b)),this.xU=!0);switch(!0){case iC.qS.test(a):case iC.Pt.test(a):eda(this,a);break;case iC.C_.test(a)&&this.pL:u6(this,"facebookVideo",a);break;case iC.ZR.test(a)&&this.pL:u6(this,"facebookPost",a);break;case iC.nS.test(a)&&this.pL:u6(this,"tweet",a);break;default:this.trigger("open"),window.open(a,"_blank")}};
f.lU=function(){var a=$(this);if(!a.hasClass("linkHoverAnimation")){var b=a.data("initialTransform");b||(b=a.css("transform"),a.data("initialTransform",b));a.addClass("linkHoverAnimation").css("transform",b+"scale(1.1)")}};f.mU=function(){var a=$(this),b=a.data("initialTransform");b&&(a.css("transform",b),P.delay(300).then(function(){a.is(":hover")||(a.removeData("initialTransform"),a.removeClass("linkHoverAnimation"))}))};
function eda(a,b){var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"};if("#"===b.charAt(0)){b=b.substring(1);if(!c.hasOwnProperty(b))return;c=c[b]}else c=b.match(iC.qS)[1];b=new r6(ol);b.render("video",c);b.on("show",function(){return a.trigger("open")});b.on("close",function(){return a.trigger("close")});b.show()}
function u6(a,b,c){var d=new r6(ol);d.render(b,c);d.on("show",function(){return a.trigger("open")});d.on("close",function(){return a.trigger("close")});d.show()}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function v6(a){this.type=a}f=v6.prototype;f.wD=function(){throw Error("not implemented");};f.xD=function(){throw Error("not implemented");};f.du=function(){throw Error("not implemented");};f.equals=function(){throw Error("not implemented");};f.matches=function(a){return null!=a&&this.du().equals(a.du())};function w6(a,b,c){Ca(0<=a&&255>=a&&0==a%1);Ca(0<=b&&255>=b&&0==b%1);Ca(0<=c&&255>=c&&0==c%1);this.type=1;this.r=a;this.il=b;this.b=c}t(w6,v6);f=w6.prototype;
f.wD=function(){var a=this.r,b=this.il,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c),g=(d+e)/2;if(d==e)a=e=0;else{var h=d-e,e=.5<g?h/(2-d-e):h/(d+e);switch(d){case a:a=(b-c)/h+(b<c?6:0);break;case b:a=(c-a)/h+2;break;case c:a=(a-b)/h+4;break;default:throw Error();}a/=6}return new x6(360*a,100*e,100*g)};
f.xD=function(){var a=this.r,b=this.il,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c);if(d==e)a=e=0;else{var g=d-e,e=g/d;switch(d){case a:a=(b-c)/g+(b<c?6:0);break;case b:a=(c-a)/g+2;break;case c:a=(a-b)/g+4;break;default:throw Error();}a/=6}return new y6(360*a,100*e,100*d)};f.du=function(){return this};f.equals=function(a){if(1!=a.type)return!1;a=a.du();return this.r==a.r&&this.il==a.il&&this.b==a.b};f.toString=function(){return"rgb("+this.r+", "+this.il+", "+this.b+")"};
f.qa=function(){return"#"+(256+this.r).toString(16).slice(-2)+(256+this.il).toString(16).slice(-2)+(256+this.b).toString(16).slice(-2)};function x6(a,b,c){Ca(0<=a&&360>a,"invalid h: {}",a);Ca(0<=b&&100>=b,"invalid s: {}",b);Ca(0<=c&&100>=c,"invalid l: {}",c);this.type=2;this.h=a;this.s=b;this.vl=c}t(x6,v6);f=x6.prototype;f.wD=function(){return this};f.xD=function(){var a=this.s,b=this.vl,a=a/100,b=b/100,c=a*(.5>b?b:1-b),d=b+c;return new y6(this.h,100*(0<b?2*c/d:a),100*d)};
f.du=function(){var a=this.h,b=this.s,c=this.vl,a=a/360,b=b/100,c=c/100;if(0==b)c=b=a=c;else var d=.5>c?c*(1+b):c+b-c*b,e=2*c-d,c=z6(e,d,a+1/3),b=z6(e,d,a),a=z6(e,d,a-1/3);return new w6(Math.round(255*c),Math.round(255*b),Math.round(255*a))};f.equals=function(a){if(2!=a.type)return!1;a=a.wD();return this.h==a.h&&this.s==a.s&&this.vl==a.vl};f.toString=function(){return"hsl("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.vl.toFixed(3)+"%)"};
function y6(a,b,c){Ca(0<=a&&360>a,"invalid h: {}",a);Ca(0<=b&&100>=b,"invalid s: {}",b);Ca(0<=c&&100>=c,"invalid l: {}",c);this.type=3;this.h=a;this.s=b;this.lr=c}t(y6,v6);f=y6.prototype;f.wD=function(){var a=this.s,b=this.lr,a=a/100,b=b/100,c=(2-a)*b/2;return new x6(this.h,100*(c&&1>c?a*b/(.5>c?2*c:2-2*c):a),100*c)};f.xD=function(){return this};
f.du=function(){var a=this.h,b=this.s,c=this.lr,a=a/60,b=b/100,c=c/100,d=Math.floor(a),e=a-d,a=c*(1-b),g=c*(1-e*b),b=c*(1-(1-e)*b),d=d%6;return new w6(Math.round(255*[c,g,a,a,b,c][d]),Math.round(255*[b,c,c,g,a,a][d]),Math.round(255*[a,a,b,c,c,g][d]))};f.equals=function(a){if(3!=a.type)return!1;a=a.xD();return this.h==a.h&&this.s==a.s&&this.lr==a.lr};f.toString=function(){return"hsv("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.lr.toFixed(3)+"%)"};new w6(0,0,0);new w6(255,255,255);
var fda=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,gda=/^hsv\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,hda=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/,ida=/^#([a-f\d])([a-f\d])([a-f\d])$/i,jda=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function z6(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};var kda=[{family:"Aileron Thin",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},{family:"Aileron Regular",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},{family:"Aqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/aqua.ttf",woff:"https://static.canva.com/static/webfonts/aqua.woff"}}},{family:"Arialle",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},
{family:"Archivo Black",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",woff:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",woff:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",woff:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",
otf:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf"}}},{family:"Cooper Hewitt Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf"}}},{family:"Fredoka One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Josefin Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/JosefinSans.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Black.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},{family:"Montserrat Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Peace Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Peace-Sans.ttf",woff:"https://static.canva.com/static/webfonts/Peace-Sans.woff"}}},{family:"Pirou",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},
{family:"PT Sans",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
otf:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},{family:"Noto Sans Devanagari",testString:"",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",woff:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},
{family:"Nunito Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Norwester.ttf",woff:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},
{family:"Amaranth",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},{family:"Anton",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Anton.ttf",
woff:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Crushed",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Crushed.ttf",
woff:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},
{family:"Exo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Glacial Indifference",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Italic.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Bold.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Bold.woff"}}},{family:"Gidole",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},{family:"Julius Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},
{family:"Kollektif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},{family:"Lilita One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},{family:"Open Sans Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Ubuntu.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf"}}},{family:"Unity Text",
styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf"}}},{family:"Six Caps",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",woff:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},{family:"Sifonn Outline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},
{family:"Signika",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",woff:"https://static.canva.com/static/webfonts/TenorSans.woff"}}},{family:"Abril Fatface",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{family:"Alegreya SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},
{family:"Alfa Slab One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},{family:"Anonymous Pro",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arvo.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},{family:"Cinzel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",
woff:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},{family:"Granaina",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",woff:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{family:"IM Fell English SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",woff:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{family:"IM Fell Double Pica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},
regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},{family:"Lora",
styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lora.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},
{family:"Luthier",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},{family:"Nixie One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{family:"Playfair Display",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{family:"Playfair Display Black",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{family:"Playfair Display SC",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},{family:"Prata",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},{family:"Quattrocento",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},{family:"Sanchez",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},{family:"Source Serif Pro",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},
{family:"Times Neue Roman",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},{family:"Trocchi",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ultra.ttf",woff:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},{family:"Voga",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},{family:"Cantora One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},{family:"Coustard",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},{family:"Graduate",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},
{family:"Ribeye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}},{family:"Gochi Hand",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",woff:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},
{family:"Permanent Marker",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",woff:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},{family:"Schoolbell",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",woff:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{family:"Shadows Into Light Two",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",
woff:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{family:"Amatic SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",woff:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",woff:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},{family:"Coming Soon",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",woff:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}},{family:"Allura",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",woff:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},{family:"Kaushan Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Marta",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Marta-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Italic.woff"}}},{family:"Merriweather",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",woff:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},
{family:"Pinyon Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},{family:"Pacifico",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",woff:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},{family:"Princess Sofia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Streamster.ttf",
woff:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}},{family:"Berkshire Swash",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Chewy.ttf",
woff:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{family:"Diplomata SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},{family:"Megrim",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Megrim.ttf",
woff:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",woff:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},{family:"Codystar",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",
woff:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",woff:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lobster.ttf",woff:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",woff:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sunday.ttf",woff:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},{family:"Waterlily",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",woff:"https://static.canva.com/static/webfonts/Waterlily.woff"}}},{family:"Brusher",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Brusher-Regular.woff"}}},{family:"Playlist Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Playlist-Script.ttf",woff:"https://static.canva.com/static/webfonts/Playlist-Script.woff"}}},{family:"Selima",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Selima.ttf",
woff:"https://static.canva.com/static/webfonts/Selima.woff"}}},{family:"Sensei",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sensei-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Sensei-Medium.woff"}}},{family:"Edo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Edo.ttf",woff:"https://static.canva.com/static/webfonts/Edo.woff"}}},{family:"M Plus Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.ttf"}}},
{family:"M Plus Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.ttf"}}},{family:"M Plus Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.ttf"}}},
{family:"M Plus Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.woff",ttf:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.ttf"}}},{family:"Noto Sans Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.otf"}}},{family:"Noto Sans Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.woff",
otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.woff",otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.otf"}}},{family:"Noto Sans Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.otf"}}},{family:"Noto Sans Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.woff",
otf:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.otf"}}},{family:"Kodomo Rounded Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.otf"},bold:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.otf"}}},{family:"Bokutachi Gothic Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Regular.woff",
otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Regular.otf"},bold:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Bold.woff",otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Bold.otf"}}},{family:"Yasashisa Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.woff",otf:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.otf"}}},{family:"Logo Type Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.woff",ttf:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.ttf"}}},
{family:"Genjyuu Gothic Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.ttf"}}},{family:"Genjyuu Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.woff",
ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.ttf"}}},{family:"Genjyuu Gothic Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.ttf"}}},{family:"Genjyuu Gothic Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.ttf"}}},
{family:"M Plus Rounded Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.ttf"}}},{family:"M Plus Rounded Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.ttf"},
bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.ttf"}}},{family:"M Plus Rounded Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.ttf"}}},{family:"M Plus Rounded Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.woff",
ttf:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.ttf"}}},{family:"Ipaex Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/IpaexMincho/ipaexm.woff",ttf:"https://static.canva.com/static/fonts/IpaexMincho/Ipaexm.ttf"}}},{family:"Aozora Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.ttf"}}},
{family:"Aozora Mincho Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.ttf"}}},{family:"Kokoro Minchoutai",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.woff",otf:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.otf"}}},{family:"Hannari Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HannariMincho/HannariMincho.woff",
otf:"https://static.canva.com/static/fonts/HannariMincho/Hannari.otf"}}},{family:"Yasashisa Antique",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.woff",otf:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.otf"}}},{family:"Dejima Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.woff",ttf:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.ttf"}}},{family:"Koku Maru Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.woff",otf:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.otf"}}},
{family:"Koku Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.woff",ttf:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.ttf"}}},{family:"Hanazono Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.woff",ttf:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.ttf"}}},{family:"Checkpoint",styles:{regular:{woff:"https://static.canva.com/static/fonts/Checkpoint/CPFont.woff",otf:"https://static.canva.com/static/fonts/Checkpoint/CPFont.otf"}}},{family:"Nicomoji Plus",styles:{regular:{woff:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.woff",
ttf:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.ttf"}}},{family:"Light Novel Pop",styles:{regular:{woff:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.woff",otf:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.otf"}}},{family:"Uzura",styles:{regular:{woff:"https://static.canva.com/static/fonts/Uzura/uzura.woff",ttf:"https://static.canva.com/static/fonts/Uzura/uzura.ttf"}}},{family:"Cinecaption",styles:{regular:{woff:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.woff",ttf:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.TTF"}}},{family:"Jiyucho",styles:{regular:{woff:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.woff",
otf:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.otf"}}},{family:"Tanuki",styles:{regular:{woff:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.woff",ttf:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.ttf"}}},{family:"Hanazome",styles:{regular:{woff:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.woff",ttf:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.ttf"}}},{family:"Fuiji",styles:{regular:{woff:"https://static.canva.com/static/fonts/Fuiji/HuiFontP.woff",ttf:"https://static.canva.com/static/fonts/Fuiji/HuiFontP29.ttf"}}},{family:"Nagayama Kai",styles:{regular:{woff:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.woff",
otf:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.otf"}}},{family:"Kouzan",styles:{regular:{woff:"https://static.canva.com/static/fonts/Kouzan/KouzanGyoushoOTF.woff",otf:"https://static.canva.com/static/fonts/Kouzan/KouzanBrushFontGyousyoOTF.otf"}}}];var M0="WARNING",L0="ERROR";function C6(a){this.page=a.page;this.element=a.element;this.content=a.content;this.xz=a.xz}C6.prototype.R=function(){return this.page};C6.prototype.getElement=function(){return this.element};C6.prototype.getContent=function(){return this.content};
function lda(a){var b,c,d,e;a.forEach(function(a){null!=a.page&&(Ca(null==b),b=a.page);null!=a.element&&(Ca(null==c),c=a.element);null!=a.content&&(Ca(null==d),d=a.content);null!=a.xz&&(Ca(null==e),e=a.xz)});return new C6({page:b,element:c,content:d,xz:e})}function D6(a){this.context=a.context;this.type=a.type;this.level=a.level}D6.prototype.getContext=function(){return this.context};D6.prototype.jb=function(){return this.type};function E6(a,b){this.context=[];this.Ew=[];this.media=b;this.z9=a}function K0(a,b){var c=new Set;kda.forEach(function(a){return c.add(a.family)});b=new E6(c,b);mda(b,a);return b.Ew}function mda(a,b){b.O.forEach(function(b,d){F6(a,new C6({page:d}),function(){nda(a,b)})})}
function nda(a,b){b.elements.forEach(function(b,d){F6(a,new C6({element:d}),function(){switch(b.type){case "TEXT":Fa(b instanceof Qr);G6(a,b);break;case "IMAGE":Fa(b instanceof Lr);H6(a,b);a.check(0===d||!b.Hb,"IS_BACKGROUND_REQUIRES_FIRST_ELEMENT",L0);break;case "SVG":Fa(b instanceof Tr);oda(a,b);break;case "GRID":Fa(b instanceof Yr);pda(a,b);break;case "GRAPHIC":a.error("GRAPHIC_ELEMENT_NOT_HANDLED");break;case "SHAPE":break;case "GROUP":break;default:a.error("UNKNOWN_ELEMENT_TYPE")}})})}
function G6(a,b){a.check(0<b.iq.length,"LINE_LENGTHS_REQUIRED",L0);if(b.color)try{var c=b.color;if("#"===c.slice(0,1)){var d;if(d=ida.exec(c))new w6(17*parseInt(d[1],16),17*parseInt(d[2],16),17*parseInt(d[3],16));else if(d=jda.exec(c))new w6(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));else throw Error("not a hexadecimal color: "+c);}else switch(c.slice(0,4)){case "hsl(":var e=fda.exec(c);Ca(!!e,"Invalid HSL color: {}",c);new x6(+e[1],+e[2],+e[3]);break;case "hsv(":var g=gda.exec(c);Ca(!!g,
"Invalid HSV color: {}",c);new y6(+g[1],+g[2],+g[3]);break;case "rgb(":var h=hda.exec(c);Ca(!!h,"Invalid RGB color: {}",c);new w6(+h[1],+h[2],+h[3]);break;default:throw Error("cannot parse color: "+c);}}catch(k){a.error("COLOR_NOT_CONVERTIBLE_TO_RGB")}null!=b.vp||null==b.fontFamily||a.z9.has(b.fontFamily)||a.error("FONT_NOT_SUPPORTED")}function H6(a,b){!1!==b.pb&&null!=b.ba&&null!=b.ca&&I6(a,b.ba,b.ca);a.check(!b.filter,"HAS_FILTER",M0)}
function oda(a,b){I6(a,b.ba,b.ca);a.check(b.oi,"SVG_METADATA_REQUIRED",L0);b.Qc.forEach(function(b){F6(a,new C6({xz:b.index}),function(){a.check("inherit"!==b.color,"FILL_COLOR_INHERIT",L0)})});b.contents.forEach(function(b,d){F6(a,new C6({content:d}),function(){switch(b.type){case "text":a.check(null!=b.top,"TOP_REQUIRED",L0);a.check(null!=b.left,"LEFT_REQUIRED",L0);a.check(null!=b.lineHeight,"LINE_HEIGHT_REQUIRED",L0);G6(a,b);break;case "image":H6(a,b)}})})}
function pda(a,b){b.contents.forEach(function(b,d){F6(a,new C6({content:d}),function(){null!=b.ba&&null!=b.ca&&I6(a,b.ba,b.ca);a.check(!b.filter,"HAS_FILTER",M0)})})}function I6(a,b,c){null!=b&&null!=c&&a.media.find(function(a){return a.id===b&&a.version===c})||a.error("MEDIA_NOT_RESOLVED")}function F6(a,b,c){a.context.push(b);c();a.context.pop()}E6.prototype.error=function(a){J6(this,a,L0)};function J6(a,b,c){a.Ew.push(new D6({context:lda(a.context),level:c,type:b}))}
E6.prototype.check=function(a,b,c){if(a)return!0;J6(this,b,c);return!1};function K6(){}K6=Backbone.View.extend({className:"teamBillingSignup"});f=K6.prototype;f.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
f.initialize=function(a){this.compact=a.compact;this.Ri=a.Ri;this.qw=a.qw;this.listenTo(this.qw,"selectPlan",this.trigger.bind(this,"selectPlan"));this.S7=L6.v1(Ic(a.i));this.se=a.se;this.i=a.i;this.Pf=dd(a.i)};
f.render=function(){var a=moment().add(this.se,"days").format("LL"),b;b=this.i;b.xk||(b.xk=new lf(b.config));b=b.xk;this.$el.html(qda({compact:this.compact,claim:this.Pf.Nx(this.se),gE:mf(b),hE:nf(b,a),iE:of(b),Ku:this.Pf.Ku(),Cv:this.Pf.Cv(),Fw:this.Pf.Fw(),xx:this.Pf.xx()}).toString());this.compact||this.S7.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.qw.render().$el.appendTo(this.$(".teamBillingPriceOptions"));this.Ri.render();this.$(".teamBillingCreditCardContainer").prepend(this.Ri.$el);
return this};f.IH=function(){this.qw.IH()};f.qe=function(a){this.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(a)};f.mx=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function M6(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}f.mg=function(a){this.$el.toggleClass("enabled",a)};f.lQ=function(a){this.qw.lQ(a)};f.bQ=function(a){this.$(".teamBillingClaim").text(a)};function N6(a){this.l=a.l;this.aa=a.aa;this.X=a.X;this.D=a.D;this.MA=null;this.AW=!1;this.td=null;this.qd=a.qd;this.listenTo(this.qd,{input:this.d5,requestSubmit:this.Hl});this.cp=a.cp;this.Nw=null;this.px=a.px;this.ha=a.ha||null;this.i=a.i;this.view=a.view;this.listenTo(this.view,{selectPlan:this.e$,retry:this.m6,revert:this.o6,submit:this.Hl})}f=N6.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;function O6(a,b){return K5(b)-K5(a)}f.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.IH();M6(this.view,!1);this.qd.refresh()};f.remove=function(){this.stopListening();this.qd.remove();this.view.remove()};f.mg=function(a){this.view.mg(a)};function rda(a,b){b=L5(b.sort(O6),Ic(a.i));a.view.lQ(b)}f.bQ=function(a){this.view.bQ(a)};
function P6(a){var b=a.D.u();a.mg(!1);(function(){return a.ha?P.resolve(a.ha):a.aa.Ez(b).catch(Uk,function(){return null})})().bind(a).then(function(a){a&&a.Oh&&(this.td=a.Oh,this.qd.Sw(this.cp).pk(this.td))}).catch(function(){var a=this.view;a.$el.html(sda({iu:a.Pf.iu(),Jx:a.Pf.Jx()}).toString())}).finally(function(){this.mg(!0)})}function tda(a){var b=Dx(new Ax).yi(a.D.u());a.X.Yr(b).bind(a).then(function(a){this.MA=a.getCount();this.mx()}).catch(function(){this.AW=!0;this.mx()})}
f.mx=function(){Fa(null!=this.Nw,"A plan must be selected");var a=dd(this.i);if(this.AW)a=this.view,a.$(".teamBillingTotalText").text(a.Pf.format("teamBillingSignupTotalPriceError"));else if(null!==this.MA)if(1===this.MA)this.view.mx();else{var b=this.Nw.fa*this.MA;if("YEARLY"===this.Nw.vj)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.Nw.vj)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.dm(this.MA,b);this.view.mx(a)}};
f.d5=function(a){this.td&&M6(this.view,a)};f.m6=function(){P6(this)};f.o6=function(){this.td&&(this.qd.pk(this.td),M6(this.view,!1))};
f.Hl=function(){this.mg(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.qd.$U().bind(this).then(function(){this.l.track("submitted_credit_card",{location:"upgrade_dialog"})}).then(function(){if(!this.px)return Dj(this.aa,new mj({D:this.D.u(),ik:this.Nw.id}))}).then(function(a){this.trigger("signup",a)}).catch(uj,function(a){this.l.track("upgrade_onboarding_card_error",{message:a.message});a=DT(bd(this.i),a);this.view.qe(a)}).catch(function(){this.view.qe("An error occured while trying to subscribe")}).finally(function(){this.mg(!0)});
this.l.track("upgrade_onboarding_card_submit")};f.e$=function(a){this.Nw=a;this.mx()};function sda(a){soy.asserts.assertType(goog.isString(a.iu)||a.iu instanceof goog.soy.data.SanitizedContent,"billingError",a.iu,"string|goog.soy.data.SanitizedContent");var b=a.iu;soy.asserts.assertType(goog.isString(a.Jx)||a.Jx instanceof goog.soy.data.SanitizedContent,"tryAgain",a.Jx,"string|goog.soy.data.SanitizedContent");a=a.Jx;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function qda(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.gE)||a.gE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.gE,"string|goog.soy.data.SanitizedContent");var c=a.gE;soy.asserts.assertType(goog.isString(a.hE)||a.hE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.hE,"string|goog.soy.data.SanitizedContent");
var d=a.hE;soy.asserts.assertType(goog.isString(a.iE)||a.iE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.iE,"string|goog.soy.data.SanitizedContent");var e=a.iE;soy.asserts.assertType(goog.isString(a.xx)||a.xx instanceof goog.soy.data.SanitizedContent,"startTrial",a.xx,"string|goog.soy.data.SanitizedContent");var g=a.xx;soy.asserts.assertType(goog.isString(a.Fw)||a.Fw instanceof goog.soy.data.SanitizedContent,"revertCard",a.Fw,"string|goog.soy.data.SanitizedContent");var h=
a.Fw;soy.asserts.assertType(goog.isString(a.Ku)||a.Ku instanceof goog.soy.data.SanitizedContent,"encryption",a.Ku,"string|goog.soy.data.SanitizedContent");var k=a.Ku;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var l=!!a.compact;soy.asserts.assertType(goog.isString(a.Cv)||a.Cv instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.Cv,"string|goog.soy.data.SanitizedContent");a=a.Cv;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2 class\x3d"teamBillingClaim"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(e)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e\x3c/div\x3e"+(l?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function L6(){}L6=Backbone.View.extend({tagName:"ul",className:"textIconList"});L6.prototype.initialize=function(a){this.items=a.items};
L6.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.Wp)||1===a.Wp||0===a.Wp,"isHtml",a.Wp,"boolean");var d=!!a.Wp;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem"'+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
L6.v1=function(a){return new L6({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",Wp:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",Wp:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",Wp:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",Wp:!1}]})};function Q6(){}Q6=Backbone.View.extend({className:"promotion"});Q6.prototype.initialize=function(a){this.model=a.model};Q6.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next")}}};
Q6.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.tb instanceof soydata.SanitizedHtml||a.tb instanceof soydata.UnsanitizedText||goog.isString(a.tb),"headingHtml",a.tb,"soydata.SanitizedHtml");var b=a.tb;soy.asserts.assertType(goog.isString(a.xc)||a.xc instanceof goog.soy.data.SanitizedContent,"imageUrl",a.xc,"string|goog.soy.data.SanitizedContent");var c=a.xc;soy.asserts.assertType(goog.isString(a.qf)||a.qf instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.qf,"string|goog.soy.data.SanitizedContent");
var d=a.qf;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var e=a.body;soy.asserts.assertType(null==a.QF||a.QF instanceof goog.soy.data.SanitizedContent||goog.isString(a.QF),"imageAlt",a.QF,"null|string|undefined");var g=a.QF;soy.asserts.assertType(null==a.Hi||goog.isArray(a.Hi),"benefitList",a.Hi,"?Array\x3cstring\x3e|undefined");var h=a.Hi,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(e?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(h?uda(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+d_({v:"upgradeDialogFeaturePromo__button",text:d})+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);
return this};function R6(a){var b=this;Backbone.View.call(this,{className:"promotion",events:{"click .upgradeDialogPlanCompare__infoButton":function(a){return vda(b,a)}}});this.be=a.be;this.model=a.model}t(R6,Backbone.View);function vda(a,b){var c=parseInt(b.currentTarget.dataset.plantype,10);(b=a.model.DJ.find(function(a){return a.Dq===c}))||(b=a.model.DJ[0]);rda(a.be,b.jk);a.be.bQ(b.claim);a.trigger("next",b.Dq)}
R6.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.dA instanceof soydata.SanitizedHtml||a.dA instanceof soydata.UnsanitizedText||goog.isString(a.dA),"headerHtml",a.dA,"soydata.SanitizedHtml");var b=a.dA,c=goog.asserts.assertArray(a.DJ,"expected parameter 'bundles' of type list\x3c[buttonClass: string, buttonLabel: string, features: list\x3c[enabled: bool, name: string]\x3e, heading: string, imageUrl: string, planType: float|int, preferred: bool, price: string]\x3e.");soy.asserts.assertType(goog.isString(a.Qn)||
a.Qn instanceof goog.soy.data.SanitizedContent,"perUserMonthText",a.Qn,"string|goog.soy.data.SanitizedContent");var d=a.Qn;soy.asserts.assertType(goog.isString(a.Sm)||a.Sm instanceof goog.soy.data.SanitizedContent,"footerText",a.Sm,"string|goog.soy.data.SanitizedContent");for(var a=a.Sm,e='\x3cdiv class\x3d"upgradeDialogPlanCompare promoBody"\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__bundles"\x3e',b=c.length,
g=0;g<b;g++){var h;h=soy.$$assignDefaults({Qn:d,Sm:a},c[g]);soy.asserts.assertType(goog.isBoolean(h.mw)||1===h.mw||0===h.mw,"preferred",h.mw,"boolean");var k=!!h.mw;soy.asserts.assertType(goog.isString(h.heading)||h.heading instanceof goog.soy.data.SanitizedContent,"heading",h.heading,"string|goog.soy.data.SanitizedContent");var l=h.heading;soy.asserts.assertType(goog.isString(h.Qn)||h.Qn instanceof goog.soy.data.SanitizedContent,"perUserMonthText",h.Qn,"string|goog.soy.data.SanitizedContent");var m=
h.Qn;soy.asserts.assertType(goog.isString(h.fa)||h.fa instanceof goog.soy.data.SanitizedContent,"price",h.fa,"string|goog.soy.data.SanitizedContent");var n=h.fa;soy.asserts.assertType(goog.isString(h.xc)||h.xc instanceof goog.soy.data.SanitizedContent,"imageUrl",h.xc,"string|goog.soy.data.SanitizedContent");var p=h.xc;goog.asserts.assertArray(h.W,"expected parameter 'features' of type list\x3c[enabled: bool, name: string]\x3e.");soy.asserts.assertType(goog.isString(h.qf)||h.qf instanceof goog.soy.data.SanitizedContent,
"buttonLabel",h.qf,"string|goog.soy.data.SanitizedContent");var q=h.qf;soy.asserts.assertType(goog.isString(h.vy)||h.vy instanceof goog.soy.data.SanitizedContent,"buttonClass",h.vy,"string|goog.soy.data.SanitizedContent");var u=h.vy;soy.asserts.assertType(goog.isString(h.Sm)||h.Sm instanceof goog.soy.data.SanitizedContent,"footerText",h.Sm,"string|goog.soy.data.SanitizedContent");var v=h.Sm;soy.asserts.assertType(goog.isNumber(h.Dq),"planType",h.Dq,"number");var z=h.Dq;h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogPlanCompare__bundleInfo"\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__header '+
(k?"upgradeDialogPlanCompare__header--preferred":"")+'"\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__headerTop"\x3e\x3cimg class\x3d"upgradeDialogPlanCompare__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(p))+' /\x3e\x3ch3 class\x3d"upgradeDialogPlanCompare__headerText"\x3e'+soy.$$escapeHtml(l)+'\x3c/h3\x3e\x3cspan class\x3d"upgradeDialogPlanCompare__price"\x3e\x3csup class\x3d"upgradeDialogPlanCompare__priceSymbol"\x3e$\x3c/sup\x3e'+soy.$$escapeHtml(n)+'\x3c/span\x3e\x3cspan class\x3d"upgradeDialogPlanCompare__disclaimer"\x3e'+
soy.$$escapeHtml(m)+'\x3csup class\x3d"upgradeDialogPlanCompare__disclaimerAsterisk"\x3e*\x3c/sup\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__headerBottom'+(k?"--preferred":"")+'"\x3e\x3c/div\x3e\x3cdiv upgradeDialogPlanCompare__bundles\x3e'+wda(h)+'\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__infoButton" data-plantype\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e'+d_({v:u,text:q})+'\x3c/div\x3e\x3cdiv class\x3d"upgradeDialogPlanCompare__footer"\x3e*'+
soy.$$escapeHtml(v)+"\x3c/div\x3e\x3c/div\x3e");e+=h}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(e+"\x3c/div\x3e\x3c/div\x3e").toString();this.$el.html(c);return this};function S6(a){this.be=a.be;this.ox=void 0;this.Db=null;this.se=a.se||0;this.Ni=void 0===a.Ni||a.Ni;this.Br=void 0===a.Br||a.Br;this.Me=void 0===a.Me||a.Me;this.l=a.l;this.q2=_.once(function(){P6(a.be);tda(a.be)});this.be.once("signup",this.u6.bind(this));this.da=a.zy;this.Pf=a.Pf;this.Ki=a.Ki;this.gH=a.gH;this.jk=a.jk;this.Dq=a.Sp}var AR=0,kY=1,Ro=2,v_=3,fX=4,Po=8,pM=9,BN=10,oM=11;
function P0(a){var b=NU({uj:a.aa,D:a.D.u(),gf:a.fb,Ve:!0,Xa:bd(a.i),l:a.l}),c=a.jk,d=c.has(a.Sp)&&c.get(a.Sp).length?c.get(a.Sp)[0].se:30,e=a.l,g=a.aa,h=a.X,k=a.D,l=b.Ab,m=a.cp,n=a.px,p=a.i,b=b.view,q=a.i,c=c.get(a.Sp),c=L5(c.sort(O6),Ic(q)),c=new M5({Jb:c}),b=new K6({compact:!0,Ri:b,qw:c,i:q,se:d}),e=new N6({l:e,aa:g,X:h,D:k,qd:l,cp:m,px:n,i:p,view:b});return new S6({gH:"/brand/onboarding/upgrader",l:a.l,Br:a.Br,Ni:a.Ni,zy:Ic(a.i),Pf:dd(a.i),Me:a.Me,se:d,be:e,Ki:a.Ki,jk:a.jk,Sp:a.Sp})}f=S6.prototype;
f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.remove=function(){this.Db&&this.Db.remove()};
f.show=function(a){var b=this;if(this.Ki){var c=xda(this,this.be,a||7);c.on("next",function(c){var e=c||b.Dq,e=/\/design\//.test(location.pathname)?ym("editor",a,e):ym("homepage",a,e);b.ox&&1===c&&b.ox.$el.find(".upgradeDialogQuotes").addClass("upgradeDialogQuotes--hidden");b.l.wa(e)});this.ox=new Backbone.View({className:"upgradeDialogSignup"});this.Db=new Ty({cF:["upgradeDialog"],Ni:this.Ni,Me:this.Me,O:[c,this.ox]});this.Db.on("hide",function(){b.Db.remove();b.Db=null;b.be.remove();b.trigger("hide")});
this.q2();this.Db.show();T6(this);this.be.appendTo(this.ox.$el);this.ox.$el.append(yda({sG:this.da.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),rG:this.da.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),DE:this.da.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),CE:this.da.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),pI:this.da.format("canvaForWorkUpgradeQuoteTravisBernardContent"),oI:this.da.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else zda(this)};
function zda(a){var b=new U6({da:a.da});a.Db=new Ty({cF:["upgradeDialog"],Ni:a.Ni,Me:a.Me,O:[b]});a.Db.on("hide",function(){a.Db.remove();a.Db=null;a.trigger("hide")});a.Db.show();T6(a)}f.u6=function(){this.Br&&this.Db&&this.Db.remove();this.trigger("signup")};function T6(a){/\/design\//.test(location.pathname)?a.l&&a.l.wa(um(a.Ki)):a.l&&a.l.wa(sm(a.Ki))}
function xda(a,b,c){var d=a.da.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new Q6({be:b,model:{qf:d,tb:a.da.Qa("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:xe(a.da),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",Hi:[Ce(a.da),Be(a.da),ze(a.da),Ae(a.da)]}});case Ro:return new Q6({be:b,model:{qf:d,tb:a.da.Qa("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:xe(a.da),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",Hi:[Ce(a.da),Be(a.da),ye(a.da),
Ae(a.da)]}});case fX:return new Q6({be:b,model:{qf:d,tb:a.da.Qa("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:xe(a.da),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",Hi:[Ce(a.da),Be(a.da),ze(a.da),Ae(a.da)]}});case v_:return new Q6({be:b,model:{qf:d,tb:a.da.Qa("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:xe(a.da),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",Hi:[Ce(a.da),Be(a.da),ze(a.da),Ae(a.da)]}});case 6:return new Q6({be:b,model:{qf:d,
tb:a.da.Qa("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),body:xe(a.da),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",Hi:[Ce(a.da),Be(a.da),ze(a.da),Ae(a.da)]}});case Po:return new Q6({be:b,model:{qf:d,tb:a.da.Qa("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:xe(a.da),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Hi:[Ce(a.da),Be(a.da),ze(a.da),Ae(a.da)]}});case pM:return new Q6({be:b,model:{qf:d,tb:Ce(a.da),body:xe(a.da),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",
Hi:[Be(a.da),ye(a.da),ze(a.da),Ae(a.da)]}});case BN:case oM:return new R6({be:b,model:{dA:c===BN?a.da.format("canvaForWorkBundleHeaderFreeImage"):a.da.format("canvaForWorkBundleHeaderUpgrade"),Qn:a.da.format("canvaForWorkBundlePerUserMonth"),DJ:[{heading:a.da.format("canvaForWorkBundleImagesProHeading"),claim:a.Pf.format("teamBillingSignupUpgradeImagesPro",a.se),qf:Ke(a.da),vy:"upgradeDialogPlanCompare__imagesProButton",Dq:1,jk:a.jk.get(1),mw:!1,fa:"4.95",xc:"https://static.canva.com/static/images/icon_image_bundle.svg",
W:[{name:Ee(a.da),enabled:!0},{name:De(a.da),enabled:!0},{name:Fe(a.da),enabled:!0},{name:Ge(a.da),enabled:!1},{name:He(a.da),enabled:!1},{name:Ie(a.da),enabled:!1},{name:Je(a.da),enabled:!1}]},{heading:a.da.format("canvaForWorkBundleC4WHeading"),claim:a.Pf.Nx(a.se),qf:Ke(a.da),vy:"upgradeDialogPlanCompare__C4WButton",Dq:Q0,jk:a.jk.get(Q0),mw:!0,fa:"9.95",xc:"https://static.canva.com/static/images/icon_c4w_bundle_crown.svg",W:[{name:Ee(a.da),enabled:!0},{name:De(a.da),enabled:!0},{name:Fe(a.da),enabled:!0},{name:Ge(a.da),
enabled:!0},{name:He(a.da),enabled:!0},{name:Ie(a.da),enabled:!0},{name:Je(a.da),enabled:!0}]}],Sm:a.da.format("canvaForWorkBundleFootNote")}});case AR:case kY:case 7:return new Q6({be:b,model:{qf:d,tb:a.da.Qa("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.da.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),xc:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",Hi:[Ce(a.da),Be(a.da),ze(a.da),Ae(a.da)]}});default:throw Error("Not a recognised feature: "+c);}};function U6(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.da=a.da}t(U6,Backbone.View);U6.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};U6.prototype.render=function(){this.$el.html(Ada({FC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.da.format("canvaForWorkUpgradeMemberTitleHtml")),Pv:this.da.Pv(),tq:this.da.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function Ada(a){soy.asserts.assertType(a.FC instanceof soydata.SanitizedHtml||a.FC instanceof soydata.UnsanitizedText||goog.isString(a.FC),"titleHtml",a.FC,"soydata.SanitizedHtml");var b=a.FC;soy.asserts.assertType(goog.isString(a.Pv)||a.Pv instanceof goog.soy.data.SanitizedContent,"memberLabel",a.Pv,"string|goog.soy.data.SanitizedContent");var c=a.Pv;soy.asserts.assertType(goog.isString(a.tq)||a.tq instanceof goog.soy.data.SanitizedContent,"okButton",a.tq,"string|goog.soy.data.SanitizedContent");
a=a.tq;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+d_({v:"upgradeDialogMember__button",text:a}))}
function uda(a){a=goog.asserts.assertArray(a.Hi,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+wX({ya:"upgradeDialogFeaturePromoBenefit__icon"})+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function yda(a){soy.asserts.assertType(goog.isString(a.sG)||a.sG instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.sG,"string|goog.soy.data.SanitizedContent");var b=a.sG;soy.asserts.assertType(goog.isString(a.rG)||a.rG instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.rG,"string|goog.soy.data.SanitizedContent");var c=a.rG;soy.asserts.assertType(goog.isString(a.DE)||a.DE instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.DE,"string|goog.soy.data.SanitizedContent");
var d=a.DE;soy.asserts.assertType(goog.isString(a.CE)||a.CE instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.CE,"string|goog.soy.data.SanitizedContent");var e=a.CE;soy.asserts.assertType(goog.isString(a.pI)||a.pI instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.pI,"string|goog.soy.data.SanitizedContent");var g=a.pI;soy.asserts.assertType(goog.isString(a.oI)||a.oI instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.oI,"string|goog.soy.data.SanitizedContent");
a=a.oI;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(e)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")}
function wda(a){a=goog.asserts.assertArray(a.W,"expected parameter 'features' of type list\x3c[enabled: bool, name: string]\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogPlanCompare__features"\x3e',c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3cli class\x3d"upgradeDialogPlanCompare__feature"\x3e'+(e.enabled?'\x3cspan class\x3d"upgradeDialogPlanCompare__featureText"\x3e'+soy.$$escapeHtml(e.name)+"\x3c/span\x3e":'\x3cspan class\x3d"upgradeDialogPlanCompare__featureText--disabled"\x3e'+
soy.$$escapeHtml(e.name)+"\x3c/span\x3e")+"\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};$(function(a,b){function c(){J&&ub?(ub.Ov(J.serialize()),setInterval(function(){J&&ub&&$t(ub,J.serialize())&&J.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){var a=new P4,b=l.rg.get("branchToken",null),c=null;b&&(c=new y5({Bo:b}));b=new s5({user:Ox(m),profiles:Cb,sa:N});return t0(l,{config:l,Pk:Lb,W:Ib,l:U,document:J,getSession:function(){return ub},Ia:m,kc:$b,aa:yb,rd:zb,fb:ea,X:Cb,Ra:xb,Ui:Q,yba:Db,cc:Eb,dc:L,ub:G,La:O,af:vb,i:Kb,G:ol,ld:sa,G9:Oa,sa:N,Xb:da,gu:k,Ki:r,cp:x,mo:a,H:u,vc:c,
pd:b})}function e(a){var b=a.font;return b&&(a=yA(Jb,b.family||""))?{fontFamily:a.family,fontSize:b.Kp(),bold:b.bold,italic:b.italic}:null}function g(a){return function(b){return b.getName()===a}}function h(){var a=J,b=Ab.id,c,d;try{d=a.serialize()}catch(e){E.log("Failed DocumentContent serialization",{error:e});return}try{c=Gr(d)}catch(e){U&&dm(b,!1,!1,"DESERIALIZATION_FAILED");E.log("Failed DocumentContentProto deserialization",{error:e});return}try{var g=[],h=window.mediaMap;Object.keys(h).forEach(function(a){Object.keys(h[a]).forEach(function(b){g.push({id:a,
version:Number(b)})})});var k=K0(c,g),l=k.some(function(a){return a.level===L0}),m=k.some(function(a){return a.level===M0});l?U&&dm(b,!1,m,"DOCUMENT_CHECK_FAILED"):U&&dm(b,!0,m)}catch(e){U&&dm(b,!1,!1,"UNKNOWN_EXCEPTION_THROWN"),E.log("Failed document check",{error:e})}}var k=window.availableLocales||{},l=new rh(b||window.viewConfig),m=Kx(),n=Ox(m).GC(),p=Nx(m).yp(),q=l.Ez();$("body").toggleClass("highDpi",R.aS);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");Kb=new jc;var u=Mf();Ib=new Nf(u);
EN&&$("html").addClass("touch");Bda();Cda();b=window.csrfTokens;var v=new Jk(window.httpServiceConfig);Gb=v;var z=vl(new bl(v));a=new ql("canva.editor.load",z.Lh,z,z.d7);a.wa("init-start");Eg=new eI({config:new qI,N:Gb,qW:new $H});Eg.init().then(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",!1)});U=nm();var r=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),x=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),I=Ho({H:u,Rk:n});
Lb=new No({l:U,W:Ib,sa:Vo(n),Ag:I,lK:function(){var a=O0(sa),b=Nx(m).ia();return P0({aa:yb,X:Cb,l:U,D:b,jk:a,Sp:Q0,fb:ea,px:!1,Br:!1,Ki:r,cp:x,i:Kb,H:u,Ia:m,W:Ib})}});var E=WD();xb=rq(E);zb=new gw(Gb);yb=new sj(Gb);$b=new OJ;Db=new Ix;Eb=new Rx;Bb=new wE(Gb);vb=new gL(window.mediaMap,Bb);wb=new gL(window.fontMediaMap,Bb);Fb=new EL(Gb,Bb,$b,vb,new NL,new CL(2),z,ml);Cb=new tw(Gb);var L=new Ux(Gb),G=new pE(Gb),O=new V6(Gb),Q=new qu(v),N=null;try{N=Io()}catch(Qb){}var ea=ET(),da=new TY({X:Cb,i:Kb,Mk:[PM,
"contextTipRoyaltyFreePaymentOption"],aE:function(a){return SY({key:a,i:nd(Kb),Ye:$(document),Qe:$("body")})},root:$("body")}),sa=new Vca,Oa=new k6({OF:Gb,X:Cb,qL:Ib.H.get(Xf)});bc=window.localStorage?new mo(window.localStorage,Ox(m).u()):new mo;Jb=new mJ(kJ,{ac:Bb,EI:window.WebFont,af:wb,G:ol,locale:window.cmsg.localePrecedence[0]||window.cmsg.fallback});Jb.on("fontLoadFailed",function(a){a&&U.track("font_load_failed",{font_name:a})});Ib.H.get(Vf)&&sJ();window.scrollTo(0,0);var ia=function(){var a=
Nx(m).yp();return(a=a&&a.DC)&&a[0]?a[0].EC||[]:[]}(),ja={};EJ(Jb,ia,function(){var a=Dda(ia);Ib.H.get(Vf)&&0<a.length&&(Jb.fP=a,ja={title:ia.filter(g("title")).map(e)[0],subtitle:ia.filter(g("subtitle")).map(e)[0],body:ia.filter(g("body")).map(e)[0]},Object.keys(ja).forEach(function(a){ja[a]||delete ja[a]}))});var Da=window.csession,Ab=window.cdoc,v=Ou(window.cdocType);if(Ab){(new zp({mp:Zo(),Vc:Lb,Ag:I,Xb:da,X:Cb,W:Ib,H:u,i:Kb,l:U,Ie:T,sa:N,Rk:n,uu:gz,ub:G,fb:ea,Ia:m,ha:q})).go(Ab,v,l,p,d,a);window.history.replaceState("",
document.title,window.location.pathname+window.location.search);var Hb=GO(Da,Ab,U);setTimeout(c,15E3);var rc=Ab.id,ke=Date.now(),n=window.CANVA_EMBED,Dd=b.session;b=!!navigator.sendBeacon;p=new Sz({N:Gb,sO:ke,ye:rc,oa:Hb,jL:n,WQ:Fb,vJ:b,cL:Dd});$(window).resize(Iz).on("beforeunload",p.MP.bind(p)).on("offline",Eda).on("online",Fda);if(!n&&b){var ff=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");$(window).on("unload",function(){var a=Math.floor((Date.now()-ke)/1E3)+"",
a=JSON.stringify({docId:rc,session:Da,durationSecs:a,syncMetrics:Hb.pZ.serialize(),csrfToken:Dd});navigator.sendBeacon(ff+"/session/editor/"+encodeURIComponent(rc)+"?close",a)})}}Iz();window.CANVA_EMBED&&ada(l,Q,O,L,G,sa,u);cc=new co($("#canvaDocument"));cc.render();U&&Ab&&Vl(Ab.id,Ab.designType);if(U&&.1>Math.random())T.on("documentRendered",function(){h()});a.wa("init-end")});
function Dda(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){a=a.getName();b=b.getName();return c[a]-c[b]||a.localeCompare(b)}}(["title","subtitle","body"])).map(function(a){var c;a.font&&(c=a.font.family);return yA(Jb,c||"")}).filter(Boolean)}function Cda(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}
function Hz(a){Mb||(Mb=new s6(Ib.H.get(gg)),Mb.on("open",function(){T.trigger("pausePresentationOnExit",!0)}),Mb.on("close",function(){T.trigger("pausePresentationOnExit",!1)}));Mb.toggle(a,J.ja())}
function Bda(){function a(a){a.stopPropagation();a.preventDefault();b();$("#touchDevice").addClass("on");PN();U&&em(U,"touch_device_notice")}function b(){document.removeEventListener("touchstart",a,!0);document.removeEventListener("mousedown",b)}EN&&(document.addEventListener("touchstart",a,!0),document.addEventListener("mousedown",b))}var W6=0;function Eda(){Tb&&a1();clearTimeout(W6);W6=setTimeout(function(){SN()},12E4)}
function Fda(){if(Tb){var a=Tb;a.XM=!1;AV(a,a.Du)}clearTimeout(W6);ub.aj()||RN()};$(document).on("wheel",".disableAncestorScroll",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function Ny(a){this.G=a.G;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(X6(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.pD=""}f=Ny.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;
function X6(a){switch(a){case Oy:return"modalContentBlurAndDarken";case $y:return"modalContentDarken";case gX:return"modalContentClear";case T_:return"modalContentNone";default:throw Error();}}f.hide=function(){$("body").removeClass(this.pD).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.G.setTimeout(function(){this.element.detach()}.bind(this),300)};
f.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");pl(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",X6(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.pD+=c+" ")});$("body").addClass(this.pD)}.bind(this))};
var Oy="BLUR_AND_DARKEN",$y="DARKEN",gX="CLEAR",T_="NONE";function WD(){return"undefined"!==typeof Rollbar?new Y6:new Z6}function Y6(){}Y6.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function Z6(){}Z6.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function yW(a){soy.asserts.assertType(goog.isString(a.tt)||a.tt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.tt,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Rf)||1===a.Rf||0===a.Rf,"unlistedPrice",a.Rf,"boolean");var b=!!a.Rf;soy.asserts.assertType(null==a.sf||goog.isBoolean(a.sf)||1===a.sf||0===a.sf,"crownTag",a.sf,"boolean|null|undefined");var c=a.sf;soy.asserts.assertType(null==a.fa||a.fa instanceof goog.soy.data.SanitizedContent||goog.isString(a.fa),
"price",a.fa,"null|string|undefined");var d=a.fa;return soydata.VERY_UNSAFE.ordainSanitizedHtml((d?$6({lx:!0,Rf:b,sf:c,fa:d}):"")+Gda(a))}
function Gda(a){soy.asserts.assertType(goog.isString(a.tt)||a.tt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.tt,"string|goog.soy.data.SanitizedContent");var b=a.tt;soy.asserts.assertType(goog.isBoolean(a.Rf)||1===a.Rf||0===a.Rf,"unlistedPrice",a.Rf,"boolean");var c=!!a.Rf;soy.asserts.assertType(null==a.fa||a.fa instanceof goog.soy.data.SanitizedContent||goog.isString(a.fa),"price",a.fa,"null|string|undefined");a=a.fa;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"searchResultItem__info info"\x3e'+
(a?$6({lx:!1,Rf:c,fa:a}):"")+'\x3cspan class\x3d"moreInfo" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3ei\x3c/span\x3e\x3c/span\x3e')}
function $6(a){soy.asserts.assertType(goog.isBoolean(a.Rf)||1===a.Rf||0===a.Rf,"unlistedPrice",a.Rf,"boolean");var b=!!a.Rf;soy.asserts.assertType(goog.isBoolean(a.lx)||1===a.lx||0===a.lx,"showFreeClass",a.lx,"boolean");var c=!!a.lx;soy.asserts.assertType(null==a.sf||goog.isBoolean(a.sf)||1===a.sf||0===a.sf,"crownTag",a.sf,"boolean|null|undefined");var d=a.sf;soy.asserts.assertType(goog.isString(a.fa)||a.fa instanceof goog.soy.data.SanitizedContent,"price",a.fa,"string|goog.soy.data.SanitizedContent");
a=a.fa;c=c?"price free":"price";b=""+(b?'\x3cspan class\x3d"price poa"\x3e\x3cspan class\x3d"inner"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/span\x3e":d?PY({label:a,ya:c}):'\x3cspan class\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function PY(a){soy.asserts.assertType(null==a.ya||a.ya instanceof goog.soy.data.SanitizedContent||goog.isString(a.ya),"cssClass",a.ya,"null|string|undefined");var b=a.ya;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");a=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crownTag'+(b?" "+soy.$$escapeHtmlAttribute(b):"")+'"\x3e\x3cdiv class\x3d"crownTag__content"\x3e'+yp({ya:"crownTag__icon",
color:"#F3B600"})+'\x3cspan class\x3d"crownTag__label"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e")};function a7(a,b){this.$el=a;this.className=b}t(a7,fc);function nz(){var a=$("body");return new a7(a,"enterFullscreen")}a7.prototype.pp=function(){this.$el.addClass(this.className);var a=this.$el.get(0),b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;w(b,"browser doesn't implement Element::requestFullscreen");b.call(a)};
a7.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;w(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};function jz(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};function b7(a,b){switch(b){case "PENDING":return"PENDING";case "FAILED":return"FAILED";case "EXPORTED":return"EXPORTED";default:throw new TypeError('expected PrintExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}function c7(a){this.rj=a.rj;this.Qj=a.Qj}function Hda(a){return new c7({rj:y("widthMicrons",a),Qj:y("heightMicrons",a)})}
function d7(a){this.Ne=a.Ne;this.type=a.type;this.MC=a.MC;this.Ib=a.Ib;this.mB=a.mB;this.CO=a.CO;this.nB=a.nB;this.finish=a.finish;this.zz=a.zz;this.Nv=a.Nv;this.Zy=a.Zy;this.sX=a.sX;this.gz=a.gz;this.$z=a.$z}d7.prototype.jb=function(){return this.type};d7.prototype.Kj=function(){return this.Ib};d7.prototype.$m=function(){return this.CO};
function Ida(a){return new d7({Ne:B("sku",a),type:Qa(e7,"type",a),MC:D(f7,"typeSpec",a),Ib:Pa(Hda,"paperSize",a),mB:D(g7,"paperSizeSpec",a),CO:Qa(h7,"paperType",a),nB:D(i7,"paperTypeSpec",a),finish:Qa(j7,"finish",a),zz:D(k7,"finishSpec",a),Nv:y("maxPages",a),Zy:Ma("dimensionsFlippable",a),sX:y("paperWeight",a),gz:Ma("ecoFriendly",a),$z:Ma("hasEnvelope",a)})}
function j7(a,b){switch(b){case "GLOSS":return"GLOSS";case "SILK":return"SILK";case "MATTE":return"MATTE";case "SOFT_TOUCH":return"SOFT_TOUCH";case "UNCOATED":return"UNCOATED";default:throw new TypeError('expected PaperFinish for property "'+a+'", found: '+JSON.stringify(b));}}
function h7(a,b){switch(b){case "STANDARD":return"STANDARD";case "PREMIUM":return"PREMIUM";case "ECO_FRIENDLY":return"ECO_FRIENDLY";case "DELUXE":return"DELUXE";default:throw new TypeError('expected PaperType for property "'+a+'", found: '+JSON.stringify(b));}}
function e7(a,b){switch(b){case "POSTER":return"POSTER";case "BUSINESS_CARD":return"BUSINESS_CARD";case "POSTCARD":return"POSTCARD";case "LETTERHEAD":return"LETTERHEAD";case "FLYER":return"FLYER";case "INVITATION":return"INVITATION";default:throw new TypeError('expected PrintProductType for property "'+a+'", found: '+JSON.stringify(b));}}function Jda(a){this.MC=a.MC;this.mB=a.mB;this.nB=a.nB;this.zz=a.zz}
function Kda(a){return new Jda({MC:Pa(f7,"typeSpec",a),mB:Pa(g7,"paperSizeSpec",a),nB:Pa(i7,"paperTypeSpec",a),zz:Pa(k7,"finishSpec",a)})}function l7(a){this.eb=a.eb;this.ci=a.ci;this.currency=a.currency}l7.prototype.Mj=function(){return this.eb};function Lda(a){return new l7({eb:Qa(m7,"shippingMethod",a),ci:y("priceCents",a),currency:B("currency",a)})}function Mda(a){this.vG=a.vG;this.mG=a.mG;this.rI=a.rI;this.currency=a.currency}
function Nda(a){return new Mda({vG:y("minQuantity",a),mG:y("maxQuantity",a),rI:y("unitPriceCents",a),currency:B("currency",a)})}function V0(a){this.id=a.id;this.version=a.version}V0.prototype.u=function(){return this.id};V0.prototype.getVersion=function(){return this.version};function Oda(a){return{id:ib("id",a.id),version:db("version",a.version)}}function Pda(a){return new V0({id:B("id",a),version:y("version",a)})}function n7(a){this.HU=a.HU;this.url=a.url}n7.prototype.ma=function(){return this.url};
function Qda(a){return new n7({HU:Qa(Rda,"fileRole",a),url:B("url",a)})}function Sda(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Rda(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function o7(a){this.id=a.id;this.version=a.version;this.D=a.D;this.user=a.user;this.bf=a.bf;this.lg=a.lg;this.product=a.product;this.SX=a.SX;this.Te=a.Te;this.rf=a.rf;this.ci=a.ci;this.nH=a.nH;this.VH=a.VH;this.currency=a.currency;this.status=a.status;this.BU=a.BU;this.pB=a.pB;this.aF=a.aF;this.vX=a.vX;this.$y=a.$y;this.kd=a.kd;this.document=a.document;this.rQ=a.rQ;this.files=a.files||[];this.Ce=a.Ce;this.tX=a.tX;this.oY=a.oY;this.pY=a.pY;this.Om=a.Om;this.rS=a.rS;this.jB=a.jB||[]}f=o7.prototype;
f.u=function(){return this.id};f.getVersion=function(){return this.version};f.ia=function(){return this.D};f.va=function(){return this.user};f.Hp=function(){return this.lg};f.Gp=function(){return this.product};f.zf=function(){return this.status};f.ic=function(){return this.kd};f.getDocument=function(){return this.document};f.pc=function(){return this.files};
function p7(a){return new o7({id:B("id",a),version:y("version",a),D:B("brand",a),user:B("user",a),bf:B("region",a),lg:B("productSku",a),product:D(Ida,"product",a),SX:D(Kda,"productDescription",a),Te:y("copies",a),rf:y("creationDate",a),ci:y("priceCents",a),nH:y("productPriceCents",a),VH:y("shippingPriceCents",a),currency:B("currency",a),status:Qa(Tda,"status",a),BU:C("failureMessage",a),pB:Qa(Uda,"paymentStatus",a),aF:Qa(b7,"exportStatus",a),vX:Ra(Vda,"partnerStatus",a),$y:Ma("dimensionsFlipped",
a),kd:y("pageCount",a),document:Pa(Pda,"document",a),rQ:D(Wda,"shippingDetails",a),files:F(Qda,"files",a),Ce:C("invoice",a),tX:C("partner",a),oY:C("reprintParent",a),pY:Ra(Xda,"reprintType",a),Om:Ma("finalized",a),rS:Ma("accepted",a),jB:F(Yda,"pageSpecs",a)})}
function Tda(a,b){switch(b){case "CREATED":return"CREATED";case "PROCESSING":return"PROCESSING";case "FAILED":return"FAILED";case "SHIPPED":return"SHIPPED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintOrderStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Xda(a,b){switch(b){case "UNCHARGED":return"UNCHARGED";case "CHARGED":return"CHARGED";default:throw new TypeError('expected ReprintType for property "'+a+'", found: '+JSON.stringify(b));}}
function Zda(a,b){switch(b){case "PENDING":return"PENDING";case "SUSPENDED":return"SUSPENDED";case "APPROVED":return"APPROVED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintReviewStatus for property "'+a+'", found: '+JSON.stringify(b));}}function $da(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Uda(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Vda(a,b){switch(b){case "RECEIVED":return"RECEIVED";case "ERRORS":return"ERRORS";case "IN_PRINTING":return"IN_PRINTING";case "IN_BINDERY":return"IN_BINDERY";case "PACKAGING":return"PACKAGING";case "SHIPPING":return"SHIPPING";case "SHIPPED":return"SHIPPED";case "HOLD":return"HOLD";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PartnerStatus for property "'+a+'", found: '+JSON.stringify(b));}}function aea(a){this.SL=a.SL;this.back=a.back}
function bea(a){return{front:db("front",a.SL),back:eb("back",a.back)}}function Yda(a){return new aea({SL:y("front",a),back:A("back",a)})}function q7(a){this.Md=a.Md;this.eb=a.eb;this.uX=a.uX;this.hT=a.hT;this.CZ=a.CZ;this.DZ=a.DZ;this.yU=a.yU}q7.prototype.Mj=function(){return this.eb};function Wda(a){return new q7({Md:D(r7,"address",a),eb:Qa(m7,"shippingMethod",a),uX:C("partnerShippingMethod",a),hT:C("carrier",a),CZ:C("trackingNumber",a),DZ:C("trackingUrl",a),yU:C("facility",a)})}
function s7(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}function m7(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}
function t7(a){this.name=a.name;this.vk=a.vk;this.pj=a.pj;this.Nd=a.Nd;this.wh=a.wh;this.Cb=a.Cb;this.nf=a.nf;this.hk=a.hk}f=t7.prototype;f.getName=function(){return this.name};f.pM=function(){return this.vk};f.qM=function(){return this.pj};f.bs=function(){return this.Nd};f.Yi=function(){return this.Cb};f.sM=function(){return this.nf};f.nM=function(){return this.hk};
function u7(a){return{name:ib("name",a.name),street1:ib("street1",a.vk),street2:H("street2",a.pj),city:ib("city",a.Nd),subdivision:H("subdivision",a.wh),countryCode:ib("countryCode",a.Cb),zipCode:ib("zipCode",a.nf),phone:ib("phone",a.hk)}}function r7(a){return new t7({name:B("name",a),vk:B("street1",a),pj:C("street2",a),Nd:B("city",a),wh:C("subdivision",a),Cb:B("countryCode",a),nf:B("zipCode",a),hk:B("phone",a)})}
function v7(a){this.document=a.document;this.lg=a.lg;this.Te=a.Te;this.kd=a.kd;this.eb=a.eb;this.ec=a.ec;this.bf=a.bf;this.currency=a.currency;this.jB=a.jB||[]}f=v7.prototype;f.getDocument=function(){return this.document};f.Hp=function(){return this.lg};f.ic=function(){return this.kd};f.Mj=function(){return this.eb};f.iv=function(){return this.ec};
function cea(a){return{document:cb.required("document",Oda(a.document)),productSku:ib("productSku",a.lg),copies:db("copies",a.Te),pageCount:eb("pageCount",a.kd),shippingMethod:lb(s7,"shippingMethod",a.eb),shippingAddress:jb(u7,"shippingAddress",a.ec),region:ib("region",a.bf),currency:H("currency",a.currency),pageSpecs:kb(bea,"pageSpecs",a.jB)}}function w7(a){this.order=a.order}w7.prototype.Ym=function(){return this.order};function dea(a){return new w7({order:Pa(p7,"order",a)})}
function eea(a){return{bucket:ib("bucket",a.bucket),key:ib("key",a.key)}}function x7(a){this.id=a.id;this.version=a.version;this.pB=a.pB;this.Ce=a.Ce;this.currency=a.currency;this.Rb=a.Rb;this.eb=a.eb;this.ec=a.ec;this.lg=a.lg;this.Te=a.Te;this.Om=a.Om;this.uY=a.uY;this.MX=a.MX;this.wX=a.wX;this.action=a.action}f=x7.prototype;f.u=function(){return this.id};f.getVersion=function(){return this.version};f.Mj=function(){return this.eb};f.iv=function(){return this.ec};f.Hp=function(){return this.lg};
function fea(a){return{id:ib("id",a.id),version:eb("version",a.version),paymentStatus:mb($da,"paymentStatus",a.pB),invoice:H("invoice",a.Ce),currency:H("currency",a.currency),cancelled:hb("cancelled",a.Rb),shippingMethod:mb(s7,"shippingMethod",a.eb),shippingAddress:jb(u7,"shippingAddress",a.ec),productSku:H("productSku",a.lg),copies:eb("copies",a.Te),finalized:hb("finalized",a.Om),reviewStatus:mb(Zda,"reviewStatus",a.uY),prepressFile:jb(eea,"prepressFile",a.MX),partnerSubmit:hb("partnerSubmit",a.wX),
action:mb(gea,"action",a.action)}}function gea(a,b){switch(b){case "CANCEL":return"CANCEL";case "SUBMIT_TO_PARTNER":return"SUBMIT_TO_PARTNER";default:throw new TypeError('expected UpdateOrderAction for property "'+a+'", found: '+JSON.stringify(b));}}function y7(a){this.order=a.order}y7.prototype.Ym=function(){return this.order};function hea(a){return new y7({order:Pa(p7,"order",a)})}function z7(a){this.id=a.id;this.Jq=a.Jq||[];this.GL=a.GL||[]}z7.prototype.u=function(){return this.id};
function A7(a){this.order=a.order}A7.prototype.Ym=function(){return this.order};function iea(a){return new A7({order:Pa(p7,"order",a)})}function B7(a){this.id=a.id;this.D=a.D;this.Md=a.Md}B7.prototype.u=function(){return this.id};B7.prototype.ia=function(){return this.D};function C7(a){return new B7({id:B("id",a),D:B("brand",a),Md:Pa(r7,"address",a)})}function D7(a){this.D=a.D;this.user=a.user}D7.prototype.ia=function(){return this.D};D7.prototype.va=function(){return this.user};
function jea(a){this.kJ=a.kJ||[]}function kea(a){return new jea({kJ:F(C7,"addresses",a)})}function E7(a){this.id=a.id;this.D=a.D;this.user=a.user;this.Md=a.Md}E7.prototype.u=function(){return this.id};E7.prototype.ia=function(){return this.D};E7.prototype.va=function(){return this.user};function lea(a){this.wY=a.wY;this.Md=a.Md}function mea(a){return new lea({wY:Pa(C7,"savedAddress",a),Md:Pa(r7,"address",a)})}function F7(a){this.order=a.order;this.lj=a.lj}F7.prototype.Ym=function(){return this.order};
F7.prototype.$i=function(){return this.lj};function nea(a){return{order:ib("order",a.order),role:lb(Sda,"role",a.lj)}}function oea(a){this.xs=a.xs}function pea(a){return new oea({xs:y("jobId",a)})}function G7(a){this.order=a.order;this.xs=a.xs}G7.prototype.Ym=function(){return this.order};function H7(a){this.status=a.status;this.url=a.url}H7.prototype.zf=function(){return this.status};H7.prototype.ma=function(){return this.url};
function qea(a){return new H7({status:Qa(b7,"status",a),url:C("url",a)})}function I7(a){this.id=a.id;this.Nh=a.Nh||[]}I7.prototype.u=function(){return this.id};function rea(a){return new I7({id:B("id",a),Nh:Ha.Ke("countries",a)})}function J7(a){this.fc=a.fc}J7.prototype.Hz=function(){return this.fc};function sea(a){this.BB=a.BB||[]}function tea(a){return new sea({BB:F(rea,"regions",a)})}function uea(a){this.DO=a.DO||new Map;this.gw=a.gw||new Map;this.BO=a.BO||new Map;this.hP=a.hP||new Map}
function K7(a){return new uea({DO:Ta(i7,"paperTypes",a),gw:Ta(g7,"paperSizes",a),BO:Ta(k7,"paperFinishes",a),hP:Ta(f7,"productTypes",a)})}function L7(a){this.type=a.type;this.name=a.name}L7.prototype.jb=function(){return this.type};L7.prototype.getName=function(){return this.name};function f7(a){return new L7({type:Qa(e7,"type",a),name:B("name",a)})}function M7(a){this.type=a.type;this.weight=a.weight;this.name=a.name;this.description=a.description}M7.prototype.jb=function(){return this.type};
M7.prototype.getName=function(){return this.name};M7.prototype.wf=function(){return this.description};function i7(a){return new M7({type:Qa(h7,"type",a),weight:y("weight",a),name:B("name",a),description:B("description",a)})}function N7(a){this.rj=a.rj;this.Qj=a.Qj;this.FK=a.FK;this.DK=a.DK;this.yE=a.yE;this.name=a.name}N7.prototype.getName=function(){return this.name};
function g7(a){return new N7({rj:y("widthMicrons",a),Qj:y("heightMicrons",a),FK:y("displayWidth",a),DK:y("displayHeight",a),yE:Qa(vea,"displayUnits",a),name:C("name",a)})}function vea(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw new TypeError('expected PaperSizeUnits for property "'+a+'", found: '+JSON.stringify(b));}}function O7(a){this.finish=a.finish;this.name=a.name;this.description=a.description}O7.prototype.getName=function(){return this.name};
O7.prototype.wf=function(){return this.description};function k7(a){return new O7({finish:Qa(j7,"finish",a),name:B("name",a),description:B("description",a)})}function P7(a){this.Uc=a.Uc;this.Ib=a.Ib;this.$y=a.$y;this.doctype=a.doctype}P7.prototype.Kj=function(){return this.Ib};function wea(a){return new P7({Uc:B("productType",a),Ib:B("paperSize",a),$y:Ma("dimensionsFlipped",a),doctype:C("doctype",a)})}function Q7(a){this.fc=a.fc}Q7.prototype.Hz=function(){return this.fc};
function xea(a){this.gP=a.gP||[];this.mH=a.mH}function yea(a){return new xea({gP:F(wea,"productSizes",a),mH:Pa(K7,"productAttributes",a)})}function R7(a){this.Ne=a.Ne;this.Ge=a.Ge;this.Ib=a.Ib;this.kg=a.kg;this.Uc=a.Uc;this.gz=a.gz;this.$z=a.$z;this.Nv=a.Nv;this.Zy=a.Zy}R7.prototype.Kj=function(){return this.Ib};R7.prototype.Zm=function(){return this.kg};
function zea(a){return new R7({Ne:B("sku",a),Ge:B("paper",a),Ib:B("paperSize",a),kg:B("paperFinish",a),Uc:B("productType",a),gz:Ma("ecoFriendly",a),$z:Ma("hasEnvelope",a),Nv:y("maxPages",a),Zy:Ma("dimensionsFlippable",a)})}function Aea(a){this.Ne=a.Ne;this.Jb=a.Jb||[]}function Bea(a){return new Aea({Ne:B("sku",a),Jb:F(Nda,"prices",a)})}function S7(a){this.Yc=a.Yc||[];this.qQ=a.qQ||[]}S7.prototype.yF=function(){return this.Yc};
function Cea(a){return new S7({Yc:F(Bea,"products",a),qQ:F(Lda,"shipping",a)})}function T7(a){this.fc=a.fc;this.currency=a.currency;this.Uc=a.Uc;this.Jq=a.Jq||[]}T7.prototype.Hz=function(){return this.fc};function U7(a){this.Yc=a.Yc||[];this.bf=a.bf;this.attributes=a.attributes;this.Jb=a.Jb}U7.prototype.yF=function(){return this.Yc};function Dea(a){return new U7({Yc:F(zea,"products",a),bf:B("region",a),attributes:Pa(K7,"attributes",a),Jb:D(Cea,"prices",a)})};function Eea(a){var b=a.mb.find(function(b){return b.eb===a.eb});w(b,"ShippingPrice not available for the ShippingMethod: {}",a.eb);var c=V7(a.Jb,a.Te);return{VH:b.ci,nH:c*a.Te}}function V7(a,b){a=a.find(function(a){return a.vG<=b&&b<=a.mG});w(a,"No QuantityPrice available for the specified copies '{}'",b);return a.rI};function V6(a){this.N=a;this.path="/print"}V6.prototype.dE=function(a){return wj(this.N,this.path+"/orders",cea(a)).catch(xj).get(0).then(La).then(dea)};V6.prototype.uI=function(a){return wj(this.N,this.path+"/orders/"+a.id,fea(a)).catch(xj).get(0).then(La).then(hea)};
V6.prototype.Ym=function(a){var b=this.path+"/orders/"+a.id,c=[];0<a.Jq.length&&c.push("projection\x3d"+encodeURIComponent(a.Jq.toString()));0<a.GL.length&&c.push("fileRoles\x3d"+encodeURIComponent(a.GL.toString()));a=0<c.length?b+"?"+c.join("\x26"):b;return yj(this.N,a).catch(xj).get(0).then(La).then(iea)};
function Fea(a,b){var c=a.path+"/addresses";b=["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user)].join("\x26");return yj(a.N,c+"?"+b).catch(xj).get(0).then(La).then(kea)}function Gea(a,b){return wj(a.N,a.path+"/orders/"+b.order+"/fileimports",nea(b)).catch(xj).get(0).then(La).then(pea)}function Hea(a,b){return yj(a.N,a.path+"/orders/"+b.order+"/fileimports/"+b.xs).catch(xj).get(0).then(La).then(qea)}
function Z3(a){var b=new J7({fc:null}),b=[a.path+"/regions?",b.fc?"country\x3d"+encodeURIComponent(b.fc):""].join("");return yj(a.N,b).catch(xj).get(0).then(La).then(tea)}function Iea(a){var b=new Q7({fc:null}),b=a.path+"/products/sizes?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):""].filter(function(a){return!!a}).join("\x26");return yj(a.N,b).catch(xj).get(0).then(La).then(yea)}
function Jea(a,b){b=a.path+"/products?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):"",null!=b.currency?"currency\x3d"+encodeURIComponent(b.currency):"",null!=b.Uc?"productType\x3d"+encodeURIComponent(b.Uc):"",0<b.Jq.length?"projection\x3d"+encodeURIComponent(b.Jq.toString()):""].filter(function(a){return!!a}).join("\x26");return yj(a.N,b).catch(xj).get(0).then(La).then(Dea)};function A0(){}function M3(a){a=a.map(function(a){return Kea(a)});return P.all(a).then(function(a){return a.every(function(a){return a})})}function Kea(a){var b=a.Cp(),c=a.mr.map(function(a){return a.validate(b,void 0)});return P.all(c).then(function(b){var c=a.Bp();b=ma(b);for(var g=b.next();!g.done;g=b.next())if(g=g.value,!g.valid)return c.rk(g.message),!1;c.gg();return!0})};function z0(a){this.Pd=a.Pd}z0.prototype.validate=function(a){var b=null;255<=a.length?b=this.Pd.format("formValidatorInvalidEmailTooLong"):1>a.length?b=this.Pd.format("formValidatorInvalidEmailTooShort"):/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||(b=this.Pd.format("formValidatorInvalidEmailSyntax"));return new P(function(a){return a({valid:null==b,message:b})})};function W7(a){this.OM=a.OM}W7.prototype.validate=function(a){var b=null!==a&&void 0!==a&&("number"!==typeof a||!isNaN(a))&&("string"!==typeof a||/\S+/.test(a)),c=b?null:this.OM;return new P(function(a){return a({valid:b,message:c})})};function X7(a){this.Pd=a.Pd;this.JN=a.JN||0;this.maxLength=a.maxLength||Number.MAX_VALUE}X7.prototype.validate=function(a){var b=null;a.length<this.JN?b=this.Pd.format("formValidatorInvalidStringLengthTooShort",this.JN):a.length>this.maxLength&&(b=this.Pd.format("formValidatorInvalidStringLengthTooLong",this.maxLength));return new P(function(a){return a({valid:null==b,message:b})})};function X0(a,b,c){function d(a){var b=new Set;a.ja().forEach(function(a){if(100!==a.Da&&!(a instanceof gC)){var c=a.pa();if(a.constructor===cC)for(var d=a.dg(),e=0;e<d;e++){var g=a.an(e).clone().translate(c.F(),c.w());b.add(g)}else if(c){if(a=vC(a))if(c.translate(a.F(),a.w()),100===a.Da)return;b.add(c)}}});return b}var e=a.ib();a=function(a,b){return b.map(function(b){b=w(a.O[b],"Cannot get bounding boxes for invalid page index {}.",b);return d(b)})}(a,b);var g={g7:Zg(e.qb).width,a7:Zg(e.qb).height,
vr:function(a,b){return Zg(a.qb).width*(D_.VI/b.rj)}(e,c)};return a.every(function(a){return Lea(a,g)})}function Lea(a,b){function c(b,c){var d={origin:b,direction:[c[0]-b[0],c[1]-b[1]]};b=Array.from(a).map(function(a){return Mea(d,a)}).filter(function(a){return 2===a.length}).map(function(a){var b=a[0],c=a[1];a=(b+c)/2;b=1.04*(c-b)/2;return[a-b,a+b]});return Nea(new Set(b))}var d=-b.vr,e=b.g7+b.vr,g=b.a7+b.vr;b=-b.vr;return c([b,d],[e,d])&&c([e,d],[e,g])&&c([b,g],[e,g])&&c([b,d],[b,g])}
function Mea(a,b){var c=a.origin;a=a.direction;Ca(0===a[0]!==(0===a[1]),"axisAlignedRay must be an axis-aligned ray, but its direction vector is {}",a);if(0!==a[0]){if(c[1]<b.w()||c[1]>b.ua())return[];var d=(b.F()-c[0])/a[0];b=(b.Ya()-c[0])/a[0];return d<b?[d,b]:[b,d]}if(c[0]<b.F()||c[0]>b.Ya())return[];d=(b.w()-c[1])/a[1];b=(b.ua()-c[1])/a[1];return d<b?[d,b]:[b,d]}
function Nea(a){var b=[0,1];a=Array.from(a);a.sort(function(a,b){return a[0]-b[0]});for(var c=b[0],d=0;d<a.length;d++){var e=a[d];if(!(e[1]<c)){if(e[0]>c)break;c=e[1];if(c>=b[1])return!0}}return!1};function Y7(a){this.yy=a.yy}Y7.prototype.validate=function(a){var b=null;[/P\.?\s*O(\.|\s)\s*BOX/i,/POST\s+OFFICE\s+BOX/i].some(function(b){return b.test(a)})&&(b=this.yy);return new P(function(a){return a({valid:null==b,message:b})})};function Z7(a){TS.apply(this,arguments)}t(Z7,TS);function $7(a){return new Z7(a)}Z7.prototype.Uh=function(){return this.$el.find(".printableDoctypeOption__label").text().toString()};function Oea(a){soy.asserts.assertType(goog.isString(a.Ik)||a.Ik instanceof goog.soy.data.SanitizedContent,"cancelButtonText",a.Ik,"string|goog.soy.data.SanitizedContent");var b=a.Ik;soy.asserts.assertType(goog.isString(a.$o)||a.$o instanceof goog.soy.data.SanitizedContent,"confirmButtonText",a.$o,"string|goog.soy.data.SanitizedContent");var c=a.$o;soy.asserts.assertType(goog.isString(a.mq)||a.mq instanceof goog.soy.data.SanitizedContent,"moreInfoLinkText",a.mq,"string|goog.soy.data.SanitizedContent");
var d=a.mq;soy.asserts.assertType(goog.isString(a.Qv)||a.Qv instanceof goog.soy.data.SanitizedContent,"moreInfoLinkUrl",a.Qv,"string|goog.soy.data.SanitizedContent");var e=a.Qv;soy.asserts.assertType(a.it instanceof soydata.SanitizedHtml||a.it instanceof soydata.UnsanitizedText||goog.isString(a.it),"saveACopyMessage",a.it,"soydata.SanitizedHtml");var g=a.it;soy.asserts.assertType(goog.isBoolean(a.po)||1===a.po||0===a.po,"showCancelButton",a.po,"boolean");var h=!!a.po;soy.asserts.assertType(goog.isBoolean(a.qo)||
1===a.qo||0===a.qo,"showResizeForPrintIllustration",a.qo,"boolean");var k=!!a.qo;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var l=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var m=a.v;soy.asserts.assertType(null==a.BE||goog.isArray(a.BE),"doctypeOptions",a.BE,"?Array\x3c!soydata.SanitizedHtml|string\x3e|undefined");
var n=a.BE;soy.asserts.assertType(null==a.jp||a.jp instanceof soydata.SanitizedHtml||a.jp instanceof soydata.UnsanitizedText||goog.isString(a.jp),"doctypeSelectContent",a.jp,"?soydata.SanitizedHtml|string|undefined");a=a.jp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"updateDoctype'+(m?" "+soy.$$escapeHtmlAttribute(m):"")+'"\x3e'+(k?'\x3cdiv class\x3d"updateDoctype__image"\x3e\x3c/div\x3e':"")+"\x3ch2 class\x3d'updateDoctype__title'\x3e"+soy.$$escapeHtml(l)+"\x3c/h2\x3e\x3cdiv\x3e"+
(n&&a?BS({v:"updateDoctype__printableDoctypeSelect",Qq:a,options:n}):"")+"\x3c/div\x3e\x3cp class\x3d'updateDoctype__error'\x3e\x3c/p\x3e\x3cdiv class\x3d\"updateDoctype__buttons\"\x3e"+(h?d_({v:"updateDoctype__buttonCancel buttonSecondary",text:b}):"")+d_({v:"updateDoctype__buttonConfirm buttonSubmittable",text:c})+'\x3c/div\x3e\x3cp class\x3d"updateDoctype__saveNote"\x3e'+soy.$$escapeHtml(g)+' \x3ca target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e))+'" class\x3d"updateDoctype__moreInfoLink"\x3e'+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e")};function a8(a,b){var c=this;gc.call(this,a);a.on("click",".updateDoctype__buttonConfirm",function(){c.trigger(b8)});a.on("click",".updateDoctype__buttonCancel",function(){c.trigger(c8)});this.O7=b}t(a8,gc);
function Pea(a){var b=a.P7.map(function(a){var b=$;soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var e=a.description;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var g=a.label;
soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option printableDoctypeOption '+(h?" listbox__option--selected":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(a.value)+
'"\x3e\x3cdiv class\x3d"printableDoctypeOption__content"\x3e\x3cdiv class\x3d"printableDoctypeOption__label"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"printableDoctypeOption__description"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(a.toString());return LS($7(b))});a=$(Oea({BE:b,Ik:a.Ik,$o:a.$o,jp:a.jp,mq:a.mq,Qv:a.Qv,it:a.it,po:a.po,qo:a.qo,title:a.title}).toString());return Qea(a)}
function Qea(a){var b=IS(a.find(".updateDoctype__printableDoctypeSelect"),{Gh:$7});return new a8(a,b)}function d8(a,b){a.$el.find(".updateDoctype__buttonConfirm").toggleClass("submitting",b)}a8.prototype.rk=function(a){var b=this.$el.find(".updateDoctype__error");b.html(a.toString());pl(function(){b.addClass("updateDoctype__error--visible")})};a8.prototype.gg=function(){this.$el.find(".updateDoctype__error").removeClass("updateDoctype__error--visible")};var c8="CANCEL",b8="CONFIRM";function e8(a,b){var c=this;this.view=b;this.l=a.l;this.tg=a.tg;this.ep=a.ep;this.Ra=a.Ra;this.bz=a.bz;this.kp=a.kp;this.i=a.i;this.oe=a.oe;this.Iq=a.Iq;this.Ms=a.Ms;this.eP=a.eP;b.on(c8,function(){return c.AG()});b.on(b8,function(){return Rea(c)})}
function Sea(a){var b=a.Iq.map(function(b,c){return{label:b.Uc.name,description:f8(a.oe,b.Ib),value:""+c,selected:0===c}}),b=Pea({Ik:a.i.Ik(),$o:a.i.format("updateDoctypeUpdateFormatButtonText"),P7:b,mq:a.i.mq(),Qv:"https://support.canva.com/canva-print/preparing-your-design-for-print/resizing-for-print/",it:a.i.Qa("updateDoctypeSaveACopyMessageHtml"),po:a.po,qo:a.qo,title:a.i.format("updateDoctypeChoosePrintFormat"),jp:b&&b[0]?b[0].label:void 0}),c=new VS(b.O7);return{Ab:Tea({l:a.l,tg:a.tg,ep:a.ep,
bz:a.bz,Ra:a.Ra,kp:a.kp,i:a.i,Ms:a.Ms,Iq:a.Iq,eP:c,oe:a.oe},b),view:b}}function Tea(a,b){return new e8(a,b)}e8.prototype.AG=function(){var a=this.ep,b=this.tg,a=X(X(X(new fm("print_resize_cancelled"),"section","editor"),"location",b),"template",a);this.l.wa(a)};
function Rea(a){var b=parseInt(a.eP.qc(),10),c=a.Iq[b],d=c.ee;a.view.gg();d8(a.view,!0);Uea(a,d);return Vea(a).then(function(){return a.Ms(c)}).then(function(){var b=a.ep,c=a.tg,b=X(X(X(X(new fm("print_resize_succeeded"),"section","editor"),"location",c),"template",b),"target_template",d);a.l.wa(b)}).then(function(){}).catch(function(){a.view.rk(a.i.Qa("updateDoctypeBackupErrorHtml","https://support.canva.com/troubleshooting"))}).catch(function(){var b=a.ep,c=a.tg,b=X(X(X(X(new fm("print_resize_failed"),
"section","editor"),"location",c),"template",b),"target_template",d);a.l.wa(b);a.view.rk(a.i.Qa("updateDoctypeResizeErrorHtml","https://support.canva.com/troubleshooting"))}).finally(function(){return d8(a.view,!1)})}function Vea(a){var b=a.i.format("updateDoctypeOriginalSizeDesignName",a.kp).substr(0,255),b=new pt({id:a.bz.u(),title:b});return a.Ra.duplicate(b).catch(function(){throw new g8;})}
function Uea(a,b){var c=a.ep,d=a.tg;b=X(X(X(X(new fm("print_resize_button_clicked"),"section","editor"),"location",d),"template",c),"target_template",b);a.l.wa(b)}function g8(){}t(g8,Error);function Y3(a,b){switch(a){case "US":return h8.get(b);case "CA":return h8.get(b);case "AU":return Wea.get(b);case "EU":return Xea.get(b);case "MX":return Yea.get(b);default:throw Error("Unknown print region '"+a+"'.");}}
var h8=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc",
"POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),Wea=new Map([["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard","BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),Xea=new Map([["poster",
"POSTER"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["TACiRn71mUI","INVITATION"],["TACixRR28vY","INVITATION"],["card","INVITATION"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),Yea=new Map([["posterUS","POSTER"],["TABQqupS2LE","FLYER"],["resume","FLYER"],["usLetter","FLYER"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],
["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]);function Zea(a){return X(new fm("print_checkout_payment"),"order_id",a)};function f8(a,b){var c=b.FK,d=b.DK,e=b.name;switch(b.yE){case "INCHES":return null==e?a.Qa("printOrderPaperDimensionsInchesHtml",c,d):a.format("printOrderNamedPaperDimensionsInches",e,c,d);case "CENTIMETERS":return null==e?a.Qa("printOrderPaperDimensionsCentimetresHtml",c,d):a.format("printOrderNamedPaperDimensionsCentimetres",e,c,d);default:throw Error("paper dimensions not translated for units: "+b.yE);}};function i8(a){soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.description||a.description instanceof
goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"?soydata.SanitizedHtml|string|undefined");var d=a.description;soy.asserts.assertType(a.label instanceof goog.soy.data.SanitizedContent||a.label instanceof soydata.SanitizedHtml||a.label instanceof soydata.UnsanitizedText||goog.isString(a.label),"label",a.label,"!soydata.SanitizedHtml|string");var e=a.label;soy.asserts.assertType(null==
a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option orderSummaryOption'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+(g?" listbox__option--selected":"")+'"'+(b?" "+soy.$$filterHtmlAttributes(b):
"")+' data-value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"orderSummaryOption__content"\x3e\x3cdiv class\x3d"orderSummaryOption__label"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e"+(d?'\x3cdiv class\x3d"orderSummaryOption__description"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")};function j8(a){TS.apply(this,arguments)}t(j8,TS);function k8(a){return new j8(a)}j8.prototype.Uh=function(){return soydata.VERY_UNSAFE.ordainSanitizedHtml(this.$el.find(".paperSizeOption__label").prop("outerHTML"))};function l8(a){TS.apply(this,arguments)}t(l8,TS);
function m8(a){var b=$;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(a.Ps instanceof goog.soy.data.SanitizedContent||a.Ps instanceof soydata.SanitizedHtml||a.Ps instanceof soydata.UnsanitizedText||goog.isString(a.Ps),"pageCountDescription",a.Ps,"!soydata.SanitizedHtml|string");var d=a.Ps;soy.asserts.assertType(goog.isString(a.hB)||a.hB instanceof goog.soy.data.SanitizedContent,
"pageCountLabel",a.hB,"string|goog.soy.data.SanitizedContent");var e=a.hB;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:e,value:a.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-page-count-label\x3d"'+
soy.$$escapeHtmlAttribute(e)+'"'),v:c,description:d,selected:g}));b=b(a.toString());return n8(b)}function n8(a){return new l8(a)}l8.prototype.Uh=function(){return this.$el.attr("data-page-count-label").toString()};function o8(a){TS.apply(this,arguments)}t(o8,TS);
function $ea(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(null==a.Oa||a.Oa instanceof goog.soy.data.SanitizedContent||goog.isString(a.Oa),"discount",a.Oa,"null|string|undefined");var d=a.Oa;soy.asserts.assertType(goog.isString(a.Yv)||a.Yv instanceof goog.soy.data.SanitizedContent,"numberOfCopies",a.Yv,"string|goog.soy.data.SanitizedContent");var e=a.Yv;soy.asserts.assertType(goog.isString(a.fa)||
a.fa instanceof goog.soy.data.SanitizedContent,"price",a.fa,"string|goog.soy.data.SanitizedContent");var g=a.fa;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"orderQuantityOption__label"\x3e\x3cspan class\x3d"orderQuantityOption__copies"\x3e'+
soy.$$escapeHtml(a)+'\x3c/span\x3e\x3cspan class\x3d"orderQuantityOption__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-copies\x3d"'+soy.$$escapeHtmlAttribute(e)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c+" orderQuantityOption",description:d,selected:h}));b=b(c.toString());return p8(b)}function p8(a){return new o8(a)}
o8.prototype.Uh=function(){var a=this.$el.attr("data-copies").toString(),b=this.$el.attr("data-price").toString();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"copies",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||goog.isString(b),"price",b,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"orderQuantitySelectionLabel"\x3e\x3cspan class\x3d"orderQuantitySelectionLabel__copies"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e"+(b?'\x3cspan class\x3d"orderQuantitySelectionLabel__price"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/div\x3e")};function q8(a){TS.apply(this,arguments)}t(q8,TS);function r8(a){return new q8(a)}q8.prototype.Uh=function(){return this.$el.attr("data-label").toString()};function s8(a){TS.apply(this,arguments)}t(s8,TS);function t8(a){return new s8(a)}s8.prototype.Uh=function(){return this.$el.attr("data-label").toString()};function u8(a){TS.apply(this,arguments)}t(u8,TS);function v8(a){return new u8(a)}
u8.prototype.Uh=function(){var a=this.$el.attr("data-label").toString(),b=this.$el.attr("data-price").toString();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"shippingLabel",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"price",b,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(a)+
'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e\x3c/div\x3e")};function w8(a){var b=this;gc.call(this,a);a.on("click",".licensesMore",function(){return b.trigger(x8)});a.on("change",".mediaLicenses__licenseSelect",function(){return b.trigger(y8)})}t(w8,gc);w8.prototype.uQ=function(a){var b=$(".licensesMore");a.li(b)};var x8="CLICK_LICENSES_MORE",y8="LICENSE_SELECT";
function z8(a){soy.asserts.assertType(goog.isBoolean(a.$d)||1===a.$d||0===a.$d,"showOneTimeUse",a.$d,"boolean");soy.asserts.assertType(goog.isString(a.hd)||a.hd instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.hd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Jc)||a.Jc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Jc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.ae)||1===a.ae||0===a.ae,"showRoyaltyFree",
a.ae,"boolean");soy.asserts.assertType(goog.isString(a.Cc)||a.Cc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Cc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Lc)||a.Lc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Lc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Ng)||1===a.Ng||0===a.Ng,"showExtended",a.Ng,"boolean");soy.asserts.assertType(goog.isString(a.xd)||a.xd instanceof goog.soy.data.SanitizedContent,
"extended",a.xd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Od)||a.Od instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Od,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Sd)||a.Sd instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.Sd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a.Hj instanceof soydata.SanitizedHtml||a.Hj instanceof soydata.UnsanitizedText||goog.isString(a.Hj),
"fullInformationHtml",a.Hj,"soydata.SanitizedHtml");var b=a.Hj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Z1(a)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"),b=$(b.toString());Zy.call(this,{className:"licensesPopOver",content:b,Ue:a.confirm,position:Ep})}t(z8,Zy);function A8(a,b){var c=this;this.view=b;this.zb=a.zb;this.xa=a.xa;this.Ma=a.Ma;this.ob=new Map([].concat(na(new Map([["a","a"],["b","b"]]))));this.view.on(x8,function(){return c.XN()});this.view.on(y8,function(){throw Error("License selection not yet implemented.");})}function afa(a){return{FA:$e(a.xa),ei:a.zb.map(function(b){return bfa({media:b,xa:a.xa,Ma:a.Ma,ob:a.ob})})}}
A8.prototype.XN=function(){function a(a){return c.zb.some(function(c){return b(c,a)})}function b(a,b){return a.rw.some(function(a){return a.type==b})}var c=this,d={confirm:bf(this.xa),$d:a("ONE_USE"),hd:this.Ma.hd(),Jc:this.Ma.Jc(),ae:a("ROYALTY_FREE"),Cc:this.Ma.Cc(),Lc:this.Ma.Lc(),Ng:a("EXTENDED"),xd:this.Ma.xd(),Od:this.Ma.Od(),Sd:this.Ma.Sd(),Hj:cf(this.Ma,cfa)};this.view.uQ(new z8(d))};
function bfa(a){var b=0<a.media.yc.length,c=b?a.media.yc[0].type:null;return{Y7:a.xa.Ys(),pg:a.media.pg,cN:!/\.png$/.test(a.media.pg),title:a.media.CN,Fr:a.xa.Fr(a.media.Wg),$G:c?B8(c,a.Ma):null,oz:b?dfa(a.media.yc[0].KN,a.xa):null,Xs:b?null:a.media.rw.map(function(b){var c=a.xa,g=a.Ma,h=a.ob.get(a.media.ba),c=c.wl(b.fa),g=b.type?B8(b.type,g):null;return{selected:b.type===h,text:g+" - "+c,value:b.type}})}}
function B8(a,b){switch(a){case "ONE_USE":return b.hd();case "ROYALTY_FREE":return b.Cc();case "EXTENDED":return b.xd();default:throw Error("Unknown LicenseType '"+a+"'.");}}function dfa(a,b){if(null==a||Infinity===a)return null;var c=moment.duration(a,"minutes");a=Math.floor(c.asHours());c=c.minutes();return a?b.format("paymentPageLicenseRemainingHours",a):af(b,c)}A8.prototype.destroy=function(){this.view.remove()};var cfa=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function efa(a,b){var c=this;this.Db=a;this.zW=b;this.Db.once("remove",function(){return c.zW.destroy()})}function ffa(a){return up(a.Db).then(function(){return a.zW.ob})};function C8(a,b){var c=this;this.view=b;this.ha=a.ha||null;this.aa=a.aa;this.Oa=a.Oa;this.wc=a.wc;this.dh=a.dh;this.ob=a.ob;this.zb=a.zb;this.Fa=a.Fa;this.Ud=a.Ud;this.WP=a.WP;this.pX=[];this.BG=null;this.view.on(D8,function(){return gfa(c)});this.view.on(E8,function(){c.Xn();null!=c.BG&&c.BG()})}function hfa(a,b){return a.reduce(function(a,d){return a+(0<d.yc.length?0:F8(d,b).fa)},0)}
function F8(a,b){var c=b.get(a.ba)||"ONE_USE";b=a.rw.find(function(a){return a.type===c});return w(b||a.rw[0],'No pricing options found for media "{}"',a.ba)}function ifa(a,b){return new C8(a,b)}C8.prototype.destroy=function(){this.view.remove()};
function jfa(a,b){a=a.zb.filter(function(a){return 0===a.yc.length}.bind(a)).map(function(a){var b=F8(a,this.ob);return new li({gq:new di({media:a.ba,version:a.ca,document:this.wc().id,Xj:b.type})})}.bind(a));return[].concat([new li({bP:new gi({order:b})}),new li({cP:new ii({order:b})})],na(a))}
function G8(a,b){function c(a,e){var g=this,h=this.wc();return Cj(this.aa,new Li({mode:"DESIGN",ye:new Ki({document:h.id,Zb:h.version,O:b,Uc:"MEDIA"}),Z:a,limit:50})).then(function(a){if(!a.Z)return a.Yc;var b=Math.min(2*e,1E3);return P.delay(e).then(function(){return c.call(g,a.Z,b)}).then(function(b){return[].concat(na(a.Yc),na(b))})})}return c.call(a,null,50).then(function(a){return a.map(function(a){return a.media})})}
function H8(a,b){a.Ud=b;I8(a,J8({ha:a.ha,Oa:a.Oa,ob:a.ob,zb:a.zb,Ud:a.Ud}))}C8.prototype.ev=function(){return this.zb};function kfa(a,b,c){a.pX=b;a.Ud=c;lfa(a.view);return a.dh().then(function(){return G8(a,b)}).then(function(b){a.zb=b;I8(a,J8({ha:a.ha,Oa:a.Oa,ob:a.ob,zb:a.zb,Ud:a.Ud}))})}C8.prototype.ID=function(a){return J8({ha:this.ha,ob:this.ob,zb:this.zb,Ud:a}).dm};
function J8(a){var b=a.Ud.RX+a.Ud.dP,c=a.ha&&a.ha.Mv||0,d=hfa(a.zb,a.ob),e=Math.min(d,c),g=a.Oa?mfa({Oa:a.Oa,Ud:a.Ud}):0;return{xm:c,yj:e,qG:d,dm:Number((d-e+b-g).toFixed(2)),xE:a.Oa?{k0:g,Oa:a.Oa}:null,oj:a.Ud.dP}}
function mfa(a){var b=[].concat(na(new Set(a.Oa.tD))).reduce(function(b,c){switch(c){case "PRINT_PRODUCT":return b+a.Ud.RX;case "PRINT_SHIPPING":return b+a.Ud.dP;default:throw Error("Cannot process discount of type '"+c+"'");}},0);switch(a.Oa.type){case "AMOUNT":var c=w(a.Oa.Qo,"AMOUNT discount must have an amount.");return Math.min(b,c.value);case "PERCENTAGE":return c=w(a.Oa.rh,"PERCENTAGE discount must have a percentage.")/100,Number(Math.min(b,c*b).toFixed(2));default:throw Error("Unknown discount type '"+
a.Oa.type+"'.");}}
function I8(a,b){var c=a.Fa.yj(b.yj);a.view.$el.find(".printOrderSummary__creditUsed").empty().append(c);c=xf(a.Fa,b.xm);a.view.$el.find(".printOrderSummary__creditUsedLabel").empty().append(c);var c=a.view,d=a.Fa.fa(b.qG);0!==b.qG?c.$el.find(".printOrderSummary__premiumImagesLink").show():c.$el.find(".printOrderSummary__premiumImagesLink").hide();c.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(d);c=a.Fa.fa(b.dm);a.view.$el.find(".printOrderSummary__orderTotalPrice").empty().append(c);c=
0<b.oj?a.Fa.fa(b.oj):a.Fa.format("printOrderSummaryPriceFree");a.view.$el.find(".printOrderSummary__shippingPrice").empty().append(c);c=!!b.xE;a.view.$el.find(".printOrderSummary__couponDiscountInfo").toggleClass("printOrderSummary__info--hidden",!c);if(b.xE){c=a.view;a:{var e=b.xE.Oa,d=a.Fa,g=e.Yg,h=new Set(e.tD),h=1===h.size&&h.has("PRINT_SHIPPING")?d.format("printOrderSummaryDiscountShipping"):1===h.size&&h.has("PRINT_PRODUCT")?d.format("printOrderSummaryDiscountPrints"):d.format("printOrderSummaryDiscountOrder");
switch(e.type){case "PERCENTAGE":e=w(e.rh,"PERCENTAGE discount must have a percentage.");d=d.format("printOrderSummaryPercentageCouponDiscountLabel",g,e,h);break a;case "AMOUNT":e=w(e.Qo,"AMOUNT discount must have an amount.");d=d.format("printOrderSummaryAmountCouponDiscountLabel",g,e.value,h);break a;default:throw Error("Unknown discount type "+e.type+".");}}c.$el.find(".printOrderSummary__couponDiscountLabel").empty().append(d);c=a.Fa.fa(b.xE.k0);a.view.$el.find(".printOrderSummary__couponDiscountAmount").empty().append(c)}c=
a.view;0<b.qG?c.slideDown(c.$el.find(".printOrderSummary__premiumImagesInfo")):c.slideUp(c.$el.find(".printOrderSummary__premiumImagesInfo"));a=a.view;b.yj?a.slideDown(a.$el.find(".printOrderSummary__creditInfo")):a.slideUp(a.$el.find(".printOrderSummary__creditInfo"))}function gfa(a){K8(a.view,!0);G8(a,a.pX).then(function(b){a.WP({zb:b,ob:new Map})}).finally(function(){return K8(a.view,!1)})}C8.prototype.Xn=function(){this.Oa=null;I8(this,J8({ha:this.ha,Oa:this.Oa,ob:this.ob,zb:this.zb,Ud:this.Ud}))};
function nfa(a,b){Ca(!a.BG,"onDiscountRemoved: listener already registered");a.BG=b};function L8(a){var b=this;gc.call(this,a);this.$el.on("click",".printOrderSummary__premiumImagesLink",function(a){a.preventDefault();$(a.currentTarget).hasClass("printOrderSummary__premiumImagesLink--loading")||b.trigger(D8)});this.$el.on("click",".printOrderSummary__removeCouponLink",function(a){a.preventDefault();b.trigger(E8)})}t(L8,gc);function K8(a,b){a.$el.find(".printOrderSummary__premiumImagesLink").toggleClass("printOrderSummary__premiumImagesLink--loading",b)}
L8.prototype.slideDown=function(a){a.hasClass("printOrderSummary__info--hidden")&&(a.css("display","none"),a.removeClass("printOrderSummary__info--hidden"),a.slideDown())};L8.prototype.slideUp=function(a){a.slideUp(function(){a.addClass("printOrderSummary__info--hidden");a.css("display","")})};
function lfa(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimage src\x3d"https://static.canva.com/static/images/loading_spinner_dark.png" /\x3e').toString());a.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(b)}var D8="CLICK_PREMIUM_IMAGES_LINK",E8="REMOVE_COUPON";function ofa(a){soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"buttonText",a.bd,"string|goog.soy.data.SanitizedContent");var b=a.bd;soy.asserts.assertType(goog.isString(a.ul)||a.ul instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.ul,"string|goog.soy.data.SanitizedContent");var c=a.ul;soy.asserts.assertType(null==a.Ug||a.Ug instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ug),"buttonClasses",a.Ug,"null|string|undefined");var d=a.Ug;
soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var g=a.disabled;soy.asserts.assertType(null==a.oA||a.oA instanceof goog.soy.data.SanitizedContent||goog.isString(a.oA),"inputClasses",a.oA,"null|string|undefined");var h=a.oA;soy.asserts.assertType(null==
a.VF||a.VF instanceof goog.soy.data.SanitizedContent||goog.isString(a.VF),"inputValue",a.VF,"null|string|undefined");a=a.VF;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"inputWithButton'+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+S1({v:"inputWithButton__input "+h,disabled:g,placeholder:c,value:a})+d_({v:"inputWithButton__button buttonSecondary "+d,disabled:g,text:b})+"\x3c/div\x3e")};function M8(a,b){var c=this;gc.call(this,a);this.Ri=b;a.on("click",".paymentForm__applyCouponButton",function(){c.trigger(N8)})}t(M8,gc);function O8(a,b){E1(a.$el.find(".paymentForm__cardInputContainer")).rk(b)}function P8(a,b){E1(a.$el.find(".paymentForm__couponInputContainer")).rk(b)}function Q8(a){E1(a.$el.find(".paymentForm__couponInputContainer")).gg()}M8.prototype.Iz=function(){return this.$el.find(".paymentForm__couponCodeInput").val().toString().trim()};
function R8(a,b){a.$el.find(".paymentForm__applyCouponButton").toggleClass("submitting",b)}var N8="APPLY_COUPON";function S8(a,b,c){var d=this;this.view=b;this.qd=c;this.ha=a.ha;this.Oa=null;this.aa=a.aa;this.ta=a.ta;this.la=a.la;this.Xa=a.Xa;this.Yp=!1;this.xa=a.xa;this.If=a.If;nfa(this.If,function(){return d.Xn()});this.view.on(N8,function(){return pfa(d)})}f=S8.prototype;f.destroy=function(){this.qd.remove();this.view.remove()};f.pk=function(a){this.qd.pk(a)};
f.yB=function(a){var b=this;return P.resolve().then(function(){Fa(!b.Yp,"Cannot pay invoice while processing a payment");b.Yp=!0;var c=!1;E1(b.view.$el.find(".paymentForm__cardInputContainer")).gg();Q8(b.view);return b.AN().then(function(){return b.cE(a)}).then(function(a){return qfa(b,a.Ce)}).then(function(a){return b.eH(a)}).then(function(){c=!0}).catch(T8,function(){var a=b.xa.Qa("paymentPageDiscountErrorHtml","https://support.canva.com/troubleshooting");P8(b.view,a)}).catch(yT,function(){return b.Yz()}).catch(uj,
function(a){return b.Pj(a)}).catch(function(){return b.Yz()}).then(function(){return c}).finally(function(){b.Yp=!1})})};f.cE=function(a){a=new Wh({D:this.ta,items:jfa(this.If,a),currency:"USD"});return this.aa.cE(a)};function qfa(a,b){return a.Oa?Ej(a.aa,new mi({Ce:b,Oa:a.Oa.id,Xn:!1})).catch(function(){throw new T8;}).then(function(){return b}):P.resolve(b)}f.eH=function(a){return Ej(this.aa,new mi({Ce:a,action:"PAY_SYNCHRONOUS",Xn:!1}))};
f.AN=function(){var a=this;return P.resolve().then(function(){if(U8(a.ha?a.ha.Oh:null))return a.qd.kM()})};function U8(a){if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Mu<b||a.Mu===b&&a.YE<c}f.Yz=function(){var a=Ze(this.xa);O8(this.view,a)};f.Pj=function(a){a=DT(this.Xa,a);O8(this.view,a)};
function pfa(a){function b(){var a=new Ti({D:this.ta,user:this.la,Yg:this.view.Iz()});return wj(this.aa.N,"/billing/discounts",{brand:ib("brand",a.D),user:ib("user",a.user),couponCode:ib("couponCode",a.Yg)}).catch(xj).get(0).then(La).then(Vi).then(function(a){return a.Oa})}Q8(a.view);R8(a.view,!0);(function(){var a=new Wi({D:this.ta,user:this.la,Yg:this.view.Iz(),limit:1});return Fj(this.aa,a).then(function(a){return a.BK[0]})}).call(a).then(function(c){return c||b.call(a)}).then(function(b){a.Oa=
b;var d=a.If;d.Oa=b;I8(d,J8({ha:d.ha,Oa:d.Oa,ob:d.ob,zb:d.zb,Ud:d.Ud}));a.view.$el.find(".paymentForm__couponCodeInput").val("")}).catch(function(){var b=a.xa.format("paymentPageCouponError");P8(a.view,b)}).finally(function(){return R8(a.view,!1)})}f.Xn=function(){this.Oa=null};function T8(){}t(T8,Error);function rfa(a){switch(a){case "POSTER":return[1,2,3,4,5,6,7,8,9,10];case "BUSINESS_CARD":return[50,100,150,200,250,500,1E3,1500,2E3,2500];case "POSTCARD":case "LETTERHEAD":case "FLYER":case "INVITATION":return[25,50,100,150,200,250,500,750,1E3];default:throw Error("Expected PrintProductType, found "+a);}};function U0(a){fc.apply(this,arguments)}t(U0,fc);function V8(a){return a.$el.find(".page--printMarkingsEnabled").toArray().map(function(a){return new W8($(a))})}U0.prototype.ot=function(a){V8(this).forEach(function(b){return b.ot(a)})};U0.prototype.cC=function(a){V8(this).forEach(function(b){return b.cC(a)})};function W8(a){fc.apply(this,arguments)}t(W8,fc);W8.prototype.ot=function(a){this.$el.find(".page__bleedAreaLine").toggleClass("page__printLine--highlight",a)};
W8.prototype.cC=function(a){this.$el.find(".page__safeAreaLine").toggleClass("page__printLine--highlight",a)};function X8(a){fc.apply(this,arguments)}t(X8,fc);function Y8(a,b,c){Ca(!Z8(a,b),"Cannot add page with name {}. A page with that name already exists.",b);b=$(a9({name:b}).toString());b=new b9(b);b.jo(c);a.$el.append(b.$el)}
function c9(a,b){return new P(function(c){var d=sfa(a),e=a.R(b);w(e,"No page with name the name '{}' exists.",b);var g=d.o();a.ea(g);pl(function(){a.rt(!0);e.rt(!0);d.rt(!0);var b=e.o(),b=b===g?P.resolve():tfa(a,b);d.st(!1);e.st(!0);b=b.then(function(){d.rt(!1);e.rt(!1);a.rt(!1);a.$el.height("")});c(b)})})}function Z8(a,b){return 0<a.$el.children('[data-page-name\x3d"'+b+'"]').length}
X8.prototype.R=function(a){var b=this.$el.children('[data-page-name\x3d"'+a+'"]');Ca(2>b.length,"Must contain at most one page with name '{}', but contains {}",a,b.length);return 1===b.length?new b9(b):null};X8.prototype.Gb=function(){return this.$el.children(".pagesPanel__page").toArray().map(function(a){return new b9($(a))})};function sfa(a){a=a.$el.children(".pagesPanel__page--visible");Ca(1===a.length,"There must be exactly one current page, but there are {}",a.length);return new b9(a)}
X8.prototype.ea=function(a){this.$el.height(a)};X8.prototype.rt=function(a){this.$el.toggleClass("pagesPanel--swapping",a)};function tfa(a,b){var c=Hf(a.$el[0]);a.ea(b);return c}function b9(a){fc.apply(this,arguments)}t(b9,fc);f=b9.prototype;f.getName=function(){return this.$el.attr("data-page-name").toString()};f.jo=function(a){this.$el.empty();this.$el.append(a)};f.mh=function(){return this.$el.hasClass("pagesPanel__page--visible")};
f.st=function(a){this.$el.toggleClass("pagesPanel__page--visible",a)};f.rt=function(a){this.$el.toggleClass("pagesPanel__page--swapping",a)};f.o=function(){return this.$el.outerHeight()};function d9(a){soy.asserts.assertType(a.O instanceof soydata.SanitizedHtml||a.O instanceof soydata.UnsanitizedText||goog.isString(a.O),"pages",a.O,"soydata.SanitizedHtml");var b=a.O;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.ov||goog.isBoolean(a.ov)||1===a.ov||0===a.ov,"horizontal",a.ov,"boolean|null|undefined");a=a.ov;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel'+
(c?" "+soy.$$escapeHtmlAttribute(c):"")+(a?" pagesPanel--horizontal":"")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function a9(a){soy.asserts.assertType(goog.isString(a.name)||a.name instanceof goog.soy.data.SanitizedContent,"name",a.name,"string|goog.soy.data.SanitizedContent");var b=a.name;soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,
"visible",a.visible,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel__page'+(a.visible?" pagesPanel__page--visible":"")+'" data-page-name\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(c?soy.$$escapeHtml(c):"")+"\x3c/div\x3e")};function e9(a){fc.apply(this,arguments)}t(e9,fc);function W0(){var a=$(".editorSideDrawer");return new e9(a)}e9.prototype.st=function(a){if(a===this.mh())return P.resolve();this.$el.toggleClass("editorSideDrawer--hidden",!a);return Hf(this.$el[0])};e9.prototype.jo=function(a){this.$el.find(".editorSideDrawer__content").empty().append(a)};e9.prototype.mh=function(){return!this.$el.hasClass("editorSideDrawer--hidden")};e9.prototype.sr=function(a){return a(this.$el.find(".editorSideDrawer__content"))};
function f9(a,b){a.$el.find(".editorSideDrawer__loadingSpinnerContainer").toggleClass("editorSideDrawer__loadingSpinnerContainer--loading",b)};function ufa(a){var b=goog.asserts.assertObject(a.i,"expected parameter 'messages' of type [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string].");soy.asserts.assertType(null==a.Md||goog.isObject(a.Md),"address",a.Md,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");
var c=a.Md,d=goog.asserts.assertArray(a.XD,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(null==a.yt||goog.isArray(a.yt),"subdivisionOptions",a.yt,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");a=a.yt;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails__address addressDetails__shippingAddress"\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+
y1({v:"addressDetailsAddress__nameInput",label:b.TL,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.name}))})+y1({v:"addressDetailsAddress__phoneInput",label:b.YJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.hk}))})+"\x3c/div\x3e"+y1({v:"addressDetailsAddress__street1Input",label:b.NQ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.vk}))})+A1({v:"addressDetailsAddress__hiddenAddressInput",
content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y1({v:"addressDetailsAddress__street2Input",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.pj}))}))})+A1({v:"addressDetailsAddress__street2ButtonContainer",visible:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cbutton class\x3d"button buttonLink addressDetailsAddress__expandAddressButton"\x3e'+
zX()+soy.$$escapeHtml(b.iJ)+"\x3c/button\x3e")}))})+'\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+y1({v:"addressDetailsAddress__cityInput",label:b.NJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.Nd}))})+y1({v:"addressDetailsAddress__country",label:b.cK,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+c_({options:d,disabled:1>=d.length}))})+'\x3c/div\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+(a?y1({v:"addressDetailsAddress__subdivision",
label:b.LQ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+c_({v:"addressDetailsAddress__subdivisionSelect",options:a}))}):"")+y1({v:"addressDetailsAddress__zipCodeInput",label:b.RR,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+S1({value:null==c?null:c.nf}))})+"\x3c/div\x3e\x3c/div\x3e")}
function g9(a){var b=goog.asserts.assertObject(a.Md,"expected parameter 'address' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressSummary'+(a?" "+soy.$$escapeHtmlAttribute(a):
"")+'"\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.name)+"\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(b.hk)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.vk)+"\x3c/div\x3e"+(b.pj?"\x3cdiv\x3e"+soy.$$escapeHtml(b.pj)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.Nd)+"\x3c/div\x3e"+(b.mZ?"\x3cdiv\x3e"+soy.$$escapeHtml(b.mZ)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.nf)+"\x3c/div\x3e\x3cdiv\x3e"+
soy.$$escapeHtml(b.u1)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")};function h9(a){var b=this;gc.call(this,a);a.on("click",".addressDetailsAddress__expandAddressButton",function(a){a=new i9($(a.target).closest(".addressDetails__address"));b.trigger(j9,a)});a.on("change",".addressDetailsAddress__country select",function(a){a=new i9($(a.target).closest(".addressDetails__address"));b.trigger(k9,a.Yi())})}t(h9,gc);function l9(a){return new i9(a.$el.find(".addressDetails__shippingAddress"))}var j9="CLICK_ADD_APARTMENT",k9="CHANGE_COUNTRY";
function i9(a){fc.apply(this,arguments)}t(i9,fc);f=i9.prototype;f.bs=function(){return this.$el.find(".addressDetailsAddress__cityInput .textInput").val().toString().trim()};f.getName=function(){return this.$el.find(".addressDetailsAddress__nameInput .textInput").val().toString().trim()};f.nM=function(){return this.$el.find(".addressDetailsAddress__phoneInput .textInput").val().toString().trim()};f.pM=function(){return this.$el.find(".addressDetailsAddress__street1Input .textInput").val().toString().trim()};
f.qM=function(){return this.$el.find(".addressDetailsAddress__street2Input .textInput").val().toString().trim()};function m9(a){a=a.$el.find(".addressDetailsAddress__subdivision select");return a.find("option").filter(":selected").is("[value]")?a.val().toString():null}f.sM=function(){return this.$el.find(".addressDetailsAddress__zipCodeInput .textInput").val().toString().trim()};f.Yi=function(){return this.$el.find(".addressDetailsAddress__country select").val()};function n9(a,b){var c=this;this.view=b;this.ta=a.ta;this.Xf=a.Xf;this.Xi=a.Xi;this.Sj=a.Sj;this.Dl=a.Dl;this.br=a.br;this.Mw=a.Mw;this.la=a.la;this.La=a.La;this.l$=vfa(this,{Xf:a.Xf,Sj:a.Sj,Dl:a.Dl,br:a.br});this.view.on(j9,function(a){a.$el.find(".addressDetailsAddress__hiddenAddressInput").addClass("settingContainer__hiddenInputs--visible");a.$el.find(".addressDetailsAddress__street2ButtonContainer").removeClass("settingContainer__hiddenInputs--visible")});this.view.on(k9,function(a){if(!c.Sj){var b=
L1({Cb:a,Jf:c.Mw});a=c.view;b=$(c_({options:b,v:"addressDetailsAddress__subdivisionSelect"}).toString());a.$el.find(".addressDetailsAddress__subdivisionSelect").replaceWith(b)}})}
function wfa(a){var b=null!=a.ec?Lw("countryCode",a.ec.Cb):null,c=b&&a.Nh.has(b)?{Nd:a.ec.Nd,Cb:a.ec.Cb,name:a.ec.name,hk:a.ec.hk,vk:a.ec.vk,pj:a.ec.pj,u9:a.ec.wh,nf:a.ec.nf}:null,d=b&&a.Nh.has(b)?b:Array.from(a.Nh)[0],b=K1({Nh:a.Nh,N8:d}),e;a.Sj||(e=L1({Cb:d,Jf:a.$c.Mw(),JH:c&&c.u9}));var d=a.v,g={h0:{iJ:a.$c.iJ(),NJ:a.$c.NJ(),YJ:a.$c.YJ(),cK:a.$c.cK(),TL:a.$c.TL(),LQ:a.$c.LQ(),NQ:a.$c.NQ(),RR:a.Nh.has("US")?a.$c.RR():a.$c.format("addressDetailsPostcodeLabel")},g0:a.$c.heading(),NP:a.$c.NP(),ex:a.Bc.ex()},
h=a.He.rc(4,5),k=e,l=a.Haa;e=$;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"classes",d,"null|string|undefined");g=goog.asserts.assertObject(g,"expected parameter 'messages' of type [addressDetailsHeading: string, addressMessages: [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string], saveAddressLabel: string, shippingAddressHeading: string].");
soy.asserts.assertType(null==c||goog.isObject(c),"shippingAddress",c,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",h,"string|goog.soy.data.SanitizedContent");b=goog.asserts.assertArray(b,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
soy.asserts.assertType(null==k||goog.isArray(k),"subdivisionOptions",k,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");soy.asserts.assertType(null==l||goog.isBoolean(l)||1===l||0===l,"hideSaveAddress",l,"boolean|null|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails'+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(h)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(g.g0)+"\x3c/h1\x3e\x3c/div\x3e"+w1({heading:g.ex,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x1({Ta:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+ufa({i:g.h0,Md:c,XD:b,yt:k})+(l?"":y1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3clabel\x3e\x3cinput type\x3d"checkbox" class\x3d"addressDetails__saveAddressCheckbox"/\x3e'+soy.$$escapeHtml(g.NP)+
"\x3clabel\x3e")})))}))})+"\x3c/div\x3e");c=e(c.toString());c=new h9(c);a={ta:a.ta,Xf:a.Xf,Xi:a.Xi,Sj:a.Sj,Dl:a.Dl,La:a.La,Mw:a.$c.Mw(),br:a.br,la:a.la};return{Ab:new n9(a,c),view:c}}
function vfa(a,b){var c={Bp:function(){return E1(l9(a.view).$el.find(".addressDetailsAddress__subdivision"))},Cp:function(){return m9(l9(a.view))},mr:[b.Xf]};return[].concat([{Bp:function(){return E1(l9(a.view).$el.find(".addressDetailsAddress__cityInput"))},Cp:function(){return l9(a.view).bs()},mr:[b.Xf]},{Bp:function(){return E1(l9(a.view).$el.find(".addressDetailsAddress__nameInput"))},Cp:function(){return l9(a.view).getName()},mr:[b.Xf]},{Bp:function(){return E1(l9(a.view).$el.find(".addressDetailsAddress__phoneInput"))},
Cp:function(){return l9(a.view).nM()},mr:[b.Xf]},{Bp:function(){return E1(l9(a.view).$el.find(".addressDetailsAddress__street1Input"))},Cp:function(){return l9(a.view).pM()},mr:[b.Xf,b.br,b.Dl]},{Bp:function(){return E1(l9(a.view).$el.find(".addressDetailsAddress__street2Input"))},Cp:function(){return l9(a.view).qM()},mr:[b.br,b.Dl]}],na(b.Sj?[]:[c]),[{Bp:function(){return E1(l9(a.view).$el.find(".addressDetailsAddress__zipCodeInput"))},Cp:function(){return l9(a.view).sM()},mr:[b.Xf]}])}
n9.prototype.iv=function(){var a=l9(this.view),b;this.Sj||(b=w(m9(a),"subdivision must be present"));return new t7({Nd:a.bs(),Cb:a.Yi(),name:a.getName(),hk:a.nM(),vk:a.pM(),pj:a.qM(),wh:b,nf:a.sM()})};
function xfa(a){if(!a.view.$el.find(".addressDetails__saveAddressCheckbox")[0].checked)return P.resolve();var b=new E7({D:a.ta,user:a.la,Md:a.iv()});a=a.La;return wj(a.N,a.path+"/addresses/"+b.D,{id:H("id",b.id),brand:H("brand",b.D),user:H("user",b.user),address:cb.required("address",u7(b.Md))}).catch(xj).get(0).then(La).then(mea)}n9.prototype.destroy=function(){this.view.remove()};function o9(a){soy.asserts.assertType(a.Nr instanceof goog.soy.data.SanitizedContent||a.Nr instanceof soydata.SanitizedHtml||a.Nr instanceof soydata.UnsanitizedText||goog.isString(a.Nr),"desc",a.Nr,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3clabel class\x3d"designProofReview__checkboxLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"designProofReview__checkbox" /\x3e\x3cspan class\x3d"designProofReview__checkboxDescription"\x3e'+soy.$$escapeHtml(a.Nr)+"\x3c/span\x3e\x3c/label\x3e")}
;function p9(a){var b=this;gc.call(this,a);this.$el.on("change",".designProofReview__checkbox",function(){b.trigger(q9)});this.$el.on("click",".designProofReview__checkoutButton",function(){b.trigger(r9)});this.$el.on("click",".designProofReview__supportLink",function(){b.trigger(s9)})}t(p9,gc);function yfa(a){var b=$(q1({v:"designProofReview__progressbar",progress:0,xB:v1}).toString()),b=s1(b);a.$el.find(".designProofReview__progressbarContainer").prepend(b.$el)}
p9.prototype.aR=function(a){var b=this.$el.find(".designProofReview__autoDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{"class":"designProofReview__autoDownloadIframe"}),this.$el.append(b));b.attr("src",a)};function zfa(a){return a.$el.find(".designProofReview__checkbox").toArray().map(function(a){return a.checked})}var q9="CHANGE_REVIEW_ITEM",s9="CLICK_SUPPORT_LINK",r9="CONTINUE_TO_CHECKOUT";function t9(a,b){var c=this;this.view=b;this.l=a.l;this.i=a.i;this.La=a.La;this.CL=a.CL;this.fB=a.fB;this.FO=null;this.ZN=a.ZN;b.on(q9,function(){return Afa(c)});b.on(r9,function(){return c.ZN()});b.on(s9,function(){var a=new fm("print_review_support");c.l.wa(a)})}function Bfa(a){var b=a.Si;return{mu:b.mu(),yr:b.yr(Cfa),ru:b.ru(),description:b.description(),tE:"https://support.canva.com/troubleshooting/downloading/",Yu:b.Yu(),heading:b.heading(),rc:a.He.rc(3,5),Lw:b.Lw()}}
function Dfa(a,b){return new t9(a,b)}function Efa(a,b){return a.CL.dI(function(a){var d=this;return Hea(this.La,new G7({order:this.fB,xs:b})).then(function(e){if("FAILED"===e.status)throw Error("export with jobId '"+b+"' failed for proof of order '"+d.fB+"'");"EXPORTED"===e.status&&a(e)})}.bind(a))}
function Ffa(a){var b=new F7({order:a.fB,lj:"PROOF"});yfa(a.view);a.FO=Gea(a.La,b).cancellable().then(function(b){return Efa(a,b.xs)}).then(function(b){b=b.url;var d=a.i.Qa("designProofReviewManualDownloadInfoHtml",b,"designProofReview__manualDownloadLink"),e=a.view;(new r1(e.$el.find(".designProofReview__progressbar"))).remove();e.$el.find(".designProofReview__progressbarContainer").addClass("designProofReview__progressbarContainer--hidden");e=a.view;e.$el.find(".designProofReview__manualDownload").empty().append(d.getContent()).removeClass("designProofReview__manualDownload--hidden");
e.$el.find(".designProofReview__manualDownloadLink").attr("download","download").attr("target","_blank");e.$el.find(".designProofReview__actionButtons").removeClass("designProofReview__actionButtons--hidden");e.$el.find(".designProofReview__checklist").removeClass("designProofReview__checklist--hidden");a.view.aR(b)}).catch(P.CancellationError,$.noop)}
function Afa(a){zfa(a.view).every(function(a){return a})?a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!1):a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!0)}t9.prototype.destroy=function(){null!=this.FO&&this.FO.cancel();this.view.remove()};var Cfa="https://about.canva.com/terms-of-use/";function u9(a){this.cR=a.cR;this.ck=a.ck;this.oe=a.oe;this.Fa=a.Fa;this.sc=a.sc;this.Uc=a.Uc;this.Wn=a.Wn;this.Wd=a.Wd;this.Tl=a.Tl;this.vh=a.vh;this.mb=a.mb;this.PW=function(){};this.OW=function(){};this.NW=function(){}}
function v9(a){var b;if(null!=a.XP)b=w(a.sc.Jb.find(function(b){return b.Ne===a.XP}),"product price not found for sku {}",a.XP);else if(null!=a.VB){var c=w(Gfa(a.sc,a.VB),"Selected paper size is missing from the product model");b=a.sc.Jb.filter(function(b){return a.sc.Gp(b.Ne).Ib===c});if(0===b.length)throw Error('No products have the selected paper size "{}".',a.VB);b=w9(b)}else b=w9(a.sc.Jb);var d=Hfa(a.sc.yF()),e=x9(a.ck,b);null!=a.Wd&&Ca(e.includes(a.Wd),'orderQuantity: "{}" is not applicable for the product: "{}"',
a.Wd,b.Ne);return new u9({ck:a.ck,oe:a.oe,Fa:a.Fa,sc:a.sc,Uc:a.Uc,Wn:a.Wn,Wd:a.Wd||e[0],Tl:b,cR:d,vh:a.vh||Ifa(a.mb),mb:a.mb})}function w9(a){function b(a){return Math.min.apply(Math,[].concat(na(a.map(function(a){return a.rI}))))}return _.sortBy(a,function(a){return b(a.Jb)})[0]}function Ifa(a){Ca(0<a.length,"Expected at least one ShippingPrice");return[].concat(na(a)).sort(function(a,c){return a.ci-c.ci})[0].eb}
function x9(a,b){return a.filter(function(a){return-1<b.Jb.findIndex(function(b){return b.vG<=a&&a<=b.mG})}).sort(function(a,b){return a-b})}function y9(a){return a.sc.Gp(a.Tl.Ne)}function z9(a,b){return a.sc.Jb.filter(function(c){c=a.sc.Gp(c.Ne);return(!b.Ib||c.Ib===b.Ib)&&(!b.Ge||c.Ge===b.Ge)&&(!b.kg||c.kg===b.kg)})}
function Jfa(a,b,c){var d=new Map;b.forEach(function(b){var g=0,h=a.sc.Gp(b.Ne);null!=c.Ge&&(g+=h.Ge===c.Ge?2:0);null!=c.kg&&(g+=h.kg===c.kg?1:0);d.has(g)||d.set(g,[]);d.get(g).push(b)});return d.get(Math.max.apply(Math,[].concat(na(d.keys()))))||b}function A9(a,b,c){var d=z9(a,b);Fa(0<d.length,"Could not find product prices for the specified options");var e=y9(a);b=Jfa(a,d,{kg:null==b.kg?e.kg:null,Ge:null==b.Ge?e.Ge:null});b=w9(b);d=x9(a.ck,b);a.Tl=b;d.includes(a.Wd)||(a.Wd=d[0]);B9(a,c)}
function B9(a,b){switch(b){case "PAPER_SIZE":a.PW();B9(a,"PAPER_TYPE");break;case "PAPER_TYPE":a.OW();B9(a,"PAPER_FINISH");break;case "PAPER_FINISH":a.NW();break;default:throw Error("Expected OrderOptionName: found "+b);}}function Kfa(a,b){a.PW=b}function Lfa(a,b){a.OW=b}function Mfa(a,b){a.NW=b}u9.prototype.removeDuplicates=function(a){return Array.from(new Set(a))};function Nfa(a){var b=a.sc.Jb.map(function(b){return a.sc.Gp(b.Ne).Ib});return a.removeDuplicates(b)}
function Ofa(a){var b=y9(a).Ib,c=z9(a,{Ib:b}).map(function(b){return a.sc.Gp(b.Ne).Ge});Fa(0<c.length,'Could not find applicable paper types for PaperSize:"{}"',b);return a.removeDuplicates(c)}function Pfa(a){var b=y9(a),c=b.Ib,b=b.Ge,d=z9(a,{Ib:c,Ge:b}).map(function(b){return a.sc.Gp(b.Ne).kg});Fa(0<d.length,'Could not find applicable paper finishes for PaperSize: "{}" \x26 PaperType: "{}"',c,b);return a.removeDuplicates(d)}
function C9(a){switch(a){case "STANDARD":return 1;case "PREMIUM":return 2;case "ECO_FRIENDLY":return 3;case "DELUXE":return 4;default:throw Error("Expected PaperType but found "+a);}}function D9(a){switch(a){case "GLOSS":return 1;case "MATTE":return 2;case "SOFT_TOUCH":return 3;case "UNCOATED":return 4;case "SILK":return 5;default:throw Error("Expected PaperFinish but found "+a);}}
function E9(a){var b=Ofa(a).sort(function(b,c){b=a.sc.$m(b).type;c=a.sc.$m(c).type;return C9(b)-C9(c)}),c=y9(a).Ge;Fa(b.includes(c),'paper type: "{}" is not applicable',c);return b.map(function(b){var e=a.sc.$m(b),g=$;b={cH:e.name,selected:b===c,bH:e.description,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(goog.isString(b.bH)||b.bH instanceof goog.soy.data.SanitizedContent,
"paperTypeDescription",b.bH,"string|goog.soy.data.SanitizedContent");var h=b.bH;soy.asserts.assertType(goog.isString(b.cH)||b.cH instanceof goog.soy.data.SanitizedContent,"paperTypeLabel",b.cH,"string|goog.soy.data.SanitizedContent");var k=b.cH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||b.value instanceof goog.soy.data.SanitizedContent,
"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return r8(g)})}
function F9(a){var b=Pfa(a).sort(function(b,c){b=a.sc.Zm(b).finish;c=a.sc.Zm(c).finish;return D9(b)-D9(c)}),c=y9(a).kg;Fa(b.includes(c),'paper finish: "{}" is not applicable',c);return b.map(function(b){var e=a.sc.Zm(b),g=$;b={ew:e.description,aH:e.name,selected:b===c,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(b.ew instanceof goog.soy.data.SanitizedContent||b.ew instanceof
soydata.SanitizedHtml||b.ew instanceof soydata.UnsanitizedText||goog.isString(b.ew),"paperFinishDescription",b.ew,"!soydata.SanitizedHtml|string");var h=b.ew;soy.asserts.assertType(goog.isString(b.aH)||b.aH instanceof goog.soy.data.SanitizedContent,"paperFinishLabel",b.aH,"string|goog.soy.data.SanitizedContent");var k=b.aH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||
b.value instanceof goog.soy.data.SanitizedContent,"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return t8(g)})}
function G9(a,b){var c=x9(a.ck,a.Tl);Fa(c.includes(a.Wd),'order quantity "{}" is not applicable',a.Wd);var d=a.Tl.Jb,e=V7(d,c[0]);null==b&&(b=$ea);return c.map(function(c){var h=V7(d,c);Fa(0<e,"price must be a positive number");var k=h>e?0:100*(e-h)/e,h=h*c/100;return b({Yv:a.Fa.Yv(c),fa:a.Fa.fa(h),Oa:0!==k?a.Fa.Oa(k):null,selected:c===a.Wd,value:c.toString()})})}
function Qfa(a){var b=Nfa(a),c=y9(a).Ib;Fa(b.includes(c),'Paper size: "{}" is not applicable',c);return _.sortBy(b,function(b){return a.sc.Kj(b).rj}).map(function(b){var e={fw:f8(a.oe,a.sc.Kj(b)),selected:b===c,value:b};b=$;var g;soy.asserts.assertType(null==e.v||e.v instanceof goog.soy.data.SanitizedContent||goog.isString(e.v),"classes",e.v,"null|string|undefined");g=e.v;soy.asserts.assertType(e.fw instanceof goog.soy.data.SanitizedContent||e.fw instanceof soydata.SanitizedHtml||e.fw instanceof soydata.UnsanitizedText||
goog.isString(e.fw),"paperSizeLabel",e.fw,"!soydata.SanitizedHtml|string");var h=e.fw;soy.asserts.assertType(null==e.selected||goog.isBoolean(e.selected)||1===e.selected||0===e.selected,"selected",e.selected,"boolean|null|undefined");var k=e.selected;soy.asserts.assertType(goog.isString(e.value)||e.value instanceof goog.soy.data.SanitizedContent,"value",e.value,"string|goog.soy.data.SanitizedContent");e=e.value;g=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({v:g+" paperSizeOption",label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cspan class\x3d"paperSizeOption__label"\x3e'+
soy.$$escapeHtml(h)+"\x3c/span\x3e"),value:e,selected:k}));b=b(g.toString());return k8(b)})}
function Rfa(a,b){return b.mb.sort(function(a,b){return a.ci-b.ci}).map(function(b){var d;a:{d=a.oe;var e=b.eb;switch(e){case "STANDARD":d=d.format("printOrderShippingMethodStandardType");break a;case "EXPRESS":d=d.format("printOrderShippingMethodExpressType");break a;default:throw Error("Expected a ShippingMethod, but got '"+e+"'");}}a:{var e=a.oe,g=b.eb;switch(g){case "STANDARD":e=e.format("printOrderShippingMethodStandardDescription");break a;case "EXPRESS":e=e.format("printOrderShippingMethodExpressDescription");
break a;default:throw Error("Expected a ShippingMethod, but got '"+g+"'");}}var h={UH:d,SH:e,fa:a.Fa.fa(b.ci/100),value:b.eb,selected:b.eb===a.vh,disabled:!1};b=$;soy.asserts.assertType(null==h.v||h.v instanceof goog.soy.data.SanitizedContent||goog.isString(h.v),"classes",h.v,"null|string|undefined");d=h.v;soy.asserts.assertType(goog.isString(h.UH)||h.UH instanceof goog.soy.data.SanitizedContent,"shippingLabel",h.UH,"string|goog.soy.data.SanitizedContent");e=h.UH;soy.asserts.assertType(goog.isString(h.SH)||
h.SH instanceof goog.soy.data.SanitizedContent,"shippingDescription",h.SH,"string|goog.soy.data.SanitizedContent");g=h.SH;soy.asserts.assertType(goog.isString(h.fa)||h.fa instanceof goog.soy.data.SanitizedContent,"price",h.fa,"string|goog.soy.data.SanitizedContent");var k=h.fa;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,"boolean|null|undefined");var l=h.selected;soy.asserts.assertType(goog.isString(h.value)||h.value instanceof
goog.soy.data.SanitizedContent,"value",h.value,"string|goog.soy.data.SanitizedContent");h=h.value;d=soydata.VERY_UNSAFE.ordainSanitizedHtml(i8({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(e)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(k)+"\x3c/span\x3e\x3c/div\x3e"),value:h,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+
soy.$$escapeHtmlAttribute(e)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:d,description:g,selected:l}));b=b(d.toString());return v8(b)})}function Hfa(a){a=a.map(function(a){return a.Nv});a=_.uniq(a);Fa(1===a.length,'All products must have same value for the property "maxPages", found "{}"',a);return 2===a[0]}
function Sfa(a){switch(a.vh){case "STANDARD":return a.oe.format("printOrderShippingMethodStandard");case "EXPRESS":return a.oe.format("printOrderShippingMethodExpress");default:throw Error("Expected a ShippingMethod, but got '"+a.vh+"'");}}function Tfa(a){var b=a.mb.filter(function(b){return b.eb===a.vh})[0].ci;return a.Fa.fa(b/100)}function H9(a){this.Yc=a.Yc;this.attributes=a.attributes;this.Jb=a.Jb}
function Ufa(a){Ca(0<a.Yc.length,"Must have at least one product");var b=new Map(a.Yc.map(function(a){return[a.Ne,a]}));return new H9({attributes:a.attributes,Jb:a.Jb,Yc:b})}f=H9.prototype;f.yF=function(){return Array.from(this.Yc.values())};f.Gp=function(a){return w(this.Yc.get(a),'Invalid product sku: "{}"',a)};f.Kj=function(a){return w(this.attributes.gw.get(a),'Invalid paper size id: "{}"',a)};f.Zm=function(a){return w(this.attributes.BO.get(a),'Invalid paper finish id: "{}"',a)};
f.$m=function(a){return w(this.attributes.DO.get(a),'Invalid paper type id: "{}"',a)};function Gfa(a,b){for(var c=ma(a.attributes.gw.keys()),d=c.next();!d.done;d=c.next()){var d=d.value,e=a.attributes.gw.get(d);if(e.rj===b.rj&&e.Qj===b.Qj)return d}return null};function Vfa(a){soy.asserts.assertType(goog.isString(a.nk)||a.nk instanceof goog.soy.data.SanitizedContent,"selectYourPrintOptions",a.nk,"string|goog.soy.data.SanitizedContent");var b=a.nk;soy.asserts.assertType(null==a.gi||a.gi instanceof goog.soy.data.SanitizedContent||goog.isString(a.gi),"selectYourShippingOption",a.gi,"null|string|undefined");var c=a.gi;soy.asserts.assertType(a.Nn instanceof soydata.SanitizedHtml||a.Nn instanceof soydata.UnsanitizedText||goog.isString(a.Nn),"paperSizeListboxHtml",
a.Nn,"soydata.SanitizedHtml");var d=a.Nn;soy.asserts.assertType(null==a.gk||a.gk instanceof soydata.SanitizedHtml||a.gk instanceof soydata.UnsanitizedText||goog.isString(a.gk),"pageCountListboxHtml",a.gk,"?soydata.SanitizedHtml|string|undefined");var e=a.gk;soy.asserts.assertType(a.On instanceof soydata.SanitizedHtml||a.On instanceof soydata.UnsanitizedText||goog.isString(a.On),"paperTypeListboxHtml",a.On,"soydata.SanitizedHtml");var g=a.On;soy.asserts.assertType(a.Mn instanceof soydata.SanitizedHtml||
a.Mn instanceof soydata.UnsanitizedText||goog.isString(a.Mn),"paperFinishListboxHtml",a.Mn,"soydata.SanitizedHtml");var h=a.Mn;soy.asserts.assertType(a.Jn instanceof soydata.SanitizedHtml||a.Jn instanceof soydata.UnsanitizedText||goog.isString(a.Jn),"orderQuantityListboxHtml",a.Jn,"soydata.SanitizedHtml");var k=a.Jn;soy.asserts.assertType(a.oo instanceof soydata.SanitizedHtml||a.oo instanceof soydata.UnsanitizedText||goog.isString(a.oo),"shippingListboxHtml",a.oo,"soydata.SanitizedHtml");a=a.oo;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__selectPrintOptions"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e"+soy.$$escapeHtml(d)+(e?soy.$$escapeHtml(e):"")+soy.$$escapeHtml(g)+soy.$$escapeHtml(h)+soy.$$escapeHtml(k)+(c?'\x3cdiv class\x3d"printOrderSummary__selectShippingOptions"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e"+soy.$$escapeHtml(a):""))}
function Wfa(a){soy.asserts.assertType(goog.isString(a.eb)||a.eb instanceof goog.soy.data.SanitizedContent,"shippingMethod",a.eb,"string|goog.soy.data.SanitizedContent");var b=a.eb;soy.asserts.assertType(goog.isString(a.fa)||a.fa instanceof goog.soy.data.SanitizedContent,"price",a.fa,"string|goog.soy.data.SanitizedContent");a=a.fa;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__shippingLabel"\x3e\x3cspan class\x3d"printOrderSummary__shippingMethod"\x3e'+soy.$$escapeHtml(b)+
'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__price"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")};function I9(a,b,c){gc.call(this,a);this.If=b;this.gj=c.gj;this.Zh=c.Zh;this.$h=c.$h;this.Yh=c.Yh;this.Hf=c.Hf;this.Zl=c.Zl}t(I9,gc);
function J9(a){var b=a.heading,c=K9(a.T6),d=a.mX&&K9(a.mX),e=K9(a.j7),g=K9(a.k7),h=K9(a.l7),k=K9(a.a9),l,m=a.q7,n;soy.asserts.assertType(null==m.YD||m.YD instanceof goog.soy.data.SanitizedContent||goog.isString(m.YD),"couponDiscountAmount",m.YD,"null|string|undefined");l=m.YD;soy.asserts.assertType(null==m.ZD||m.ZD instanceof goog.soy.data.SanitizedContent||goog.isString(m.ZD),"couponDiscountLabel",m.ZD,"null|string|undefined");var p=m.ZD;soy.asserts.assertType(goog.isString(m.yj)||m.yj instanceof
goog.soy.data.SanitizedContent,"creditUsed",m.yj,"string|goog.soy.data.SanitizedContent");var q=m.yj;soy.asserts.assertType(goog.isString(m.kE)||m.kE instanceof goog.soy.data.SanitizedContent,"creditUsedLabel",m.kE,"string|goog.soy.data.SanitizedContent");var u=m.kE;soy.asserts.assertType(goog.isString(m.nw)||m.nw instanceof goog.soy.data.SanitizedContent,"premiumImagesPriceLabel",m.nw,"string|goog.soy.data.SanitizedContent");var v=m.nw;soy.asserts.assertType(goog.isString(m.iH)||m.iH instanceof goog.soy.data.SanitizedContent,
"premiumImagesTotalPrice",m.iH,"string|goog.soy.data.SanitizedContent");var z=m.iH;soy.asserts.assertType(goog.isString(m.Bw)||m.Bw instanceof goog.soy.data.SanitizedContent,"removeCouponText",m.Bw,"string|goog.soy.data.SanitizedContent");var r=m.Bw;soy.asserts.assertType(m.Gt instanceof soydata.SanitizedHtml||m.Gt instanceof soydata.UnsanitizedText||goog.isString(m.Gt),"totalLabelHtml",m.Gt,"soydata.SanitizedHtml");var x=m.Gt;soy.asserts.assertType(goog.isString(m.dm)||m.dm instanceof goog.soy.data.SanitizedContent,
"totalPrice",m.dm,"string|goog.soy.data.SanitizedContent");var I=m.dm;soy.asserts.assertType(null==m.WH||goog.isObject(m.WH),"shippingPriceDetails",m.WH,"null|undefined|{label: string, price: string}");m=m.WH;l=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__paymentSummary"\x3e'+(m?'\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(m.label)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__shippingPrice"\x3e'+soy.$$escapeHtml(m.fa)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__premiumImagesInfo printOrderSummary__info--hidden"\x3e\x3cspan\x3e'+soy.$$escapeHtml(v)+'\x3c/span\x3e\x3ca class\x3d"printOrderSummary__premiumImagesLink" href\x3d"#"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/icon-info.svg" /\x3e\x3c/a\x3e\x3cspan class\x3d"printOrderSummary__premiumImagesTotalPrice"\x3e'+soy.$$escapeHtml(z)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__creditInfo printOrderSummary__info--hidden"\x3e\x3cspan class\x3d"printOrderSummary__creditUsedLabel"\x3e'+
soy.$$escapeHtml(u)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__creditUsed"\x3e'+soy.$$escapeHtml(q)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__couponDiscountInfo'+(p&&l?"":" printOrderSummary__info--hidden")+'"\x3e\x3cdiv\x3e\x3cspan class\x3d"printOrderSummary__couponDiscountLabel"\x3e'+soy.$$escapeHtml(null==(n=p)?"":n)+'\x3c/span\x3e\x3cdiv class\x3d"printOrderSummary__removeCouponLinkContainer"\x3e\x3ca href\x3d"#" class\x3d"printOrderSummary__removeCouponLink"\x3e'+
soy.$$escapeHtml(r)+'\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan\x3e-\x3cspan class\x3d"printOrderSummary__couponDiscountAmount"\x3e'+soy.$$escapeHtml(null==(n=l)?"":n)+'\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(x)+'\x3c/span\x3e\x3cstrong class\x3d"printOrderSummary__orderTotalPrice"\x3e'+soy.$$escapeHtml(I)+"\x3c/strong\x3e\x3c/div\x3e\x3c/div\x3e");a={heading:b,Jn:c,gk:d,Mn:e,Nn:g,On:h,oo:k,qB:l,nk:a.nk,gi:a.gi,TG:L9,UG:M9};
soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");b=a.heading;soy.asserts.assertType(a.Jn instanceof soydata.SanitizedHtml||a.Jn instanceof soydata.UnsanitizedText||goog.isString(a.Jn),"orderQuantityListboxHtml",a.Jn,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.gk||a.gk instanceof soydata.SanitizedHtml||a.gk instanceof soydata.UnsanitizedText||goog.isString(a.gk),"pageCountListboxHtml",
a.gk,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(a.Mn instanceof soydata.SanitizedHtml||a.Mn instanceof soydata.UnsanitizedText||goog.isString(a.Mn),"paperFinishListboxHtml",a.Mn,"soydata.SanitizedHtml");soy.asserts.assertType(a.Nn instanceof soydata.SanitizedHtml||a.Nn instanceof soydata.UnsanitizedText||goog.isString(a.Nn),"paperSizeListboxHtml",a.Nn,"soydata.SanitizedHtml");soy.asserts.assertType(a.On instanceof soydata.SanitizedHtml||a.On instanceof soydata.UnsanitizedText||
goog.isString(a.On),"paperTypeListboxHtml",a.On,"soydata.SanitizedHtml");soy.asserts.assertType(a.oo instanceof soydata.SanitizedHtml||a.oo instanceof soydata.UnsanitizedText||goog.isString(a.oo),"shippingListboxHtml",a.oo,"soydata.SanitizedHtml");soy.asserts.assertType(a.qB instanceof soydata.SanitizedHtml||a.qB instanceof soydata.UnsanitizedText||goog.isString(a.qB),"paymentSummaryHtml",a.qB,"soydata.SanitizedHtml");c=a.qB;soy.asserts.assertType(goog.isString(a.nk)||a.nk instanceof goog.soy.data.SanitizedContent,
"selectYourPrintOptions",a.nk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==a.gi||a.gi instanceof goog.soy.data.SanitizedContent||goog.isString(a.gi),"selectYourShippingOption",a.gi,"null|string|undefined");soy.asserts.assertType(goog.isString(a.TG)||a.TG instanceof goog.soy.data.SanitizedContent,"orderFormListboxesPanelPageName",a.TG,"string|goog.soy.data.SanitizedContent");d=a.TG;soy.asserts.assertType(goog.isString(a.UG)||a.UG instanceof goog.soy.data.SanitizedContent,"orderFormReviewPanelPageName",
a.UG,"string|goog.soy.data.SanitizedContent");e=a.UG;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary"\x3e\x3cdiv class\x3d"printOrderSummary__header"\x3e\x3ch1 class\x3d"printOrderSummary__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__content"\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cdiv class\x3d"printOrderSummary__orderPreview"\x3e\x3c/div\x3e\x3c/div\x3e'+d9({v:"printOrderSummary__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
a9({v:"printOrderSummary__listboxesPagesPanel",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Vfa(a)),name:d,visible:!0})+a9({v:"printOrderSummary__orderFormReviewPanel",name:e,visible:!1}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__footer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e")}function K9(a){return BS({v:a.v+" printOrderSummary__listbox",disabled:a.disabled,options:a.options.map(function(a){return LS(a)}),Qq:a.Qq})}
function N9(a){var b=new L8(a.find(".printOrderSummary__paymentSummary")),c=IS(a.find(".printOrderSummary__paperSizeListbox"),{Gh:k8}),d=IS(a.find(".printOrderSummary__paperFinishListbox"),{Gh:t8}),e=IS(a.find(".printOrderSummary__orderQuantityListbox"),{Gh:p8}),g=IS(a.find(".printOrderSummary__paperTypeListbox"),{Gh:r8}),h=0<a.find(".printOrderSummary__pageCountListbox").length?IS(a.find(".printOrderSummary__pageCountListbox"),{Gh:n8}):null,k=IS(a.find(".printOrderSummary__shippingListbox"),{Gh:v8});
return new I9(a,b,{gj:c,Zh:d,Yh:e,$h:g,Hf:h,Zl:k})}I9.prototype.cg=function(){var a=this.$el.find(".printOrderSummary__pagesPanel");return new X8(a)};
I9.prototype.uP=function(a){var b=$,c={yq:a.yq,zq:a.zq,Aq:a.Aq,Bq:a.Bq,xq:a.xq,eb:a.eb,oj:a.oj},c=c||{};soy.asserts.assertType(null==c.Bq||c.Bq instanceof soydata.SanitizedHtml||c.Bq instanceof soydata.UnsanitizedText||goog.isString(c.Bq),"paperTypeHtml",c.Bq,"?soydata.SanitizedHtml|string|undefined");a=c.Bq;soy.asserts.assertType(null==c.zq||c.zq instanceof soydata.SanitizedHtml||c.zq instanceof soydata.UnsanitizedText||goog.isString(c.zq),"paperFinishHtml",c.zq,"?soydata.SanitizedHtml|string|undefined");
var d=c.zq;soy.asserts.assertType(null==c.Aq||c.Aq instanceof soydata.SanitizedHtml||c.Aq instanceof soydata.UnsanitizedText||goog.isString(c.Aq),"paperSizeHtml",c.Aq,"?soydata.SanitizedHtml|string|undefined");var e=c.Aq;soy.asserts.assertType(null==c.yq||c.yq instanceof soydata.SanitizedHtml||c.yq instanceof soydata.UnsanitizedText||goog.isString(c.yq),"pageCountHtml",c.yq,"?soydata.SanitizedHtml|string|undefined");var g=c.yq;soy.asserts.assertType(null==c.xq||c.xq instanceof soydata.SanitizedHtml||
c.xq instanceof soydata.UnsanitizedText||goog.isString(c.xq),"orderQuantityHtml",c.xq,"?soydata.SanitizedHtml|string|undefined");var h=c.xq;soy.asserts.assertType(null==c.eb||c.eb instanceof goog.soy.data.SanitizedContent||goog.isString(c.eb),"shippingMethod",c.eb,"null|string|undefined");var k=c.eb;soy.asserts.assertType(null==c.oj||c.oj instanceof goog.soy.data.SanitizedContent||goog.isString(c.oj),"shippingPrice",c.oj,"null|string|undefined");c=c.oj;a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cdiv class\x3d'printOrderSummary__orderFormReview'\x3e"+
(e?"\x3cdiv\x3e"+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+(a?"\x3cdiv\x3e"+soy.$$escapeHtml(a)+"\x3c/div\x3e":"")+(d?"\x3cdiv\x3e"+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+(g?"\x3cdiv\x3e"+soy.$$escapeHtml(g)+"\x3c/div\x3e":"")+(h?"\x3cdiv\x3e"+soy.$$escapeHtml(h)+"\x3c/div\x3e":"")+(k&&c?Wfa({eb:k,fa:c}):"")+"\x3c/div\x3e");b=b(a.toString());this.cg().R(M9).jo(b)};I9.prototype.TQ=function(){c9(this.cg(),M9)};I9.prototype.SQ=function(){c9(this.cg(),L9)};
function O9(a){return!!a&&!a.$el.hasClass("printOrderSummary__listbox--hidden")}var M9="ORDER_REVIEW",L9="LISTBOXES";function P9(a,b,c,d){var e=this;this.view=b;this.Rm=a.Rm;this.ih=a.ih;this.Qm=a.Qm;this.If=c;this.gj=d.gj;this.Zh=d.Zh;this.$h=d.$h;this.Yh=d.Yh;this.Zl=d.Zl;this.Hf=d.Hf;this.Ga=a.Ga;this.mb=a.mb;this.qk=a.qk;this.Hn=a.Hn;this.xH=P.resolve();null!=this.Hf&&YS(this.Hf,function(){e.Hn(e.ic());Q9(e)});YS(this.gj,function(){var a=e.gj.qc();A9(e.Ga,{Ib:a},"PAPER_SIZE");e.qk(e.Kj());R9(e)});YS(this.Zh,function(){var a=e.Ga,b=e.Zh.qc();A9(a,{Ib:y9(a).Ib,Ge:y9(a).Ge,kg:b},"PAPER_FINISH");R9(e)});YS(this.$h,
function(){var a=e.Ga,b=e.$h.qc();A9(a,{Ib:y9(a).Ib,Ge:b},"PAPER_TYPE");R9(e)});YS(this.Yh,function(){var a=e.Yh,b=parseInt(a.qc(),10);Fa(!isNaN(b),'Expected a number but got "{}"',a.qc());e.Ga.Wd=b;R9(e)});YS(this.Zl,function(){return Xfa(e)});Kfa(this.Ga,this.d8.bind(this));Lfa(this.Ga,this.c8.bind(this));Mfa(this.Ga,this.b8.bind(this))}
function S9(a,b){var c=new VS(b.gj),d=new VS(b.Zh),e=new VS(b.$h),g=new VS(b.Yh),h=b.Hf,h=h&&new VS(h),k=new VS(b.Zl),l=T9({mb:a.mb,eb:a.Ga.vh,Te:a.Ga.Wd,Jb:a.Ga.Tl.Jb}),l=ifa({ha:a.ha,aa:a.aa,dh:a.dh,wc:a.wc,ob:a.ob,zb:a.zb,Fa:a.Fa,Ud:l,WP:function(b){var c;c=a.Ma;b={xa:a.xa,Ma:c,zb:b.zb,ob:b.ob};var d=afa(b),e=$,g;g=g||{};soy.asserts.assertType(d.FA instanceof soydata.SanitizedHtml||d.FA instanceof soydata.UnsanitizedText||goog.isString(d.FA),"licensingOptionsText",d.FA,"soydata.SanitizedHtml");
for(var h=d.FA,d=goog.asserts.assertArray(d.ei,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: null|string, expirationLabel: null|string, isThumbnailCover: bool, paidLicenseTypeLabel: null|string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e|null, purchasedText: string, thumbnailUrl: null|string, title: null|string]\x3e."),h='\x3csection class\x3d"mediaLicenses__info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"mediaLicenses__itemList"\x3e\x3cdiv class\x3d"mediaLicenses__items"\x3e',
k=d.length,l=0;l<k;l++)var x=d[l],h=h+('\x3cdiv class\x3d"mediaLicenses__license"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnail"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnailInner '+(x.cN?"mediaLicenses__licenseThumbnail--cover":"mediaLicenses__licenseThumbnail--contain")+'"'+(x.pg?'style\x3d"'+(g.Yb?"/*"+g.Yb+"*//*"+g.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(x.pg))+"');\"":"")+'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licenseInfo"\x3e'+
(x.title?'\x3cdiv class\x3d"mediaLicenses__licenseTitle"\x3e'+soy.$$escapeHtml(x.title)+"\x3c/div\x3e":"")+(x.Fr?'\x3cdiv class\x3d"mediaLicenses__licenseContributor"\x3e'+soy.$$escapeHtml(x.Fr)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licensePrice"\x3e'+(x.Xs?soy.$$escapeHtml(x.Xs[0].text):'\x3cdiv class\x3d"mediaLicenses__licenseState"\x3e'+soy.$$escapeHtml(x.Y7)+"\x3c/div\x3e"+(x.$G?'\x3cdiv class\x3d"mediaLicenses__licenseType"\x3e'+soy.$$escapeHtml(x.$G)+(x.oz?" - "+soy.$$escapeHtml(x.oz):
"")+"\x3c/div\x3e":""))+"\x3c/div\x3e\x3c/div\x3e");g=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/div\x3e\x3c/section\x3e");e=e(g.toString());e=new w8(e);b=new A8(b,e);c=new rp({className:"mediaLicenses__dialog",content:e.$el,G:ol,title:c.format("licenseDialogTitle")});c=new efa(c,b);return ffa(c)}},b.If);return new P9({Qm:a.Qm,Rm:a.Rm,ih:a.ih,Hn:a.Hn,Ga:a.Ga,qk:a.qk,mb:a.mb},b,l,{Yh:g,Hf:h,Zh:d,gj:c,$h:e,Zl:k})}f=P9.prototype;f.Fe=function(){this.qk(this.Kj());this.Hn(this.ic());Q9(this)};
function U9(a){var b;if(a.Ga.cR){b=a.Fa;var c=a.CY||1;Fa(1===c||2===c,'defaultPageCount can be either 1 or 2, but found "{}"',c);b=[m8({hB:b.format("printOrderSummarySingleSidedPrint"),Ps:b.format("printOrderSummarySingleSidedPrintDescription"),selected:1===c,value:"1"}),m8({hB:b.format("printOrderSummaryDoubleSidedPrint"),Ps:b.format("printOrderSummaryDoubleSidedPrintDescription"),selected:2===c,value:"2"})]}else b=null;b=b&&V9({v:"printOrderSummary__pageCountListbox",options:b,disabled:a.Qm});var c=
V9({v:"printOrderSummary__orderQuantityListbox",options:a.m8?G9(a.Ga,a.m8):G9(a.Ga)}),d=V9({v:"printOrderSummary__paperFinishListbox",options:F9(a.Ga)}),e=V9({v:"printOrderSummary__paperSizeListbox",options:Qfa(a.Ga),disabled:a.Rm}),g=V9({v:"printOrderSummary__paperTypeListbox",options:E9(a.Ga)}),h=V9({v:"printOrderSummary__shippingListbox",options:Rfa(a.Ga,{mb:a.mb})}),k=T9({mb:a.mb,eb:a.Ga.vh,Te:a.Ga.Wd,Jb:a.Ga.Tl.Jb}),k={ha:a.ha,ob:a.ob,zb:a.zb,Fa:a.Fa,Ud:k,i9:1===a.mb.length},l=J8(k),m=0<l.oj?
k.Fa.fa(l.oj):k.Fa.format("printOrderSummaryPriceFree"),n=null;k.i9&&(n={label:k.Fa.format("printOrderSummaryShippingPriceLabel"),fa:m});k={yj:k.Fa.yj(l.yj),kE:xf(k.Fa,l.xm),nw:k.Fa.nw(),iH:k.Fa.fa(l.qG),Bw:k.Fa.Bw(),Gt:k.Fa.Gt(),dm:k.Fa.fa(l.dm),WH:n};return{heading:a.Fa.heading(),T6:c,mX:b,j7:d,k7:e,l7:g,a9:h,q7:k,nk:a.Fa.nk(),gi:1===a.mb.length?null:a.Fa.gi()}}
function V9(a){var b=a.v,c=a.disabled;a=a.options;1===a.length&&(b+=" printOrderSummary__listbox--hidden");return{v:b,disabled:c,options:a,Qq:XS(a)}}function Xfa(a){var b=a.Zl.qc(),c=w(["STANDARD","EXPRESS"].find(function(a){return a===b}),"Invalid shipping method: {}",b);a.Ga.vh=c;H8(a.If,W9(a))}f.d8=function(){this.$h.$B(E9(this.Ga))};f.c8=function(){this.Zh.$B(F9(this.Ga))};f.b8=function(){this.Yh.$B(G9(this.Ga))};
function Q9(a){var b=Math.min(a.ih(),a.ic()),b=_.range(1,b+1),c=W9(a);a.xH=kfa(a.If,b,c);return a.xH}function R9(a){H8(a.If,W9(a))}f.uP=function(){this.view.uP({yq:O9(this.view.Hf)?ZS(this.Hf).Uh():null,zq:O9(this.view.Zh)?ZS(this.Zh).Uh():null,Aq:O9(this.view.gj)?ZS(this.gj).Uh():null,Bq:O9(this.view.$h)?ZS(this.$h).Uh():null,xq:O9(this.view.Yh)?ZS(this.Yh).Uh():null,eb:O9(this.view.Zl)?Sfa(this.Ga):null,oj:O9(this.view.Zl)?Tfa(this.Ga):null})};f.TQ=function(){this.uP();this.view.TQ()};f.SQ=function(){this.view.SQ()};
f.Kj=function(){var a=this.Ga,a=a.sc.Kj(y9(a).Ib);return new c7({rj:a.rj,Qj:a.Qj})};f.$m=function(){var a=this.Ga;return a.sc.$m(y9(a).Ge).type};f.Zm=function(){var a=this.Ga;return a.sc.Zm(y9(a).kg).finish};f.Hp=function(){return this.Ga.Tl.Ne};f.ic=function(){if(null==this.Hf)return 1;var a=parseInt(this.Hf.qc(),10);Fa(!isNaN(a),'Expected a number but got "{}"',this.Hf.qc());return a};f.Mj=function(){return this.Ga.vh};f.ev=function(){return this.If.ev()};f.ID=function(){var a=W9(this);return this.If.ID(a)};
function W9(a){return T9({mb:a.mb,eb:a.Mj(),Te:a.Ga.Wd,Jb:a.Ga.Tl.Jb})}function X9(a,b){a.gj.mg(!a.Rm&&!b);a.Zh.mg(!b);a.Yh.mg(!b);a.$h.mg(!b);null!=a.Hf&&a.Hf.mg(!a.Qm&&!b)}f.destroy=function(){this.view.remove();this.If.destroy();this.$h.destroy();this.gj.destroy();this.Zh.destroy();this.Yh.destroy();null!=this.Hf&&this.Hf.destroy()};function T9(a){a=Eea(a);return{RX:a.nH/100,dP:a.VH/100}};function Y9(a){fc.apply(this,arguments)}t(Y9,fc);function Z9(a,b){gc.call(this,a);this.Pn=b}t(Z9,gc);Z9.prototype.mQ=function(a){a=$(g9({Md:a,v:"printPaymentAndConfirmation__shippingAddress"}).toString());this.$el.find(".printPaymentAndConfirmation__shippingAddress").replaceWith(a)};function $9(a,b){this.view=a;this.Pn=b}$9.prototype.mQ=function(a){this.view.mQ(a$(a))};function a$(a){var b=H1().get(a.Cb),c;a.wh&&(c=Lw("countryCode",a.Cb),c=I1(c).get(a.wh));return{Nd:a.Nd,u1:b,name:a.name,hk:a.hk,vk:a.vk,pj:a.pj,mZ:c,nf:a.nf}}$9.prototype.yB=function(a){return this.Pn.yB(a)};$9.prototype.destroy=function(){this.Pn.destroy();this.view.remove()};function b$(a){fc.apply(this,arguments)}t(b$,fc);function c$(a){fc.apply(this,arguments)}t(c$,fc);function d$(a){soy.asserts.assertType(goog.isString(a.ad)||a.ad instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ad,"string|goog.soy.data.SanitizedContent");var b=a.ad;soy.asserts.assertType(goog.isString(a.Pi)||a.Pi instanceof goog.soy.data.SanitizedContent,"continueButtonText",a.Pi,"string|goog.soy.data.SanitizedContent");a=a.Pi;return soydata.VERY_UNSAFE.ordainSanitizedHtml(d_({v:"printOrderForm__addressDetailsBackButton settingsFormActions__button buttonSecondary",text:b})+d_({v:"printOrderForm__addressDetailsContinueButton settingsFormActions__button buttonSubmittable",
text:a}))};function e$(a,b,c){var d=this;gc.call(this,a);this.sE=b;this.Ha=c;a.on("click",".printOrderForm__addressDetailsBackButton",function(){d.trigger(f$)});a.on("click",".printOrderForm__addressDetailsContinueButton",function(){d.trigger(g$)});a.on("click",".printOrderForm__paymentAndConfirmationBackButton",function(){d.trigger(h$)});a.on("click",".printOrderForm__paymentAndConfirmationPayNowButton",function(){d.trigger(i$)});a.on("click",".printOrderReceived__viewHomepageButton, .printOrderError__viewDesignButton",
function(){d.trigger(j$)})}t(e$,gc);
function Yfa(a){var b=d$({ad:a.ad,Pi:a.Pi}),c=a.J1;soy.asserts.assertType(goog.isString(c.mu)||c.mu instanceof goog.soy.data.SanitizedContent,"checkImagesAndText",c.mu,"string|goog.soy.data.SanitizedContent");var d=c.mu;soy.asserts.assertType(c.yr instanceof soydata.SanitizedHtml||c.yr instanceof soydata.UnsanitizedText||goog.isString(c.yr),"checkTermsOfUseHtml",c.yr,"soydata.SanitizedHtml");var e=c.yr;soy.asserts.assertType(goog.isString(c.ru)||c.ru instanceof goog.soy.data.SanitizedContent,"continueToCheckoutButtonText",
c.ru,"string|goog.soy.data.SanitizedContent");var g=c.ru;soy.asserts.assertType(goog.isString(c.description)||c.description instanceof goog.soy.data.SanitizedContent,"description",c.description,"string|goog.soy.data.SanitizedContent");var h=c.description;soy.asserts.assertType(goog.isString(c.tE)||c.tE instanceof goog.soy.data.SanitizedContent,"designReviewSupportUrl",c.tE,"string|goog.soy.data.SanitizedContent");var k=c.tE;soy.asserts.assertType(goog.isString(c.Yu)||c.Yu instanceof goog.soy.data.SanitizedContent,
"generatingPdfText",c.Yu,"string|goog.soy.data.SanitizedContent");var l=c.Yu;soy.asserts.assertType(goog.isString(c.heading)||c.heading instanceof goog.soy.data.SanitizedContent,"heading",c.heading,"string|goog.soy.data.SanitizedContent");var m=c.heading;soy.asserts.assertType(goog.isString(c.rc)||c.rc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",c.rc,"string|goog.soy.data.SanitizedContent");var n=c.rc;soy.asserts.assertType(goog.isString(c.Lw)||c.Lw instanceof goog.soy.data.SanitizedContent,
"seeUnfixableProblemButtonText",c.Lw,"string|goog.soy.data.SanitizedContent");c=c.Lw;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designProofReview"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(n)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m)+'\x3c/h1\x3e\x3c/div\x3e\x3cp class\x3d"designProofReview__description"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cdiv class\x3d"designProofReview__manualDownload designProofReview__manualDownload--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__checklist designProofReview__checklist--hidden"\x3e'+
o9({Nr:d})+o9({Nr:e})+'\x3c/div\x3e\x3cdiv class\x3d"designProofReview__progressbarContainer"\x3e\x3cp class\x3d"designProofReview__generatingPdf"\x3e'+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__actionButtons designProofReview__actionButtons--hidden"\x3e'+d_({tagName:"a",href:k,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:"designProofReview__actionButton buttonSecondary designProofReview__supportLink",text:c})+
d_({v:"designProofReview__actionButton designProofReview__checkoutButton",text:g,disabled:!0})+"\x3c/div\x3e\x3c/div\x3e");d=$;g=k$;a=J9(a.W6);soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"actionButtonsHtml",b,"soydata.SanitizedHtml");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"designProofReviewHtml",e,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(g)||
g instanceof goog.soy.data.SanitizedContent,"designProofReviewPageName",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"orderSummaryHtml",a,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderForm"\x3e\x3cdiv class\x3d"contentPanel printOrderForm__mainContentPanel"\x3e'+d9({v:"printOrderForm__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
a9({content:e,name:g,visible:!0}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderForm__hiddenSidePanel"\x3e\x3cdiv class\x3d"contentPanel"\x3e\x3cdiv class\x3d"printOrderForm__orderSummaryContainer"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e"+B1({v:"printOrderForm__formActions",buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(b))})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=d(b.toString());a=new p9(b.find(".designProofReview"));d=N9(b.find(".printOrderSummary"));return new e$(b,
a,d)}e$.prototype.cg=function(){var a=this.$el.find(".printOrderForm__pagesPanel");return new X8(a)};function l$(a){a=a.$el.find(".printOrderForm__formActions");Ca(a.hasClass("settingsFormActions"),"the given element {} is not an FormActionsView",a.get(0));return new F1(a)}
function m$(a,b){var c=a.$el.find(".printOrderForm__hiddenSidePanel");if(b===c.hasClass("printOrderForm__hiddenSidePanel--visible"))return P.resolve();c.toggleClass("printOrderForm__hiddenSidePanel--visible",b);return P.all([Hf(c[0]),n$(a)])}
function n$(a){var b=a.$el.find(".printOrderForm__hiddenSidePanel").hasClass("printOrderForm__hiddenSidePanel--visible"),c=a.$el.find(".printOrderForm__mainContentPanel");a=b?0:(a.$el.width()-c.width())/2;c.css("transform","translate3d("+a+"px, 0, 0)");return Hf(c[0])}function o$(a,b){a.$el.find(".printOrderForm__addressDetailsContinueButton").toggleClass("submitting",b)}function p$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationPayNowButton").toggleClass("submitting",b)}
function q$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationBackButton").prop("disabled",!b)}var k$="DESIGN_PROOF_REVIEW",h$="BACK_TO_ADDRESS_DETAILS",j$="BACK_TO_DESIGN",f$="BACK_TO_PROOFING",g$="CONTINUE_TO_PAYMENT",i$="SUBMIT_ORDER";function r$(a,b,c,d){var e=this;this.view=b;this.Fk=null;this.sE=c;this.Ha=d;this.oB=null;this.l=a.l;this.ta=a.ta;this.aa=a.aa;this.xg=a.xg;this.wc=a.wc;this.order=a.order;this.Bc=a.Bc;this.La=a.La;this.yP=a.yP;this.EP=a.EP;this.CP=a.CP;this.DP=a.DP;this.FP=a.FP;this.Fn=a.Fn;this.VA=a.VA;this.eB=a.eB;this.la=a.la;this.view.on(f$,function(){return Zfa(e)});this.view.on(g$,function(){return $fa(e)});this.view.on(h$,function(){c9(e.view.cg(),"ADDRESS_DETAILS");e.Ha.SQ();var a=e.view,b={ad:e.Bc.ad(),
Pi:e.Bc.Pi()},b=$(d$(b).toString());G1(l$(a),b);X9(e.Ha,!1)});this.view.on(i$,function(){return aga(e)});this.view.on(j$,function(){return e.VA()})}
function bga(a){var b=Yfa({J1:Bfa({Si:a.Si,He:a.He}),ad:a.Bc.ad(),Pi:a.Bc.Pi(),W6:U9({ha:a.ha,Qm:!0,Rm:!0,ob:a.ob,zb:a.zb,Ga:a.Ga,Fa:a.Fa,CY:a.order.kd,mb:a.mb})});return{Ab:cga({ha:a.ha,$c:a.$c,l:a.l,aa:a.aa,ta:a.ta,Si:a.Si,xg:a.xg,Xf:a.Xf,Xi:a.Xi,wc:a.wc,Ma:a.Ma,ob:a.ob,zb:a.zb,VA:a.VA,Fn:a.Fn,order:a.order,eB:a.eB,Ga:a.Ga,xa:a.xa,Bc:a.Bc,Fa:a.Fa,La:a.La,yP:function(){return wfa({$c:a.$c,ta:a.ta,Nh:new Set(a.th.Nh.map(function(a){return Lw("printRegion.countries",a)})),Xf:a.Xf,Xi:a.Xi,Sj:"EU"===
a.th.id,Dl:a.Dl,He:a.He,Bc:a.Bc,La:a.La,ec:a.ec,br:a.i0,la:a.la})},CP:function(b){var d={uO:a.Bc.uO()},e=$,d=goog.asserts.assertObject(d,"expected parameter 'messages' of type [orderErrorHeading: string].");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"errorMessageHtml",b,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderError"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+vX()+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+
soy.$$escapeHtml(d.uO)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderError__content"\x3e\x3cp class\x3d"printOrderError__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());return new b$(e)},DP:function(b){var d=a.uR,e=a.Vs,g=b.S6;b={U6:e.heading(),AR:e.AR(),zR:e.zR()};d=e.o1(d);g=e.V6(g);e=$;b=goog.asserts.assertObject(b,"expected parameter 'messages' of type [orderReceivedHeading: string, viewHomepageButtonText: string, viewPrintOrdersButtonText: string].");
soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"confirmationEmailMessageHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"orderReceivedMessageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("/account#print-orders")||!1,"printOrdersUrl","/account#print-orders","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("/")||
!1,"homepageUrl","/","string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderReceived"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+wX({ya:"printOrderReceived__headerIcon"})+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b.U6)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderReceived__content"\x3e\x3cp class\x3d"printOrderReceived__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(d)+"\x3c/p\x3e"+uZ({v:"printOrderReceived__supportInfoMessage",
message:g})+"\x3c/div\x3e"+B1({buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+d_({tagName:"a",href:"/account#print-orders",v:"printOrderReceived__viewPrintOrdersButton buttonSecondary settingsFormActions__button",text:b.AR})+d_({tagName:"a",href:"/",v:"printOrderReceived__viewHomepageButton buttonSubmittable settingsFormActions__button",text:b.zR}))})+"\x3c/div\x3e");b=e(b.toString());return new c$(b)},EP:function(b){b={ha:a.ha,aa:a.aa,ta:a.ta,Qi:a.Qi,Xa:a.Xa,Ze:a.Ze,xa:Sc(a.i),
If:b.If,He:a.He,Bc:a.Bc,di:a.di,ec:b.ec,fb:a.fb,la:a.la,l:a.l};var d=b.ha,e=b.di.format("printPaymentAndConfirmationCreditCardDetailsLabel"),g=b.di.tu(),h=b.Xa,k=b.Ze,l=b.xa,m=b.l,n=!!d&&!U8(d.Oh),d=n?l.format("paymentPageSavedTeamCard",d.Oh.Dv):l.OP(),p={bu:l.bu(),su:l.su(),tu:g,xj:e,Xa:h,hz:n,AC:k?null:d,l:m},e=b.Xa,m={p7:b.di.heading(),EO:b.di.EO(),ex:b.Bc.ex()},k=b.He.rc(5,5),l=a$(b.ec),g=b.l,h=$;soy.asserts.assertType(goog.isString(p.bu)||p.bu instanceof goog.soy.data.SanitizedContent,"applyCouponButtonText",
p.bu,"string|goog.soy.data.SanitizedContent");n=p.bu;soy.asserts.assertType(goog.isString(p.su)||p.su instanceof goog.soy.data.SanitizedContent,"couponCodeInputPlaceholder",p.su,"string|goog.soy.data.SanitizedContent");d=p.su;soy.asserts.assertType(goog.isString(p.tu)||p.tu instanceof goog.soy.data.SanitizedContent,"couponCodeLabel",p.tu,"string|goog.soy.data.SanitizedContent");var q=p.tu;soy.asserts.assertType(goog.isString(p.xj)||p.xj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",
p.xj,"string|goog.soy.data.SanitizedContent");var u=p.xj;soy.asserts.assertType(goog.isBoolean(p.hz)||1===p.hz||0===p.hz,"editingDisabled",p.hz,"boolean");var v=!!p.hz;soy.asserts.assertType(null==p.v||p.v instanceof goog.soy.data.SanitizedContent||goog.isString(p.v),"classes",p.v,"null|string|undefined");var z=p.v;soy.asserts.assertType(null==p.AC||p.AC instanceof goog.soy.data.SanitizedContent||goog.isString(p.AC),"teamCardMessage",p.AC,"null|string|undefined");p=p.AC;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentForm'+
(z?" "+soy.$$escapeHtmlAttribute(z):"")+'"\x3e'+x1({Ta:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y1({label:u,v:"paymentForm__cardInputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"paymentForm__creditCardEditView'+(v?" paymentForm__creditCardEditView--disabled":"")+'" \x3e\x3c/div\x3e'+(p?'\x3cdiv class\x3d"paymentForm__teamCardMessage"\x3e'+soy.$$escapeHtml(p)+"\x3c/div\x3e":""))})+y1({label:q,v:"paymentForm__couponInputContainer",
input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+ofa({Ug:"paymentForm__applyCouponButton buttonSubmittable",bd:n,v:"paymentForm__couponCode",oA:"paymentForm__couponCodeInput",ul:d}))}))})+"\x3c/div\x3e");m=goog.asserts.assertObject(m,"expected parameter 'messages' of type [paymentAndConfirmationHeading: string, paymentDetailsHeading: string, shippingAddressHeading: string].");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),
"paymentFormHtml",n,"soydata.SanitizedHtml");l=goog.asserts.assertObject(l,"expected parameter 'shippingAddressSummary' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentAndConfirmation"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(k)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m.p7)+"\x3c/h1\x3e\x3c/div\x3e"+w1({heading:m.EO,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(n))})+w1({heading:m.ex,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x1({Ta:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+g9({Md:l,v:"printPaymentAndConfirmation__shippingAddress"}))}))})+"\x3c/div\x3e");h=h(k.toString());
k=h.find(".paymentForm");e=(new P1({qy:!1,Xa:e,l:g})).render();k.find(".paymentForm__creditCardEditView").empty().append(e.$el);e=new M8(k,e);e=new Z9(h,e);g=e.Pn;h=g.$el.find(".paymentForm__creditCardEditView").hasClass("paymentForm__creditCardEditView--disabled");h=new O1({uj:b.aa,D:b.ta,td:!b.ha||U8(b.ha.Oh)?null:b.ha.Oh,Ve:!h,gf:b.fb,view:g.Ri,Xa:b.Xa});h.refresh();b=new S8(b,g,h);return{Ab:new $9(e,b),view:e}},FP:function(){var b=a.di.format("printPaymentAndConfirmationProcessingPayment"),d=
$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"heading",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentProgress"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printPaymentProgress__content"\x3e'+q1({v:"printPaymentProgress__loadingBar",progress:0},void 0)+"\x3c/div\x3e\x3c/div\x3e");
d=d(b.toString());s1(d.find(".printPaymentProgress__loadingBar"));return new Y9(d)},ec:a.ec,mb:a.mb,la:a.la},b),view:b}}function cga(a,b){var c=Dfa({l:a.l,CL:Em(),i:a.Si,ZN:function(){dga(e)},fB:a.order.id,La:a.La},b.sE),d=S9({ha:a.ha,aa:a.aa,dh:function(){return P.resolve()},Qm:!0,Rm:!0,wc:a.wc,Ma:a.Ma,ob:a.ob,zb:a.zb,Hn:function(){},ih:function(){return a.order.kd},Ga:a.Ga,xa:a.xa,Fa:a.Fa,qk:function(){},mb:a.mb,la:a.la},b.Ha),e=new r$(a,b,c,d);return e}
r$.prototype.Fe=function(){var a=this;n$(this.view).then(function(){return Ffa(a.sE)});this.Ha.Fe()};function dga(a){var b=a.view.cg();if(!Z8(b,"ADDRESS_DETAILS")){var c=a.yP(),d=c.view;a.Fk=c.Ab;Y8(b,"ADDRESS_DETAILS",d.$el)}c9(b,"ADDRESS_DETAILS").then(function(){a.Fk.view.$el.find(".addressDetailsAddress__nameInput input").focus();m$(a.view,!0)});b=X(X(new fm("print_review_continue_to_checkout"),"section","editor"),"location","print_review");a.l.wa(b)}
function Zfa(a){m$(a.view,!1).then(function(){return c9(a.view.cg(),k$)})}
function $fa(a){M3(a.Fk.l$).then(function(b){if(b){var c=a.view.cg(),d=a.Fk.iv();if(Z8(c,"PAYMENT_AND_CONFIRMATION"))a.oB.mQ(d);else{b=a.EP({If:a.Ha.If,ec:d});var e=b.view;a.oB=b.Ab;Y8(c,"PAYMENT_AND_CONFIRMATION",e.$el)}b=P.all([a.Ha.xH,xfa(a.Fk),a.order.Om?ega(a):a.uI()]);X9(a.Ha,!0);o$(a.view,!0);l$(a.view).gg();b.then(function(){c9(c,"PAYMENT_AND_CONFIRMATION");a.Ha.TQ();var b=a.view,d=a.Bc.ad(),e=a.Bc.o7(),l=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,
"backButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"payNowButtonText",e,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(d_({v:"printOrderForm__paymentAndConfirmationBackButton settingsFormActions__button buttonSecondary",text:d})+d_({v:"printOrderForm__paymentAndConfirmationPayNowButton settingsFormActions__button buttonSubmittable",text:e}));l=l(d.toString());G1(l$(b),
l)}).then(function(){var b=a.order.id,b=X(new fm("print_checkout_address"),"order_id",b);a.l.wa(b)}).catch(function(a){return!!a&&a instanceof vj&&403===Rk(a)&&!!a.message&&["shippingAddress.zipCode","address.zipCode"].includes(a.message.errorKey)},function(){var b=a.view,c=a.Bc,e=d.nf,l;var m=a.Fk;l=l9(m.view).Yi();m.Sj?l=H1().get(l):(m=w(m9(l9(m.view)),"subdivision must be present"),l=I1(l).get(m));c=c.Qa("printOrderFormUpdateOrderinvalidZipcodeForSubdivisionHtml",e,l);l$(b).rk(c);X9(a.Ha,!1)}).catch(function(a){return!!a&&
a instanceof vj&&403===Rk(a)&&!!a.message&&["shippingAddress.phone","address.phone"].includes(a.message.errorKey)},function(){var b=a.Bc.format("printOrderFormUpdateOrderInvalidContactNumber");l$(a.view).rk(b);X9(a.Ha,!1)}).catch(function(){var b=a.view,c=a.Bc.Qa("printOrderFormUpdateOrderErrorHtml","https://support.canva.com/troubleshooting/canva-print");l$(b).rk(c);X9(a.Ha,!1)}).finally(function(){return o$(a.view,!1)})}})}
function ega(a){Fa(a.order.Om,'Order "{}" is already mutable',a.order.id);var b=new v7({Te:a.Ha.Ga.Wd,document:a.order.document,kd:a.order.kd,bf:a.order.bf,lg:a.Ha.Hp(),ec:a.Fk.iv(),eb:a.Ha.Mj()});return a.La.dE(b).then(function(b){return a.order=b.order}).then(function(){return Q9(a.Ha)})}r$.prototype.uI=function(){var a=new x7({Te:this.Ha.Ga.Wd,id:this.order.id,lg:this.Ha.Hp(),ec:this.Fk.iv(),eb:this.Ha.Mj()});return this.La.uI(a)};
r$.prototype.yB=function(a){var b=this;return this.oB.yB(a).then(function(c){c||s$(b,"payment",a);return c})};
function aga(a){var b=a.order,c=Zea(a.order.id);a.l.wa(c);p$(a.view,!0);q$(a.view,!1);fga(a).then(function(){return a.yB(a.order.id)}).then(function(c){if(c){var e=a.view.cg();Z8(e,"PAYMENT_PROGRESS")||(c=a.FP(),Y8(e,"PAYMENT_PROGRESS",c.$el));return m$(a.view,!1).then(function(){return c9(e,"PAYMENT_PROGRESS")}).then(function(){return gga(a,a.order.id)}).then(function(){var c=a.view.cg(),d=a.DP({S6:b.id});Y8(c,"ORDER_RECEIVED",d.$el);c9(c,"ORDER_RECEIVED");var c=a.xg,d=a.Ha.Zm(),e=0<a.Ha.ev().length,
l=b.id,m=a.Ha.$m(),n=b.lg,p=b.Te,q=a.Ha.Mj(),u=b.ci/100,c=X(X(X(X(X(X(X(X(X(new fm("print_checkout_success"),"template",c),"finish",d),"has_premium_images",e),"order_id",l),"paper",m),"product_sku",n),"quantity",p),"shipping",q),"total_order_price",u);a.l.wa(c);a.Fn()})}}).catch(t$,function(){var b=a.view,c=a.Bc.Qa("printOrderFormFinalizeOrderFailureHtml","https://support.canva.com/troubleshooting/canva-print");l$(b).rk(c)}).catch(function(){m$(a.view,!1).then(function(){var b=a.view.cg();if(!Z8(b,
"ORDER_ERROR")){var c=a.CP(a.Bc.format("printOrderFormSubmitOrderFailureText"));Y8(b,"ORDER_ERROR",c.$el)}c9(b,"ORDER_ERROR")})}).finally(function(){p$(a.view,!1);q$(a.view,!0)})}function fga(a){return a.order.Om?P.resolve():a.La.uI(new x7({id:a.order.id,Om:!0})).then(function(b){return a.order=b.order}).catch(function(){s$(a,"finalize_order",a.order.id);throw new t$;})}
function gga(a,b){return a.eB.dI(function(a){var d=this;return this.La.Ym(new z7({id:b})).then(function(e){if("FAILED"===e.order.aF)throw s$(d,"pdf_export",b),Error("Export failed for order "+b);"EXPORTED"===e.order.aF&&a(e.order)})}.bind(a))}
function s$(a,b,c){var d=a.xg,e=a.Ha.Zm(),g=0<a.Ha.ev().length,h=a.Ha.$m(),k=a.Ha.Hp(),l=a.Ha.Ga.Wd,m=a.Ha.Mj(),n=a.Ha.ID();b=X(X(X(X(X(X(X(X(X(X(new fm("print_checkout_fail"),"template",d),"failure_reason",b),"finish",e),"has_premium_images",g),"order_id",c),"paper",h),"product_sku",k),"quantity",l),"shipping",m),"total_order_price",n);a.l.wa(b)}r$.prototype.destroy=function(){this.sE.destroy();this.Ha.destroy();this.Fk&&this.Fk.destroy();this.oB&&this.oB.destroy();this.view.remove()};
function t$(){}t(t$,Error);function u$(a,b){var c=this;this.Db=a;this.kH=b;this.Db.once("remove",function(){return c.kH.destroy()})}
function hga(a){var b=new Y7({yy:a.$c.yy()}),c=Em(),b=bga({ha:a.ha,$c:a.$c,i0:new X7({Pd:a.Pd,maxLength:50}),l:a.l,aa:a.aa,ta:a.ta,Qi:a.Qi,Xa:a.Xa,Si:a.Si,xg:a.xg,Xf:new W7({OM:a.Pd.format("formValidatorInvalidEmpty")}),Xi:new A0,wc:a.wc,Ze:a.Ze,Ma:a.Ma,ob:a.ob,zb:a.zb,i:a.i,Dl:b,VA:function(){d.close()},Fn:a.Fn,order:a.order,eB:c,Ga:a.Ga,xa:a.xa,He:a.He,Bc:a.Bc,Vs:a.Vs,Fa:a.Fa,di:a.di,th:a.th,La:a.La,ec:a.ec,mb:a.mb,fb:a.fb,uR:a.uR,la:a.la});a=b.Ab;var b=new v$({kH:b.view,G:ol}),d=new u$(b,a);return d}
u$.prototype.show=function(){this.Db.show();this.kH.Fe()};u$.prototype.close=function(){this.Db.ok()};function v$(a){rp.call(this,{className:"printOrderFormDialog",content:a.kH.$el,G:a.G,ro:!1,Me:!0,df:!1})}t(v$,rp);function w$(a){var b;b=b||{};var c="";a=goog.asserts.assertArray(a.images,"expected parameter 'images' of type list\x3cstring\x3e.");for(var d=a.length,e=0;e<d;e++)c+='\x3cdiv class\x3d"printProofingPage__resolutionThumbnailWrapper"\x3e\x3cdiv class\x3d"printProofingPage__resolutionThumbnailContainer" style\x3d"'+(b.Yb?"/*"+b.Yb+"*//*"+b.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a[e]))+"')\"\x3e\x3c/div\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}
function x$(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(goog.isString(a.fg)||a.fg instanceof goog.soy.data.SanitizedContent,"headingText",a.fg,"string|goog.soy.data.SanitizedContent");var c=a.fg;soy.asserts.assertType(goog.isString(a.rc)||a.rc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",a.rc,"string|goog.soy.data.SanitizedContent");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printProofingPage"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(a.rc)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(c)+"\x3c/h1\x3e\x3c/div\x3e"+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function y$(a){soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var b=a.description;soy.asserts.assertType(goog.isString(a.Rj)||a.Rj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",a.Rj,"string|goog.soy.data.SanitizedContent");var c=a.Rj;soy.asserts.assertType(goog.isString(a.jA)||
a.jA instanceof goog.soy.data.SanitizedContent,"imageClass",a.jA,"string|goog.soy.data.SanitizedContent");var d=a.jA;soy.asserts.assertType(goog.isString(a.Bh)||a.Bh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",a.Bh,"string|goog.soy.data.SanitizedContent");var e=a.Bh;soy.asserts.assertType(null==a.qE||a.qE instanceof goog.soy.data.SanitizedContent||goog.isString(a.qE),"descriptionClasses",a.qE,"null|string|undefined");a=a.qE;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"printProofingPage__description'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cdiv class\x3d"printProofingPage__examplesContainer"\x3e\x3cspan class\x3d"printProofingPage__exampleImage '+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/span\x3e\x3c/div\x3e\x3cp class\x3d"printProofingPage__helpLink"\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(c))+'" target\x3d"_blank"\x3e'+soy.$$escapeHtml(e)+"\x3c/a\x3e\x3c/p\x3e")};function z$(a){soy.asserts.assertType(goog.isString(a.ad)||a.ad instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ad,"string|goog.soy.data.SanitizedContent");var b=a.ad;soy.asserts.assertType(goog.isString(a.ej)||a.ej instanceof goog.soy.data.SanitizedContent,"nextButtonText",a.ej,"string|goog.soy.data.SanitizedContent");var c=a.ej;soy.asserts.assertType(goog.isString(a.Uo)||a.Uo instanceof goog.soy.data.SanitizedContent,"backButtonClasses",a.Uo,"string|goog.soy.data.SanitizedContent");
var d=a.Uo;soy.asserts.assertType(goog.isString(a.rq)||a.rq instanceof goog.soy.data.SanitizedContent,"nextButtonClasses",a.rq,"string|goog.soy.data.SanitizedContent");a=a.rq;return soydata.VERY_UNSAFE.ordainSanitizedHtml(d_({v:d+" buttonSecondary printEditorForm__button printEditorForm__backButton",text:b})+d_({v:a+" printEditorForm__button printEditorForm__nextButton",text:c}))};function A$(a,b){var c=this;gc.call(this,a);this.Ha=b;a.on("click",".printEditorForm__orderSummaryBeginOrderButton",function(){return c.trigger(B$)});a.on("click",".printEditorForm__orderSummaryCancelOrderButton",function(){c.trigger(C$)});a.on("click",".printEditorForm__imageResolutionProofBackButton",function(){c.trigger(D$)});a.on("click",".printEditorForm__imageResolutionProofContinueButton",function(){c.trigger(E$)});a.on("click",".printEditorForm__bleedAreaProofBackButton",function(){c.trigger(F$)});
a.on("click",".printEditorForm__bleedAreaProofNextButton",function(){c.trigger(G$)});a.on("click",".printEditorForm__safeAreaProofBackButton",function(){c.trigger(H$)});a.on("click",".printEditorForm__safeAreaProofNextButton",function(){c.trigger(I$)})}t(A$,gc);A$.prototype.cg=function(){var a=this.$el.find(".printEditorForm__pagesPanel");return new X8(a)};function J$(a,b){a.$el.find(".printEditorForm__safeAreaProofNextButton").toggleClass("submitting",b)}
function iga(a){var b=a.$el.find(".printProofingPage__feedbackAlert--highRes"),c=a.$el.find(".printProofingPage__feedbackAlert--lowRes"),d=a.$el.find(".printProofingPage__feedbackAlert--mediumRes");b.addClass("printProofingPage__feedbackAlert--hidden");c.addClass("printProofingPage__feedbackAlert--hidden");d.addClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").empty();a.$el.find(".printProofingPage__images--mediumRes").empty()}
function jga(a,b){a.$el.find(".printProofingPage__feedbackAlert--mediumRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--mediumRes").append(w$({images:b}).toString())}function kga(a,b){a.$el.find(".printProofingPage__feedbackAlert--lowRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").append(w$({images:b}).toString())}
function K$(a,b){a.$el.find(".printEditorForm__footer").empty().append(b)}var B$="CLICK_BEGIN_ORDER",C$="CLICK_CANCEL_ORDER",D$="CLICK_IMAGE_RESOLUTION_PROOF_BACK",E$="CLICK_IMAGE_RESOLUTION_PROOF_CONTINUE",F$="CLICK_BLEED_AREA_PROOF_BACK",G$="CLICK_BLEED_AREA_PROOF_NEXT",H$="CLICK_SAFE_AREA_PROOF_BACK",I$="CLICK_SAFE_AREA_PROOF_NEXT";function L$(){}t(L$,Error);
function M$(a,b,c){var d=this;this.view=b;this.Ha=c;this.l=a.l;this.xg=a.xg;this.Wn=a.Wn;this.wc=a.wc;this.ih=a.ih;this.aa=a.aa;this.ta=a.ta;this.jK=a.jK;this.PK=a.PK;this.QK=a.QK;this.dh=a.dh;this.Vm=a.Vm;this.cv=a.cv;this.JM=null;this.ne=a.ne;this.Lf=a.Lf;this.La=a.La;this.sQ=a.sQ;this.fm=a.fm;this.la=a.la;this.bB=a.bB;this.aB=a.aB;this.SA=a.SA;this.rA=a.rA;b.on(B$,function(){return lga(d)});b.on(C$,function(){d.l.track("print_order_cancelled");d.SA()});b.on(D$,function(){N$(d)});b.on(E$,function(){O$(d);
d.Vm().ot(!0);var a=new fm("print_proof_resolution");d.l.wa(a)});b.on(F$,function(){mga(d)});b.on(G$,function(){c9(d.view.cg(),"SAFE_AREA_PROOF");var a=d.view,b=d.ne.ad(),c=d.ne.ej(),b=$(z$({Uo:"printEditorForm__safeAreaProofBackButton",ad:b,rq:"printEditorForm__safeAreaProofNextButton buttonSubmittable",ej:c}).toString());K$(a,b);a=d.Vm();a.ot(!1);a.cC(!0);a=new fm("print_proof_bleed");d.l.wa(a)});b.on(H$,function(){O$(d);var a=d.Vm();a.cC(!1);a.ot(!0)});b.on(I$,function(){nga(d)})}
function oga(a){var b=a.ne.SS(),c=a.ne.cT(),d={Ny:a.Lf.Qa("printProofingBleedAreaNotCoveredHtml"),description:a.Lf.format("printProofingBleedAreaProofDescription"),fg:a.Lf.format("printProofingCheckBleedAreaHeading"),Rj:"https://support.canva.com/canva-print/white-edges/",rc:a.He.rc(2,5),Bh:a.Lf.Bh()},e=a.Lf.format("printProofingImagesAreHighResolutionMessage"),g=a.Lf.Qa("printProofingImagesAreMediumResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),h=a.Lf.Qa("printProofingImagesAreLowResolutionMessageHtml",
"https://support.canva.com/canva-print/design-quality-check/"),k=a.Lf.format("printProofingCheckResolutionHeading"),l=a.He.rc(1,5),m=U9({ha:a.ha,Qm:!1,Rm:!1,ob:a.ob,zb:[],Ga:a.Ga,Fa:a.Fa,CY:1<a.ih()?2:1,mb:a.mb}),n={description:a.Lf.format("printProofingSafeAreaProofDescription"),fg:a.Lf.format("printProofingCheckSafeAreaHeading"),Rj:"https://support.canva.com/canva-print/preparing-your-design-for-print/safe-area/",rc:a.He.rc(3,5),Bh:a.Lf.Bh()},p=$;soy.asserts.assertType(goog.isString(d.description)||
d.description instanceof goog.soy.data.SanitizedContent,"description",d.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d.fg)||d.fg instanceof goog.soy.data.SanitizedContent,"headingText",d.fg,"string|goog.soy.data.SanitizedContent");var q=d.fg;soy.asserts.assertType(goog.isString(d.Rj)||d.Rj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",d.Rj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(d.rc instanceof soydata.SanitizedHtml||d.rc instanceof
soydata.UnsanitizedText||goog.isString(d.rc),"pageNumberOfTotal",d.rc,"soydata.SanitizedHtml");var u=d.rc;soy.asserts.assertType(goog.isString(d.Bh)||d.Bh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",d.Bh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(d.Ny instanceof soydata.SanitizedHtml||d.Ny instanceof soydata.UnsanitizedText||goog.isString(d.Ny),"coverageAlertMessageHtml",d.Ny,"soydata.SanitizedHtml");var v=d.Ny,d=soydata.VERY_UNSAFE.ordainSanitizedHtml(x$({fg:q,
rc:u,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y$(soy.$$assignDefaults({jA:"printProofingPage__exampleImage--bleedImage"},d))+yZ({message:v,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--hidden printProofingPage__feedbackAlert--bleedCoverage",wb:!1}))}));soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"alertHighRes",e,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||
g instanceof soydata.UnsanitizedText||goog.isString(g),"alertMediumRes",g,"soydata.SanitizedHtml");soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"alertLowRes",h,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"headingText",k,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(l instanceof soydata.SanitizedHtml||l instanceof soydata.UnsanitizedText||goog.isString(l),
"pageNumberOfTotal",l,"soydata.SanitizedHtml");e=soydata.VERY_UNSAFE.ordainSanitizedHtml(x$({fg:k,rc:l,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+sZ({message:e,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--highRes",wb:!1})+yZ({message:h,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--lowRes",wb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--lowRes"\x3e\x3c/div\x3e'+wZ({message:g,
v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--mediumRes",wb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--mediumRes"\x3e\x3c/div\x3e')}));m=J9(m);soy.asserts.assertType(goog.isString(n.description)||n.description instanceof goog.soy.data.SanitizedContent,"description",n.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(n.fg)||n.fg instanceof goog.soy.data.SanitizedContent,"headingText",
n.fg,"string|goog.soy.data.SanitizedContent");g=n.fg;soy.asserts.assertType(goog.isString(n.Rj)||n.Rj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",n.Rj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(n.rc instanceof soydata.SanitizedHtml||n.rc instanceof soydata.UnsanitizedText||goog.isString(n.rc),"pageNumberOfTotal",n.rc,"soydata.SanitizedHtml");h=n.rc;soy.asserts.assertType(goog.isString(n.Bh)||n.Bh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",n.Bh,
"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml(x$({fg:g,rc:h,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y$(soy.$$assignDefaults({jA:"printProofingPage__exampleImage--safeArea"},n)))}));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"beginOrderButtonText",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"cancelOrderButtonText",
c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"bleedAreaProofPageHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("BLEED_AREA_PROOF")||!1,"bleedAreaProofPageName","BLEED_AREA_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"imageResolutionProofHtml",e,"soydata.SanitizedHtml");
soy.asserts.assertType(goog.isString("IMAGE_RESOLUTION_PROOF")||!1,"imageResolutionProofPageName","IMAGE_RESOLUTION_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"orderSummaryHtml",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("ORDER_SUMMARY")||!1,"orderSummaryPageName","ORDER_SUMMARY","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||
n instanceof soydata.UnsanitizedText||goog.isString(n),"safeAreaProofPageHtml",n,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("SAFE_AREA_PROOF")||!1,"safeAreaProofPageName","SAFE_AREA_PROOF","string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printEditorForm"\x3e\x3cdiv class\x3d"printEditorForm__content"\x3e'+d9({v:"printEditorForm__pagesPanel",ov:!0,O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+a9({content:m,name:"ORDER_SUMMARY",
visible:!0})+a9({content:e,name:"IMAGE_RESOLUTION_PROOF"})+a9({content:d,name:"BLEED_AREA_PROOF"})+a9({content:n,name:"SAFE_AREA_PROOF"}))})+'\x3c/div\x3e\x3cdiv class\x3d"printEditorForm__footer"\x3e'+z$({ej:b,rq:"printEditorForm__orderSummaryBeginOrderButton",ad:c,Uo:"printEditorForm__orderSummaryCancelOrderButton"})+"\x3c/div\x3e\x3c/div\x3e");p=p(b.toString());b=N9(p.find(".printOrderSummary"));p=new A$(p,b);b=S9({ha:a.ha,aa:a.aa,dh:a.dh,Qm:!1,Rm:!1,ih:a.ih,wc:a.wc,Ma:a.Ma,ob:a.ob,zb:[],Hn:a.Hn,
Ga:a.Ga,xa:a.xa,Fa:a.Fa,qk:a.qk,mb:a.mb},p.Ha);return{Ab:new M$(a,p,b),view:p}}f=M$.prototype;f.Fe=function(){this.Ha.Fe()};function N$(a){c9(a.view.cg(),"ORDER_SUMMARY");var b=a.view,c=a.ne.SS();a=a.ne.cT();c=$(z$({Uo:"printEditorForm__orderSummaryCancelOrderButton",ad:a,rq:"printEditorForm__orderSummaryBeginOrderButton",ej:c}).toString());K$(b,c)}f.IL=function(){return zj(this.aa,new wi({qm:[this.ta],limit:1})).then(function(a){return ma(a.Rt).next().value})};
function pga(a){return Fea(a.La,new D7({D:a.ta,user:a.la})).then(function(a){return(a=ma(a.kJ).next().value)&&a.Md})}f.dE=function(){var a=new v7({Te:this.Ha.Ga.Wd,document:this.wc(),kd:this.Ha.ic(),lg:this.Ha.Hp(),bf:this.Wn,eb:this.Ha.Mj()});return this.La.dE(a).then(function(a){return a.order})};
function P$(a){var b=a.view.cg();return a.cv().then(function(b){return Q$(a,R$(a,b))}).finally(function(){c9(b,"IMAGE_RESOLUTION_PROOF");var c=a.view,d=a.ne.ad(),e=a.ne.Pi(),d=$(z$({Uo:"printEditorForm__imageResolutionProofBackButton",ad:d,rq:"printEditorForm__imageResolutionProofContinueButton",ej:e}).toString());K$(c,d);a.bB()})}
function O$(a){c9(a.view.cg(),"BLEED_AREA_PROOF");var b=a.view,c=a.ne.ad(),d=a.ne.ej(),c=$(z$({Uo:"printEditorForm__bleedAreaProofBackButton",ad:c,rq:"printEditorForm__bleedAreaProofNextButton",ej:d}).toString());K$(b,c);S$(a);a.aB()}
function S$(a){var b=a.Ha.Kj(),c=a.Ha.ic(),c=_.range(0,c),c=(b=a.rA(c,b))?a.ne.ej():a.ne.format("printEditorFormContinueAnywayButtonText");a.view.$el.find(".printEditorForm__bleedAreaProofNextButton").empty().append(c);a.view.$el.find(".printProofingPage__feedbackAlert--bleedCoverage").toggleClass("printProofingPage__feedbackAlert--hidden",b)}f.mO=function(){Q9(this.Ha)};
f.fO=function(){var a=this,b=this.JM;b&&b.cancel();this.JM=this.dh().cancellable().then(this.cv).then(function(b){return Q$(a,R$(a,b))}).catch(P.CancellationError,$.noop).finally(function(){return a.JM=null})};f.$N=function(){S$(this)};
function lga(a){1<a.Ha.ic()&&1===a.ih()?(new Xy({content:$("\x3cp\x3e"+a.ne.format("printEditorFormCannotPrintTwoSidesDescription")+"\x3c/p\x3e"),title:a.ne.format("printEditorFormCannotPrintTwoSides")})).show():P$(a).then(function(){return a.Ha.xH}).then(function(){var b=a.xg,c=a.Ha.Zm(),d=0<a.Ha.ev().length,e=a.Ha.$m(),g=a.Ha.Hp(),h=a.Ha.Ga.Wd,k=a.Ha.Mj(),l=a.Ha.ID(),b=X(X(X(X(X(X(X(X(new fm("print_start_order"),"template",b),"finish",c),"has_premium_images",d),"paper",e),"product_sku",g),"quantity",
h),"shipping",k),"total_order_price",l);a.l.wa(b)})}function mga(a){P$(a).then(function(){a.Vm().ot(!1)})}
function nga(a){J$(a.view,!0);a.dh().catch(function(){throw new L$;}).then(function(){return P.all([a.IL(),pga(a),a.dE()])}).then(function(b){var d=ma(b);b=d.next().value;var e=d.next().value,d=d.next().value;a.jK({ha:b,Qi:b&&b.Oh,ob:new Map,zb:a.Ha.ev(),order:d,ec:e}).show()}).catch(L$,function(){(new Xy({content:$("\x3cp\x3ePlease try again after the error is resolved\x3c/p\x3e"),title:"Design changes failed to save"})).show()}).catch(vj,function(b){409===b.eI&&a.sQ()}).finally(function(){return J$(a.view,
!1)});var b=new fm("print_proof_safe_area");a.l.wa(b)}f.destroy=function(){this.view.remove()};function R$(a,b){var c=a.PK,d=a.QK,e=a.Ha.Kj(),g=a.Ha.ic();return b.filter(function(a){return a.pG}).filter(function(a){return a.Qs<g}).map(function(a){var b=a.pG.gS.o(),g=a.Ea.o(),b=b/g*(c/e.Qj)*25400,g=a.pG.gS.j(),m=a.Ea.j(),b=Math.min(b,g/m*(d/e.rj)*25400);return{KP:120>b?"LOW":150>b?"MEDIUM":"HIGH",od:a.pG.ey.url}}).filter(function(a){return"HIGH"!==a.KP})}
function Q$(a,b){iga(a.view);if(0===b.length)a.view.$el.find(".printProofingPage__feedbackAlert--highRes").removeClass("printProofingPage__feedbackAlert--hidden");else{var c=b.filter(function(a){return"LOW"===a.KP});b=b.filter(function(a){return"MEDIUM"===a.KP});0!==c.length&&kga(a.view,c.map(function(a){return a.od}));0!==b.length&&jga(a.view,b.map(function(a){return a.od}))}}f.ic=function(){return this.Ha.ic()};function T$(a){var b=this;gc.call(this,a);a.on("click",function(){return b.trigger(U$)})}t(T$,gc);T$.prototype.Zw=function(a){this.$el.toggleClass("submitting",a)};var U$="CLICK_SEND_TO_PRINT";function V$(a,b){var c=this;this.view=b;this.ta=a.ta;this.ee=a.ee;this.l=a.l;this.Ui=a.Ui;this.Wu=a.Wu;this.$r=a.$r;this.RV=!1;this.Jp=a.Jp;this.wc=a.wc;this.lM=a.lM;this.fA=a.fA;this.$A=a.$A;this.lH=a.lH;this.BP=a.BP;this.AP=a.AP;this.ki=a.ki;this.ix=a.ix;this.XH=a.XH;this.IX=this.th=this.ze=null;this.La=a.La;this.aa=a.aa;this.sr=a.sr;this.BQ=null;this.ce=a.ce;this.Pl=a.Pl;b.on(U$,function(){return qga(c)})}
function T0(a){var b=$,c;c=a.O8;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"sendToPrintButtonText",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(d_({v:"editorActionPrint buttonSubmittable",text:c}));b=b(c.toString());b=new T$(b);return{Ab:rga(a,b),view:b}}
function rga(a,b){function c(){(new Xy({content:$("\x3cp\x3eYour version of this design has become out of sync with the server. Usually this means someone else has started editing it. Reload the page and try again\x3c/p\x3e"),title:"Design out of sync"})).show()}var d=xd(a.i);return new V$({sr:a.sr,l:a.l,aa:a.aa,ta:a.ta,ee:a.ee,Ui:a.Ui,Wu:a.Wu,$r:a.$r,wc:a.wc,Jp:a.Jp,fA:a.fA,$A:a.$A,La:a.La,AP:function(b){var c=a.l,d=w(b.F1.u(),"The doctype must have an id"),k=a.wc(),l=a.Ra,m=a.UU()||"",n=a.i;n.iR||
(n.iR=new Df(n.config));return Sea({l:c,tg:"publish_print",ep:d,bz:k,Ra:l,kp:m,i:n.iR,Ms:b.Ms,Iq:b.Iq,oe:Bd(a.i),po:!1,qo:!1,Fba:null}).view},BP:function(b){var g=Ufa({attributes:b.attributes,Yc:b.Yc,Jb:b.Q7});return oga({ha:b.ha,l:a.l,aa:a.aa,ta:a.ta,jK:function(c){var d=c.ha,l;l=a.i;l.$c||(l.$c=new zf(l.config));l=l.$c;var m=a.l,n=a.aa,p=a.ta,q=c.Qi,u=bd(a.i),v;v=a.i;v.Si||(v.Si=new Af(v.config));v=v.Si;var z=b.xg,r=$c(a.i),x=a.wc,I=a.Ze,E=Uc(a.i),L=c.ob,G=c.zb,O=a.i,Q=b.Fn,N=c.order,ea=v9({ck:b.ck,
oe:Bd(a.i),Fa:vd(a.i),sc:g,Uc:b.Uc,Wn:b.th.id,Wd:c.order.Te,XP:c.order.lg,vh:c.order.rQ.eb,mb:b.mb}),da=Sc(a.i),sa=td(a.i),Oa;Oa=a.i;Oa.Bc||(Oa.Bc=new Cf(Oa.config));Oa=Oa.Bc;var ia;ia=a.i;ia.Vs||(ia.Vs=new yf(ia.config));ia=ia.Vs;var ja=vd(a.i),Da=a.i;Da.di||(Da.di=new Bf(Da.config));return hga({ha:d,$c:l,l:m,aa:n,ta:p,Qi:q,Xa:u,Si:v,xg:z,Pd:r,wc:x,Ze:I,Ma:E,ob:L,zb:G,i:O,Fn:Q,order:N,Ga:ea,xa:da,He:sa,Bc:Oa,Vs:ia,Fa:ja,di:Da.di,th:b.th,La:a.La,ec:c.ec,mb:b.mb,fb:a.fb,uR:a.ce.xf(),la:a.ce.u()})},
PK:Zg(a.ee.qb).height,QK:Zg(a.ee.qb).width,xg:b.xg,dh:a.dh,ih:a.ih,Vm:a.Vm,wc:a.wc,cv:a.cv,rA:a.rA,Ma:Uc(a.i),ob:new Map,SA:b.SA,Hn:a.ix,aB:b.aB,bB:b.bB,Ga:v9({ck:b.ck,oe:Bd(a.i),Fa:vd(a.i),sc:g,Uc:b.Uc,Wn:b.th.id,VB:b.VB,vh:"STANDARD",mb:b.mb}),xa:Sc(a.i),ne:d,He:td(a.i),Fa:vd(a.i),Lf:zd(a.i),La:a.La,Wn:b.th.id,qk:a.qk,mb:b.mb,sQ:c,fm:a.fm,la:a.ce.u()})},ki:a.ki,ix:a.ix,XH:function(){(new Xy({content:$("\x3cp\x3e"+d.Qa("printEditorFormErrorStateMessageHtml",sga).toString()+"\x3c/p\x3e"),title:d.format("printEditorFormErrorStateHeading")})).show()},
ce:a.ce,Pl:a.Pl,lM:rfa,lH:Y3},b)}function W$(a){X$(a,!1).then(function(){null!=a.ze&&N$(a.ze)})}f=V$.prototype;f.mO=function(){null!=this.ze&&this.ze.mO()};function Y0(a,b){var c=w(b.u(),"The doctype must have an id");if(a.ee.u()!==c){a.ee=b;var d=a.Jp();a.ki(!1);a.ze&&(a.ze.destroy(),a.ze=null);d.mh()&&(d.$el.find(".editorSideDrawer__content").empty(),f9(d,!0),Y$(a).then(function(b){var d=a.lH(b.id,c);return Z$(a,b,d)}).catch(function(){return a.XH()}).finally(function(){return f9(d,!1)}))}}
f.fO=function(){null!=this.ze&&this.ze.fO()};f.$N=function(){null!=this.ze&&this.ze.$N()};function qga(a){a.view.Zw(!0);var b=a.Jp(),c=w(a.ee.u(),"The doctype must have an id"),d=b.mh();return Y$(a).then(function(b){var g=a.lH(b.id,c);tga(a,{tc:c,Q6:!d,N7:!!g,N9:!0});return d?W$(a):Z$(a,b,g).then(function(){X$(a,!0)})}).catch(function(){return a.XH()}).finally(function(){return a.view.Zw(!1)})}
function Y$(a){return a.th?P.resolve(a.th):Z3(a.La).then(function(b){a.th=w(b.BB[0],"Current country must have a print region.");return a.th})}function Z$(a,b,c){var d=a.Jp();uga(a);return c?a.ze?P.resolve():vga(a,b,c,d):wga(a,d)}
function wga(a,b){function c(b){return a.Ui.ib(new tv({id:b.ee,Rp:!1})).then(function(c){a.IX=b.Ib;a.Pl(c.tc)})}return Iea(a.La).then(function(d){var e=d.gP.filter(function(a){return null!=a.doctype}).map(function(a){var b=d.mH.hP.get(a.Uc),c=d.mH.gw.get(a.Ib);a=a.doctype;if(!b||!c)throw new $$;return{Uc:b,Ib:c,ee:a}}),e=a.AP({F1:a.ee,Ms:c,Iq:e});b.jo(e.$el)})}
function vga(a,b,c,d){return P.all([Jea(a.La,new T7({fc:b.Nh[0],currency:"USD",Uc:c,Jq:["PRICES"]})),a.IL()]).then(function(e){var g=ma(e);e=g.next().value;g=g.next().value;if(null==e.Jb)throw Error("Expected FindPrintProductsResponse.prices to be non null");e=a.BP({ha:g,attributes:e.attributes,xg:w(a.ee.u(),"documentType must have an id"),SA:function(){return W$(a)},Fn:function(){return W$(a)},aB:function(){return a.ki(!0)},bB:function(){return a.ki(!1)},ck:a.lM(c),th:b,Q7:e.Jb.Yc,Yc:e.Yc,Uc:c,VB:a.IX,
mb:e.Jb.qQ,vh:"STANDARD"});g=e.Ab;d.jo(e.view.$el);g.Fe();a.BQ=d.sr(a.sr);a.ze=g})}function tga(a,b){b=X(X(X(X(X(X(new fm("print_button_click"),"section","editor"),"location","menu_bar"),"template",b.tc),"toggled",b.N9),"side_drawer_opened",b.Q6),"print_supported_doc_type",b.N7);a.l.wa(b)}function uga(a){a.$r&&a.Wu.load().then(function(){a.RV||(a.RV=!0,a.Wu.identify(a.ce.u(),{displayName:a.ce.rb(),email:a.ce.xf()}))})}
function X$(a,b){return a.Jp().st(b).then(function(){if(b)a.ze&&a.ix(a.ze.ic());else{if(a.ze){var c=a.ze.Vm();c.ot(!1);c.cC(!1)}a.ki(!1);a.fA()}}).then(function(){return a.$A()})}f.IL=function(){return zj(this.aa,new wi({qm:[this.ta],limit:1})).then(function(a){return ma(a.Rt).next().value})};f.destroy=function(){this.view.remove();this.BQ&&this.BQ.remove();this.ze&&this.ze.destroy()};var sga="https://support.canva.com/canva-print/";function $$(){}t($$,Error);})();
